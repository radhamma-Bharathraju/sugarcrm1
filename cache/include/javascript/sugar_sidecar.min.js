function base64_encode(data){var b64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var o1,o2,o3,h1,h2,h3,h4,bits,i=0,ac=0,enc="",tmp_arr=[];if(!data){return data;}
do{o1=data.charCodeAt(i++);o2=data.charCodeAt(i++);o3=data.charCodeAt(i++);bits=o1<<16|o2<<8|o3;h1=bits>>18&0x3f;h2=bits>>12&0x3f;h3=bits>>6&0x3f;h4=bits&0x3f;tmp_arr[ac++]=b64.charAt(h1)+b64.charAt(h2)+b64.charAt(h3)+b64.charAt(h4);}while(i<data.length);enc=tmp_arr.join('');var r=data.length%3;return(r?enc.slice(0,r-3):enc)+'==='.slice(r||3);}
/* End of File include/javascript/phpjs/base64_encode.js */

/*! jQuery UI - v1.13.2 - 2022-07-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-patch.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(V){"use strict";V.ui=V.ui||{};V.ui.version="1.13.2";var n,i=0,a=Array.prototype.hasOwnProperty,r=Array.prototype.slice;V.cleanData=(n=V.cleanData,function(t){for(var e,i,s=0;null!=(i=t[s]);s++)(e=V._data(i,"events"))&&e.remove&&V(i).triggerHandler("remove");n(t)}),V.widget=function(t,i,e){var s,n,o,a={},r=t.split(".")[0],l=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=V.Widget),Array.isArray(e)&&(e=V.extend.apply(null,[{}].concat(e))),V.expr.pseudos[l.toLowerCase()]=function(t){return!!V.data(t,l)},V[r]=V[r]||{},s=V[r][t],n=V[r][t]=function(t,e){if(!this||!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},V.extend(n,s,{version:e.version,_proto:V.extend({},e),_childConstructors:[]}),(o=new i).options=V.widget.extend({},o.options),V.each(e,function(e,s){function n(){return i.prototype[e].apply(this,arguments)}function o(t){return i.prototype[e].apply(this,t)}a[e]="function"==typeof s?function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=o,t=s.apply(this,arguments),this._super=e,this._superApply=i,t}:s}),n.prototype=V.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},a,{constructor:n,namespace:r,widgetName:t,widgetFullName:l}),s?(V.each(s._childConstructors,function(t,e){var i=e.prototype;V.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),V.widget.bridge(t,n),n},V.widget.extend=function(t){for(var e,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(e in s[n])i=s[n][e],a.call(s[n],e)&&void 0!==i&&(V.isPlainObject(i)?t[e]=V.isPlainObject(t[e])?V.widget.extend({},t[e],i):V.widget.extend({},i):t[e]=i);return t},V.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;V.fn[o]=function(i){var t="string"==typeof i,s=r.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=V.data(this,a);return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for "+o+" widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V.data(this,a);t?(t.option(i||{}),t._init&&t._init()):V.data(this,a,new e(i,this))})),n}},V.Widget=function(){},V.Widget._childConstructors=[],V.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=V(e||this.defaultElement||this)[0],this.element=V(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=V(),this.hoverable=V(),this.focusable=V(),this.classesElementLookup={},e!==this&&(V.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=V(e.style?e.ownerDocument:e.document||e),this.window=V(this.document[0].defaultView||this.document[0].parentWindow)),this.options=V.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:V.noop,_create:V.noop,_init:V.noop,destroy:function(){var i=this;this._destroy(),V.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:V.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,o=t;if(0===arguments.length)return V.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(s=o[t]=V.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=V(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function t(t,e){for(var i,s=0;s<t.length;s++)i=a.classesElementLookup[t[s]]||V(),i=n.add?(function(){var i=[];n.element.each(function(t,e){V.map(a.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||i.push(e)}),a._on(V(i),{remove:"_untrackClassesElement"})}(),V(V.uniqueSort(i.get().concat(n.element.get())))):V(i.not(n.element).get()),a.classesElementLookup[t[s]]=i,o.push(t[s]),e&&n.classes[t[s]]&&o.push(n.classes[t[s]])}return(n=V.extend({element:this.element,classes:this.options.classes||{}},n)).keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;V.each(s.classesElementLookup,function(t,e){-1!==V.inArray(i.target,e)&&(s.classesElementLookup[t]=V(e.not(i.target).get()))}),this._off(V(i.target))},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){var n="string"==typeof t||null===t,i={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s="boolean"==typeof s?s:i};return i.element.toggleClass(this._classes(i),s),this},_on:function(n,o,t){var a,r=this;"boolean"!=typeof n&&(t=o,o=n,n=!1),t?(o=a=V(o),this.bindings=this.bindings.add(o)):(t=o,o=this.element,a=this.widget()),V.each(t,function(t,e){function i(){if(n||!0!==r.options.disabled&&!V(this).hasClass("ui-state-disabled"))return("string"==typeof e?r[e]:e).apply(r,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||V.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),t=s[1]+r.eventNamespace,s=s[2];s?a.on(t,s,i):o.on(t,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=V(this.bindings.not(t).get()),this.focusable=V(this.focusable.not(t).get()),this.hoverable=V(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(V(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(V(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(V(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},(e=V.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!("function"==typeof o&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},V.each({show:"fadeIn",hide:"fadeOut"},function(o,a){V.Widget.prototype["_"+o]=function(e,t,i){var s,n=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||a:o;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),s=!V.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&V.effects&&V.effects.effect[n]?e[o](t):n!==o&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){V(this)[o](),i&&i.call(e[0]),t()})}});var s,x,k,o,l,h,c,u,C;V.widget;function D(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function I(t,e){return parseInt(V.css(t,e),10)||0}function T(t){return null!=t&&t===t.window}x=Math.max,k=Math.abs,o=/left|center|right/,l=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,C=V.fn.position,V.position={scrollbarWidth:function(){if(void 0!==s)return s;var t,e=V("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>"),i=e.children()[0];return V("body").append(e),t=i.offsetWidth,e.css("overflow","scroll"),t===(i=i.offsetWidth)&&(i=e[0].clientWidth),e.remove(),s=t-i},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?V.position.scrollbarWidth():0,height:e?V.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=V(t||window),i=T(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:!i&&!s?V(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},V.fn.position=function(u){if(!u||!u.of)return C.apply(this,arguments);var d,p,f,g,m,t,_="string"==typeof(u=V.extend({},u)).of?V(document).find(u.of):V(u.of),v=V.position.getWithinInfo(u.within),b=V.position.getScrollInfo(v),y=(u.collision||"flip").split(" "),w={},e=9===(t=(e=_)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:T(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()};return _[0].preventDefault&&(u.at="left top"),p=e.width,f=e.height,m=V.extend({},g=e.offset),V.each(["my","at"],function(){var t,e,i=(u[this]||"").split(" ");(i=1===i.length?o.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]:i)[0]=o.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=h.exec(i[0]),e=h.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],u[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?m.left+=p:"center"===u.at[0]&&(m.left+=p/2),"bottom"===u.at[1]?m.top+=f:"center"===u.at[1]&&(m.top+=f/2),d=D(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,t,a=V(this),r=a.outerWidth(),l=a.outerHeight(),e=I(this,"marginLeft"),s=I(this,"marginTop"),n=r+e+I(this,"marginRight")+b.width,o=l+s+I(this,"marginBottom")+b.height,h=V.extend({},m),c=D(w.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?h.left-=r:"center"===u.my[0]&&(h.left-=r/2),"bottom"===u.my[1]?h.top-=l:"center"===u.my[1]&&(h.top-=l/2),h.left+=c[0],h.top+=c[1],i={marginLeft:e,marginTop:s},V.each(["left","top"],function(t,e){V.ui.position[y[t]]&&V.ui.position[y[t]][e](h,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:l,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[d[0]+c[0],d[1]+c[1]],my:u.my,at:u.at,within:v,elem:a})}),u.using&&(t=function(t){var e=g.left-h.left,i=e+p-r,s=g.top-h.top,n=s+f-l,o={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:h.left,top:h.top,width:r,height:l},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<r&&k(e+i)<p&&(o.horizontal="center"),f<l&&k(s+n)<f&&(o.vertical="middle"),x(k(e),k(i))>x(k(s),k(n))?o.important="horizontal":o.important="vertical",u.using.call(this,t,o)}),a.offset(V.extend(h,{using:t}))})},V.ui.position={fit:{left:function(t,e){var i=e.within,s=i.isWindow?i.scrollLeft:i.offset.left,n=i.width,o=t.left-e.collisionPosition.marginLeft,a=s-o,r=o+e.collisionWidth-n-s;e.collisionWidth>n?0<a&&r<=0?(i=t.left+a+e.collisionWidth-n-s,t.left+=a-i):t.left=!(0<r&&a<=0)&&r<a?s+n-e.collisionWidth:s:0<a?t.left+=a:0<r?t.left-=r:t.left=x(t.left-o,t.left)},top:function(t,e){var i=e.within,s=i.isWindow?i.scrollTop:i.offset.top,n=e.within.height,o=t.top-e.collisionPosition.marginTop,a=s-o,r=o+e.collisionHeight-n-s;e.collisionHeight>n?0<a&&r<=0?(i=t.top+a+e.collisionHeight-n-s,t.top+=a-i):t.top=!(0<r&&a<=0)&&r<a?s+n-e.collisionHeight:s:0<a?t.top+=a:0<r?t.top-=r:t.top=x(t.top-o,t.top)}},flip:{left:function(t,e){var i=e.within,s=i.offset.left+i.scrollLeft,n=i.width,o=i.isWindow?i.scrollLeft:i.offset.left,a=t.left-e.collisionPosition.marginLeft,r=a-o,l=a+e.collisionWidth-n-o,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,i="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,a=-2*e.offset[0];r<0?((s=t.left+h+i+a+e.collisionWidth-n-s)<0||s<k(r))&&(t.left+=h+i+a):0<l&&(0<(o=t.left-e.collisionPosition.marginLeft+h+i+a-o)||k(o)<l)&&(t.left+=h+i+a)},top:function(t,e){var i=e.within,s=i.offset.top+i.scrollTop,n=i.height,o=i.isWindow?i.scrollTop:i.offset.top,a=t.top-e.collisionPosition.marginTop,r=a-o,l=a+e.collisionHeight-n-o,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,i="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,a=-2*e.offset[1];r<0?((s=t.top+h+i+a+e.collisionHeight-n-s)<0||s<k(r))&&(t.top+=h+i+a):0<l&&(0<(o=t.top-e.collisionPosition.marginTop+h+i+a-o)||k(o)<l)&&(t.top+=h+i+a)}},flipfit:{left:function(){V.ui.position.flip.left.apply(this,arguments),V.ui.position.fit.left.apply(this,arguments)},top:function(){V.ui.position.flip.top.apply(this,arguments),V.ui.position.fit.top.apply(this,arguments)}}};V.ui.position,V.extend(V.expr.pseudos,{data:V.expr.createPseudo?V.expr.createPseudo(function(e){return function(t){return!!V.data(t,e)}}):function(t,e,i){return!!V.data(t,i[3])}}),V.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var t,d=V,p={},e=p.toString,f=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),t[4]?(parseInt(t[4],16)/255).toFixed(2):1]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),t[4]?(parseInt(t[4]+t[4],16)/255).toFixed(2):1]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],m=d.Color=function(t,e,i,s){return new d.Color.fn.parse(t,e,i,s)},_={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},v={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},b=m.support={},y=d("<p>")[0],w=d.each;function P(t){return null==t?t+"":"object"==typeof t?p[e.call(t)]||"object":typeof t}function M(t,e,i){var s=v[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:Math.min(s.max,Math.max(0,t)))}function S(s){var n=m(),o=n._rgba=[];return s=s.toLowerCase(),w(g,function(t,e){var i=e.re.exec(s),i=i&&e.parse(i),e=e.space||"rgba";if(i)return i=n[e](i),n[_[e].cache]=i[_[e].cache],o=n._rgba=i._rgba,!1}),o.length?("0,0,0,0"===o.join()&&d.extend(o,B.transparent),n):B[s]}function H(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}y.style.cssText="background-color:rgba(1,1,1,.5)",b.rgba=-1<y.style.backgroundColor.indexOf("rgba"),w(_,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),d.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){p["[object "+e+"]"]=e.toLowerCase()}),(m.fn=d.extend(m.prototype,{parse:function(n,t,e,i){if(void 0===n)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=d(n).css(t),t=void 0);var o=this,s=P(n),a=this._rgba=[];return void 0!==t&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(S(n)||B._default):"array"===s?(w(_.rgba.props,function(t,e){a[e.idx]=M(n[e.idx],e)}),this):"object"===s?(w(_,n instanceof m?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;w(i.props,function(t,e){if(!o[s]&&i.to){if("alpha"===t||null==n[t])return;o[s]=i.to(o._rgba)}o[s][e.idx]=M(n[t],e,!0)}),o[s]&&d.inArray(null,o[s].slice(0,3))<0&&(null==o[s][3]&&(o[s][3]=1),i.from&&(o._rgba=i.from(o[s])))}),this):void 0},is:function(t){var n=m(t),o=!0,a=this;return w(_,function(t,e){var i,s=n[e.cache];return s&&(i=a[e.cache]||e.to&&e.to(a._rgba)||[],w(e.props,function(t,e){if(null!=s[e.idx])return o=s[e.idx]===i[e.idx]})),o}),o},_space:function(){var i=[],s=this;return w(_,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,a){var e=(h=m(t))._space(),i=_[e],t=0===this.alpha()?m("transparent"):this,r=t[i.cache]||i.to(t._rgba),l=r.slice(),h=h[i.cache];return w(i.props,function(t,e){var i=e.idx,s=r[i],n=h[i],o=v[e.type]||{};null!==n&&(null===s?l[i]=n:(o.mod&&(n-s>o.mod/2?s+=o.mod:s-n>o.mod/2&&(s-=o.mod)),l[i]=M((n-s)*a+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=m(t)._rgba;return m(d.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=d.map(this._rgba,function(t,e){return null!=t?t:2<e?1:0});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=d.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),t=e&&e<3?Math.round(100*t)+"%":t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+d.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=m.fn,_.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/255,i=t[1]/255,s=t[2]/255,n=t[3],o=Math.max(e,i,s),a=Math.min(e,i,s),r=o-a,l=o+a,t=.5*l,i=a===o?0:e===o?60*(i-s)/r+360:i===o?60*(s-e)/r+120:60*(e-i)/r+240,l=0==r?0:t<=.5?r/l:r/(2-l);return[Math.round(i)%360,l,t,null==n?1:n]},_.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],t=t[3],i=s<=.5?s*(1+i):s+i-s*i,s=2*s-i;return[Math.round(255*H(s,i,e+1/3)),Math.round(255*H(s,i,e)),Math.round(255*H(s,i,e-1/3)),t]},w(_,function(l,t){var e=t.props,o=t.cache,a=t.to,r=t.from;m.fn[l]=function(t){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===t)return this[o].slice();var i=P(t),s="array"===i||"object"===i?t:arguments,n=this[o].slice();return w(e,function(t,e){t=s["object"===i?t:e.idx];null==t&&(t=n[e.idx]),n[e.idx]=M(t,e)}),r?((t=m(r(n)))[o]=n,t):m(n)},w(e,function(a,r){m.fn[a]||(m.fn[a]=function(t){var e,i=P(t),s="alpha"===a?this._hsla?"hsla":"rgba":l,n=this[s](),o=n[r.idx];return"undefined"===i?o:("function"===i&&(i=P(t=t.call(this,o))),null==t&&r.empty?this:("string"===i&&(e=f.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),(m.hook=function(t){t=t.split(" ");w(t,function(t,o){d.cssHooks[o]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==P(e)||(i=S(e)))){if(e=m(i||e),!b.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=d.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},d.fx.step[o]=function(t){t.colorInit||(t.start=m(t.elem,o),t.end=m(t.end),t.colorInit=!0),d.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})})("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),d.cssHooks.borderColor={expand:function(i){var s={};return w(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}};var z,A,O,N,E,W,F,L,R,Y,B=d.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"},j="ui-effects-",q="ui-effects-style",K="ui-effects-animated";function U(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[e.replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()})]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}function X(t,e,i,s){return t={effect:t=V.isPlainObject(t)?(e=t).effect:t},"function"==typeof(e=null==e?{}:e)&&(s=e,i=null,e={}),"number"!=typeof e&&!V.fx.speeds[e]||(s=i,i=e,e={}),"function"==typeof i&&(s=i,i=null),e&&V.extend(t,e),i=i||e.duration,t.duration=V.fx.off?0:"number"==typeof i?i:i in V.fx.speeds?V.fx.speeds[i]:V.fx.speeds._default,t.complete=s||e.complete,t}function $(t){return!t||"number"==typeof t||V.fx.speeds[t]||("string"==typeof t&&!V.effects.effect[t]||("function"==typeof t||"object"==typeof t&&!t.effect))}function G(t,e){var i=e.outerWidth(),e=e.outerHeight(),t=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,e,0];return{top:parseFloat(t[1])||0,right:"auto"===t[2]?i:parseFloat(t[2]),bottom:"auto"===t[3]?e:parseFloat(t[3]),left:parseFloat(t[4])||0}}V.effects={effect:{}},N=["add","remove","toggle"],E={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1},V.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){V.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(d.style(t.elem,e,t.end),t.setAttr=!0)}}),V.fn.addBack||(V.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),V.effects.animateClass=function(n,t,e,i){var o=V.speed(t,e,i);return this.queue(function(){var i=V(this),t=i.attr("class")||"",e=(e=o.children?i.find("*").addBack():i).map(function(){return{el:V(this),start:U(this)}}),s=function(){V.each(N,function(t,e){n[e]&&i[e+"Class"](n[e])})};s(),e=e.map(function(){return this.end=U(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(E[i]||!V.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",t),e=e.map(function(){var t=this,e=V.Deferred(),i=V.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),V.when.apply(V,e.get()).done(function(){s(),V.each(arguments,function(){var e=this.el;V.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},V.fn.extend({addClass:(O=V.fn.addClass,function(t,e,i,s){return e?V.effects.animateClass.call(this,{add:t},e,i,s):O.apply(this,arguments)}),removeClass:(A=V.fn.removeClass,function(t,e,i,s){return 1<arguments.length?V.effects.animateClass.call(this,{remove:t},e,i,s):A.apply(this,arguments)}),toggleClass:(z=V.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?V.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):z.apply(this,arguments):V.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return V.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}}),V.expr&&V.expr.pseudos&&V.expr.pseudos.animated&&(V.expr.pseudos.animated=(W=V.expr.pseudos.animated,function(t){return!!V(t).data(K)||W(t)})),!1!==V.uiBackCompat&&V.extend(V.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(j+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(j+e[s]),t.css(e[s],i))},setMode:function(t,e){return e="toggle"===e?t.is(":hidden")?"show":"hide":e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=V("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),i[0]!==n&&!V.contains(i[0],n)||V(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(V.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),V.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),t[0]!==e&&!V.contains(t[0],e)||V(e).trigger("focus")),t}}),V.extend(V.effects,{version:"1.13.2",define:function(t,e,i){return i||(i=e,e="effect"),V.effects.effect[t]=i,V.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,e="vertical"!==i?(e||100)/100:1;return{height:t.height()*e,width:t.width()*s,outerHeight:t.outerHeight()*e,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(q,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(q)||"",t.removeData(q)},mode:function(t,e){t=t.is(":hidden");return"toggle"===e&&(e=t?"show":"hide"),e=(t?"hide"===e:"show"===e)?"none":e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=V("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(j+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=j+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){V.effects.restoreStyle(t),V.effects.removePlaceholder(t)},setTransition:function(s,t,n,o){return o=o||{},V.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),V.fn.extend({effect:function(){function t(t){var e=V(this),i=V.effects.mode(e,r)||o;e.data(K,!0),l.push(i),o&&("show"===i||i===o&&"hide"===i)&&e.show(),o&&"none"===i||V.effects.saveStyle(e),"function"==typeof t&&t()}var s=X.apply(this,arguments),n=V.effects.effect[s.effect],o=n.mode,e=s.queue,i=e||"fx",a=s.complete,r=s.mode,l=[];return V.fx.off||!n?r?this[r](s.duration,a):this.each(function(){a&&a.call(this)}):!1===e?this.each(t).each(h):this.queue(i,t).queue(i,h);function h(t){var e=V(this);function i(){"function"==typeof a&&a.call(e[0]),"function"==typeof t&&t()}s.mode=l.shift(),!1===V.uiBackCompat||o?"none"===s.mode?(e[r](),i()):n.call(e[0],s,function(){e.removeData(K),V.effects.cleanUp(e),"hide"===s.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===r:"show"===r)?(e[r](),i()):n.call(e[0],s,i)}},show:(R=V.fn.show,function(t){if($(t))return R.apply(this,arguments);t=X.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(L=V.fn.hide,function(t){if($(t))return L.apply(this,arguments);t=X.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(F=V.fn.toggle,function(t){if($(t)||"boolean"==typeof t)return F.apply(this,arguments);t=X.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(t){var i=this.css(t),s=[];return V.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):G(this.css("clip"),this)},transfer:function(t,e){var i=V(this),s=V(t.to),n="fixed"===s.css("position"),o=V("body"),a=n?o.scrollTop():0,r=n?o.scrollLeft():0,o=s.offset(),o={top:o.top-a,left:o.left-r,height:s.innerHeight(),width:s.innerWidth()},s=i.offset(),l=V("<div class='ui-effects-transfer'></div>");l.appendTo("body").addClass(t.className).css({top:s.top-a,left:s.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(o,t.duration,t.easing,function(){l.remove(),"function"==typeof e&&e()})}}),V.fx.step.clip=function(t){t.clipInit||(t.start=V(t.elem).cssClip(),"string"==typeof t.end&&(t.end=G(t.end,t.elem)),t.clipInit=!0),V(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})},Y={},V.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){Y[t]=function(t){return Math.pow(t,e+2)}}),V.extend(Y,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),V.each(Y,function(t,e){V.easing["easeIn"+t]=e,V.easing["easeOut"+t]=function(t){return 1-e(1-t)},V.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});y=V.effects,V.effects.define("blind","hide",function(t,e){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=V(this),n=t.direction||"up",o=s.cssClip(),a={clip:V.extend({},o)},r=V.effects.createPlaceholder(s);a.clip[i[n][0]]=a.clip[i[n][1]],"show"===t.mode&&(s.cssClip(a.clip),r&&r.css(V.effects.clipToBox(a)),a.clip=o),r&&r.animate(V.effects.clipToBox(a),t.duration,t.easing),s.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("bounce",function(t,e){var i,s,n=V(this),o=t.mode,a="hide"===o,r="show"===o,l=t.direction||"up",h=t.distance,c=t.times||5,o=2*c+(r||a?1:0),u=t.duration/o,d=t.easing,p="up"===l||"down"===l?"top":"left",f="up"===l||"left"===l,g=0,t=n.queue().length;for(V.effects.createPlaceholder(n),l=n.css(p),h=h||n["top"==p?"outerHeight":"outerWidth"]()/3,r&&((s={opacity:1})[p]=l,n.css("opacity",0).css(p,f?2*-h:2*h).animate(s,u,d)),a&&(h/=Math.pow(2,c-1)),(s={})[p]=l;g<c;g++)(i={})[p]=(f?"-=":"+=")+h,n.animate(i,u,d).animate(s,u,d),h=a?2*h:h/2;a&&((i={opacity:0})[p]=(f?"-=":"+=")+h,n.animate(i,u,d)),n.queue(e),V.effects.unshift(n,t,1+o)}),V.effects.define("clip","hide",function(t,e){var i={},s=V(this),n=t.direction||"vertical",o="both"===n,a=o||"horizontal"===n,o=o||"vertical"===n,n=s.cssClip();i.clip={top:o?(n.bottom-n.top)/2:n.top,right:a?(n.right-n.left)/2:n.right,bottom:o?(n.bottom-n.top)/2:n.bottom,left:a?(n.right-n.left)/2:n.left},V.effects.createPlaceholder(s),"show"===t.mode&&(s.cssClip(i.clip),i.clip=n),s.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("drop","hide",function(t,e){var i=V(this),s="show"===t.mode,n=t.direction||"left",o="up"===n||"down"===n?"top":"left",a="up"===n||"left"===n?"-=":"+=",r="+="==a?"-=":"+=",l={opacity:0};V.effects.createPlaceholder(i),n=t.distance||i["top"==o?"outerHeight":"outerWidth"](!0)/2,l[o]=a+n,s&&(i.css(l),l[o]=r+n,l.opacity=1),i.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("explode","hide",function(t,e){var i,s,n,o,a,r,l=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=l,c=V(this),u="show"===t.mode,d=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/h),f=Math.ceil(c.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*h&&(c.css({visibility:"visible"}),V(g).remove(),e())}for(i=0;i<l;i++)for(o=d.top+i*f,r=i-(l-1)/2,s=0;s<h;s++)n=d.left+s*p,a=s-(h-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:n+(u?a*p:0),top:o+(u?r*f:0),opacity:u?0:1}).animate({left:n+(u?0:a*p),top:o+(u?0:r*f),opacity:u?1:0},t.duration||500,t.easing,m)}),V.effects.define("fade","toggle",function(t,e){var i="show"===t.mode;V(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("fold","hide",function(e,t){var i=V(this),s=e.mode,n="show"===s,o="hide"===s,a=e.size||15,r=/([0-9]+)%/.exec(a),l=!!e.horizFirst?["right","bottom"]:["bottom","right"],h=e.duration/2,c=V.effects.createPlaceholder(i),u=i.cssClip(),d={clip:V.extend({},u)},p={clip:V.extend({},u)},f=[u[l[0]],u[l[1]]],s=i.queue().length;r&&(a=parseInt(r[1],10)/100*f[o?0:1]),d.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,n&&(i.cssClip(p.clip),c&&c.css(V.effects.clipToBox(p)),p.clip=u),i.queue(function(t){c&&c.animate(V.effects.clipToBox(d),h,e.easing).animate(V.effects.clipToBox(p),h,e.easing),t()}).animate(d,h,e.easing).animate(p,h,e.easing).queue(t),V.effects.unshift(i,s,4)}),V.effects.define("highlight","show",function(t,e){var i=V(this),s={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(s.opacity=0),V.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),V.effects.define("size",function(s,e){var n,i=V(this),t=["fontSize"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],r=s.mode,l="effect"!==r,h=s.scale||"both",c=s.origin||["middle","center"],u=i.css("position"),d=i.position(),p=V.effects.scaledDimensions(i),f=s.from||p,g=s.to||V.effects.scaledDimensions(i,0);V.effects.createPlaceholder(i),"show"===r&&(r=f,f=g,g=r),n={from:{y:f.height/p.height,x:f.width/p.width},to:{y:g.height/p.height,x:g.width/p.width}},"box"!==h&&"both"!==h||(n.from.y!==n.to.y&&(f=V.effects.setTransition(i,o,n.from.y,f),g=V.effects.setTransition(i,o,n.to.y,g)),n.from.x!==n.to.x&&(f=V.effects.setTransition(i,a,n.from.x,f),g=V.effects.setTransition(i,a,n.to.x,g))),"content"!==h&&"both"!==h||n.from.y!==n.to.y&&(f=V.effects.setTransition(i,t,n.from.y,f),g=V.effects.setTransition(i,t,n.to.y,g)),c&&(c=V.effects.getBaseline(c,p),f.top=(p.outerHeight-f.outerHeight)*c.y+d.top,f.left=(p.outerWidth-f.outerWidth)*c.x+d.left,g.top=(p.outerHeight-g.outerHeight)*c.y+d.top,g.left=(p.outerWidth-g.outerWidth)*c.x+d.left),delete f.outerHeight,delete f.outerWidth,i.css(f),"content"!==h&&"both"!==h||(o=o.concat(["marginTop","marginBottom"]).concat(t),a=a.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var t=V(this),e=V.effects.scaledDimensions(t),i={height:e.height*n.from.y,width:e.width*n.from.x,outerHeight:e.outerHeight*n.from.y,outerWidth:e.outerWidth*n.from.x},e={height:e.height*n.to.y,width:e.width*n.to.x,outerHeight:e.height*n.to.y,outerWidth:e.width*n.to.x};n.from.y!==n.to.y&&(i=V.effects.setTransition(t,o,n.from.y,i),e=V.effects.setTransition(t,o,n.to.y,e)),n.from.x!==n.to.x&&(i=V.effects.setTransition(t,a,n.from.x,i),e=V.effects.setTransition(t,a,n.to.x,e)),l&&V.effects.saveStyle(t),t.css(i),t.animate(e,s.duration,s.easing,function(){l&&V.effects.restoreStyle(t)})})),i.animate(g,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){var t=i.offset();0===g.opacity&&i.css("opacity",f.opacity),l||(i.css("position","static"===u?"relative":u).offset(t),V.effects.saveStyle(i)),e()}})}),V.effects.define("scale",function(t,e){var i=V(this),s=t.mode,s=parseInt(t.percent,10)||(0===parseInt(t.percent,10)||"effect"!==s?0:100),s=V.extend(!0,{from:V.effects.scaledDimensions(i),to:V.effects.scaledDimensions(i,s,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(s.from.opacity=1,s.to.opacity=0),V.effects.effect.size.call(this,s,e)}),V.effects.define("puff","hide",function(t,e){t=V.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});V.effects.effect.scale.call(this,t,e)}),V.effects.define("pulsate","show",function(t,e){var i=V(this),s=t.mode,n="show"===s,o=2*(t.times||5)+(n||"hide"===s?1:0),a=t.duration/o,r=0,l=1,s=i.queue().length;for(!n&&i.is(":visible")||(i.css("opacity",0).show(),r=1);l<o;l++)i.animate({opacity:r},a,t.easing),r=1-r;i.animate({opacity:r},a,t.easing),i.queue(e),V.effects.unshift(i,s,1+o)}),V.effects.define("shake",function(t,e){var i=1,s=V(this),n=t.direction||"left",o=t.distance||20,a=t.times||3,r=2*a+1,l=Math.round(t.duration/r),h="up"===n||"down"===n?"top":"left",c="up"===n||"left"===n,u={},d={},p={},n=s.queue().length;for(V.effects.createPlaceholder(s),u[h]=(c?"-=":"+=")+o,d[h]=(c?"+=":"-=")+2*o,p[h]=(c?"-=":"+=")+2*o,s.animate(u,l,t.easing);i<a;i++)s.animate(d,l,t.easing).animate(p,l,t.easing);s.animate(d,l,t.easing).animate(u,l/2,t.easing).queue(e),V.effects.unshift(s,n,1+r)}),V.effects.define("slide","show",function(t,e){var i,s,n=V(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,r=t.direction||"left",l="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,c=t.distance||n["top"==l?"outerHeight":"outerWidth"](!0),u={};V.effects.createPlaceholder(n),i=n.cssClip(),s=n.position()[l],u[l]=(h?-1:1)*c+s,u.clip=n.cssClip(),u.clip[o[r][1]]=u.clip[o[r][0]],"show"===a&&(n.cssClip(u.clip),n.css(l,u[l]),u.clip=i,u[l]=s),n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),y=!1!==V.uiBackCompat?V.effects.define("transfer",function(t,e){V(this).transfer(t,e)}):y;V.ui.focusable=function(t,e){var i,s,n,o,a=t.nodeName.toLowerCase();return"area"===a?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(0<(s=V("img[usemap='#"+s+"']")).length&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(a)?(n=!t.disabled)&&(o=V(t).closest("fieldset")[0])&&(n=!o.disabled):n="a"===a&&t.href||e,n&&V(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"visible"===e}(V(t)))},V.extend(V.expr.pseudos,{focusable:function(t){return V.ui.focusable(t,null!=V.attr(t,"tabindex"))}});var Q,J;V.ui.focusable,V.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):V(this[0].form)},V.ui.formResetMixin={_formResetHandler:function(){var e=V(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");V.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(V.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}};V.expr.pseudos||(V.expr.pseudos=V.expr[":"]),V.uniqueSort||(V.uniqueSort=V.unique),V.escapeSelector||(Q=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,J=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},V.escapeSelector=function(t){return(t+"").replace(Q,J)}),V.fn.even&&V.fn.odd||V.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}});var Z;V.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},V.fn.labels=function(){var t,e,i;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(i=(i=this.eq(0).parents().last()).add((i.length?i:this).siblings()),t="label[for='"+V.escapeSelector(t)+"']",e=e.add(i.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},V.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=V(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:V(this[0].ownerDocument||document)},V.extend(V.expr.pseudos,{tabbable:function(t){var e=V.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&V.ui.focusable(t,i)}}),V.fn.extend({uniqueId:(Z=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++Z)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&V(this).removeAttr("id")})}}),V.widget("ui.accordion",{version:"1.13.2",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:function(t){return t.find("> li > :first-child").add(t.find("> :not(li)").even())},heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=V(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():V()}},_createIcons:function(){var t,e=this.options.icons;e&&(t=V("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+e.header),t.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,e.header)._addClass(t,null,e.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=V.ui.keyCode,i=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:n=this.headers[(s+1)%i];break;case e.LEFT:case e.UP:n=this.headers[(s-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:n=this.headers[0];break;case e.END:n=this.headers[i-1]}n&&(V(t.target).attr("tabIndex",-1),V(n).attr("tabIndex",0),V(n).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===V.ui.keyCode.UP&&t.ctrlKey&&V(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=V()):!1===t.active?this._activate(0):this.active.length&&!V.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=V()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;"function"==typeof this.options.header?this.headers=this.options.header(this.element):this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var i,t=this.options,e=t.heightStyle,s=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=V(this),e=t.uniqueId().attr("id"),i=t.next(),s=i.uniqueId().attr("id");t.attr("aria-controls",s),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=s.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=V(this).outerHeight(!0)}),this.headers.next().each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){var t=V(this).is(":visible");t||V(this).show(),i=Math.max(i,V(this).css("height","").height()),t||V(this).hide()}).height(i))},_activate:function(t){t=this._findActive(t)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):V()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():s.next(),r=i.next(),a={oldHeader:i,oldPanel:r,newHeader:o?V():s,newPanel:a};t.preventDefault(),n&&!e.collapsible||!1===this._trigger("beforeActivate",t,a)||(e.active=!o&&this.headers.index(s),this.active=n?V():s,this._toggle(a),this._removeClass(i,"ui-accordion-header-active","ui-state-active"),e.icons&&(i=i.children(".ui-accordion-header-icon"),this._removeClass(i,null,e.icons.activeHeader)._addClass(i,null,e.icons.header)),n||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),e.icons&&(n=s.children(".ui-accordion-header-icon"),this._removeClass(n,null,e.icons.header)._addClass(n,null,e.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(V(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,i,e){var s,n,o,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!i.length||t.index()<i.index()),c=this.options.animate||{},u=h&&c.down||c,h=function(){a._toggleComplete(e)};return n=(n="string"==typeof u?u:n)||u.easing||c.easing,o=(o="number"==typeof u?u:o)||u.duration||c.duration,i.length?t.length?(s=t.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:h,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===l&&(r+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(s-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,n,h):t.animate(this.showProps,o,n,h)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),V.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i=!(i=i||e.body).nodeName?e.body:i},V.widget("ui.menu",{version:"1.13.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.lastMousePosition={x:null,y:null},this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault(),this._activateItem(t)},"click .ui-menu-item":function(t){var e=V(t.target),i=V(V.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":"_activateItem","mousemove .ui-menu-item":"_activateItem",mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this._menuItems().first();e||this.focus(t,i)},blur:function(t){this._delay(function(){V.contains(this.element[0],V.ui.safeActiveElement(this.document[0]))||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t,!0),this.mouseHandled=!1}})},_activateItem:function(t){var e,i;this.previousFilter||t.clientX===this.lastMousePosition.x&&t.clientY===this.lastMousePosition.y||(this.lastMousePosition={x:t.clientX,y:t.clientY},e=V(t.target).closest(".ui-menu-item"),i=V(t.currentTarget),e[0]===i[0]&&(i.is(".ui-state-active")||(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))))},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=V(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,s,n=!0;switch(t.keyCode){case V.ui.keyCode.PAGE_UP:this.previousPage(t);break;case V.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case V.ui.keyCode.HOME:this._move("first","first",t);break;case V.ui.keyCode.END:this._move("last","last",t);break;case V.ui.keyCode.UP:this.previous(t);break;case V.ui.keyCode.DOWN:this.next(t);break;case V.ui.keyCode.LEFT:this.collapse(t);break;case V.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case V.ui.keyCode.ENTER:case V.ui.keyCode.SPACE:this._activate(t);break;case V.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=this.previousFilter||"",s=n=!1,i=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===e?s=!0:i=e+i,e=this._filterMenuItems(i),(e=s&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(i=String.fromCharCode(t.keyCode),e=this._filterMenuItems(i)),e.length?(this.focus(t,e),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}n&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,s=this,n=this.options.icons.submenu,i=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=i.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=V(this),e=t.prev(),i=V("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+n),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=i.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=V(this);s._isDivider(t)&&s._addClass(t,"ui-menu-divider","ui-widget-content")}),i=(e=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(e,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!V.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){var i;"icons"===t&&(i=this.element.find(".ui-menu-icon"),this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),i=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,s;this._hasScroll()&&(i=parseFloat(V.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(V.css(this.activeMenu[0],"paddingTop"))||0,e=t.offset().top-this.activeMenu.offset().top-i-s,i=this.activeMenu.scrollTop(),s=this.activeMenu.height(),t=t.outerHeight(),e<0?this.activeMenu.scrollTop(i+e):s<e+t&&this.activeMenu.scrollTop(i+e-s+t))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=V.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:V(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},i?0:this.delay)},_close:function(t){(t=t||(this.active?this.active.parent():this.element)).find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!V(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this._menuItems(this.active.children(".ui-menu")).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_menuItems:function(t){return(t||this.element).find(this.options.items).filter(".ui-menu-item")},_move:function(t,e,i){var s;(s=this.active?"first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").last():this.active[t+"All"](".ui-menu-item").first():s)&&s.length&&this.active||(s=this._menuItems(this.activeMenu)[e]()),this.focus(i,s)},nextPage:function(t){var e,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.nextAll(".ui-menu-item").each(function(){return(e=V(this)).offset().top-i-s<0}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.innerHeight(),0===V.fn.jquery.indexOf("3.2.")&&(s+=this.element[0].offsetHeight-this.element.outerHeight()),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=V(this)).offset().top-i+s}),this.focus(t,e)):this.focus(t,this._menuItems(this.activeMenu).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||V(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var t=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),e=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return e.test(String.prototype.trim.call(V(this).children(".ui-menu-item-wrapper").text()))})}});V.widget("ui.autocomplete",{version:"1.13.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,liveRegionTimer:null,_create:function(){var i,s,n,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,t="input"===t;this.isMultiLine=e||!t&&this._isContentEditable(this.element),this.valueMethod=this.element[e||t?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:s=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!s){var e=V.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){clearTimeout(this.searching),this.close(t),this._change(t)}}),this._initSource(),this.menu=V("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().attr({unselectable:"on"}).menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault()},menufocus:function(t,e){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){V(t.target).trigger(t.originalEvent)});s=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=e.item.attr("aria-label")||s.value)&&String.prototype.trim.call(i).length&&(clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(i))},100))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==V.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=V("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||V.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_initSource:function(){var i,s,n=this;Array.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(V.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(t,e){n.xhr&&n.xhr.abort(),n.xhr=V.ajax({url:s,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t&&(e||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}.bind(this)},__response:function(t){t=t&&this._normalize(t),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:V.map(t,function(t){return"string"==typeof t?{label:t,value:t}:V.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(V.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var s=this;V.each(t,function(t,e){s._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return V("<li>").append(V("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),V.extend(V.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(V.ui.autocomplete.escapeRegex(e),"i");return V.grep(t,function(t){return i.test(t.label||t.value||t)})}}),V.widget("ui.autocomplete",V.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,clearTimeout(this.liveRegionTimer),this.liveRegionTimer=this._delay(function(){this.liveRegion.html(V("<div>").text(e))},100))}});V.ui.autocomplete;var tt=/ui-corner-([a-z]){2,6}/g;V.widget("ui.controlgroup",{version:"1.13.2",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var o=this,a=[];V.each(this.options.items,function(s,t){var e,n={};if(t)return"controlgroupLabel"===s?((e=o.element.find(t)).each(function(){var t=V(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),o._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(a=a.concat(e.get()))):void(V.fn[s]&&(n=o["_"+s+"Options"]?o["_"+s+"Options"]("middle"):{classes:{}},o.element.find(t).each(function(){var t=V(this),e=t[s]("instance"),i=V.widget.extend({},n);"button"===s&&t.parent(".ui-spinner").length||((e=e||t[s]()[s]("instance"))&&(i.classes=o._resolveClassesValues(i.classes,e)),t[s](i),i=t[s]("widget"),V.data(i[0],"ui-controlgroup-data",e||t[s]("instance")),a.push(i[0]))})))}),this.childWidgets=V(V.uniqueSort(a)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=V(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){t=this._buildSimpleOptions(t,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return V.each(i,function(t){var e=s.options.classes[t]||"",e=String.prototype.trim.call(e.replace(tt,""));n[t]=(e+" "+i[t]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var n,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,(n=this.options.onlyVisible?n.filter(":visible"):n).length&&(V.each(["first","last"],function(t,e){var i,s=n[e]().data("ui-controlgroup-data");s&&o["_"+s.widgetName+"Options"]?((i=o["_"+s.widgetName+"Options"](1===n.length?"only":e)).classes=o._resolveClassesValues(i.classes,s),s.element[s.widgetName](i)):o._updateCornerClass(n[e](),e)}),this._callChildMethod("refresh"))}});V.widget("ui.checkboxradio",[V.ui.formResetMixin,{version:"1.13.2",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e=this._super()||{};return this._readType(),t=this.element.labels(),this.label=V(t[t.length-1]),this.label.length||V.error("No label found for checkboxradio widget"),this.originalLabel="",(t=this.label.contents().not(this.element[0])).length&&(this.originalLabel+=t.clone().wrapAll("<div></div>").parent().html()),this.originalLabel&&(e.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(e.disabled=t),e},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||V.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+V.escapeSelector(t)+"']";return t?(this.form.length?V(this.form[0].elements).filter(e):V(e).filter(function(){return 0===V(this)._form().length})).not(this.element):V([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=V(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=V("<span>"),this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),(t=this.iconSpace?t.not(this.iconSpace[0]):t).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var et;V.ui.checkboxradio;V.widget("ui.button",{version:"1.13.2",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===V.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,s=i?this.options.iconPosition:e,t="top"===s||"bottom"===s;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=V("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(s),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=V("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,i=(void 0===t.icon?this.options:t).icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.trigger("blur"))},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==V.uiBackCompat&&(V.widget("ui.button",V.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),V.fn.button=(et=V.fn.button,function(i){var t="string"==typeof i,s=Array.prototype.slice.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t=V(this).attr("type"),e=V.data(this,"ui-"+("checkbox"!==t&&"radio"!==t?"button":"checkboxradio"));return"instance"===i?(n=e,!1):e?"function"!=typeof e[i]||"_"===i.charAt(0)?V.error("no such method '"+i+"' for button widget instance"):(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:V.error("cannot call methods on button prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=V.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=V(this).attr("type"),e="checkbox"!==t&&"radio"!==t?"button":"checkboxradio",t=V.data(this,"ui-"+e);t?(t.option(i||{}),t._init&&t._init()):"button"!=e?V(this).checkboxradio(V.extend({icon:!1},i)):et.call(V(this),i)})),n}),V.fn.buttonset=function(){return V.ui.controlgroup||V.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var it;V.ui.button;function st(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",selectMonthLabel:"Select month",selectYearLabel:"Select year"},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,onUpdateDatepicker:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},V.extend(this._defaults,this.regional[""]),this.regional.en=V.extend(!0,{},this.regional[""]),this.regional["en-US"]=V.extend(!0,{},this.regional.en),this.dpDiv=nt(V("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function nt(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){V(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,ot)}function ot(){V.datepicker._isDisabledDatepicker((it.inline?it.dpDiv.parent():it.input)[0])||(V(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),V(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&V(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&V(this).addClass("ui-datepicker-next-hover"))}function at(t,e){for(var i in V.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}V.extend(V.ui,{datepicker:{version:"1.13.2"}}),V.extend(st.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return at(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,s=t.nodeName.toLowerCase(),n="div"===s||"span"===s;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(V(t),n)).settings=V.extend({},e||{}),"input"===s?this._connectDatepicker(t,i):n&&this._inlineDatepicker(t,i)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?nt(V("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=V(t);e.append=V([]),e.trigger=V([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),V.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,s=this._get(e,"appendText"),n=this._get(e,"isRTL");e.append&&e.append.remove(),s&&(e.append=V("<span>").addClass(this._appendClass).text(s),t[n?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(e,"buttonText"),i=this._get(e,"buttonImage"),this._get(e,"buttonImageOnly")?e.trigger=V("<img>").addClass(this._triggerClass).attr({src:i,alt:s,title:s}):(e.trigger=V("<button type='button'>").addClass(this._triggerClass),i?e.trigger.html(V("<img>").attr({src:i,alt:s,title:s})):e.trigger.text(s)),t[n?"before":"after"](e.trigger),e.trigger.on("click",function(){return V.datepicker._datepickerShowing&&V.datepicker._lastInput===t[0]?V.datepicker._hideDatepicker():(V.datepicker._datepickerShowing&&V.datepicker._lastInput!==t[0]&&V.datepicker._hideDatepicker(),V.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,i,s,n,o,a;this._get(t,"autoSize")&&!t.inline&&(o=new Date(2009,11,20),(a=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(n=s=i=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length))},_inlineDatepicker:function(t,e){var i=V(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),V.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o,a=this._dialogInst;return a||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=V("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),V("body").append(this._dialogInput),(a=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},V.data(this._dialogInput[0],"datepicker",a)),at(a.settings,s||{}),e=e&&e.constructor===Date?this._formatDate(a,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+e,s/2-150+n]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),a.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),V.blockUI&&V.blockUI(this.dpDiv),V.data(this._dialogInput[0],"datepicker",a),this},_destroyDatepicker:function(t){var e,i=V(t),s=V.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),V.removeData(t,"datepicker"),"input"===e?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty(),it===s&&(it=null,this._curInst=null))},_enableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i=V(e),s=V.data(e,"datepicker");i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=V.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return V.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s,n,o=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?V.extend({},V.datepicker._defaults):o?"all"===e?V.extend({},o.settings):this._get(o,e):null;s=e||{},"string"==typeof e&&((s={})[e]=i),o&&(this._curInst===o&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),e=this._getMinMaxDate(o,"min"),i=this._getMinMaxDate(o,"max"),at(o.settings,s),null!==e&&void 0!==s.dateFormat&&void 0===s.minDate&&(o.settings.minDate=this._formatDate(o,e)),null!==i&&void 0!==s.dateFormat&&void 0===s.maxDate&&(o.settings.maxDate=this._formatDate(o,i)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(V(t),o),this._autoSize(o),this._setDate(o,n),this._updateAlternate(o),this._updateDatepicker(o))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,i,s=V.datepicker._getInst(t.target),n=!0,o=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,V.datepicker._datepickerShowing)switch(t.keyCode){case 9:V.datepicker._hideDatepicker(),n=!1;break;case 13:return(i=V("td."+V.datepicker._dayOverClass+":not(."+V.datepicker._currentClass+")",s.dpDiv))[0]&&V.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,i[0]),(e=V.datepicker._get(s,"onSelect"))?(i=V.datepicker._formatDate(s),e.apply(s.input?s.input[0]:null,[i,s])):V.datepicker._hideDatepicker(),!1;case 27:V.datepicker._hideDatepicker();break;case 33:V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 34:V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&V.datepicker._clearDate(t.target),n=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&V.datepicker._gotoToday(t.target),n=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?1:-1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?-V.datepicker._get(s,"stepBigMonths"):-V.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,-7,"D"),n=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,o?-1:1,"D"),n=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&V.datepicker._adjustDate(t.target,t.ctrlKey?+V.datepicker._get(s,"stepBigMonths"):+V.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&V.datepicker._adjustDate(t.target,7,"D"),n=t.ctrlKey||t.metaKey;break;default:n=!1}else 36===t.keyCode&&t.ctrlKey?V.datepicker._showDatepicker(this):n=!1;n&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i=V.datepicker._getInst(t.target);if(V.datepicker._get(i,"constrainInput"))return e=V.datepicker._possibleChars(V.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){t=V.datepicker._getInst(t.target);if(t.input.val()!==t.lastVal)try{V.datepicker.parseDate(V.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,V.datepicker._getFormatConfig(t))&&(V.datepicker._setDateFromField(t),V.datepicker._updateAlternate(t),V.datepicker._updateDatepicker(t))}catch(t){}return!0},_showDatepicker:function(t){var e,i,s,n;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=V("input",t.parentNode)[0]),V.datepicker._isDisabledDatepicker(t)||V.datepicker._lastInput===t||(n=V.datepicker._getInst(t),V.datepicker._curInst&&V.datepicker._curInst!==n&&(V.datepicker._curInst.dpDiv.stop(!0,!0),n&&V.datepicker._datepickerShowing&&V.datepicker._hideDatepicker(V.datepicker._curInst.input[0])),!1!==(i=(s=V.datepicker._get(n,"beforeShow"))?s.apply(t,[t,n]):{})&&(at(n.settings,i),n.lastVal=null,V.datepicker._lastInput=t,V.datepicker._setDateFromField(n),V.datepicker._inDialog&&(t.value=""),V.datepicker._pos||(V.datepicker._pos=V.datepicker._findPos(t),V.datepicker._pos[1]+=t.offsetHeight),e=!1,V(t).parents().each(function(){return!(e|="fixed"===V(this).css("position"))}),s={left:V.datepicker._pos[0],top:V.datepicker._pos[1]},V.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),V.datepicker._updateDatepicker(n),s=V.datepicker._checkOffset(n,s,e),n.dpDiv.css({position:V.datepicker._inDialog&&V.blockUI?"static":e?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(i=V.datepicker._get(n,"showAnim"),s=V.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(V(t))+1),V.datepicker._datepickerShowing=!0,V.effects&&V.effects.effect[i]?n.dpDiv.show(i,V.datepicker._get(n,"showOptions"),s):n.dpDiv[i||"show"](i?s:null),V.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),V.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,(it=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),s=i[1],n=t.dpDiv.find("."+this._dayOverClass+" a"),o=V.datepicker._get(t,"onUpdateDatepicker");0<n.length&&ot.apply(n.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===V.datepicker._curInst&&V.datepicker._datepickerShowing&&V.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year").first().replaceWith(t.yearshtml),e=t.yearshtml=null},0)),o&&o.apply(t.input?t.input[0]:null,[t])},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:V(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:V(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left===t.input.offset().left?V(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?V(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&s<r?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>l&&n<l?Math.abs(n+a):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||V.expr.pseudos.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=V(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,s=this._curInst;!s||t&&s!==V.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(s,"showAnim"),i=this._get(s,"duration"),t=function(){V.datepicker._tidyDialog(s)},V.effects&&(V.effects.effect[e]||V.effects[e])?s.dpDiv.hide(e,V.datepicker._get(s,"showOptions"),i,t):s.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,t),e||t(),this._datepickerShowing=!1,(t=this._get(s,"onClose"))&&t.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),V.blockUI&&(V.unblockUI(),V("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){var e;V.datepicker._curInst&&(e=V(t.target),t=V.datepicker._getInst(e[0]),(e[0].id===V.datepicker._mainDivId||0!==e.parents("#"+V.datepicker._mainDivId).length||e.hasClass(V.datepicker.markerClassName)||e.closest("."+V.datepicker._triggerClass).length||!V.datepicker._datepickerShowing||V.datepicker._inDialog&&V.blockUI)&&(!e.hasClass(V.datepicker.markerClassName)||V.datepicker._curInst===t)||V.datepicker._hideDatepicker())},_adjustDate:function(t,e,i){var s=V(t),t=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(t,e,i),this._updateDatepicker(t))},_gotoToday:function(t){var e=V(t),i=this._getInst(e[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var s=V(t),t=this._getInst(s[0]);t["selected"+("M"===i?"Month":"Year")]=t["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n=V(t);V(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(n[0])||((n=this._getInst(n[0])).selectedDay=n.currentDay=parseInt(V("a",s).attr("data-date")),n.selectedMonth=n.currentMonth=e,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){t=V(t);this._selectDate(t,"")},_selectDate:function(t,e){var i=V(t),t=this._getInst(i[0]);e=null!=e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(i=this._get(t,"onSelect"))?i.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,i,s=this._get(t,"altField");s&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),t=this.formatDate(e,i,this._getFormatConfig(t)),V(document).find(s).val(t))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,n,t){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;for(var i,s,o,a=0,r=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,r="string"!=typeof r?r:(new Date).getFullYear()%100+parseInt(r,10),l=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,h=(t?t.dayNames:null)||this._defaults.dayNames,c=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,u=(t?t.monthNames:null)||this._defaults.monthNames,d=-1,p=-1,f=-1,g=-1,m=!1,_=function(t){t=w+1<e.length&&e.charAt(w+1)===t;return t&&w++,t},v=function(t){var e=_(t),e="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,e=new RegExp("^\\d{"+("y"===t?e:1)+","+e+"}"),e=n.substring(a).match(e);if(!e)throw"Missing number at position "+a;return a+=e[0].length,parseInt(e[0],10)},b=function(t,e,i){var s=-1,e=V.map(_(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(V.each(e,function(t,e){var i=e[1];if(n.substr(a,i.length).toLowerCase()===i.toLowerCase())return s=e[0],a+=i.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+a},y=function(){if(n.charAt(a)!==e.charAt(w))throw"Unexpected literal at position "+a;a++},w=0;w<e.length;w++)if(m)"'"!==e.charAt(w)||_("'")?y():m=!1;else switch(e.charAt(w)){case"d":f=v("d");break;case"D":b("D",l,h);break;case"o":g=v("o");break;case"m":p=v("m");break;case"M":p=b("M",c,u);break;case"y":d=v("y");break;case"@":d=(o=new Date(v("@"))).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"!":d=(o=new Date((v("!")-this._ticksTo1970)/1e4)).getFullYear(),p=o.getMonth()+1,f=o.getDate();break;case"'":_("'")?y():m=!0;break;default:y()}if(a<n.length&&(s=n.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===d?d=(new Date).getFullYear():d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=r?0:-100)),-1<g)for(p=1,f=g;;){if(f<=(i=this._getDaysInMonth(d,p-1)))break;p++,f-=i}if((o=this._daylightSavingAdjust(new Date(d,p-1,f))).getFullYear()!==d||o.getMonth()+1!==p||o.getDate()!==f)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";function s(t,e,i){var s=""+e;if(c(t))for(;s.length<i;)s="0"+s;return s}function n(t,e,i,s){return(c(t)?s:i)[e]}var o,a=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,h=(i?i.monthNames:null)||this._defaults.monthNames,c=function(t){t=o+1<e.length&&e.charAt(o+1)===t;return t&&o++,t},u="",d=!1;if(t)for(o=0;o<e.length;o++)if(d)"'"!==e.charAt(o)||c("'")?u+=e.charAt(o):d=!1;else switch(e.charAt(o)){case"d":u+=s("d",t.getDate(),2);break;case"D":u+=n("D",t.getDay(),a,r);break;case"o":u+=s("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=s("m",t.getMonth()+1,2);break;case"M":u+=n("M",t.getMonth(),l,h);break;case"y":u+=c("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":c("'")?u+="'":d=!0;break;default:u+=e.charAt(o)}return u},_possibleChars:function(e){for(var t="",i=!1,s=function(t){t=n+1<e.length&&e.charAt(n+1)===t;return t&&n++,t},n=0;n<e.length;n++)if(i)"'"!==e.charAt(n)||s("'")?t+=e.charAt(n):i=!1;else switch(e.charAt(n)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":s("'")?t+="'":i=!0;break;default:t+=e.charAt(n)}return t},_get:function(t,e){return(void 0!==t.settings[e]?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(r,t,e){var i,s,t=null==t||""===t?e:"string"==typeof t?function(t){try{return V.datepicker.parseDate(V.datepicker._get(r,"dateFormat"),t,V.datepicker._getFormatConfig(r))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?V.datepicker._getDate(r):null)||new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),n=Math.min(n,V.datepicker._getDaysInMonth(i,s))}a=o.exec(t)}return new Date(i,s,n)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(s=new Date).setDate(s.getDate()+i),s):new Date(t.getTime());return(t=t&&"Invalid Date"===t.toString()?e:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=e.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=e.getMonth(),t.drawYear=t.selectedYear=t.currentYear=e.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){V.datepicker._adjustDate(i,-e,"M")},next:function(){V.datepicker._adjustDate(i,+e,"M")},hide:function(){V.datepicker._hideDatepicker()},today:function(){V.datepicker._gotoToday(i)},selectDay:function(){return V.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return V.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return V.datepicker._selectMonthYear(i,this,"Y"),!1}};V(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,l,h,c,u,d,p,f,g,m,_,v,b,y,w,x,k,C,D,I,T,P,M,S,H,z,A=new Date,O=this._daylightSavingAdjust(new Date(A.getFullYear(),A.getMonth(),A.getDate())),N=this._get(t,"isRTL"),E=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),F=this._get(t,"navigationAsDateFormat"),L=this._getNumberOfMonths(t),R=this._get(t,"showCurrentAtPos"),A=this._get(t,"stepMonths"),Y=1!==L[0]||1!==L[1],B=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),j=this._getMinMaxDate(t,"min"),q=this._getMinMaxDate(t,"max"),K=t.drawMonth-R,U=t.drawYear;if(K<0&&(K+=12,U--),q)for(e=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth()-L[0]*L[1]+1,q.getDate())),e=j&&e<j?j:e;this._daylightSavingAdjust(new Date(U,K,1))>e;)--K<0&&(K=11,U--);for(t.drawMonth=K,t.drawYear=U,R=this._get(t,"prevText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K-A,1)),this._getFormatConfig(t)):R,i=this._canAdjustMonth(t,-1,U,K)?V("<a>").attr({class:"ui-datepicker-prev ui-corner-all","data-handler":"prev","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-prev ui-corner-all ui-state-disabled",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"e":"w")).text(R))[0].outerHTML,R=this._get(t,"nextText"),R=F?this.formatDate(R,this._daylightSavingAdjust(new Date(U,K+A,1)),this._getFormatConfig(t)):R,s=this._canAdjustMonth(t,1,U,K)?V("<a>").attr({class:"ui-datepicker-next ui-corner-all","data-handler":"next","data-event":"click",title:R}).append(V("<span>").addClass("ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML:W?"":V("<a>").attr({class:"ui-datepicker-next ui-corner-all ui-state-disabled",title:R}).append(V("<span>").attr("class","ui-icon ui-icon-circle-triangle-"+(N?"w":"e")).text(R))[0].outerHTML,A=this._get(t,"currentText"),W=this._get(t,"gotoCurrent")&&t.currentDay?B:O,A=F?this.formatDate(A,W,this._getFormatConfig(t)):A,R="",t.inline||(R=V("<button>").attr({type:"button",class:"ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all","data-handler":"hide","data-event":"click"}).text(this._get(t,"closeText"))[0].outerHTML),F="",E&&(F=V("<div class='ui-datepicker-buttonpane ui-widget-content'>").append(N?R:"").append(this._isInRange(t,W)?V("<button>").attr({type:"button",class:"ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all","data-handler":"today","data-event":"click"}).text(A):"").append(N?"":R)[0].outerHTML),n=parseInt(this._get(t,"firstDay"),10),n=isNaN(n)?0:n,o=this._get(t,"showWeek"),a=this._get(t,"dayNames"),r=this._get(t,"dayNamesMin"),l=this._get(t,"monthNames"),h=this._get(t,"monthNamesShort"),c=this._get(t,"beforeShowDay"),u=this._get(t,"showOtherMonths"),d=this._get(t,"selectOtherMonths"),p=this._getDefaultDate(t),f="",m=0;m<L[0];m++){for(_="",this.maxRows=4,v=0;v<L[1];v++){if(b=this._daylightSavingAdjust(new Date(U,K,t.selectedDay)),y=" ui-corner-all",w="",Y){if(w+="<div class='ui-datepicker-group",1<L[1])switch(v){case 0:w+=" ui-datepicker-group-first",y=" ui-corner-"+(N?"right":"left");break;case L[1]-1:w+=" ui-datepicker-group-last",y=" ui-corner-"+(N?"left":"right");break;default:w+=" ui-datepicker-group-middle",y=""}w+="'>"}for(w+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+y+"'>"+(/all|left/.test(y)&&0===m?N?s:i:"")+(/all|right/.test(y)&&0===m?N?i:s:"")+this._generateMonthYearHeader(t,K,U,j,q,0<m||0<v,l,h)+"</div><table class='ui-datepicker-calendar'><thead><tr>",x=o?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",g=0;g<7;g++)x+="<th scope='col'"+(5<=(g+n+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+a[k=(g+n)%7]+"'>"+r[k]+"</span></th>";for(w+=x+"</tr></thead><tbody>",D=this._getDaysInMonth(U,K),U===t.selectedYear&&K===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),C=(this._getFirstDayOfMonth(U,K)-n+7)%7,D=Math.ceil((C+D)/7),I=Y&&this.maxRows>D?this.maxRows:D,this.maxRows=I,T=this._daylightSavingAdjust(new Date(U,K,1-C)),P=0;P<I;P++){for(w+="<tr>",M=o?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(T)+"</td>":"",g=0;g<7;g++)S=c?c.apply(t.input?t.input[0]:null,[T]):[!0,""],z=(H=T.getMonth()!==K)&&!d||!S[0]||j&&T<j||q&&q<T,M+="<td class='"+(5<=(g+n+6)%7?" ui-datepicker-week-end":"")+(H?" ui-datepicker-other-month":"")+(T.getTime()===b.getTime()&&K===t.selectedMonth&&t._keyEvent||p.getTime()===T.getTime()&&p.getTime()===b.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(H&&!u?"":" "+S[1]+(T.getTime()===B.getTime()?" "+this._currentClass:"")+(T.getTime()===O.getTime()?" ui-datepicker-today":""))+"'"+(H&&!u||!S[2]?"":" title='"+S[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+T.getMonth()+"' data-year='"+T.getFullYear()+"'")+">"+(H&&!u?"&#xa0;":z?"<span class='ui-state-default'>"+T.getDate()+"</span>":"<a class='ui-state-default"+(T.getTime()===O.getTime()?" ui-state-highlight":"")+(T.getTime()===B.getTime()?" ui-state-active":"")+(H?" ui-priority-secondary":"")+"' href='#' aria-current='"+(T.getTime()===B.getTime()?"true":"false")+"' data-date='"+T.getDate()+"'>"+T.getDate()+"</a>")+"</td>",T.setDate(T.getDate()+1),T=this._daylightSavingAdjust(T);w+=M+"</tr>"}11<++K&&(K=0,U++),_+=w+="</tbody></table>"+(Y?"</div>"+(0<L[0]&&v===L[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}f+=_}return f+=F,t._keyEvent=!1,f},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var l,h,c,u,d,p,f=this._get(t,"changeMonth"),g=this._get(t,"changeYear"),m=this._get(t,"showMonthAfterYear"),_=this._get(t,"selectMonthLabel"),v=this._get(t,"selectYearLabel"),b="<div class='ui-datepicker-title'>",y="";if(o||!f)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=s&&s.getFullYear()===i,h=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' aria-label='"+_+"' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=s.getMonth())&&(!h||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(m||(b+=y+(!o&&f&&g?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!g)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(a=this._get(t,"yearRange").split(":"),u=(new Date).getFullYear(),d=(_=function(t){t=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?u+parseInt(t,10):parseInt(t,10);return isNaN(t)?u:t})(a[0]),p=Math.max(d,_(a[1]||"")),d=s?Math.max(d,s.getFullYear()):d,p=n?Math.min(p,n.getFullYear()):p,t.yearshtml+="<select class='ui-datepicker-year' aria-label='"+v+"' data-handler='selectYear' data-event='change'>";d<=p;d++)t.yearshtml+="<option value='"+d+"'"+(d===i?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),m&&(b+=(!o&&f&&g?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),e=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,e)));t.selectedDay=e.getDate(),t.drawMonth=t.selectedMonth=e.getMonth(),t.drawYear=t.selectedYear=e.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),e=i&&e<i?i:e;return t&&t<e?t:e},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),n=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(t,n)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=null,o=null,a=this._get(t,"yearRange");return a&&(t=a.split(":"),a=(new Date).getFullYear(),n=parseInt(t[0],10),o=parseInt(t[1],10),t[0].match(/[+\-].*/)&&(n+=a),t[1].match(/[+\-].*/)&&(o+=a)),(!i||e.getTime()>=i.getTime())&&(!s||e.getTime()<=s.getTime())&&(!n||e.getFullYear()>=n)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);e=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),e,this._getFormatConfig(t))}}),V.fn.datepicker=function(t){if(!this.length)return this;V.datepicker.initialized||(V(document).on("mousedown",V.datepicker._checkExternalClick),V.datepicker.initialized=!0),0===V("#"+V.datepicker._mainDivId).length&&V("body").append(V.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?V.datepicker["_"+t+"Datepicker"].apply(V.datepicker,[this].concat(e)):V.datepicker._attachDatepicker(this,t)})},V.datepicker=new st,V.datepicker.initialized=!1,V.datepicker.uuid=(new Date).getTime(),V.datepicker.version="1.13.2";V.datepicker,V.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var rt=!1;V(document).on("mouseup",function(){rt=!1});V.widget("ui.mouse",{version:"1.13.2",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===V.data(t.target,e.widgetName+".preventClickEvent"))return V.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!rt){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&V(t.target).closest(this.options.cancel).length;return i&&!s&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===V.data(t.target,this.widgetName+".preventClickEvent")&&V.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),rt=!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(V.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&V.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,rt=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),V.ui.plugin={add:function(t,e,i){var s,n=V.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},V.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&V(t).trigger("blur")};V.widget("ui.draggable",V.ui.mouse,{version:"1.13.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<V(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=V(this);return V("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=V.ui.safeActiveElement(this.document[0]);V(t.target).closest(e).length||V.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),V.ui.ddmanager&&(V.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===V(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),V.ui.ddmanager&&!e.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),V.ui.ddmanager&&V.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){e=this._uiHash();if(!1===this._trigger("drag",t,e))return this._mouseUp(new V.Event("mouseup",t)),!1;this.position=e.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return V.ui.ddmanager&&!this.options.dropBehaviour&&(i=V.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||"function"==typeof this.options.revert&&this.options.revert.call(this.element,i)?V(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),V.ui.ddmanager&&V.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),V.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new V.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!V(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i="function"==typeof e.helper,t=i?V(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return t.parents("body").length||t.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&t[0]===this.element[0]&&this._setPositionRelative(),t[0]===this.element[0]||/(fixed|absolute)/.test(t.css("position"))||t.css("position","absolute"),t},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this._isRootNode(this.offsetParent[0])?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(e=V(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=s.containment:this.containment=[0,0,V(n).width()-this.helperProportions.width-this.margins.left,(V(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[V(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,V(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,V(window).scrollLeft()+V(window).width()-this.helperProportions.width-this.margins.left,V(window).scrollTop()+(V(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,t=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:t?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:t?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s=this.options,n=this._isRootNode(this.scrollParent[0]),o=t.pageX,a=t.pageY;return n&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(i=this.relativeContainer.offset(),[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(o=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(a=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(o=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(a=i[3]+this.offset.click.top)),s.grid&&(t=s.grid[1]?this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,a=!i||t-this.offset.click.top>=i[1]||t-this.offset.click.top>i[3]?t:t-this.offset.click.top>=i[1]?t-s.grid[1]:t+s.grid[1],t=s.grid[0]?this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,o=!i||t-this.offset.click.left>=i[0]||t-this.offset.click.left>i[2]?t:t-this.offset.click.left>=i[0]?t-s.grid[0]:t+s.grid[0]),"y"===s.axis&&(o=this.originalPageX),"x"===s.axis&&(a=this.originalPageY)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),V.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),V.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),V.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=V.extend({},t,{item:i.element});i.sortables=[],V(i.options.connectToSortable).each(function(){var t=V(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=V.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,V.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){V.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,V.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,t=this!==e&&this._intersectsWith(this.containerCache)&&V.contains(e.element[0],this.element[0])?!1:t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,V.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,V.each(n.sortables,function(){this.refreshPositions()}))})}}),V.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=V("body"),i=i.options;s.css("cursor")&&(i._cursor=s.css("cursor")),s.css("cursor",i.cursor)},stop:function(t,e,i){i=i.options;i._cursor&&V("body").css("cursor",i._cursor)}}),V.ui.plugin.add("draggable","opacity",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("opacity")&&(i._opacity=e.css("opacity")),e.css("opacity",i.opacity)},stop:function(t,e,i){i=i.options;i._opacity&&V(e.helper).css("opacity",i._opacity)}}),V.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=n=o.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-V(a).scrollTop()<s.scrollSensitivity?n=V(a).scrollTop(V(a).scrollTop()-s.scrollSpeed):V(window).height()-(t.pageY-V(a).scrollTop())<s.scrollSensitivity&&(n=V(a).scrollTop(V(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-V(a).scrollLeft()<s.scrollSensitivity?n=V(a).scrollLeft(V(a).scrollLeft()-s.scrollSpeed):V(window).width()-(t.pageX-V(a).scrollLeft())<s.scrollSensitivity&&(n=V(a).scrollLeft(V(a).scrollLeft()+s.scrollSpeed)))),!1!==n&&V.ui.ddmanager&&!s.dropBehaviour&&V.ui.ddmanager.prepareOffsets(i,t)}}),V.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],V(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=V(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){for(var s,n,o,a,r,l,h,c,u,d=i.options,p=d.snapTolerance,f=e.offset.left,g=f+i.helperProportions.width,m=e.offset.top,_=m+i.helperProportions.height,v=i.snapElements.length-1;0<=v;v--)l=(r=i.snapElements[v].left-i.margins.left)+i.snapElements[v].width,c=(h=i.snapElements[v].top-i.margins.top)+i.snapElements[v].height,g<r-p||l+p<f||_<h-p||c+p<m||!V.contains(i.snapElements[v].item.ownerDocument,i.snapElements[v].item)?(i.snapElements[v].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=!1):("inner"!==d.snapMode&&(s=Math.abs(h-_)<=p,n=Math.abs(c-m)<=p,o=Math.abs(r-g)<=p,a=Math.abs(l-f)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l}).left)),u=s||n||o||a,"outer"!==d.snapMode&&(s=Math.abs(h-m)<=p,n=Math.abs(c-_)<=p,o=Math.abs(r-f)<=p,a=Math.abs(l-g)<=p,s&&(e.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left)),!i.snapElements[v].snapping&&(s||n||o||a||u)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,V.extend(i._uiHash(),{snapItem:i.snapElements[v].item})),i.snapElements[v].snapping=s||n||o||a||u)}}),V.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,i=i.options,i=V.makeArray(V(i.stack)).sort(function(t,e){return(parseInt(V(t).css("zIndex"),10)||0)-(parseInt(V(e).css("zIndex"),10)||0)});i.length&&(s=parseInt(V(i[0]).css("zIndex"),10)||0,V(i).each(function(t){V(this).css("zIndex",s+t)}),this.css("zIndex",s+i.length))}}),V.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){e=V(e.helper),i=i.options;e.css("zIndex")&&(i._zIndex=e.css("zIndex")),e.css("zIndex",i.zIndex)},stop:function(t,e,i){i=i.options;i._zIndex&&V(e.helper).css("zIndex",i._zIndex)}});V.ui.draggable;V.widget("ui.resizable",V.ui.mouse,{version:"1.13.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===V(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;if(0<t[i])return!0;try{t[i]=1,e=0<t[i],t[i]=0}catch(t){}return e},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),V.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(V("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&V(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy(),this._addedHandles.remove();function t(t){V(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var e;return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var t,e,i,s,n,o=this.options,a=this;if(this.handles=o.handles||(V(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=V(),this._addedHandles=V(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s="ui-resizable-"+(t=String.prototype.trim.call(i[e])),n=V("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(n),this._addedHandles=this._addedHandles.add(n));this._renderAxis=function(t){var e,i,s;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=V(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=V(this.handles[e],this.element),s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),i=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)(i=V(this.handles[e])[0])!==t.target&&!V.contains(i,t.target)||(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s=this.options,n=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),s.containment&&(e+=V(s.containment).scrollLeft()||0,i+=V(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:n.width(),height:n.height()},this.originalSize=this._helper?{width:n.outerWidth(),height:n.outerHeight()}:{width:n.width(),height:n.height()},this.sizeDiff={width:n.outerWidth()-n.width(),height:n.outerHeight()-n.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=V(".ui-resizable-"+this.axis).css("cursor"),V("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.originalMousePosition,i=this.axis,s=t.pageX-e.left||0,e=t.pageY-e.top||0,i=this._change[i];return this._updatePrevProperties(),i&&(e=i.apply(this,[t,s,e]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),V.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n=this.options,o=this;return this._helper&&(s=(e=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:o.sizeDiff.height,i=e?0:o.sizeDiff.width,e={width:o.helper.width()-i,height:o.helper.height()-s},i=parseFloat(o.element.css("left"))+(o.position.left-o.originalPosition.left)||null,s=parseFloat(o.element.css("top"))+(o.position.top-o.originalPosition.top)||null,n.animate||this.element.css(V.extend(e,{top:s,left:i})),o.helper.height(o.size.height),o.helper.width(o.size.width),this._helper&&!n.animate&&this._proportionallyResize()),V("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s=this.options,n={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0};(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,i=n.minWidth/this.aspectRatio,s=n.maxHeight*this.aspectRatio,t=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),i>n.minHeight&&(n.minHeight=i),s<n.maxWidth&&(n.maxWidth=s),t<n.maxHeight&&(n.maxHeight=t)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),i=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&h&&(t.left=r-e.minWidth),s&&h&&(t.left=r-e.maxWidth),a&&i&&(t.top=l-e.minHeight),n&&i&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||V("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return V.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return V.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){V.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),V.ui.plugin.add("resizable","animate",{stop:function(e){var i=V(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),o=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,n={width:i.size.width-a,height:i.size.height-o},a=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(V.extend(n,o&&a?{top:o,left:a}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&V(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),V.ui.plugin.add("resizable","containment",{start:function(){var i,s,n=V(this).resizable("instance"),t=n.options,e=n.element,o=t.containment,a=o instanceof V?o.get(0):/parent/.test(o)?e.parent().get(0):o;a&&(n.containerElement=V(a),/document/.test(o)||o===document?(n.containerOffset={left:0,top:0},n.containerPosition={left:0,top:0},n.parentData={element:V(document),left:0,top:0,width:V(document).width(),height:V(document).height()||document.body.parentNode.scrollHeight}):(i=V(a),s=[],V(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=n._num(i.css("padding"+e))}),n.containerOffset=i.offset(),n.containerPosition=i.position(),n.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=n.containerOffset,e=n.containerSize.height,o=n.containerSize.width,o=n._hasScroll(a,"left")?a.scrollWidth:o,e=n._hasScroll(a)?a.scrollHeight:e,n.parentData={element:a,left:t.left,top:t.top,width:o,height:e}))},resize:function(t){var e=V(this).resizable("instance"),i=e.options,s=e.containerOffset,n=e.position,o=e._aspectRatio||t.shiftKey,a={top:0,left:0},r=e.containerElement,t=!0;r[0]!==document&&/static/.test(r.css("position"))&&(a=s),n.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-a.left),o&&(e.size.height=e.size.width/e.aspectRatio,t=!1),e.position.left=i.helper?s.left:0),n.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),o&&(e.size.width=e.size.height*e.aspectRatio,t=!1),e.position.top=e._helper?s.top:0),i=e.containerElement.get(0)===e.element.parent().get(0),n=/relative|absolute/.test(e.containerElement.css("position")),i&&n?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top),n=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-a.left:e.offset.left-s.left)),s=Math.abs(e.sizeDiff.height+(e._helper?e.offset.top-a.top:e.offset.top-s.top)),n+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-n,o&&(e.size.height=e.size.width/e.aspectRatio,t=!1)),s+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-s,o&&(e.size.width=e.size.height*e.aspectRatio,t=!1)),t||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var t=V(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,o=V(t.helper),a=o.offset(),r=o.outerWidth()-t.sizeDiff.width,o=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&V(this).css({left:a.left-s.left-i.left,width:r,height:o})}}),V.ui.plugin.add("resizable","alsoResize",{start:function(){var t=V(this).resizable("instance").options;V(t.alsoResize).each(function(){var t=V(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=V(this).resizable("instance"),s=e.options,n=e.originalSize,o=e.originalPosition,a={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};V(s.alsoResize).each(function(){var t=V(this),s=V(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];V.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){V(this).removeData("ui-resizable-alsoresize")}}),V.ui.plugin.add("resizable","ghost",{start:function(){var t=V(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==V.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=V(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=V(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),V.ui.plugin.add("resizable","grid",{resize:function(){var t,e=V(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,h=r[1]||1,c=Math.round((s.width-n.width)/l)*l,u=Math.round((s.height-n.height)/h)*h,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,s=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=l),s&&(p+=h),f&&(d-=l),g&&(p-=h),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):((p-h<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-h?(e.size.height=p,e.position.top=o.top-u):(p=h-t.height,e.size.height=p,e.position.top=o.top+n.height-p),0<d-l?(e.size.width=d,e.position.left=o.left-c):(d=l-t.width,e.size.width=d,e.position.left=o.left+n.width-d))}});V.ui.resizable;V.widget("ui.dialog",{version:"1.13.2",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=V(this).css(t).offset().top;e<0&&V(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&V.fn.draggable&&this._makeDraggable(),this.options.resizable&&V.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?V(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:V.noop,enable:V.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||V.ui.safeBlur(V.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+V(this).css("z-index")}).get(),s=Math.max.apply(null,s);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=V(V.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;(t=!(t=!(t=!(t=!(t=t||this.element.find("[autofocus]")).length?this.element.find(":tabbable"):t).length?this.uiDialogButtonPane.find(":tabbable"):t).length?this.uiDialogTitlebarClose.filter(":tabbable"):t).length?this.uiDialog:t).eq(0).trigger("focus")},_restoreTabbableFocus:function(){var t=V.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||V.contains(this.uiDialog[0],t)||this._focusTabbable()},_keepFocus:function(t){t.preventDefault(),this._restoreTabbableFocus(),this._delay(this._restoreTabbableFocus)},_createWrapper:function(){this.uiDialog=V("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===V.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);var e,i,s;t.keyCode!==V.ui.keyCode.TAB||t.isDefaultPrevented()||(e=this.uiDialog.find(":tabbable"),i=e.first(),s=e.last(),t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault()))},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=V("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){V(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=V("<button type='button'></button>").button({label:V("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=V("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=V("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=V("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var s=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),V.isEmptyObject(t)||Array.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(V.each(t,function(t,e){var i;e=V.extend({type:"button"},e="function"==typeof e?{click:e,text:t}:e),i=e.click,t={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,V("<button></button>",e).button(t).appendTo(s.uiButtonSet).on("click",function(){i.apply(s.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,o=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){n._addClass(V(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",t,a(e))},drag:function(t,e){n._trigger("drag",t,a(e))},stop:function(t,e){var i=e.offset.left-n.document.scrollLeft(),s=e.offset.top-n.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=s?"+":"")+s,of:n.window},n._removeClass(V(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var n=this,o=this.options,t=o.resizable,e=this.uiDialog.css("position"),t="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function a(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:o.maxWidth,maxHeight:o.maxHeight,minWidth:o.minWidth,minHeight:this._minHeight(),handles:t,start:function(t,e){n._addClass(V(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",t,a(e))},resize:function(t,e){n._trigger("resize",t,a(e))},stop:function(t,e){var i=n.uiDialog.offset(),s=i.left-n.document.scrollLeft(),i=i.top-n.document.scrollTop();o.height=n.uiDialog.height(),o.width=n.uiDialog.width(),o.position={my:"left top",at:"left"+(0<=s?"+":"")+s+" top"+(0<=i?"+":"")+i,of:n.window},n._removeClass(V(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",t,a(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=V(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=V.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};V.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:V("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=s.is(":data(ui-draggable)"))&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((i=s.is(":data(ui-resizable)"))&&!e&&s.resizable("destroy"),i&&"string"==typeof e&&s.resizable("option","handles",e),i||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=V(this);return V("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!V(t.target).closest(".ui-dialog").length||!!V(t.target).closest(".ui-datepicker").length},_createOverlay:function(){var i,s;this.options.modal&&(i=V.fn.jquery.substring(0,4),s=!0,this._delay(function(){s=!1}),this.document.data("ui-dialog-overlays")||this.document.on("focusin.ui-dialog",function(t){var e;s||((e=this._trackingInstances()[0])._allowInteraction(t)||(t.preventDefault(),e._focusTabbable(),"3.4."!==i&&"3.5."!==i||e._delay(e._restoreTabbableFocus)))}.bind(this)),this.overlay=V("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1))},_destroyOverlay:function(){var t;this.options.modal&&this.overlay&&((t=this.document.data("ui-dialog-overlays")-1)?this.document.data("ui-dialog-overlays",t):(this.document.off("focusin.ui-dialog"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null)}}),!1!==V.uiBackCompat&&V.widget("ui.dialog",V.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});V.ui.dialog;function lt(t,e,i){return e<=t&&t<e+i}V.widget("ui.droppable",{version:"1.13.2",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept="function"==typeof i?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t=t||{width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){V.ui.ddmanager.droppables[t]=V.ui.ddmanager.droppables[t]||[],V.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=V.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){var i;"accept"===t?this.accept="function"==typeof e?e:function(t){return t.is(e)}:"scope"===t&&(i=V.ui.ddmanager.droppables[this.options.scope],this._splice(i),this._addToManager(e)),this._super(t,e)},_activate:function(t){var e=V.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=V.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=V.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||V.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=V(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&V.ui.intersect(i,V.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}}),V.ui.intersect=function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,r=o+t.helperProportions.height,l=e.offset.left,h=e.offset.top,c=l+e.proportions().width,u=h+e.proportions().height;switch(i){case"fit":return l<=n&&a<=c&&h<=o&&r<=u;case"intersect":return l<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&h<o+t.helperProportions.height/2&&r-t.helperProportions.height/2<u;case"pointer":return lt(s.pageY,h,e.proportions().height)&&lt(s.pageX,l,e.proportions().width);case"touch":return(h<=o&&o<=u||h<=r&&r<=u||o<h&&u<r)&&(l<=n&&n<=c||l<=a&&a<=c||n<l&&c<a);default:return!1}},!(V.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=V.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return V.each((V.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&V.ui.intersect(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)})},drag:function(n,o){n.options.refreshPositions&&V.ui.ddmanager.prepareOffsets(n,o),V.each(V.ui.ddmanager.droppables[n.options.scope]||[],function(){var t,e,i,s;this.options.disabled||this.greedyChild||!this.visible||(s=!(i=V.ui.intersect(n,this,this.options.tolerance,o))&&this.isover?"isout":i&&!this.isover?"isover":null)&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return V(this).droppable("instance").options.scope===e})).length&&((t=V(i[0]).droppable("instance")).greedyChild="isover"===s)),t&&"isover"===s&&(t.isover=!1,t.isout=!0,t._out.call(t,o)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,o),t&&"isout"===s&&(t.isout=!1,t.isover=!0,t._over.call(t,o)))})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||V.ui.ddmanager.prepareOffsets(t,e)}})!==V.uiBackCompat&&V.widget("ui.droppable",V.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});V.ui.droppable,V.widget("ui.progressbar",{version:"1.13.2",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=V("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=V("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),V.widget("ui.selectable",V.ui.mouse,{version:"1.13.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=V(i.element[0]).offset(),i.selectees=V(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var t=V(this),e=t.offset(),e={left:e.left-i.elementPos.left,top:e.top-i.elementPos.top};V.data(this,"selectable-item",{element:this,$element:t,left:e.left,top:e.top,right:e.left+t.outerWidth(),bottom:e.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=V("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=V(this.element[0]).offset(),this.options.disabled||(this.selectees=V(t.filter,this.element[0]),this._trigger("start",i),V(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=V.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),V(i.target).parents().addBack().each(function(){var t,e=V.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,o=this.options,a=this.opos[0],r=this.opos[1],l=s.pageX,h=s.pageY;return l<a&&(t=l,l=a,a=t),h<r&&(t=h,h=r,r=t),this.helper.css({left:a,top:r,width:l-a,height:h-r}),this.selectees.each(function(){var t=V.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===o.tolerance?e=!(i.left>l||i.right<a||i.top>h||i.bottom<r):"fit"===o.tolerance&&(e=i.left>a&&i.right<l&&i.top>r&&i.bottom<h),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,V(".ui-unselecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),V(".ui-selecting",this.element[0]).each(function(){var t=V.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),V.widget("ui.selectmenu",[V.ui.formResetMixin,{version:"1.13.2",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=V()},_drawButton:function(){var t,e=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.trigger("focus"),t.preventDefault()}}),this.element.hide(),this.button=V("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=V("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=V("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=V("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),i._setSelection(),i._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){e=e.item.data("ui-selectmenu-item");null!=i.focusIndex&&e.index!==i.focusIndex&&(i._trigger("focus",t,{item:e}),i.isOpen||i._select(e,t)),i.focusIndex=e.index,i.button.attr("aria-activedescendant",i.menuItems.eq(e.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(V.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=V("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(s,t){var n=this,o="";V.each(t,function(t,e){var i;e.optgroup!==o&&(i=V("<li>",{text:e.optgroup}),n._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(s),o=e.optgroup),n._renderItemData(s,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=V("<li>"),s=V("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(s,e.label),i.append(s).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),s+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.trigger("focus"))},_documentClick:{mousedown:function(t){this.isOpen&&(V(t.target).closest(".ui-selectmenu-menu, #"+V.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case V.ui.keyCode.TAB:case V.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case V.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case V.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case V.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case V.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case V.ui.keyCode.LEFT:this._move("prev",t);break;case V.ui.keyCode.RIGHT:this._move("next",t);break;case V.ui.keyCode.HOME:case V.ui.keyCode.PAGE_UP:this._move("first",t);break;case V.ui.keyCode.END:case V.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){t=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(t,e){var i;"icons"===t&&(i=this.button.find("span.ui-icon"),this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t=!(t=!(t=t&&(t.jquery||t.nodeType?V(t):this.document.find(t).eq(0)))||!t[0]?this.element.closest(".ui-front, dialog"):t).length?this.document[0].body:t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var i=this,s=[];t.each(function(t,e){e.hidden||s.push(i._parseOption(V(e),t))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),V.widget("ui.slider",V.ui.mouse,{version:"1.13.2",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e=this.options,i=this.element.find(".ui-slider-handle"),s=[],n=e.values&&e.values.length||1;for(i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;t<n;t++)s.push("<span tabindex='0'></span>");this.handles=i.add(V(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){V(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:Array.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=V("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var i,s,n,o,e,a,r=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),a={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(a),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-r.values(t));(e<s||s===e&&(t===r._lastChangedValue||r.values(t)===l.min))&&(s=e,n=V(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),e=n.offset(),a=!V(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:t.pageX-e.left-n.width()/2,top:t.pageY-e.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},e=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,t="horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=t/e;return(t=1<t?1:t)<0&&(t=0),"vertical"===this.orientation&&(t=1-t),e=this._valueMax()-this._valueMin(),e=this._valueMin()+t*e,this._trimAlignValue(e)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,s,n;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!Array.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,s=t,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(s[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,e){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),Array.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=s-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i;if(arguments.length)return t=this.options.values[t],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(e=this.options.values.slice(),i=0;i<e.length;i+=1)e[i]=this._trimAlignValue(e[i]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,t=t-i;return 2*Math.abs(i)>=e&&(t+=0<i?e:-e),parseFloat(t.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,s,n,o=this.options.range,a=this.options,r=this,l=!this._animateOff&&a.animate,h={};this._hasMultipleValues()?this.handles.each(function(t){i=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,h["horizontal"===r.orientation?"left":"bottom"]=i+"%",V(this).stop(1,1)[l?"animate":"css"](h,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===t&&r.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===t&&r.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},a.animate),1===t&&r.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(t=this.value(),s=this._valueMin(),n=this._valueMax(),i=n!==s?(t-s)/(n-s)*100:0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](h,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,i,s,n=V(t.target).data("ui-slider-handle-index");switch(t.keyCode){case V.ui.keyCode.HOME:case V.ui.keyCode.END:case V.ui.keyCode.PAGE_UP:case V.ui.keyCode.PAGE_DOWN:case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(V(t.target),null,"ui-state-active"),!1===this._start(t,n)))return}switch(s=this.options.step,e=i=this._hasMultipleValues()?this.values(n):this.value(),t.keyCode){case V.ui.keyCode.HOME:i=this._valueMin();break;case V.ui.keyCode.END:i=this._valueMax();break;case V.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case V.ui.keyCode.UP:case V.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+s);break;case V.ui.keyCode.DOWN:case V.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-s)}this._slide(t,n,i)},keyup:function(t){var e=V(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(V(t.target),null,"ui-state-active"))}}}),V.widget("ui.sortable",V.ui.mouse,{version:"1.13.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),V.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),V(t.target).parents().each(function(){if(V.data(this,n.widgetName+"-item")===n)return i=V(this),!1}),!!(i=V.data(t.target,n.widgetName+"-item")===n?V(t.target):i)&&(!(this.options.handle&&!e&&(V(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var s,n,o=this.options;if((this.currentContainer=this).refreshPositions(),this.appendTo=V("parent"!==o.appendTo?o.appendTo:this.currentItem.parent()),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},V.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),this.scrollParent=this.placeholder.scrollParent(),V.extend(this.offset,{parent:this._getParentOffset()}),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),this.storedStylesheet=V("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return V.ui.ddmanager&&(V.ui.ddmanager.current=this),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this.helper.parent().is(this.appendTo)||(this.helper.detach().appendTo(this.appendTo),this.offset.parent=this._getParentOffset()),this.position=this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,this.lastPositionAbs=this.positionAbs=this._convertPositionTo("absolute"),this._mouseDrag(t),!0},_scroll:function(t){var e=this.options,i=!1;return this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<e.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+e.scrollSpeed:t.pageY-this.overflowOffset.top<e.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-e.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<e.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+e.scrollSpeed:t.pageX-this.overflowOffset.left<e.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-e.scrollSpeed)):(t.pageY-this.document.scrollTop()<e.scrollSensitivity?i=this.document.scrollTop(this.document.scrollTop()-e.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<e.scrollSensitivity&&(i=this.document.scrollTop(this.document.scrollTop()+e.scrollSpeed)),t.pageX-this.document.scrollLeft()<e.scrollSensitivity?i=this.document.scrollLeft(this.document.scrollLeft()-e.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<e.scrollSensitivity&&(i=this.document.scrollLeft(this.document.scrollLeft()+e.scrollSpeed))),i},_mouseDrag:function(t){var e,i,s,n,o=this.options;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o.scroll&&!1!==this._scroll(t)&&(this._refreshItemPositions(!0),V.ui.ddmanager&&!o.dropBehaviour&&V.ui.ddmanager.prepareOffsets(this,t)),this.dragDirection={vertical:this._getDragVerticalDirection(),horizontal:this._getDragHorizontalDirection()},e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===s||V.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&V.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),V.ui.ddmanager&&V.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){var i,s,n,o;if(t)return V.ui.ddmanager&&!this.options.dropBehaviour&&V.ui.ddmanager.drop(this,t),this.options.revert?(s=(i=this).placeholder.offset(),o={},(n=this.options.axis)&&"x"!==n||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,V(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})):this._clear(t,e),!1},cancel:function(){if(this.dragging){this._mouseUp(new V.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),V.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?V(this.domPosition.prev).after(this.currentItem):V(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},V(t).each(function(){var t=(V(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(V(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,h=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||r<s+h&&s+h<l,c="y"===this.options.axis||o<e+c&&e+c<a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h&&c:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),t="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!e||!t)&&(e=this.dragDirection.vertical,t=this.dragDirection.horizontal,this.floating?"right"===t||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this.dragDirection.vertical,t=this.dragDirection.horizontal;return this.floating&&t?"right"===t&&i||"left"===t&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!=t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!=t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,s,n,o=[],a=[],r=this._connectWith();if(r&&t)for(e=r.length-1;0<=e;e--)for(i=(s=V(r[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&a.push(["function"==typeof n.options.items?n.options.items.call(n.element):V(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);function l(){o.push(this)}for(a.push(["function"==typeof this.options.items?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):V(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=a.length-1;0<=e;e--)a[e][0].each(l);return V(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=V.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,o,a,r,l,h=this.items,c=[["function"==typeof this.options.items?this.options.items.call(this.element[0],t,{item:this.currentItem}):V(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(e=u.length-1;0<=e;e--)for(i=(s=V(u[e],this.document[0])).length-1;0<=i;i--)(n=V.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(c.push(["function"==typeof n.options.items?n.options.items.call(n.element[0],t,{item:this.currentItem}):V(n.options.items,n.element),n]),this.containers.push(n));for(e=c.length-1;0<=e;e--)for(o=c[e][1],l=(a=c[e][i=0]).length;i<l;i++)(r=V(a[i])).data(this.widgetName+"-item",o),h.push({item:r,instance:o,width:0,height:0,left:0,top:0})},_refreshItemPositions:function(t){for(var e,i,s=this.items.length-1;0<=s;s--)e=this.items[s],this.currentContainer&&e.instance!==this.currentContainer&&e.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?V(this.options.toleranceElement,e.item):e.item,t||(e.width=i.outerWidth(),e.height=i.outerHeight()),i=i.offset(),e.left=i.left,e.top=i.top)},refreshPositions:function(t){var e,i;if(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),this._refreshItemPositions(t),this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)i=this.containers[e].element.offset(),this.containers[e].containerCache.left=i.left,this.containers[e].containerCache.top=i.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(s=o.placeholder,n=i.currentItem[0].nodeName.toLowerCase(),o.placeholder={element:function(){var t=V("<"+n+">",i.document[0]);return i._addClass(t,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===n?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),V("<tr>",i.document[0]).appendTo(t)):"tr"===n?i._createTrPlaceholder(i.currentItem,t):"img"===n&&t.attr("src",i.currentItem.attr("src")),s||t.css("visibility","hidden"),t},update:function(t,e){s&&!o.forcePlaceholderSize||(e.height()&&(!o.forcePlaceholderSize||"tbody"!==n&&"tr"!==n)||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=V(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){V("<td>&#160;</td>",i.document[0]).attr("colspan",V(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){for(var e,i,s,n,o,a,r,l,h,c=null,u=null,d=this.containers.length-1;0<=d;d--)V.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?c&&V.contains(this.containers[d].element[0],c.element[0])||(c=this.containers[d],u=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",t,this._uiHash(this)),this.containers[d].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(i=1e4,s=null,n=(l=c.floating||this._isFloating(this.currentItem))?"left":"top",o=l?"width":"height",h=l?"pageX":"pageY",e=this.items.length-1;0<=e;e--)V.contains(this.containers[u].element[0],this.items[e].item[0])&&this.items[e].item[0]!==this.currentItem[0]&&(a=this.items[e].item.offset()[n],r=!1,t[h]-a>this.items[e][o]/2&&(r=!0),Math.abs(t[h]-a)<i&&(i=Math.abs(t[h]-a),s=this.items[e],this.direction=r?"up":"down"));(s||this.options.dropOnEmpty)&&(this.currentContainer!==this.containers[u]?(s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[u].element,!0),this._trigger("change",t,this._uiHash()),this.containers[u]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.scrollParent=this.placeholder.scrollParent(),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this.containers[u]._trigger("over",t,this._uiHash(this)),this.containers[u].containerCache.over=1):this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1))}},_createHelper:function(t){var e=this.options,t="function"==typeof e.helper?V(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return t.parents("body").length||this.appendTo[0].appendChild(t[0]),t[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),t[0].style.width&&!e.forceHelperSize||t.width(this.currentItem.width()),t[0].style.height&&!e.forceHelperSize||t.height(this.currentItem.height()),t},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),"left"in(t=Array.isArray(t)?{left:+t[0],top:+t[1]||0}:t)&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),{top:(t=this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&V.ui.ie?{top:0,left:0}:t).top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=V(i.containment)[0],e=V(i.containment).offset(),i="hidden"!==V(t).css("overflow"),this.containment=[e.left+(parseInt(V(t).css("borderLeftWidth"),10)||0)+(parseInt(V(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(V(t).css("borderTopWidth"),10)||0)+(parseInt(V(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(V(t).css("borderLeftWidth"),10)||0)-(parseInt(V(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(V(t).css("borderTopWidth"),10)||0)-(parseInt(V(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e=e||this.position;var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,t=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():t?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():t?0:s.scrollLeft())*i}},_generatePosition:function(t){var e=this.options,i=t.pageX,s=t.pageY,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&V.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(i=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(i=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),e.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/e.grid[1])*e.grid[1],s=!this.containment||t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-e.grid[1]:t+e.grid[1],t=this.originalPageX+Math.round((i-this.originalPageX)/e.grid[0])*e.grid[0],i=!this.containment||t-this.offset.click.left>=this.containment[0]&&t-this.offset.click.left<=this.containment[2]?t:t-this.offset.click.left>=this.containment[0]?t-e.grid[0]:t+e.grid[0])),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop()),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===V.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||V([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}});function ht(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}V.widget("ui.spinner",{version:"1.13.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s=this._super(),n=this.element;return V.each(["min","max","step"],function(t,e){var i=n.attr(e);null!=i&&i.length&&(s[e]=i)}),s},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){var i=V.ui.safeActiveElement(this.document[0]);if(this.element[0]===i&&e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===V.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===V.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(V(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,V(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=V.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?"function"==typeof e?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return t=null!==this.options.min?Math.max(t,this._precisionOf(this.options.min)):t},_precisionOf:function(t){var e=t.toString(),t=e.indexOf(".");return-1===t?0:e.length-t-1},_adjustValue:function(t){var e=this.options,i=null!==e.min?e.min:0,s=t-i;return t=i+Math.round(s/e.step)*e.step,t=parseFloat(t.toFixed(this._precision())),null!==e.max&&t>e.max?e.max:null!==e.min&&t<e.min?e.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),i=this.buttons.last().find(".ui-icon"),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:ht(function(t){this._super(t)}),_parse:function(t){return""===(t="string"==typeof t&&""!==t?window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t:t)||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:ht(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:ht(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:ht(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:ht(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());ht(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==V.uiBackCompat&&V.widget("ui.spinner",V.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var ct;V.ui.spinner;V.widget("ui.tabs",{version:"1.13.2",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(ct=/#.*$/,function(t){var e=t.href.replace(ct,""),i=location.href.replace(ct,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return 1<t.hash.length&&e===i}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),Array.isArray(t.disabled)&&(t.disabled=V.uniqueSort(t.disabled.concat(V.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=V(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(t,e){if(V(e).attr("aria-controls")===s)return i=t,!1}),null!==(i=null===i?this.tabs.index(this.tabs.filter(".ui-tabs-active")):i)&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),i=!t&&!1===i&&this.anchors.length?0:i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):V()}},_tabKeydown:function(t){var e=V(V.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(e),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case V.ui.keyCode.RIGHT:case V.ui.keyCode.DOWN:i++;break;case V.ui.keyCode.UP:case V.ui.keyCode.LEFT:s=!1,i--;break;case V.ui.keyCode.END:i=this.anchors.length-1;break;case V.ui.keyCode.HOME:i=0;break;case V.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case V.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===V.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===V.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===V.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==V.inArray(t=(t=i<t?0:t)<0?i:t,this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=V.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!V.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=V()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=V()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,t=this.tabs,e=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){V(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){V(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return V("a",this)[0]}).attr({tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=V(),this.anchors.each(function(t,e){var i,s,n,o=V(e).uniqueId().attr("id"),a=V(e).closest("li"),r=a.attr("aria-controls");l._isLocal(e)?(n=(i=e.hash).substring(1),s=l.element.find(l._sanitizeSelector(i))):(n=a.attr("aria-controls")||V({}).uniqueId()[0].id,(s=l.element.find(i="#"+n)).length||(s=l._createPanel(n)).insertAfter(l.panels[t-1]||l.tablist),s.attr("aria-live","polite")),s.length&&(l.panels=l.panels.add(s)),r&&a.data("ui-tabs-aria-controls",r),a.attr({"aria-controls":n,"aria-labelledby":o}),s.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return V("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,i;for(Array.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;e=this.tabs[i];i++)e=V(e),!0===t||-1!==V.inArray(i,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&V.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=V(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=V(this).outerHeight(!0)}),this.panels.each(function(){V(this).height(Math.max(0,i-V(this).innerHeight()+V(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,V(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,s=V(t.currentTarget).closest("li"),n=s[0]===i[0],o=n&&e.collapsible,a=o?V():this._getPanelForTab(s),r=i.length?this._getPanelForTab(i):V(),i={oldTab:i,oldPanel:r,newTab:o?V():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!e.collapsible||!1===this._trigger("beforeActivate",t,i)||(e.active=!o&&this.tabs.index(s),this.active=n?V():s,this.xhr&&this.xhr.abort(),r.length||a.length||V.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,i))},_toggle:function(t,e){var i=this,s=e.newPanel,n=e.oldPanel;function o(){i.running=!1,i._trigger("activate",t,e)}function a(){i._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&i.options.show?i._show(s,i.options.show,o):(s.show(),o())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){i._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),a()),n.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?e.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===V(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var t=this._findActive(t);t[0]!==this.active[0]&&(t=(t=!t.length?this.active:t).find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:V.noop}))},_findActive:function(t){return!1===t?V():this.tabs.eq(t)},_getIndex:function(t){return t="string"==typeof t?this.anchors.index(this.anchors.filter("[href$='"+V.escapeSelector(t)+"']")):t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){V.data(this,"ui-tabs-destroy")?V(this).remove():V(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=V(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),Array.isArray(t)?V.map(t,function(t){return t!==i?t:null}):V.map(this.tabs,function(t,e){return e!==i?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==V.inArray(t,e))return;e=Array.isArray(e)?V.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,s){t=this._getIndex(t);function n(t,e){"abort"===e&&o.panels.stop(!1,!0),o._removeClass(i,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr}var o=this,i=this.tabs.eq(t),t=i.find(".ui-tabs-anchor"),a=this._getPanelForTab(i),r={tab:i,panel:a};this._isLocal(t[0])||(this.xhr=V.ajax(this._ajaxSettings(t,s,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,i){setTimeout(function(){a.html(t),o._trigger("load",s,r),n(i,e)},1)}).fail(function(t,e){setTimeout(function(){n(t,e)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return n._trigger("beforeLoad",i,V.extend({jqXHR:t,ajaxSettings:e},s))}}},_getPanelForTab:function(t){t=V(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==V.uiBackCompat&&V.widget("ui.tabs",V.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});V.ui.tabs;V.widget("ui.tooltip",{version:"1.13.2",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=V(this).attr("title");return V("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",String.prototype.trim.call(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),e=V.inArray(e,i);-1!==e&&i.splice(e,1),t.removeData("ui-tooltip-id"),(i=String.prototype.trim.call(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=V("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=V([])},_setOption:function(t,e){var i=this;this._super(t,e),"content"===t&&V.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur");i.target=i.currentTarget=e.element[0],s.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=V(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=V(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=V([])},open:function(t){var i=this,e=V(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=V(this);e.data("ui-tooltip-open")&&((t=V.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,i){var t=this.options.content,s=this,n=i?i.type:null;if("string"==typeof t||t.nodeType||t.jquery)return this._open(i,e,t);(t=t.call(e[0],function(t){s._delay(function(){e.data("ui-tooltip-open")&&(i&&(i.type=n),this._open(i,e,t))})}))&&this._open(i,e,t)},_open:function(t,e,i){var s,n,o,a=V.extend({},this.options.position);function r(t){a.of=t,n.is(":hidden")||n.position(a)}i&&((s=this._find(e))?s.tooltip.find(".ui-tooltip-content").html(i):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),s=this._tooltip(e),n=s.tooltip,this._addDescribedBy(e,n.attr("id")),n.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(i=V("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),i.removeAttr("id").find("[id]").removeAttr("id"),i.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):n.position(V.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){n.is(":visible")&&(r(a.of),clearInterval(o))},13)),this._trigger("open",t,{tooltip:n})))},_registerCloseHandlers:function(t,e){var i={keyup:function(t){t.keyCode===V.ui.keyCode.ESCAPE&&((t=V.Event(t)).currentTarget=e[0],this.close(t,!0))}};e[0]!==this.element[0]&&(i.remove=function(){var t=this._find(e);t&&this._removeTooltip(t.tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,e,i)},close:function(t){var e,i=this,s=V(t?t.currentTarget:this.element),n=this._find(s);n?(e=n.tooltip,n.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),n.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){i._removeTooltip(V(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&V.each(this.parents,function(t,e){V(e.element).attr("title",e.title),delete i.parents[t]}),n.closing=!0,this._trigger("close",t,{tooltip:e}),n.hiding||(n.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(t){var e=V("<div>").attr("role","tooltip"),i=V("<div>").appendTo(e),s=e.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[s]={element:t,tooltip:e}},_find:function(t){t=t.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(t){clearInterval(this.delayedShow),t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){t=t.closest(".ui-front, dialog");return t=!t.length?this.document[0].body:t},_destroy:function(){var s=this;V.each(this.tooltips,function(t,e){var i=V.Event("blur"),e=e.element;i.target=i.currentTarget=e[0],s.close(i,!0),V("#"+t).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==V.uiBackCompat&&V.widget("ui.tooltip",V.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});V.ui.tooltip});
/* End of File include/javascript/jquery/jquery-ui.min.js */

/*! For license information please see grp-bootstrap.min.js.LICENSE.txt */
(()=>{var t={9188:(t,e,n)=>{"use strict";n.d(e,{fi:()=>p,kZ:()=>h});var i=n(6143),s=n(583),r=n(7994),o=n(1955),a=n(380),l=n(8293),c=n(3),u=n(2556),d={placement:"bottom",modifiers:[],strategy:"absolute"};function f(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function h(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,h=void 0===n?[]:n,p=e.defaultOptions,g=void 0===p?d:p;return function(t,e,n){void 0===n&&(n=g);var p={placement:"bottom",orderedModifiers:[],options:Object.assign({},d,g),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},m=[],_=!1,b={state:p,setOptions:function(n){var i="function"==typeof n?n(p.options):n;v(),p.options=Object.assign({},g,p.options,i),p.scrollParents={reference:(0,u.kK)(t)?(0,r.Z)(t):t.contextElement?(0,r.Z)(t.contextElement):[],popper:(0,r.Z)(e)};var s=(0,a.Z)((0,c.Z)([].concat(h,p.options.modifiers)));return p.orderedModifiers=s.filter((function(t){return t.enabled})),p.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,s=t.effect;if("function"==typeof s){var r=s({state:p,name:e,instance:b,options:i});m.push(r||function(){})}})),b.update()},forceUpdate:function(){if(!_){var t=p.elements,e=t.reference,n=t.popper;if(f(e,n)){p.rects={reference:(0,i.Z)(e,(0,o.Z)(n),"fixed"===p.options.strategy),popper:(0,s.Z)(n)},p.reset=!1,p.placement=p.options.placement,p.orderedModifiers.forEach((function(t){return p.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<p.orderedModifiers.length;r++)if(!0!==p.reset){var a=p.orderedModifiers[r],l=a.fn,c=a.options,u=void 0===c?{}:c,d=a.name;"function"==typeof l&&(p=l({state:p,options:u,name:d,instance:b})||p)}else p.reset=!1,r=-1}}},update:(0,l.Z)((function(){return new Promise((function(t){b.forceUpdate(),t(p)}))})),destroy:function(){v(),_=!0}};if(!f(t,e))return b;function v(){m.forEach((function(t){return t()})),m=[]}return b.setOptions(n).then((function(t){!_&&n.onFirstUpdate&&n.onFirstUpdate(t)})),b}}var p=h()},4985:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(2556);function s(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&(0,i.Zq)(n)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}},400:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(2556),s=n(138),r=n(2057),o=n(7977);function a(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var a=t.getBoundingClientRect(),l=1,c=1;e&&(0,i.Re)(t)&&(l=t.offsetWidth>0&&(0,s.NM)(a.width)/t.offsetWidth||1,c=t.offsetHeight>0&&(0,s.NM)(a.height)/t.offsetHeight||1);var u=((0,i.kK)(t)?(0,r.Z)(t):window).visualViewport,d=!(0,o.Z)()&&n,f=(a.left+(d&&u?u.offsetLeft:0))/l,h=(a.top+(d&&u?u.offsetTop:0))/c,p=a.width/l,g=a.height/c;return{width:p,height:g,top:h,right:f+p,bottom:h+g,left:f,x:f,y:h}}},1437:(t,e,n)=>{"use strict";n.d(e,{Z:()=>b});var i=n(7701),s=n(3155),r=n(7723),o=n(7994),a=n(1955),l=n(7252),c=n(3062),u=n(2556),d=n(400),f=n(5923),h=n(4985),p=n(6333),g=n(5626),m=n(138);function _(t,e,n){return e===i.Pj?(0,g.Z)((0,s.Z)(t,n)):(0,u.kK)(e)?function(t,e){var n=(0,d.Z)(t,!1,"fixed"===e);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}(e,n):(0,g.Z)((0,r.Z)((0,l.Z)(t)))}function b(t,e,n,i){var s="clippingParents"===e?function(t){var e=(0,o.Z)((0,f.Z)(t)),n=["absolute","fixed"].indexOf((0,c.Z)(t).position)>=0&&(0,u.Re)(t)?(0,a.Z)(t):t;return(0,u.kK)(n)?e.filter((function(t){return(0,u.kK)(t)&&(0,h.Z)(t,n)&&"body"!==(0,p.Z)(t)})):[]}(t):[].concat(e),r=[].concat(s,[n]),l=r[0],d=r.reduce((function(e,n){var s=_(t,n,i);return e.top=(0,m.Fp)(s.top,e.top),e.right=(0,m.VV)(s.right,e.right),e.bottom=(0,m.VV)(s.bottom,e.bottom),e.left=(0,m.Fp)(s.left,e.left),e}),_(t,l,i));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}},6143:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(400),s=n(4782),r=n(6333),o=n(2556),a=n(4063),l=n(7252),c=n(611),u=n(138);function d(t,e,n){void 0===n&&(n=!1);var d=(0,o.Re)(e),f=(0,o.Re)(e)&&function(t){var e=t.getBoundingClientRect(),n=(0,u.NM)(e.width)/t.offsetWidth||1,i=(0,u.NM)(e.height)/t.offsetHeight||1;return 1!==n||1!==i}(e),h=(0,l.Z)(e),p=(0,i.Z)(t,f,n),g={scrollLeft:0,scrollTop:0},m={x:0,y:0};return(d||!d&&!n)&&(("body"!==(0,r.Z)(e)||(0,c.Z)(h))&&(g=(0,s.Z)(e)),(0,o.Re)(e)?((m=(0,i.Z)(e,!0)).x+=e.clientLeft,m.y+=e.clientTop):h&&(m.x=(0,a.Z)(h))),{x:p.left+g.scrollLeft-m.x,y:p.top+g.scrollTop-m.y,width:p.width,height:p.height}}},3062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(2057);function s(t){return(0,i.Z)(t).getComputedStyle(t)}},7252:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(2556);function s(t){return(((0,i.kK)(t)?t.ownerDocument:t.document)||window.document).documentElement}},7723:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(7252),s=n(3062),r=n(4063),o=n(2163),a=n(138);function l(t){var e,n=(0,i.Z)(t),l=(0,o.Z)(t),c=null==(e=t.ownerDocument)?void 0:e.body,u=(0,a.Fp)(n.scrollWidth,n.clientWidth,c?c.scrollWidth:0,c?c.clientWidth:0),d=(0,a.Fp)(n.scrollHeight,n.clientHeight,c?c.scrollHeight:0,c?c.clientHeight:0),f=-l.scrollLeft+(0,r.Z)(t),h=-l.scrollTop;return"rtl"===(0,s.Z)(c||n).direction&&(f+=(0,a.Fp)(n.clientWidth,c?c.clientWidth:0)-u),{width:u,height:d,x:f,y:h}}},8328:(t,e,n)=>{"use strict";function i(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}n.d(e,{Z:()=>i})},583:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(400);function s(t){var e=(0,i.Z)(t),n=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:s}}},6333:(t,e,n)=>{"use strict";function i(t){return t?(t.nodeName||"").toLowerCase():null}n.d(e,{Z:()=>i})},4782:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(2163),s=n(2057),r=n(2556),o=n(8328);function a(t){return t!==(0,s.Z)(t)&&(0,r.Re)(t)?(0,o.Z)(t):(0,i.Z)(t)}},1955:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(2057),s=n(6333),r=n(3062),o=n(2556),a=n(7313),l=n(5923),c=n(5918);function u(t){return(0,o.Re)(t)&&"fixed"!==(0,r.Z)(t).position?t.offsetParent:null}function d(t){for(var e=(0,i.Z)(t),n=u(t);n&&(0,a.Z)(n)&&"static"===(0,r.Z)(n).position;)n=u(n);return n&&("html"===(0,s.Z)(n)||"body"===(0,s.Z)(n)&&"static"===(0,r.Z)(n).position)?e:n||function(t){var e=/firefox/i.test((0,c.Z)());if(/Trident/i.test((0,c.Z)())&&(0,o.Re)(t)&&"fixed"===(0,r.Z)(t).position)return null;var n=(0,l.Z)(t);for((0,o.Zq)(n)&&(n=n.host);(0,o.Re)(n)&&["html","body"].indexOf((0,s.Z)(n))<0;){var i=(0,r.Z)(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}},5923:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(6333),s=n(7252),r=n(2556);function o(t){return"html"===(0,i.Z)(t)?t:t.assignedSlot||t.parentNode||((0,r.Zq)(t)?t.host:null)||(0,s.Z)(t)}},7523:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(5923),s=n(611),r=n(6333),o=n(2556);function a(t){return["html","body","#document"].indexOf((0,r.Z)(t))>=0?t.ownerDocument.body:(0,o.Re)(t)&&(0,s.Z)(t)?t:a((0,i.Z)(t))}},3155:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(2057),s=n(7252),r=n(4063),o=n(7977);function a(t,e){var n=(0,i.Z)(t),a=(0,s.Z)(t),l=n.visualViewport,c=a.clientWidth,u=a.clientHeight,d=0,f=0;if(l){c=l.width,u=l.height;var h=(0,o.Z)();(h||!h&&"fixed"===e)&&(d=l.offsetLeft,f=l.offsetTop)}return{width:c,height:u,x:d+(0,r.Z)(t),y:f}}},2057:(t,e,n)=>{"use strict";function i(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}n.d(e,{Z:()=>i})},2163:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(2057);function s(t){var e=(0,i.Z)(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}},4063:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(400),s=n(7252),r=n(2163);function o(t){return(0,i.Z)((0,s.Z)(t)).left+(0,r.Z)(t).scrollLeft}},2556:(t,e,n)=>{"use strict";n.d(e,{Re:()=>r,Zq:()=>o,kK:()=>s});var i=n(2057);function s(t){return t instanceof(0,i.Z)(t).Element||t instanceof Element}function r(t){return t instanceof(0,i.Z)(t).HTMLElement||t instanceof HTMLElement}function o(t){return"undefined"!=typeof ShadowRoot&&(t instanceof(0,i.Z)(t).ShadowRoot||t instanceof ShadowRoot)}},7977:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(5918);function s(){return!/^((?!chrome|android).)*safari/i.test((0,i.Z)())}},611:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3062);function s(t){var e=(0,i.Z)(t),n=e.overflow,s=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+s)}},7313:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(6333);function s(t){return["table","td","th"].indexOf((0,i.Z)(t))>=0}},7994:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(7523),s=n(5923),r=n(2057),o=n(611);function a(t,e){var n;void 0===e&&(e=[]);var l=(0,i.Z)(t),c=l===(null==(n=t.ownerDocument)?void 0:n.body),u=(0,r.Z)(l),d=c?[u].concat(u.visualViewport||[],(0,o.Z)(l)?l:[]):l,f=e.concat(d);return c?f:f.concat(a((0,s.Z)(d)))}},7701:(t,e,n)=>{"use strict";n.d(e,{BL:()=>c,Ct:()=>m,DH:()=>w,F2:()=>r,I:()=>s,MS:()=>x,N7:()=>_,Pj:()=>f,XM:()=>y,YP:()=>p,bw:()=>g,cW:()=>Z,d7:()=>a,ij:()=>b,iv:()=>E,k5:()=>h,mv:()=>l,r5:()=>v,t$:()=>o,ut:()=>u,wX:()=>A,we:()=>i,xs:()=>O,zV:()=>d});var i="top",s="bottom",r="right",o="left",a="auto",l=[i,s,r,o],c="start",u="end",d="clippingParents",f="viewport",h="popper",p="reference",g=l.reduce((function(t,e){return t.concat([e+"-"+c,e+"-"+u])}),[]),m=[].concat(l,[a]).reduce((function(t,e){return t.concat([e,e+"-"+c,e+"-"+u])}),[]),_="beforeRead",b="read",v="afterRead",y="beforeMain",w="main",A="afterMain",E="beforeWrite",Z="write",x="afterWrite",O=[_,b,v,y,w,A,E,Z,x]},2861:(t,e,n)=>{"use strict";n.r(e),n.d(e,{afterMain:()=>i.wX,afterRead:()=>i.r5,afterWrite:()=>i.MS,applyStyles:()=>s.Zs,arrow:()=>s.x7,auto:()=>i.d7,basePlacements:()=>i.mv,beforeMain:()=>i.XM,beforeRead:()=>i.N7,beforeWrite:()=>i.iv,bottom:()=>i.I,clippingParents:()=>i.zV,computeStyles:()=>s.o,createPopper:()=>a.fi,createPopperBase:()=>r.fi,createPopperLite:()=>l.fi,detectOverflow:()=>o.Z,end:()=>i.ut,eventListeners:()=>s.JK,flip:()=>s.RR,hide:()=>s.Cp,left:()=>i.t$,main:()=>i.DH,modifierPhases:()=>i.xs,offset:()=>s.cv,placements:()=>i.Ct,popper:()=>i.k5,popperGenerator:()=>r.kZ,popperOffsets:()=>s.OC,preventOverflow:()=>s.Yj,read:()=>i.ij,reference:()=>i.YP,right:()=>i.F2,start:()=>i.BL,top:()=>i.we,variationPlacements:()=>i.bw,viewport:()=>i.Pj,write:()=>i.cW});var i=n(7701),s=n(9309),r=n(9188),o=n(3161),a=n(804),l=n(3151)},7824:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(6333),s=n(2556);const r={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];(0,s.Re)(o)&&(0,i.Z)(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});(0,s.Re)(r)&&(0,i.Z)(r)&&(Object.assign(r.style,a),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]}},6896:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(6206),s=n(583),r=n(4985),o=n(1955),a=n(1516),l=n(7516),c=n(3293),u=n(3706),d=n(7701);const f={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,f=t.options,h=n.elements.arrow,p=n.modifiersData.popperOffsets,g=(0,i.Z)(n.placement),m=(0,a.Z)(g),_=[d.t$,d.F2].indexOf(g)>=0?"height":"width";if(h&&p){var b=function(t,e){return t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t,(0,c.Z)("number"!=typeof t?t:(0,u.Z)(t,d.mv))}(f.padding,n),v=(0,s.Z)(h),y="y"===m?d.we:d.t$,w="y"===m?d.I:d.F2,A=n.rects.reference[_]+n.rects.reference[m]-p[m]-n.rects.popper[_],E=p[m]-n.rects.reference[m],Z=(0,o.Z)(h),x=Z?"y"===m?Z.clientHeight||0:Z.clientWidth||0:0,O=A/2-E/2,C=b[y],T=x-v[_]-b[w],k=x/2-v[_]/2+O,D=(0,l.u)(C,k,T),L=m;n.modifiersData[r]=((e={})[L]=D,e.centerOffset=D-k,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&(0,r.Z)(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]}},6531:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(7701),s=n(1955),r=n(2057),o=n(7252),a=n(3062),l=n(6206),c=n(4943),u=n(138),d={top:"auto",right:"auto",bottom:"auto",left:"auto"};function f(t){var e,n=t.popper,l=t.popperRect,c=t.placement,f=t.variation,h=t.offsets,p=t.position,g=t.gpuAcceleration,m=t.adaptive,_=t.roundOffsets,b=t.isFixed,v=h.x,y=void 0===v?0:v,w=h.y,A=void 0===w?0:w,E="function"==typeof _?_({x:y,y:A}):{x:y,y:A};y=E.x,A=E.y;var Z=h.hasOwnProperty("x"),x=h.hasOwnProperty("y"),O=i.t$,C=i.we,T=window;if(m){var k=(0,s.Z)(n),D="clientHeight",L="clientWidth";k===(0,r.Z)(n)&&(k=(0,o.Z)(n),"static"!==(0,a.Z)(k).position&&"absolute"===p&&(D="scrollHeight",L="scrollWidth")),(c===i.we||(c===i.t$||c===i.F2)&&f===i.ut)&&(C=i.I,A-=(b&&k===T&&T.visualViewport?T.visualViewport.height:k[D])-l.height,A*=g?1:-1),c!==i.t$&&(c!==i.we&&c!==i.I||f!==i.ut)||(O=i.F2,y-=(b&&k===T&&T.visualViewport?T.visualViewport.width:k[L])-l.width,y*=g?1:-1)}var j,P=Object.assign({position:p},m&&d),S=!0===_?function(t,e){var n=t.x,i=t.y,s=e.devicePixelRatio||1;return{x:(0,u.NM)(n*s)/s||0,y:(0,u.NM)(i*s)/s||0}}({x:y,y:A},(0,r.Z)(n)):{x:y,y:A};return y=S.x,A=S.y,g?Object.assign({},P,((j={})[C]=x?"0":"",j[O]=Z?"0":"",j.transform=(T.devicePixelRatio||1)<=1?"translate("+y+"px, "+A+"px)":"translate3d("+y+"px, "+A+"px, 0)",j)):Object.assign({},P,((e={})[C]=x?A+"px":"",e[O]=Z?y+"px":"",e.transform="",e))}const h={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=void 0===i||i,r=n.adaptive,o=void 0===r||r,a=n.roundOffsets,u=void 0===a||a,d={placement:(0,l.Z)(e.placement),variation:(0,c.Z)(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,f(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,f(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}}},2372:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2057),s={passive:!0};const r={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,a=void 0===o||o,l=r.resize,c=void 0===l||l,u=(0,i.Z)(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach((function(t){t.addEventListener("scroll",n.update,s)})),c&&u.addEventListener("resize",n.update,s),function(){a&&d.forEach((function(t){t.removeEventListener("scroll",n.update,s)})),c&&u.removeEventListener("resize",n.update,s)}},data:{}}},4927:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(697),s=n(6206),r=n(483),o=n(3161),a=n(6413),l=n(7701),c=n(4943);const u={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,u=t.name;if(!e.modifiersData[u]._skip){for(var d=n.mainAxis,f=void 0===d||d,h=n.altAxis,p=void 0===h||h,g=n.fallbackPlacements,m=n.padding,_=n.boundary,b=n.rootBoundary,v=n.altBoundary,y=n.flipVariations,w=void 0===y||y,A=n.allowedAutoPlacements,E=e.options.placement,Z=(0,s.Z)(E),x=g||(Z!==E&&w?function(t){if((0,s.Z)(t)===l.d7)return[];var e=(0,i.Z)(t);return[(0,r.Z)(t),e,(0,r.Z)(e)]}(E):[(0,i.Z)(E)]),O=[E].concat(x).reduce((function(t,n){return t.concat((0,s.Z)(n)===l.d7?(0,a.Z)(e,{placement:n,boundary:_,rootBoundary:b,padding:m,flipVariations:w,allowedAutoPlacements:A}):n)}),[]),C=e.rects.reference,T=e.rects.popper,k=new Map,D=!0,L=O[0],j=0;j<O.length;j++){var P=O[j],S=(0,s.Z)(P),N=(0,c.Z)(P)===l.BL,$=[l.we,l.I].indexOf(S)>=0,M=$?"width":"height",I=(0,o.Z)(e,{placement:P,boundary:_,rootBoundary:b,altBoundary:v,padding:m}),F=$?N?l.F2:l.t$:N?l.I:l.we;C[M]>T[M]&&(F=(0,i.Z)(F));var R=(0,i.Z)(F),H=[];if(f&&H.push(I[S]<=0),p&&H.push(I[F]<=0,I[R]<=0),H.every((function(t){return t}))){L=P,D=!1;break}k.set(P,H)}if(D)for(var B=function(t){var e=O.find((function(e){var n=k.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return L=e,"break"},W=w?3:1;W>0&&"break"!==B(W);W--);e.placement!==L&&(e.modifiersData[u]._skip=!0,e.placement=L,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}}},9892:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(7701),s=n(3161);function r(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function o(t){return[i.we,i.F2,i.I,i.t$].some((function(e){return t[e]>=0}))}const a={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,c=(0,s.Z)(e,{elementContext:"reference"}),u=(0,s.Z)(e,{altBoundary:!0}),d=r(c,i),f=r(u,a,l),h=o(d),p=o(f);e.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}}},9309:(t,e,n)=>{"use strict";n.d(e,{Cp:()=>l.Z,JK:()=>o.Z,OC:()=>u.Z,RR:()=>a.Z,Yj:()=>d.Z,Zs:()=>i.Z,cv:()=>c.Z,o:()=>r.Z,x7:()=>s.Z});var i=n(7824),s=n(6896),r=n(6531),o=n(2372),a=n(4927),l=n(9892),c=n(2122),u=n(7421),d=n(5219)},2122:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(6206),s=n(7701);const r={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,a=void 0===o?[0,0]:o,l=s.Ct.reduce((function(t,n){return t[n]=function(t,e,n){var r=(0,i.Z)(t),o=[s.t$,s.we].indexOf(r)>=0?-1:1,a="function"==typeof n?n(Object.assign({},e,{placement:t})):n,l=a[0],c=a[1];return l=l||0,c=(c||0)*o,[s.t$,s.F2].indexOf(r)>=0?{x:c,y:l}:{x:l,y:c}}(n,e.rects,a),t}),{}),c=l[e.placement],u=c.x,d=c.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=d),e.modifiersData[r]=l}}},7421:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(2581);const s={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=(0,i.Z)({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}}},5219:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(7701),s=n(6206),r=n(1516),o=n(3967),a=n(7516),l=n(583),c=n(1955),u=n(3161),d=n(4943),f=n(3607),h=n(138);const p={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,p=t.name,g=n.mainAxis,m=void 0===g||g,_=n.altAxis,b=void 0!==_&&_,v=n.boundary,y=n.rootBoundary,w=n.altBoundary,A=n.padding,E=n.tether,Z=void 0===E||E,x=n.tetherOffset,O=void 0===x?0:x,C=(0,u.Z)(e,{boundary:v,rootBoundary:y,padding:A,altBoundary:w}),T=(0,s.Z)(e.placement),k=(0,d.Z)(e.placement),D=!k,L=(0,r.Z)(T),j=(0,o.Z)(L),P=e.modifiersData.popperOffsets,S=e.rects.reference,N=e.rects.popper,$="function"==typeof O?O(Object.assign({},e.rects,{placement:e.placement})):O,M="number"==typeof $?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(P){if(m){var R,H="y"===L?i.we:i.t$,B="y"===L?i.I:i.F2,W="y"===L?"height":"width",V=P[L],z=V+C[H],q=V-C[B],K=Z?-N[W]/2:0,Q=k===i.BL?S[W]:N[W],Y=k===i.BL?-N[W]:-S[W],U=e.elements.arrow,J=Z&&U?(0,l.Z)(U):{width:0,height:0},X=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:(0,f.Z)(),G=X[H],tt=X[B],et=(0,a.u)(0,S[W],J[W]),nt=D?S[W]/2-K-et-G-M.mainAxis:Q-et-G-M.mainAxis,it=D?-S[W]/2+K+et+tt+M.mainAxis:Y+et+tt+M.mainAxis,st=e.elements.arrow&&(0,c.Z)(e.elements.arrow),rt=st?"y"===L?st.clientTop||0:st.clientLeft||0:0,ot=null!=(R=null==I?void 0:I[L])?R:0,at=V+nt-ot-rt,lt=V+it-ot,ct=(0,a.u)(Z?(0,h.VV)(z,at):z,V,Z?(0,h.Fp)(q,lt):q);P[L]=ct,F[L]=ct-V}if(b){var ut,dt="x"===L?i.we:i.t$,ft="x"===L?i.I:i.F2,ht=P[j],pt="y"===j?"height":"width",gt=ht+C[dt],mt=ht-C[ft],_t=-1!==[i.we,i.t$].indexOf(T),bt=null!=(ut=null==I?void 0:I[j])?ut:0,vt=_t?gt:ht-S[pt]-N[pt]-bt+M.altAxis,yt=_t?ht+S[pt]+N[pt]-bt-M.altAxis:mt,wt=Z&&_t?(0,a.q)(vt,ht,yt):(0,a.u)(Z?vt:gt,ht,Z?yt:mt);P[j]=wt,F[j]=wt-ht}e.modifiersData[p]=F}},requiresIfExists:["offset"]}},3151:(t,e,n)=>{"use strict";n.d(e,{fi:()=>c});var i=n(9188),s=n(2372),r=n(7421),o=n(6531),a=n(7824),l=[s.Z,r.Z,o.Z,a.Z],c=(0,i.kZ)({defaultModifiers:l})},804:(t,e,n)=>{"use strict";n.d(e,{fi:()=>p});var i=n(9188),s=n(2372),r=n(7421),o=n(6531),a=n(7824),l=n(2122),c=n(4927),u=n(5219),d=n(6896),f=n(9892),h=[s.Z,r.Z,o.Z,a.Z,l.Z,c.Z,u.Z,d.Z,f.Z],p=(0,i.kZ)({defaultModifiers:h})},6413:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(4943),s=n(7701),r=n(3161),o=n(6206);function a(t,e){void 0===e&&(e={});var n=e,a=n.placement,l=n.boundary,c=n.rootBoundary,u=n.padding,d=n.flipVariations,f=n.allowedAutoPlacements,h=void 0===f?s.Ct:f,p=(0,i.Z)(a),g=p?d?s.bw:s.bw.filter((function(t){return(0,i.Z)(t)===p})):s.mv,m=g.filter((function(t){return h.indexOf(t)>=0}));0===m.length&&(m=g);var _=m.reduce((function(e,n){return e[n]=(0,r.Z)(t,{placement:n,boundary:l,rootBoundary:c,padding:u})[(0,o.Z)(n)],e}),{});return Object.keys(_).sort((function(t,e){return _[t]-_[e]}))}},2581:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(6206),s=n(4943),r=n(1516),o=n(7701);function a(t){var e,n=t.reference,a=t.element,l=t.placement,c=l?(0,i.Z)(l):null,u=l?(0,s.Z)(l):null,d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2;switch(c){case o.we:e={x:d,y:n.y-a.height};break;case o.I:e={x:d,y:n.y+n.height};break;case o.F2:e={x:n.x+n.width,y:f};break;case o.t$:e={x:n.x-a.width,y:f};break;default:e={x:n.x,y:n.y}}var h=c?(0,r.Z)(c):null;if(null!=h){var p="y"===h?"height":"width";switch(u){case o.BL:e[h]=e[h]-(n[p]/2-a[p]/2);break;case o.ut:e[h]=e[h]+(n[p]/2-a[p]/2)}}return e}},8293:(t,e,n)=>{"use strict";function i(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}n.d(e,{Z:()=>i})},3161:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var i=n(1437),s=n(7252),r=n(400),o=n(2581),a=n(5626),l=n(7701),c=n(2556),u=n(3293),d=n(3706);function f(t,e){void 0===e&&(e={});var n=e,f=n.placement,h=void 0===f?t.placement:f,p=n.strategy,g=void 0===p?t.strategy:p,m=n.boundary,_=void 0===m?l.zV:m,b=n.rootBoundary,v=void 0===b?l.Pj:b,y=n.elementContext,w=void 0===y?l.k5:y,A=n.altBoundary,E=void 0!==A&&A,Z=n.padding,x=void 0===Z?0:Z,O=(0,u.Z)("number"!=typeof x?x:(0,d.Z)(x,l.mv)),C=w===l.k5?l.YP:l.k5,T=t.rects.popper,k=t.elements[E?C:w],D=(0,i.Z)((0,c.kK)(k)?k:k.contextElement||(0,s.Z)(t.elements.popper),_,v,g),L=(0,r.Z)(t.elements.reference),j=(0,o.Z)({reference:L,element:T,strategy:"absolute",placement:h}),P=(0,a.Z)(Object.assign({},T,j)),S=w===l.k5?P:L,N={top:D.top-S.top+O.top,bottom:S.bottom-D.bottom+O.bottom,left:D.left-S.left+O.left,right:S.right-D.right+O.right},$=t.modifiersData.offset;if(w===l.k5&&$){var M=$[h];Object.keys(N).forEach((function(t){var e=[l.F2,l.I].indexOf(t)>=0?1:-1,n=[l.we,l.I].indexOf(t)>=0?"y":"x";N[t]+=M[n]*e}))}return N}},3706:(t,e,n)=>{"use strict";function i(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}n.d(e,{Z:()=>i})},3967:(t,e,n)=>{"use strict";function i(t){return"x"===t?"y":"x"}n.d(e,{Z:()=>i})},6206:(t,e,n)=>{"use strict";function i(t){return t.split("-")[0]}n.d(e,{Z:()=>i})},3607:(t,e,n)=>{"use strict";function i(){return{top:0,right:0,bottom:0,left:0}}n.d(e,{Z:()=>i})},1516:(t,e,n)=>{"use strict";function i(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}n.d(e,{Z:()=>i})},697:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i={left:"right",right:"left",bottom:"top",top:"bottom"};function s(t){return t.replace(/left|right|bottom|top/g,(function(t){return i[t]}))}},483:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i={start:"end",end:"start"};function s(t){return t.replace(/start|end/g,(function(t){return i[t]}))}},4943:(t,e,n)=>{"use strict";function i(t){return t.split("-")[1]}n.d(e,{Z:()=>i})},138:(t,e,n)=>{"use strict";n.d(e,{Fp:()=>i,NM:()=>r,VV:()=>s});var i=Math.max,s=Math.min,r=Math.round},3:(t,e,n)=>{"use strict";function i(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}n.d(e,{Z:()=>i})},3293:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3607);function s(t){return Object.assign({},(0,i.Z)(),t)}},380:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(7701);function s(t){var e=new Map,n=new Set,i=[];function s(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&s(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||s(t)})),i}function r(t){var e=s(t);return i.xs.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}},5626:(t,e,n)=>{"use strict";function i(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}n.d(e,{Z:()=>i})},5918:(t,e,n)=>{"use strict";function i(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}n.d(e,{Z:()=>i})},7516:(t,e,n)=>{"use strict";n.d(e,{q:()=>r,u:()=>s});var i=n(138);function s(t,e,n){return(0,i.Fp)(t,(0,i.VV)(e,n))}function r(t,e,n){var i=s(t,e,n);return i>n?n:i}},5511:function(t,e,n){t.exports=function(t,e,n,i){"use strict";const s=".bs.alert",r=`close${s}`,o=`closed${s}`;class a extends t{static get NAME(){return"alert"}close(){if(e.trigger(this._element,r).defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),e.trigger(this._element,o),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=a.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}return n.enableDismissTrigger(a,"close"),i.defineJQueryPlugin(a),a}(n(5695),n(9286),n(1127),n(4072))},5695:function(t,e,n){t.exports=function(t,e,n,i){"use strict";return class extends n{constructor(e,n){super(),(e=i.getElement(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),e.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,n=!0){i.executeAfterTransition(t,e,n)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(e){return t.get(i.getElement(e),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}}(n(493),n(9286),n(4705),n(4072))},9331:function(t,e,n){t.exports=function(t,e,n){"use strict";const i='[data-bs-toggle="button"]';class s extends t{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=s.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}return e.on(document,"click.bs.button.data-api",i,(t=>{t.preventDefault();const e=t.target.closest(i);s.getOrCreateInstance(e).toggle()})),n.defineJQueryPlugin(s),s}(n(5695),n(9286),n(4072))},3863:function(t,e,n){t.exports=function(t,e,n,i){"use strict";const s=".bs.collapse",r=`show${s}`,o=`shown${s}`,a=`hide${s}`,l=`hidden${s}`,c=`click${s}.data-api`,u="show",d="collapse",f="collapsing",h=`:scope .${d} .${d}`,p='[data-bs-toggle="collapse"]',g={parent:null,toggle:!0},m={parent:"(null|element)",toggle:"boolean"};class _ extends t{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=n.find(p);for(const t of i){const e=n.getSelectorFromElement(t),i=n.find(e).filter((t=>t===this._element));null!==e&&i.length&&this._triggerArray.push(t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return g}static get DefaultType(){return m}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>_.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(e.trigger(this._element,r).defaultPrevented)return;for(const e of t)e.hide();const n=this._getDimension();this._element.classList.remove(d),this._element.classList.add(f),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(f),this._element.classList.add(d,u),this._element.style[n]="",e.trigger(this._element,o)}),this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(e.trigger(this._element,a).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,i.reflow(this._element),this._element.classList.add(f),this._element.classList.remove(d,u);for(const t of this._triggerArray){const e=n.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(f),this._element.classList.add(d),e.trigger(this._element,l)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(u)}_configAfterMerge(t){return t.toggle=Boolean(t.toggle),t.parent=i.getElement(t.parent),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(p);for(const e of t){const t=n.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(t){const e=n.find(h,this._config.parent);return n.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=_.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}return e.on(document,c,p,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();for(const t of n.getMultipleElementsFromSelector(this))_.getOrCreateInstance(t,{toggle:!1}).toggle()})),i.defineJQueryPlugin(_),_}(n(5695),n(9286),n(8737),n(4072))},493:function(t){t.exports=function(){"use strict";const t=new Map;return{set(e,n,i){t.has(e)||t.set(e,new Map);const s=t.get(e);s.has(n)||0===s.size?s.set(n,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(e,n)=>t.has(e)&&t.get(e).get(n)||null,remove(e,n){if(!t.has(e))return;const i=t.get(e);i.delete(n),0===i.size&&t.delete(e)}}}()},9286:function(t,e,n){t.exports=function(t){"use strict";const e=/[^.]*(?=\..*)\.|.*/,n=/\..*/,i=/::\d+$/,s={};let r=1;const o={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function l(t,e){return e&&`${e}::${r++}`||t.uidEvent||r++}function c(t){const e=l(t);return t.uidEvent=e,s[e]=s[e]||{},s[e]}function u(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function d(t,e,n){const i="string"==typeof e,s=i?n:e||n;let r=g(t);return a.has(r)||(r=t),[i,s,r]}function f(t,n,i,s,r){if("string"!=typeof n||!t)return;let[a,f,h]=d(n,i,s);if(n in o){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};f=t(f)}const p=c(t),g=p[h]||(p[h]={}),b=u(g,f,a?i:null);if(b)return void(b.oneOff=b.oneOff&&r);const v=l(f,n.replace(e,"")),y=a?function(t,e,n){return function i(s){const r=t.querySelectorAll(e);for(let{target:o}=s;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return _(s,{delegateTarget:o}),i.oneOff&&m.off(t,s.type,e,n),n.apply(o,[s])}}(t,i,f):function(t,e){return function n(i){return _(i,{delegateTarget:t}),n.oneOff&&m.off(t,i.type,e),e.apply(t,[i])}}(t,f);y.delegationSelector=a?i:null,y.callable=f,y.oneOff=r,y.uidEvent=v,g[v]=y,t.addEventListener(h,y,a)}function h(t,e,n,i,s){const r=u(e[n],i,s);r&&(t.removeEventListener(n,r,Boolean(s)),delete e[n][r.uidEvent])}function p(t,e,n,i){const s=e[n]||{};for(const[r,o]of Object.entries(s))r.includes(i)&&h(t,e,n,o.callable,o.delegationSelector)}function g(t){return t=t.replace(n,""),o[t]||t}const m={on(t,e,n,i){f(t,e,n,i,!1)},one(t,e,n,i){f(t,e,n,i,!0)},off(t,e,n,s){if("string"!=typeof e||!t)return;const[r,o,a]=d(e,n,s),l=a!==e,u=c(t),f=u[a]||{},g=e.startsWith(".");if(void 0===o){if(g)for(const n of Object.keys(u))p(t,u,n,e.slice(1));for(const[n,s]of Object.entries(f)){const r=n.replace(i,"");l&&!e.includes(r)||h(t,u,a,s.callable,s.delegationSelector)}}else{if(!Object.keys(f).length)return;h(t,u,a,o,r?n:null)}},trigger(e,n,i){if("string"!=typeof n||!e)return null;const s=t.getjQuery();let r=null,o=!0,a=!0,l=!1;n!==g(n)&&s&&(r=s.Event(n,i),s(e).trigger(r),o=!r.isPropagationStopped(),a=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented());const c=_(new Event(n,{bubbles:o,cancelable:!0}),i);return l&&c.preventDefault(),a&&e.dispatchEvent(c),c.defaultPrevented&&r&&r.preventDefault(),c}};function _(t,e={}){for(const[n,i]of Object.entries(e))try{t[n]=i}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>i})}return t}return m}(n(4072))},3175:function(t){t.exports=function(){"use strict";function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}return{setDataAttribute(t,n,i){t.setAttribute(`data-bs-${e(n)}`,i)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${e(n)}`)},getDataAttributes(e){if(!e)return{};const n={},i=Object.keys(e.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const s of i){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),n[i]=t(e.dataset[s])}return n},getDataAttribute:(n,i)=>t(n.getAttribute(`data-bs-${e(i)}`))}}()},8737:function(t,e,n){t.exports=function(t){"use strict";const e=e=>{let n=e.getAttribute("data-bs-target");if(!n||"#"===n){let i=e.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),n=i&&"#"!==i?t.parseSelector(i.trim()):null}return n},n={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode.closest(e);for(;i;)n.push(i),i=i.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(n,e).filter((e=>!t.isDisabled(e)&&t.isVisible(e)))},getSelectorFromElement(t){const i=e(t);return i&&n.findOne(i)?i:null},getElementFromSelector(t){const i=e(t);return i?n.findOne(i):null},getMultipleElementsFromSelector(t){const i=e(t);return i?n.find(i):[]}};return n}(n(4072))},9872:function(t,e,n){t.exports=function(t,e,n,i,s,r){"use strict";function o(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const n in t)if("default"!==n){const i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const a=o(t),l="dropdown",c=".bs.dropdown",u=".data-api",d="ArrowUp",f="ArrowDown",h=`hide${c}`,p=`hidden${c}`,g=`show${c}`,m=`shown${c}`,_=`click${c}${u}`,b=`keydown${c}${u}`,v=`keyup${c}${u}`,y="show",w='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',A=`${w}.${y}`,E=".dropdown-menu",Z=r.isRTL()?"top-end":"top-start",x=r.isRTL()?"top-start":"top-end",O=r.isRTL()?"bottom-end":"bottom-start",C=r.isRTL()?"bottom-start":"bottom-end",T=r.isRTL()?"left-start":"right-start",k=r.isRTL()?"right-start":"left-start",D={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},L={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class j extends e{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=s.next(this._element,E)[0]||s.prev(this._element,E)[0]||s.findOne(E,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return D}static get DefaultType(){return L}static get NAME(){return l}toggle(){return this._isShown()?this.hide():this.show()}show(){if(r.isDisabled(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!n.trigger(this._element,g,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))n.on(t,"mouseover",r.noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(y),this._element.classList.add(y),n.trigger(this._element,m,t)}}hide(){if(r.isDisabled(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!n.trigger(this._element,h,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.off(t,"mouseover",r.noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(y),this._element.classList.remove(y),this._element.setAttribute("aria-expanded","false"),i.removeDataAttribute(this._menu,"popper"),n.trigger(this._element,p,t)}}_getConfig(t){if("object"==typeof(t=super._getConfig(t)).reference&&!r.isElement(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${l.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(void 0===a)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:r.isElement(this._config.reference)?t=r.getElement(this._config.reference):"object"==typeof this._config.reference&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=a.createPopper(t,this._menu,e)}_isShown(){return this._menu.classList.contains(y)}_getPlacement(){const t=this._parent;if(t.classList.contains("dropend"))return T;if(t.classList.contains("dropstart"))return k;if(t.classList.contains("dropup-center"))return"top";if(t.classList.contains("dropdown-center"))return"bottom";const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?x:Z:e?C:O}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(i.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...r.execute(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:e}){const n=s.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((t=>r.isVisible(t)));n.length&&r.getNextActiveElement(n,e,t===f,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=j.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(2===t.button||"keyup"===t.type&&"Tab"!==t.key)return;const e=s.find(A);for(const n of e){const e=j.getInstance(n);if(!e||!1===e._config.autoClose)continue;const i=t.composedPath(),s=i.includes(e._menu);if(i.includes(e._element)||"inside"===e._config.autoClose&&!s||"outside"===e._config.autoClose&&s)continue;if(e._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const r={relatedTarget:e._element};"click"===t.type&&(r.clickEvent=t),e._completeHide(r)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),n="Escape"===t.key,i=[d,f].includes(t.key);if(!i&&!n)return;if(e&&!n)return;t.preventDefault();const r=this.matches(w)?this:s.prev(this,w)[0]||s.next(this,w)[0]||s.findOne(w,t.delegateTarget.parentNode),o=j.getOrCreateInstance(r);if(i)return t.stopPropagation(),o.show(),void o._selectMenuItem(t);o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}return n.on(document,b,w,j.dataApiKeydownHandler),n.on(document,b,E,j.dataApiKeydownHandler),n.on(document,_,j.clearMenus),n.on(document,v,j.clearMenus),n.on(document,_,w,(function(t){t.preventDefault(),j.getOrCreateInstance(this).toggle()})),r.defineJQueryPlugin(j),j}(n(2861),n(5695),n(9286),n(3175),n(8737),n(4072))},7424:function(t,e,n){t.exports=function(t,e,n,i,s,r,o,a){"use strict";const l=".bs.modal",c=`hide${l}`,u=`hidePrevented${l}`,d=`hidden${l}`,f=`show${l}`,h=`shown${l}`,p=`resize${l}`,g=`click.dismiss${l}`,m=`mousedown.dismiss${l}`,_=`keydown.dismiss${l}`,b=`click${l}.data-api`,v="modal-open",y="show",w="modal-static",A={backdrop:!0,focus:!0,keyboard:!0},E={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Z extends t{constructor(t,e){super(t,e),this._dialog=n.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new a,this._addEventListeners()}static get Default(){return A}static get DefaultType(){return E}static get NAME(){return"modal"}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||e.trigger(this._element,f,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(v),this._adjustDialog(),this._backdrop.show((()=>this._showElement(t))))}hide(){this._isShown&&!this._isTransitioning&&(e.trigger(this._element,c).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(y),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){e.off(window,l),e.off(this._dialog,l),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new i({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new r({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=n.findOne(".modal-body",this._dialog);i&&(i.scrollTop=0),o.reflow(this._element),this._element.classList.add(y);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,e.trigger(this._element,h,{relatedTarget:t})}),this._dialog,this._isAnimated())}_addEventListeners(){e.on(this._element,_,(t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),e.on(window,p,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),e.on(this._element,m,(t=>{e.one(this._element,g,(e=>{this._element===t.target&&this._element===e.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(v),this._resetAdjustments(),this._scrollBar.reset(),e.trigger(this._element,d)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(e.trigger(this._element,u).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;"hidden"===n||this._element.classList.contains(w)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(w),this._queueCallback((()=>{this._element.classList.remove(w),this._queueCallback((()=>{this._element.style.overflowY=n}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;if(n&&!t){const t=o.isRTL()?"paddingLeft":"paddingRight";this._element.style[t]=`${e}px`}if(!n&&t){const t=o.isRTL()?"paddingRight":"paddingLeft";this._element.style[t]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=Z.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}return e.on(document,b,'[data-bs-toggle="modal"]',(function(t){const i=n.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),e.one(i,f,(t=>{t.defaultPrevented||e.one(i,d,(()=>{o.isVisible(this)&&this.focus()}))}));const s=n.findOne(".modal.show");s&&Z.getInstance(s).hide(),Z.getOrCreateInstance(i).toggle(this)})),s.enableDismissTrigger(Z),o.defineJQueryPlugin(Z),Z}(n(5695),n(9286),n(8737),n(1358),n(1127),n(744),n(4072),n(1810))},6101:function(t,e,n){t.exports=function(t,e){"use strict";const n={...t.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},i={...t.DefaultType,content:"(null|string|element|function)"};class s extends t{static get Default(){return n}static get DefaultType(){return i}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each((function(){const e=s.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return e.defineJQueryPlugin(s),s}(n(3824),n(4072))},8471:function(t,e,n){t.exports=function(t,e,n,i){"use strict";const s=".bs.tab",r=`hide${s}`,o=`hidden${s}`,a=`show${s}`,l=`shown${s}`,c=`click${s}`,u=`keydown${s}`,d=`load${s}`,f="ArrowLeft",h="ArrowRight",p="ArrowUp",g="ArrowDown",m="Home",_="End",b="active",v="fade",y="show",w=".dropdown-toggle",A=`:not(${w})`,E='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Z=`.nav-link${A}, .list-group-item${A}, [role="tab"]${A}, ${E}`,x=`.${b}[data-bs-toggle="tab"], .${b}[data-bs-toggle="pill"], .${b}[data-bs-toggle="list"]`;class O extends t{constructor(t){super(t),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),e.on(this._element,u,(t=>this._keydown(t))))}static get NAME(){return"tab"}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),i=n?e.trigger(n,r,{relatedTarget:t}):null;e.trigger(t,a,{relatedTarget:n}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,i){if(!t)return;t.classList.add(b),this._activate(n.getElementFromSelector(t));this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),e.trigger(t,l,{relatedTarget:i})):t.classList.add(y)}),t,t.classList.contains(v))}_deactivate(t,i){if(!t)return;t.classList.remove(b),t.blur(),this._deactivate(n.getElementFromSelector(t));this._queueCallback((()=>{"tab"===t.getAttribute("role")?(t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),e.trigger(t,o,{relatedTarget:i})):t.classList.remove(y)}),t,t.classList.contains(v))}_keydown(t){if(![f,h,p,g,m,_].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter((t=>!i.isDisabled(t)));let n;if([m,_].includes(t.key))n=e[t.key===m?0:e.length-1];else{const s=[h,g].includes(t.key);n=i.getNextActiveElement(e,t.target,s,!0)}n&&(n.focus({preventScroll:!0}),O.getOrCreateInstance(n).show())}_getChildren(){return n.find(Z,this._parent)}_getActiveElem(){return this._getChildren().find((t=>this._elemIsActive(t)))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const t of e)this._setInitialAttributesOnChild(t)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),n=this._getOuterElement(t);t.setAttribute("aria-selected",e),n!==t&&this._setAttributeIfNotExists(n,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=n.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains("dropdown"))return;const s=(t,s)=>{const r=n.findOne(t,i);r&&r.classList.toggle(s,e)};s(w,b),s(".dropdown-menu",y),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,n){t.hasAttribute(e)||t.setAttribute(e,n)}_elemIsActive(t){return t.classList.contains(b)}_getInnerElement(t){return t.matches(Z)?t:n.findOne(Z,t)}_getOuterElement(t){return t.closest(".nav-item, .list-group-item")||t}static jQueryInterface(t){return this.each((function(){const e=O.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return e.on(document,c,E,(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),i.isDisabled(this)||O.getOrCreateInstance(this).show()})),e.on(window,d,(()=>{for(const t of n.find(x))O.getOrCreateInstance(t)})),i.defineJQueryPlugin(O),O}(n(5695),n(9286),n(8737),n(4072))},3824:function(t,e,n){t.exports=function(t,e,n,i,s,r,o){"use strict";function a(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t)for(const n in t)if("default"!==n){const i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>t[n]})}return e.default=t,Object.freeze(e)}const l=a(t),c=new Set(["sanitize","allowList","sanitizeFn"]),u="fade",d="show",f=".modal",h="hide.bs.modal",p="hover",g="focus",m={AUTO:"auto",TOP:"top",RIGHT:s.isRTL()?"left":"right",BOTTOM:"bottom",LEFT:s.isRTL()?"right":"left"},_={allowList:r.DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},b={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class v extends e{constructor(t,e){if(void 0===l)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return _}static get DefaultType(){return b}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),n.off(this._element.closest(f),h,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const t=n.trigger(this._element,this.constructor.eventName("show")),e=(s.findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!e)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),n.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(i),i.classList.add(d),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.on(t,"mouseover",s.noop);this._queueCallback((()=>{n.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(n.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(d),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.off(t,"mouseover",s.noop);this._activeTrigger.click=!1,this._activeTrigger[g]=!1,this._activeTrigger[p]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),n.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(u,d),e.classList.add(`bs-${this.constructor.NAME}-auto`);const n=s.getUID(this.constructor.NAME).toString();return e.setAttribute("id",n),this._isAnimated()&&e.classList.add(u),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new o({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(u)}_isShown(){return this.tip&&this.tip.classList.contains(d)}_createPopper(t){const e=s.execute(this._config.placement,[this,t,this._element]),n=m[e.toUpperCase()];return l.createPopper(this._element,t,this._getPopperConfig(n))}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return s.execute(t,[this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:t=>{this._getTipElement().setAttribute("data-popper-placement",t.state.placement)}}]};return{...e,...s.execute(this._config.popperConfig,[e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if("click"===e)n.on(this._element,this.constructor.eventName("click"),this._config.selector,(t=>{this._initializeOnDelegatedTarget(t).toggle()}));else if("manual"!==e){const t=e===p?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),i=e===p?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");n.on(this._element,t,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusin"===t.type?g:p]=!0,e._enter()})),n.on(this._element,i,this._config.selector,(t=>{const e=this._initializeOnDelegatedTarget(t);e._activeTrigger["focusout"===t.type?g:p]=e._element.contains(t.relatedTarget),e._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},n.on(this._element.closest(f),h,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=i.getDataAttributes(this._element);for(const t of Object.keys(e))c.has(t)&&delete e[t];return t={...e,..."object"==typeof t&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=!1===t.container?document.body:s.getElement(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,n]of Object.entries(this._config))this.constructor.Default[e]!==n&&(t[e]=n);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each((function(){const e=v.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}return s.defineJQueryPlugin(v),v}(n(2861),n(5695),n(9286),n(3175),n(4072),n(1551),n(968))},1358:function(t,e,n){t.exports=function(t,e,n){"use strict";const i="backdrop",s="show",r=`mousedown.bs.${i}`,o={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},a={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};return class extends e{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return o}static get DefaultType(){return a}static get NAME(){return i}show(t){if(!this._config.isVisible)return void n.execute(t);this._append();const e=this._getElement();this._config.isAnimated&&n.reflow(e),e.classList.add(s),this._emulateAnimation((()=>{n.execute(t)}))}hide(t){this._config.isVisible?(this._getElement().classList.remove(s),this._emulateAnimation((()=>{this.dispose(),n.execute(t)}))):n.execute(t)}dispose(){this._isAppended&&(t.off(this._element,r),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=n.getElement(t.rootElement),t}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),t.on(e,r,(()=>{n.execute(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(t){n.executeAfterTransition(t,this._getElement(),this._config.isAnimated)}}}(n(9286),n(4705),n(4072))},1127:function(t,e,n){!function(t,e,n,i){"use strict";t.enableDismissTrigger=(t,s="hide")=>{const r=`click.dismiss${t.EVENT_KEY}`,o=t.NAME;e.on(document,r,`[data-bs-dismiss="${o}"]`,(function(e){if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),i.isDisabled(this))return;const r=n.getElementFromSelector(this)||this.closest(`.${o}`);t.getOrCreateInstance(r)[s]()}))},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e,n(9286),n(8737),n(4072))},4705:function(t,e,n){t.exports=function(t,e){"use strict";return class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(n,i){const s=e.isElement(i)?t.getDataAttribute(i,"config"):{};return{...this.constructor.Default,..."object"==typeof s?s:{},...e.isElement(i)?t.getDataAttributes(i):{},..."object"==typeof n?n:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[i,s]of Object.entries(n)){const n=t[i],r=e.isElement(n)?"element":e.toType(n);if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${r}" but expected type "${s}".`)}}}}(n(3175),n(4072))},744:function(t,e,n){t.exports=function(t,e,n){"use strict";const i=".bs.focustrap",s=`focusin${i}`,r=`keydown.tab${i}`,o="backward",a={autofocus:!0,trapElement:null},l={autofocus:"boolean",trapElement:"element"};return class extends n{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return a}static get DefaultType(){return l}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),t.off(document,i),t.on(document,s,(t=>this._handleFocusin(t))),t.on(document,r,(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,t.off(document,i))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const i=e.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===o?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?o:"forward")}}}(n(9286),n(8737),n(4705))},4072:function(t,e){!function(t){"use strict";const e="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,((t,e)=>`#${CSS.escape(e)}`))),t),i=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),s=Number.parseFloat(n);return i||s?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0},s=t=>{t.dispatchEvent(new Event(e))},r=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),o=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?o(t.parentNode):null},a=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,l=[],c=t=>{"loading"===document.readyState?(l.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of l)t()})),l.push(t)):t()},u=(t,e=[],n=t)=>"function"==typeof t?t(...e):n;t.defineJQueryPlugin=t=>{c((()=>{const e=a();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}}))},t.execute=u,t.executeAfterTransition=(t,n,r=!0)=>{if(!r)return void u(t);const o=i(n)+5;let a=!1;const l=({target:i})=>{i===n&&(a=!0,n.removeEventListener(e,l),u(t))};n.addEventListener(e,l),setTimeout((()=>{a||s(n)}),o)},t.findShadowRoot=o,t.getElement=t=>r(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(n(t)):null,t.getNextActiveElement=(t,e,n,i)=>{const s=t.length;let r=t.indexOf(e);return-1===r?!n&&i?t[s-1]:t[0]:(r+=n?1:-1,i&&(r=(r+s)%s),t[Math.max(0,Math.min(r,s-1))])},t.getTransitionDurationFromElement=i,t.getUID=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},t.getjQuery=a,t.isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),t.isElement=r,t.isRTL=()=>"rtl"===document.documentElement.dir,t.isVisible=t=>{if(!r(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},t.noop=()=>{},t.onDOMContentLoaded=c,t.parseSelector=n,t.reflow=t=>{t.offsetHeight},t.toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),t.triggerTransitionEnd=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)},1551:function(t,e){!function(t){"use strict";const e=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),n=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,i=(t,i)=>{const s=t.nodeName.toLowerCase();return i.includes(s)?!e.has(s)||Boolean(n.test(t.nodeValue)):i.filter((t=>t instanceof RegExp)).some((t=>t.test(s)))};t.DefaultAllowlist={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},t.sanitizeHtml=function(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const s=(new window.DOMParser).parseFromString(t,"text/html"),r=[].concat(...s.body.querySelectorAll("*"));for(const t of r){const n=t.nodeName.toLowerCase();if(!Object.keys(e).includes(n)){t.remove();continue}const s=[].concat(...t.attributes),r=[].concat(e["*"]||[],e[n]||[]);for(const e of s)i(e,r)||t.removeAttribute(e.nodeName)}return s.body.innerHTML},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}(e)},1810:function(t,e,n){t.exports=function(t,e,n){"use strict";const i=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",s=".sticky-top",r="padding-right",o="margin-right";return class{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,r,(e=>e+t)),this._setElementAttributes(i,r,(e=>e+t)),this._setElementAttributes(s,o,(e=>e-t))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,r),this._resetElementAttributes(i,r),this._resetElementAttributes(s,o)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const s=window.getComputedStyle(t).getPropertyValue(e);t.style.setProperty(e,`${n(Number.parseFloat(s))}px`)}))}_saveInitialAttribute(e,n){const i=e.style.getPropertyValue(n);i&&t.setDataAttribute(e,n,i)}_resetElementAttributes(e,n){this._applyManipulationCallback(e,(e=>{const i=t.getDataAttribute(e,n);null!==i?(t.removeDataAttribute(e,n),e.style.setProperty(n,i)):e.style.removeProperty(n)}))}_applyManipulationCallback(t,i){if(n.isElement(t))i(t);else for(const n of e.find(t,this._element))i(n)}}}(n(3175),n(8737),n(4072))},968:function(t,e,n){t.exports=function(t,e,n,i){"use strict";const s={allowList:n.DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},r={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},o={entry:"(string|element|function|null)",selector:"(string|element)"};return class extends e{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return s}static get DefaultType(){return r}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((t=>this._resolvePossibleFunction(t))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[e,n]of Object.entries(this._config.content))this._setContent(t,n,e);const e=t.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&e.classList.add(...n.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,n]of Object.entries(t))super._typeCheckConfig({selector:e,entry:n},o)}_setContent(e,n,s){const r=t.findOne(s,e);r&&((n=this._resolvePossibleFunction(n))?i.isElement(n)?this._putElementInTemplate(i.getElement(n),r):this._config.html?r.innerHTML=this._maybeSanitize(n):r.textContent=n:r.remove())}_maybeSanitize(t){return this._config.sanitize?n.sanitizeHtml(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return i.execute(t,[this])}_putElementInTemplate(t,e){if(this._config.html)return e.innerHTML="",void e.append(t);e.textContent=t.textContent}}}(n(8737),n(4705),n(1551),n(4072))}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";n(9331),n(3824),n(9872),n(6101),n(7424),n(5511),n(8471),n(3863)})()})();
/* End of File jssource/src/build/grp-bootstrap.min.js */

!function($){var Datepicker=function(element,options){this.element=$(element);this.rawFormat=options.format||this.element.data('date-format')||'mm/dd/yyyy';this.appendTo=options.appendTo;this.format=DPGlobal.parseFormat(this.rawFormat);this.possibleChars=DPGlobal.getPossibleDateChars(this.rawFormat);this.picker=$(DPGlobal.template).appendTo(this.appendTo?this.appendTo:"body").on({click:$.proxy(this.click,this),mousedown:$.proxy(this.mousedown,this)});this.isInput=this.element.is('input');this.component=this.element.is('.date')?this.element.find('.add-on'):false;if(this.isInput){this.element.on({focus:$.proxy(this.show,this),blur:$.proxy(this.hide,this),keyup:$.proxy(this.update,this),keydown:$.proxy(this.keydown,this),keypress:$.proxy(this.keypress,this),click:$.proxy(this.click,this)});if(this.element.parent().find('.add-on').length){this.element.parent().find('.add-on[data-icon=calendar]').on({click:$.proxy(this.focusShow,this)});}}else{if(this.component){this.component.on('click',$.proxy(this.show,this));}else{this.element.on('click',$.proxy(this.show,this));}}
this.minViewMode=options.minViewMode||this.element.data('date-minviewmode')||0;if(typeof this.minViewMode==='string'){switch(this.minViewMode){case'months':this.minViewMode=1;break;case'years':this.minViewMode=2;break;default:this.minViewMode=0;break;}}
this.viewMode=options.viewMode||this.element.data('date-viewmode')||0;if(typeof this.viewMode==='string'){switch(this.viewMode){case'months':this.viewMode=1;break;case'years':this.viewMode=2;break;default:this.viewMode=0;break;}}
this.startViewMode=this.viewMode;this.weekStart=options.weekStart||this.element.data('date-weekstart')||0;this.enableKeyboard=options.enableKeyboard||true;if(options.languageDictionary){this.languageDictionary(options.languageDictionary);}
this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.dates=options.languageDictionary||{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};this.fillDow();this.fillMonths();this.update();this.showMode();};Datepicker.prototype={constructor:Datepicker,languageDictionary:function(datesLangDict){var reqPropsIndx,requiredProperties=['days','daysShort','daysMin','months','monthsShort'];for(reqPropsIndx=0;reqPropsIndx<requiredProperties.length;reqPropsIndx++){if(typeof datesLangDict[requiredProperties[reqPropsIndx]]==='undefined'){return false;}}
this.dates=datesLangDict;return true;},getLanguageDictionary:function(){return this.dates;},focusShow:function(e){this.element[0].focus();},show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();$(window).on('resize',$.proxy(this.place,this));if(e){e.stopPropagation();e.preventDefault();}
if(!this.isInput){$(document).on('mousedown',$.proxy(this.hide,this));}
this.element.trigger({type:'show',date:this.date});this.hidden=false;},hide:function(){this.picker.hide();this.hidden=true;$(window).off('resize',this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){$(document).off('mousedown',this.hide);}else{if(!this.verifyDate(this.element.val())){this.element.trigger({type:'hide'});return;}}
this.setValue(this.element.val());this.element.trigger({type:'hide',date:this.date});},set:function(){var formated=DPGlobal.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find('input').prop('value',formated);}
this.element.data('date',formated);}else{this.element.prop('value',formated);}},setValue:function(newDate){if(typeof newDate==='string'){this.date=DPGlobal.parseDate(newDate,this.format).dateObject;}else{this.date=new Date(newDate);}
this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill();},place:function(){var offset=this.component?this.component.offset():this.element.offset();if(this.appendTo&&this.appendTo!="body"){offset.left=(this.element.offset().left-$(this.appendTo).offset().left)+$(this.appendTo).scrollLeft();offset.top=(this.element.offset().top-$(this.appendTo).offset().top)+$(this.appendTo).scrollTop();}
this.picker.css({top:offset.top+this.height,left:offset.left});const appendToElement=_.first(this.appendTo);const pickerElement=_.first(this.picker);if(_.isUndefined(appendToElement)||_.isUndefined(pickerElement)||!isHTMLElement(appendToElement)||!isHTMLElement(pickerElement)){return;}
const availableRightSpace=appendToElement.getBoundingClientRect().right-
pickerElement.getBoundingClientRect().right;if(availableRightSpace<0){offset.left=offset.left+availableRightSpace;this.picker.css({top:offset.top+this.height,left:offset.left});}},verifyDate:function(dateString){return DPGlobal.parseDate(dateString,this.format).inputDateStringWasValid;},verifyInput:function(dateInput){return this.possibleChars.toLowerCase().indexOf(dateInput)!==-1;},update:function(newDate){var dateInput=typeof newDate==='string'?newDate:(this.isInput?this.element.prop('value'):this.element.data('date'));this.date=DPGlobal.parseDate(dateInput,this.format).dateObject;try{this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill();}catch(e){}
return true;},fillDow:function(){var dowCnt=this.weekStart;var html='<tr>';while(dowCnt<this.weekStart+7){var daysMinShort="";if(!_.isEmpty(this.dates.daysMin)){daysMinShort=this.dates.daysMin[(dowCnt++)%7];}else{daysMinShort=this.dates.daysShort[(dowCnt++)%7];}
html+='<th class="dow">'+daysMinShort+'</th>';}
html+='</tr>';this.picker.find('.datepicker-days thead').append(html);},fillMonths:function(){var html='';var i=0;while(i<12){html+='<span class="month">'+this.dates.monthsShort[i++]+'</span>';}
this.picker.find('.datepicker-months td').append(html);},fill:function(){var d=new Date(this.viewDate),year=d.getFullYear(),month=d.getMonth(),currentDate=this.date.valueOf();this.picker.find('.datepicker-days th:eq(1)').text(this.dates.months[month]+' '+year);var prevMonth=new Date(year,month-1,28,0,0,0,0),day=DPGlobal.getDaysInMonth(prevMonth.getFullYear(),prevMonth.getMonth());prevMonth.setDate(day);prevMonth.setDate(day-(prevMonth.getDay()-this.weekStart+7)%7);var nextMonth=new Date(prevMonth);nextMonth.setDate(nextMonth.getDate()+42);nextMonth=nextMonth.valueOf();var html=[];var clsName,prevY,prevM;while(prevMonth.valueOf()<nextMonth){if(prevMonth.getDay()===this.weekStart){html.push('<tr>');}
clsName='';prevY=prevMonth.getFullYear();prevM=prevMonth.getMonth();if((prevM<month&&prevY===year)||prevY<year){clsName+=' old';}else if((prevM>month&&prevY===year)||prevY>year){clsName+=' new';}
if(prevMonth.valueOf()===currentDate){clsName+=' active';}
html.push('<td class="day'+clsName+'">'+prevMonth.getDate()+'</td>');if(prevMonth.getDay()===this.weekEnd){html.push('</tr>');}
prevMonth.setDate(prevMonth.getDate()+1);}
this.picker.find('.datepicker-days tbody').empty().append(html.join(''));var currentYear=this.date.getFullYear();var months=this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');if(currentYear===year){months.eq(this.date.getMonth()).addClass('active');}
html='';year=parseInt(year/10,10)*10;var yearCont=this.picker.find('.datepicker-years').find('th:eq(1)').text(year+'-'+(year+9)).end().find('td');year-=1;for(var i=-1;i<11;i++){html+='<span class="year'+(i===-1||i===10?' old':'')+(currentYear===year?' active':'')+'">'+year+'</span>';year+=1;}
yearCont.html(html);},keypress:function(e){function isFirefoxDeleteOrTabKey(){if(e.keyCode===46&&e.which===0||e.keyCode===9&&e.which===0){return true;}
return false;}
switch(e.keyCode){case 27:case 33:case 34:case 36:case 35:case 37:case 39:case 38:case 40:case 32:case 13:case 8:break;default:if(!isFirefoxDeleteOrTabKey()){var chr=String.fromCharCode(e.which);if(!this.verifyInput(chr)){e.preventDefault();}}
break;}},keydown:function(e){var self=this,sign,day,month,direction,newDate,newViewDate,dateChanged=false,element,isYearBasedMove,yearMultiplier;function _updateDate(type,sign,multiplier){multiplier=multiplier||1;if(type==='months'){newDate=DPGlobal.multiplyMonths(self.date,sign,(1*multiplier));newViewDate=DPGlobal.multiplyMonths(self.viewDate,sign,(1*multiplier));}else{newDate=new Date(self.date);newDate.setDate(self.date.getDate()+(sign*multiplier));newViewDate=new Date(self.viewDate);newViewDate.setDate(self.viewDate.getDate()+(sign*multiplier));}
dateChanged=true;}
switch(e.keyCode){case 27:this.hide();e.preventDefault();break;case 33:case 34:if(!this.enableKeyboard)break;direction=e.keyCode==33?-1:1;yearMultiplier=(e.shiftKey)?12:1;_updateDate('months',direction,yearMultiplier);break;case 36:case 35:if(!this.enableKeyboard)break;direction=e.keyCode==36?-1:1;isYearBasedMove=(e.shiftKey)?true:false;if(isYearBasedMove){if(direction<0){day=1;month=0;}else{day=31;month=11;}
newDate=new Date(self.date.getFullYear(),month,day,0,0,0);newViewDate=new Date(self.viewDate.getFullYear(),month,day,0,0,0);}else{day=(direction<0)?1:0;addmonth=(direction<0)?0:1;newDate=new Date(self.date.getFullYear(),(self.date.getMonth()+addmonth),day,0,0,0);newViewDate=new Date(self.viewDate.getFullYear(),(self.viewDate.getMonth()+addmonth),day,0,0,0);}
dateChanged=true;break;case 37:case 39:if(!this.enableKeyboard)break;direction=e.keyCode==37?-1:1;_updateDate('days',direction);break;case 38:case 40:if(!this.enableKeyboard)break;direction=e.keyCode==38?-1:1;_updateDate('days',direction,7);break;case 32:case 13:this.hide();e.preventDefault();break;default:break;}
if(dateChanged){this.date=newDate;this.viewDate=newViewDate;this.setValue(this.date);this.update(this.date);e.preventDefault();this.element.trigger({type:'changeDate',date:this.date});if(this.isInput){element=this.element;}else if(this.component){element=this.element.find('input');}
if(element){element.change();}}},click:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target).closest('span, td, th, input');if(target.length===1){switch(target[0].nodeName.toLowerCase()){case'input':if(this.hidden){this.show();}
break;case'th':switch(target[0].className){case'switch':this.showMode(1);break;case'prev':case'next':this.viewDate['set'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate['get'+DPGlobal.modes[this.viewMode].navFnc].call(this.viewDate)+
DPGlobal.modes[this.viewMode].navStep*(target[0].className==='prev'?-1:1));this.fill();this.set();break;}
break;case'span':if(target.is('.month')){var month=target.parent().find('span').index(target);this.viewDate.setMonth(month);}else{var year=parseInt(target.text(),10)||0;this.viewDate.setFullYear(year);}
if(this.viewMode!==0){this.date=new Date(this.viewDate);this.element.trigger({type:'changeDate',date:this.date,viewMode:DPGlobal.modes[this.viewMode].clsName});}
this.showMode(-1);this.fill();this.set();break;case'td':if(target.is('.day')){var day=parseInt(target.text(),10)||1;var month=this.viewDate.getMonth();if(target.is('.old')){month-=1;}else if(target.is('.new')){month+=1;}
var year=this.viewDate.getFullYear();this.date=new Date(year,month,day,0,0,0,0);this.viewDate=new Date(year,month,Math.min(28,day),0,0,0,0);this.fill();this.set();this.element.trigger({type:'changeDate',date:this.date,viewMode:DPGlobal.modes[this.viewMode].clsName});this.hide();}
break;}}},mousedown:function(e){e.stopPropagation();e.preventDefault();},showMode:function(dir){if(dir){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+dir));}
this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();}};$.fn.datepicker=function(option,val){return this.each(function(){var $this=$(this),data=$this.data('datepicker'),options=typeof option==='object'&&option;if(($this).hasClass('dropdown-menu')!==true){if(!data){$this.data('datepicker',(data=new Datepicker(this,$.extend({},$.fn.datepicker.defaults,options))));}
if(typeof option==='string')data[option](val);}});};$.fn.DateVerifier=function(dateString,format){var formatObject=DPGlobal.parseFormat(format);return DPGlobal.parseDate(dateString,formatObject).inputDateStringWasValid;};$.fn.datepicker.defaults={};$.fn.datepicker.Constructor=Datepicker;var DPGlobal={modes:[{clsName:'days',navFnc:'Month',navStep:1},{clsName:'months',navFnc:'FullYear',navStep:1},{clsName:'years',navFnc:'FullYear',navStep:10}],isLeapYear:function(year){return(((year%4===0)&&(year%100!==0))||(year%400===0));},multiplyMonths:function(d,sign,term){var originalDate=d.getDate(),newDate;term=term||1;d.setMonth(d.getMonth()+(sign*term));newDate=d.getDate();if(newDate<originalDate){d.setDate(1);d.setDate(d.getDate()-1);}
return d;},getDaysInMonth:function(year,month){return[31,(DPGlobal.isLeapYear(year)?29:28),31,30,31,30,31,31,30,31,30,31][month];},getPossibleDateChars:function(format){var i,len,chars;chars='0123456789';done:for(i=0,len=format.length;i<len;i++){switch(format.charAt(i)){case'/':case'.':case'-':chars+=format.charAt(i);break done;default:break;}}
return chars;},parseFormat:function(format){var separator=format.match(/[.\/\-\s].*?/),parts=format.split(/\W+/);if(!separator||!parts||parts.length===0){throw new Error("Invalid date format.");}
return{separator:separator,parts:parts};},parseDate:function(dateIn,format){var parts=dateIn.split(format.separator),date=new Date(),isLegalDate=true,val,i,cnt,originalDate,len,day,month,year,monthsSet=false,dayValue=null,isValid=true;isValid=dateIn.lastIndexOf(format.separator)!==-1;date.setHours(0);date.setMinutes(0);date.setSeconds(0);date.setMilliseconds(0);function _setDate(theDay){if(_isInRange(theDay,1,31)){date.setDate(theDay);if(date.getDate()<theDay){date.setDate(0);}}else{isValid=false;}}
function _isInRange(val,min,max){var value=parseInt(val,10);return(!isNaN(value)&&value>=min&&value<=max);}
function century(){return new Date().getFullYear().toString().substr(0,2);}
function twoDigitString(n){return n.toString().length===1?'0'+n:n.toString();}
if(parts.length===format.parts.length){for(i=0,cnt=format.parts.length;i<cnt;i++){if(!parts[i]){return false;}
val=parseInt(parts[i],10);switch(format.parts[i]){case'dd':case'd':day=val;if(!monthsSet){dayValue=val;}else{_setDate(val);}
break;case'mm':case'm':month=val-1;if(_isInRange(val,1,12)){originalDate=date.getDate();date.setMonth(val-1);if(date.getDate()<originalDate){date.setDate(0);}
if(dayValue){_setDate(dayValue);}
monthsSet=true;}else{isValid=false;}
break;case'yy':year=2000+val;len=val.toString().length;if(len===4&&century()===val.toString().substr(0,2)){date.setFullYear(century()+val.toString().substr(-2));}
else if(_isInRange(val,0,99)){date.setFullYear(century()+twoDigitString(val));}else{isValid=false;}
break;case'yyyy':year=val;len=val.toString().length;if(_isInRange(val,0,9999)){if(len<3){date.setFullYear(century()+twoDigitString(val));year=date.getFullYear();}
else if(len===3){isValid=false;}else{date.setFullYear(val);}}else{isValid=false;}
break;}}
if(isValid){date=new Date(year,month,day,0,0,0);}}else{isValid=false;}
return{'dateObject':date,'inputDateStringWasValid':isValid};},formatDate:function(date,format){var val={d:date.getDate(),m:date.getMonth()+1,yy:date.getFullYear().toString().substring(2),yyyy:date.getFullYear()};val.dd=(val.d<10?'0':'')+val.d;val.mm=(val.m<10?'0':'')+val.m;var date=[];for(var i=0,cnt=format.parts.length;i<cnt;i++){date.push(val[format.parts[i]]);}
return date.join(format.separator);},headTemplate:'<thead>'+'<tr>'+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+'</tr>'+'</thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};DPGlobal.template='<div class="datepicker dropdown-menu border-0 dark:border border-[--dropdown-border-widget]">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+
DPGlobal.headTemplate+'<tbody></tbody>'+'</table>'+'</div>'+'<div class="datepicker-months">'+'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+'</table>'+'</div>'+'<div class="datepicker-years">'+'<table class="table-condensed">'+
DPGlobal.headTemplate+
DPGlobal.contTemplate+'</table>'+'</div>'+'</div>';}(window.jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-datepicker.js */

!function($){var Color=function(val){this.value={h:1,s:1,b:1,a:1};this.setColor(val);};Color.prototype={constructor:Color,setColor:function(val){val=val.toLowerCase();var that=this;$.each(CPGlobal.stringParsers,function(i,parser){var match=parser.re.exec(val),values=match&&parser.parse(match),space=parser.space||'rgba';if(values){if(space=='hsla'){that.value=CPGlobal.RGBtoHSB.apply(null,CPGlobal.HSLtoRGB.apply(null,values));}else{that.value=CPGlobal.RGBtoHSB.apply(null,values);}
return false;}});},setHue:function(h){this.value.h=1-h;},setSaturation:function(s){this.value.s=s;},setLightness:function(b){this.value.b=1-b;},setAlpha:function(a){this.value.a=parseInt((1-a)*100,10)/100;},toRGB:function(h,s,b,a){if(!h){h=this.value.h;s=this.value.s;b=this.value.b;}
h*=360;var R,G,B,X,C;h=(h%360)/ 60;C=b*s;X=C*(1-Math.abs(h%2-1));R=G=B=b-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return{r:Math.round(R*255),g:Math.round(G*255),b:Math.round(B*255),a:a||this.value.a};},toHex:function(h,s,b,a){var rgb=this.toRGB(h,s,b,a);return'#'+((1<<24)|(parseInt(rgb.r)<<16)|(parseInt(rgb.g)<<8)|parseInt(rgb.b)).toString(16).substr(1);},toHSL:function(h,s,b,a){if(!h){h=this.value.h;s=this.value.s;b=this.value.b;}
var H=h,L=(2-s)*b,S=s*b;if(L>0&&L<=1){S /=L;}else{S /=2-L;}
L /=2;if(S>1){S=1;}
return{h:H,s:S,l:L,a:a||this.value.a};}};var Colorpicker=function(element,options){this.element=$(element);var format=options.format||this.element.data('color-format')||'hex';this.format=CPGlobal.translateFormats[format];this.isInput=this.element.is('input');this.component=this.element.is('.color')?this.element.find('.add-on'):false;this.picker=$(CPGlobal.template).appendTo('body').on('mousedown',$.proxy(this.mousedown,this));if(this.isInput){this.element.on({'focus':$.proxy(this.show,this),'keyup':$.proxy(this.update,this)});}else if(this.component){this.component.on({'click':$.proxy(this.show,this)});}else{this.element.on({'click':$.proxy(this.show,this)});}
if(format=='rgba'||format=='hsla'){this.picker.addClass('alpha');this.alpha=this.picker.find('.colorpicker-alpha')[0].style;}
if(this.component){this.picker.find('.colorpicker-color').hide();this.preview=this.element.find('i')[0].style;}else{this.preview=this.picker.find('div:last')[0].style;}
this.base=this.picker.find('div:first')[0].style;this.update();};Colorpicker.prototype={constructor:Colorpicker,show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();$(window).on('resize',$.proxy(this.place,this));if(!this.isInput){if(e){e.stopPropagation();e.preventDefault();}}
$(document).on({'mousedown':$.proxy(this.hide,this)});this.element.trigger({type:'show',color:this.color});},update:function(){this.color=new Color(this.isInput?this.element.prop('value'):this.element.data('color'));this.picker.find('i').eq(0).css({left:this.color.value.s*100,top:100-this.color.value.b*100}).end().eq(1).css('top',100*(1-this.color.value.h)).end().eq(2).css('top',100*(1-this.color.value.a));this.previewColor();},hide:function(){this.picker.hide();$(window).off('resize',this.place);if(!this.isInput){$(document).off({'mousedown':this.hide});if(this.component){this.element.find('input').prop('value',this.format.call(this));}
this.element.data('color',this.format.call(this));}else{this.element.prop('value',this.format.call(this));}
this.element.trigger({type:'hide',color:this.color});},place:function(){var offset=this.component?this.component.offset():this.element.offset();this.picker.css({top:offset.top+this.height,left:offset.left});},previewColor:function(){this.preview.backgroundColor=this.format.call(this);this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1);if(this.alpha){this.alpha.backgroundColor=this.color.toHex();}},pointer:null,slider:null,mousedown:function(e){e.stopPropagation();e.preventDefault();var target=$(e.target);var zone=target.closest('div');if(!zone.is('.colorpicker')){if(zone.is('.colorpicker-saturation')){this.slider=$.extend({},CPGlobal.sliders['saturation']);}
else if(zone.is('.colorpicker-hue')){this.slider=$.extend({},CPGlobal.sliders['hue']);}
else if(zone.is('.colorpicker-alpha')){this.slider=$.extend({},CPGlobal.sliders['alpha']);}
var offset=zone.offset();this.slider.knob=zone.find('i')[0].style;this.slider.left=e.pageX-offset.left;this.slider.top=e.pageY-offset.top;this.pointer={left:e.pageX,top:e.pageY};$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}).trigger('mousemove');}
return false;},mousemove:function(e){e.stopPropagation();e.preventDefault();var left=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((e.pageX||this.pointer.left)-this.pointer.left)));var top=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((e.pageY||this.pointer.top)-this.pointer.top)));this.slider.knob.left=left+'px';this.slider.knob.top=top+'px';if(this.slider.callLeft){this.color[this.slider.callLeft].call(this.color,left/100);}
if(this.slider.callTop){this.color[this.slider.callTop].call(this.color,top/100);}
this.previewColor();this.element.trigger({type:'changeColor',color:this.color});return false;},mouseup:function(e){e.stopPropagation();e.preventDefault();$(document).off({mousemove:this.mousemove,mouseup:this.mouseup});return false;}}
$.fn.colorpicker=function(option){return this.each(function(){var $this=$(this),data=$this.data('colorpicker'),options=typeof option=='object'&&option;if(!data){$this.data('colorpicker',(data=new Colorpicker(this,$.extend({},$.fn.colorpicker.defaults,options))));}
if(typeof option=='string')data[option]();});};$.fn.colorpicker.defaults={};$.fn.colorpicker.Constructor=Colorpicker;var CPGlobal={translateFormats:{'rgb':function(){var rgb=this.color.toRGB();return'rgb('+rgb.r+','+rgb.g+','+rgb.b+')';},'rgba':function(){var rgb=this.color.toRGB();return'rgba('+rgb.r+','+rgb.g+','+rgb.b+','+rgb.a+')';},'hsl':function(){var hsl=this.color.toHSL();return'hsl('+Math.round(hsl.h*360)+','+Math.round(hsl.s*100)+'%,'+Math.round(hsl.l*100)+'%)';},'hsla':function(){var hsl=this.color.toHSL();return'hsla('+Math.round(hsl.h*360)+','+Math.round(hsl.s*100)+'%,'+Math.round(hsl.l*100)+'%,'+hsl.a+')';},'hex':function(){return this.color.toHex();}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:'setSaturation',callTop:'setLightness'},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setHue'},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:'setAlpha'}},RGBtoHSB:function(r,g,b,a){r /=255;g /=255;b /=255;var H,S,V,C;V=Math.max(r,g,b);C=V-Math.min(r,g,b);H=(C==0?null:V==r?(g-b)/ C:V==g?(b-r)/ C+2:(r-g)/ C+4);H=((H+360)%6)*60 / 360;S=C==0?0:C / V;return{h:H||1,s:S,b:V,a:a||1};},HueToRGB:function(p,q,h){if(h<0)
h+=1;else if(h>1)
h-=1;if((h*6)<1)
return p+(q-p)*h*6;else if((h*2)<1)
return q;else if((h*3)<2)
return p+(q-p)*((2 / 3)-h)*6;else
return p;},HSLtoRGB:function(h,s,l,a){if(s<0)
s=0;if(l<=0.5)
var q=l*(1+s);else
var q=l+s-(l*s);var p=2*l-q;var tr=h+(1 / 3);var tg=h;var tb=h-(1 / 3);var r=Math.round(CPGlobal.HueToRGB(p,q,tr)*255);var g=Math.round(CPGlobal.HueToRGB(p,q,tg)*255);var b=Math.round(CPGlobal.HueToRGB(p,q,tb)*255);return[r,g,b,a||1];},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]];}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:'hsla',parse:function(execResult){return[execResult[1]/360,execResult[2]/ 100,execResult[3]/ 100,execResult[4]];}}],template:'<div class="colorpicker dropdown-menu">'+'<div class="colorpicker-saturation"><i><b></b></i></div>'+'<div class="colorpicker-hue"><i></i></div>'+'<div class="colorpicker-alpha"><i></i></div>'+'<div class="colorpicker-color"><div /></div>'+'</div>'};}(window.jQuery);
/* End of File include/javascript/twitterbootstrap/bootstrap-colorpicker.js */

(()=>{var n={2529:()=>{!function(){"use strict";var n=function(){return n=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},n.apply(this,arguments)},t="undefined"!=typeof window?window:Function("return this;")(),e=function(){var n,e=null!==(n=t&&t.jQuery)&&void 0!==n?n:null;if(null!=e)return e;throw new Error("Expected global jQuery")};const r=n=>t=>(n=>{const t=typeof n;return null===n?"null":"object"===t&&Array.isArray(n)?"array":"object"===t&&(e=r=n,(i=String).prototype.isPrototypeOf(e)||(null===(o=r.constructor)||void 0===o?void 0:o.name)===i.name)?"string":t;var e,r,i,o})(t)===n,i=r("string"),o=r("object"),u=r("array"),c=("function",n=>"function"==typeof n);const l=Object.keys,a=Object.hasOwnProperty,f="undefined"!=typeof window?window:Function("return this;")(),s=(n,t)=>((n,t)=>{let e=null!=t?t:f;for(let t=0;t<n.length&&null!=e;++t)e=e[n[t]];return e})(n.split("."),t),v=Object.getPrototypeOf,h=n=>{const t=s("ownerDocument.defaultView",n);return o(n)&&((n=>((n,t)=>{const e=((n,t)=>s(n,t))(n,t);if(null==e)throw new Error(n+" not available on this browser");return e})("HTMLElement",n))(t).prototype.isPrototypeOf(n)||/^HTML\w*Element$/.test(v(n).constructor.name))};var p,d=function(){var n;return null!==(n=t.tinymce)&&void 0!==n?n:null},y=function(){return!!d()},g=function(){var n=d();if(null!=n)return n;throw new Error("Expected global tinymce")},m=function(n){var t=null;return n&&n.id&&y()&&(t=g().get(n.id)),t},O=function(n,t,e){var r=m(n);return r?t(r):e?e(n):void 0};!function(n){n[n.NOT_LOADING=0]="NOT_LOADING",n[n.LOADING_STARTED=1]="LOADING_STARTED",n[n.LOADING_FINISHED=2]="LOADING_FINISHED"}(p||(p={}));var w,D=p.NOT_LOADING,_=[],I=function(n,t){n.each((function(e,r){return O(r,(function(e){return t(e,r,n)}))}))},N=function(n){return function(n,t){n.each((function(n,t){for(var e=0,r=g().get();e<r.length;e++){var i=r[e];if($.contains(t,i.getContentAreaContainer())&&!1===i.remove())return!1}}))}(n)},b=function(n){!function(n){I(n,(function(n){return n.remove()}))}(n),N(n)},A=function(n,t){var e=document.createElement("div");return n.apply($(e),t),e.innerHTML},E=function(n,t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o="prepend"===t;if(1===e.length&&c(e[0])){var u=e[0];i=function(t,e){return A(n,[u.call(t,0,e)])}}else{var l=e;i=(n=>{let t,e=!1;return(...r)=>(e||(e=!0,t=n.apply(null,r)),t)})((function(t,e){return A(n,l)}))}return this.each((function(t,r){return O(r,(function(n){var t=n.getContent(),e=i(r,t);n.setContent(o?e+t:t+e)}),(function(t){n.apply($(t),e)}))})),this}},C=function(t){var e,r;t.fn.html=(e=t.fn.html,function(n){return 0===arguments.length?this.length>=1?O(this[0],(function(n){return n.getContent()}),(function(n){return e.call($(n))})):void 0:(N(this),this.each((function(t,r){O(r,(function(o){var u=c(n)?n.call(r,t,o.getContent()):n,l=i(u)?u:function(){h(u)&&b($(u));var n=document.createElement("div");return e.call($(n),null!=u?u:""),n.innerHTML}();o.setContent(l)}),(function(i){if(c(n)){var o=e.call($(r)),u=n.call(r,t,o);e.call($(r),u)}else e.call($(i),null!=n?n:"")}))})),this)}),t.fn.text=function(n){return function(t){if(0===arguments.length){var e="";return this.each((function(t,r){e+=O(r,(function(n){return n.getContent({format:"text"})}),(function(t){return n.call($(t))}))})),e}return N(this),this.each((function(e,r){O(r,(function(n){var i=c(t)?t.call(r,e,n.getContent({format:"text"})):t,o=document.createElement("div");o.innerText="".concat(i),n.setContent(o.innerHTML)}),(function(i){if(c(t)){var o=n.call($(r)),u=t.call(r,e,o);n.call($(r),u)}else n.call($(i),null!=t?t:"")}))})),this}}(t.fn.text),t.fn.val=function(n){return function(t){return 0===arguments.length?this.length>=1?O(this[0],(function(n){return n.getContent()}),(function(t){return n.call($(t))})):void 0:(this.each((function(e,r){O(r,(function(n){var i=c(t)?t.call(r,e,n.getContent()):null!=t?t:"",o=u(i)?i.join(""):"".concat(i);n.setContent(o)}),(function(i){if(c(t)){var o=n.call($(r)),u=t.call(r,e,null!=o?o:"");n.call($(r),u)}else n.call($(i),null!=t?t:"")}))})),this)}}(t.fn.val),t.fn.append=E(t.fn.append,"append"),t.fn.prepend=E(t.fn.prepend,"prepend"),t.fn.remove=function(n){return function(t){return b(void 0!==t?this.filter(t):this),n.call(this,t)}}(t.fn.remove),t.fn.empty=function(n){return function(){return N(this),I(this,(function(n){n.setContent("")})),n.call(this)}}(t.fn.empty),t.fn.attr=(r=t.fn.attr,function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var u=function(n){void 0!==n&&(N(t),t.each((function(t,e){return O(e,(function(r){var i=c(n)?n.call(e,t,r.getContent()):n;void 0!==i&&r.setContent(null===i?"":"".concat(i))}),(function(e){if(c(n)){var i=r.call($(e),"value"),o=n.call(e,t,i);r.call($(e),"value",o)}else r.call($(e),"value",n)}))})))},f=e[0];if(i(f)){if("value"!==f)return r.apply(this,e);var s=e[1];return void 0!==s?(u(s),this):this.length>=1?O(this[0],(function(n){return n.getContent()}),(function(n){return r.call(t,"value")})):void 0}var v,h=n({},f);return v=h,a.call(v,"value")&&(u(h.value),delete h.value),l(h).length>0?r.call(this,h):this})},T=!1;(w=e()).expr.pseudos.tinymce=function(n){return!!m(n)},w.fn.tinymce=function(t){var r,i=this;return this.length?t?(this.css("visibility","hidden"),new Promise((function(r){!function(n,t){if(y()||D!==p.NOT_LOADING)D===p.LOADING_STARTED?_.push(t):t(g(),!1);else{D=p.LOADING_STARTED;var e=document.createElement("script");e.type="text/javascript",e.onload=function(n){if(D!==p.LOADING_FINISHED&&"load"===n.type){D=p.LOADING_FINISHED;var e=g();t(e,!0);for(var r=0;r<_.length;r++)_[r](e,!1)}},e.src=n,document.body.appendChild(e)}}(function(n){if("string"==typeof n.script_url)return n.script_url;var t="string"==typeof n.channel?n.channel:"6",e="string"==typeof n.api_key?n.api_key:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(e,"/tinymce/").concat(t,"/tinymce.min.js")}(t),(function(o,u){u&&t.script_loaded&&t.script_loaded(),T||(T=!0,C(e()));var c=0,l=function(n,t){if("string"==typeof t){var e=n.resolve(t);if("function"==typeof e){var r=-1===t.indexOf(".")?n:n.resolve(t.replace(/\.\w+$/,""));return e.bind(r)}}else if("function"==typeof t)return t.bind(n);return null}(o,t.oninit),a=function(){var n=function(n,t){var e=[];return t.each((function(t,r){var i=n.get(r.id);null!=i&&e.push(i)})),e}(o,i);l&&l(n),r(n)};i.each((function(e,r){r.id||(r.id=o.DOM.uniqueId()),o.get(r.id)?c++:o.init(n(n({},t),{selector:void 0,target:r,init_instance_callback:function(n){i.css("visibility",""),c++;var e=t.init_instance_callback;"function"==typeof e&&e.call(n,n),c===i.length&&a()}}))})),c===i.length&&a()}))}))):null!==(r=m(this[0]))&&void 0!==r?r:void 0:t?Promise.resolve([]):void 0}}()}},t={};function e(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return n[r](o,o.exports,e),o.exports}(()=>{"use strict";e(2529)})()})();
/* End of File jssource/src/build/grp-sidecar.min.js */

/**
 * Skipped minification because the original files appears to be already minified.
 * Original file: /npm/chart.js@4.3.0/dist/chart.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";var t=Object.freeze({__proto__:null,get Colors(){return Ko},get Decimation(){return Jo},get Filler(){return pa},get Legend(){return _a},get SubTitle(){return wa},get Title(){return va},get Tooltip(){return Va}});function e(){}const i=(()=>{let t=0;return()=>t++})();function s(t){return null==t}function n(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function o(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function r(t,e){return a(t)?t:e}function l(t,e){return void 0===t?e:t}const h=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,c=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function d(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function u(t,e,i,s){let a,r,l;if(n(t))if(r=t.length,s)for(a=r-1;a>=0;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(o(t))for(l=Object.keys(t),r=l.length,a=0;a<r;a++)e.call(i,t[l[a]],l[a])}function f(t,e){let i,s,n,o;if(!t||!e||t.length!==e.length)return!1;for(i=0,s=t.length;i<s;++i)if(n=t[i],o=e[i],n.datasetIndex!==o.datasetIndex||n.index!==o.index)return!1;return!0}function g(t){if(n(t))return t.map(g);if(o(t)){const e=Object.create(null),i=Object.keys(t),s=i.length;let n=0;for(;n<s;++n)e[i[n]]=g(t[i[n]]);return e}return t}function p(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function m(t,e,i,s){if(!p(t))return;const n=e[t],a=i[t];o(n)&&o(a)?b(n,a,s):e[t]=g(a)}function b(t,e,i){const s=n(e)?e:[e],a=s.length;if(!o(t))return t;const r=(i=i||{}).merger||m;let l;for(let e=0;e<a;++e){if(l=s[e],!o(l))continue;const n=Object.keys(l);for(let e=0,s=n.length;e<s;++e)r(n[e],t,l,i)}return t}function x(t,e){return b(t,e,{merger:_})}function _(t,e,i){if(!p(t))return;const s=e[t],n=i[t];o(s)&&o(n)?x(s,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=g(n))}const y={"":t=>t,x:t=>t.x,y:t=>t.y};function v(t){const e=t.split("."),i=[];let s="";for(const t of e)s+=t,s.endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function M(t,e){const i=y[e]||(y[e]=function(t){const e=v(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function w(t){return t.charAt(0).toUpperCase()+t.slice(1)}const k=t=>void 0!==t,S=t=>"function"==typeof t,P=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};function D(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const C=Math.PI,O=2*C,A=O+C,T=Number.POSITIVE_INFINITY,L=C/180,E=C/2,R=C/4,I=2*C/3,z=Math.log10,F=Math.sign;function V(t,e,i){return Math.abs(t-e)<i}function B(t){const e=Math.round(t);t=V(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(z(t))),s=t/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function N(t){const e=[],i=Math.sqrt(t);let s;for(s=1;s<i;s++)t%s==0&&(e.push(s),e.push(t/s));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}function W(t){return!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}function j(t,e,i){let s,n,o;for(s=0,n=t.length;s<n;s++)o=t[s][i],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function $(t){return t*(C/180)}function Y(t){return t*(180/C)}function U(t){if(!a(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function X(t,e){const i=e.x-t.x,s=e.y-t.y,n=Math.sqrt(i*i+s*s);let o=Math.atan2(s,i);return o<-.5*C&&(o+=O),{angle:o,distance:n}}function q(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function K(t,e){return(t-e+A)%O-C}function G(t){return(t%O+O)%O}function Z(t,e,i,s){const n=G(t),o=G(e),a=G(i),r=G(o-n),l=G(a-n),h=G(n-o),c=G(n-a);return n===o||n===a||s&&o===a||r>l&&h<c}function J(t,e,i){return Math.max(e,Math.min(i,t))}function Q(t){return J(t,-32768,32767)}function tt(t,e,i,s=1e-6){return t>=Math.min(e,i)-s&&t<=Math.max(e,i)+s}function et(t,e,i){i=i||(i=>t[i]<e);let s,n=t.length-1,o=0;for(;n-o>1;)s=o+n>>1,i(s)?o=s:n=s;return{lo:o,hi:n}}const it=(t,e,i,s)=>et(t,i,s?s=>{const n=t[s][e];return n<i||n===i&&t[s+1][e]===i}:s=>t[s][e]<i),st=(t,e,i)=>et(t,i,(s=>t[s][e]>=i));function nt(t,e,i){let s=0,n=t.length;for(;s<n&&t[s]<e;)s++;for(;n>s&&t[n-1]>i;)n--;return s>0||n<t.length?t.slice(s,n):t}const ot=["push","pop","shift","splice","unshift"];function at(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ot.forEach((e=>{const i="_onData"+w(e),s=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const n=s.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"==typeof t[i]&&t[i](...e)})),n}})})))}function rt(t,e){const i=t._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(e);-1!==n&&s.splice(n,1),s.length>0||(ot.forEach((e=>{delete t[e]})),delete t._chartjs)}function lt(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ht="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ct(t,e){let i=[],s=!1;return function(...n){i=n,s||(s=!0,ht.call(window,(()=>{s=!1,t.apply(e,i)})))}}function dt(t,e){let i;return function(...s){return e?(clearTimeout(i),i=setTimeout(t,e,s)):t.apply(this,s),e}}const ut=t=>"start"===t?"left":"end"===t?"right":"center",ft=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2,gt=(t,e,i,s)=>t===(s?"left":"right")?i:"center"===t?(e+i)/2:e;function pt(t,e,i){const s=e.length;let n=0,o=s;if(t._sorted){const{iScale:a,_parsed:r}=t,l=a.axis,{min:h,max:c,minDefined:d,maxDefined:u}=a.getUserBounds();d&&(n=J(Math.min(it(r,a.axis,h).lo,i?s:it(e,l,a.getPixelForValue(h)).lo),0,s-1)),o=u?J(Math.max(it(r,a.axis,c,!0).hi+1,i?0:it(e,l,a.getPixelForValue(c),!0).hi+1),n,s)-n:s-n}return{start:n,count:o}}function mt(t){const{xScale:e,yScale:i,_scaleRanges:s}=t,n={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!s)return t._scaleRanges=n,!0;const o=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),o}class bt{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const n=e.listeners[s],o=e.duration;n.forEach((s=>s({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=ht.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let o,a=n.length-1,r=!1;for(;a>=0;--a)o=n[a],o._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),r=!0):(n[a]=n[n.length-1],n.pop());r&&(s.draw(),this._notify(s,i,t,"progress")),n.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=n.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var xt=new bt;
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function _t(t){return t+.5|0}const yt=(t,e,i)=>Math.max(Math.min(t,i),e);function vt(t){return yt(_t(2.55*t),0,255)}function Mt(t){return yt(_t(255*t),0,255)}function wt(t){return yt(_t(t/2.55)/100,0,1)}function kt(t){return yt(_t(100*t),0,100)}const St={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Pt=[..."0123456789ABCDEF"],Dt=t=>Pt[15&t],Ct=t=>Pt[(240&t)>>4]+Pt[15&t],Ot=t=>(240&t)>>4==(15&t);function At(t){var e=(t=>Ot(t.r)&&Ot(t.g)&&Ot(t.b)&&Ot(t.a))(t)?Dt:Ct;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Tt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lt(t,e,i){const s=e*Math.min(i,1-i),n=(e,n=(e+t/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function Et(t,e,i){const s=(s,n=(s+t/60)%6)=>i-i*e*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function Rt(t,e,i){const s=Lt(t,1,.5);let n;for(e+i>1&&(n=1/(e+i),e*=n,i*=n),n=0;n<3;n++)s[n]*=1-e-i,s[n]+=e;return s}function It(t){const e=t.r/255,i=t.g/255,s=t.b/255,n=Math.max(e,i,s),o=Math.min(e,i,s),a=(n+o)/2;let r,l,h;return n!==o&&(h=n-o,l=a>.5?h/(2-n-o):h/(n+o),r=function(t,e,i,s,n){return t===n?(e-i)/s+(e<i?6:0):e===n?(i-t)/s+2:(t-e)/s+4}(e,i,s,h,n),r=60*r+.5),[0|r,l||0,a]}function zt(t,e,i,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,s)).map(Mt)}function Ft(t,e,i){return zt(Lt,t,e,i)}function Vt(t){return(t%360+360)%360}function Bt(t){const e=Tt.exec(t);let i,s=255;if(!e)return;e[5]!==i&&(s=e[6]?vt(+e[5]):Mt(+e[5]));const n=Vt(+e[2]),o=+e[3]/100,a=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return zt(Rt,t,e,i)}(n,o,a):"hsv"===e[1]?function(t,e,i){return zt(Et,t,e,i)}(n,o,a):Ft(n,o,a),{r:i[0],g:i[1],b:i[2],a:s}}const Nt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Ht;function jt(t){Ht||(Ht=function(){const t={},e=Object.keys(Wt),i=Object.keys(Nt);let s,n,o,a,r;for(s=0;s<e.length;s++){for(a=r=e[s],n=0;n<i.length;n++)o=i[n],r=r.replace(o,Nt[o]);o=parseInt(Wt[a],16),t[r]=[o>>16&255,o>>8&255,255&o]}return t}(),Ht.transparent=[0,0,0,0]);const e=Ht[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const $t=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Yt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Ut=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Xt(t,e,i){if(t){let s=It(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*i,0===e?360:1)),s=Ft(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function qt(t,e){return t?Object.assign(e||{},t):t}function Kt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mt(t[3]))):(e=qt(t,{r:0,g:0,b:0,a:1})).a=Mt(e.a),e}function Gt(t){return"r"===t.charAt(0)?function(t){const e=$t.exec(t);let i,s,n,o=255;if(e){if(e[7]!==i){const t=+e[7];o=e[8]?vt(t):yt(255*t,0,255)}return i=+e[1],s=+e[3],n=+e[5],i=255&(e[2]?vt(i):yt(i,0,255)),s=255&(e[4]?vt(s):yt(s,0,255)),n=255&(e[6]?vt(n):yt(n,0,255)),{r:i,g:s,b:n,a:o}}}(t):Bt(t)}class Zt{constructor(t){if(t instanceof Zt)return t;const e=typeof t;let i;var s,n,o;"object"===e?i=Kt(t):"string"===e&&(o=(s=t).length,"#"===s[0]&&(4===o||5===o?n={r:255&17*St[s[1]],g:255&17*St[s[2]],b:255&17*St[s[3]],a:5===o?17*St[s[4]]:255}:7!==o&&9!==o||(n={r:St[s[1]]<<4|St[s[2]],g:St[s[3]]<<4|St[s[4]],b:St[s[5]]<<4|St[s[6]],a:9===o?St[s[7]]<<4|St[s[8]]:255})),i=n||jt(t)||Gt(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=qt(this._rgb);return t&&(t.a=wt(t.a)),t}set rgb(t){this._rgb=Kt(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${wt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?At(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=It(t),i=e[0],s=kt(e[1]),n=kt(e[2]);return t.a<255?`hsla(${i}, ${s}%, ${n}%, ${wt(t.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let n;const o=e===n?.5:e,a=2*o-1,r=i.a-s.a,l=((a*r==-1?a:(a+r)/(1+a*r))+1)/2;n=1-l,i.r=255&l*i.r+n*s.r+.5,i.g=255&l*i.g+n*s.g+.5,i.b=255&l*i.b+n*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const s=Ut(wt(t.r)),n=Ut(wt(t.g)),o=Ut(wt(t.b));return{r:Mt(Yt(s+i*(Ut(wt(e.r))-s))),g:Mt(Yt(n+i*(Ut(wt(e.g))-n))),b:Mt(Yt(o+i*(Ut(wt(e.b))-o))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new Zt(this.rgb)}alpha(t){return this._rgb.a=Mt(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=_t(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xt(this._rgb,2,t),this}darken(t){return Xt(this._rgb,2,-t),this}saturate(t){return Xt(this._rgb,1,t),this}desaturate(t){return Xt(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=It(t);i[0]=Vt(i[0]+e),i=Ft(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}function Jt(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Qt(t){return Jt(t)?t:new Zt(t)}function te(t){return Jt(t)?t:new Zt(t).saturate(.5).darken(.1).hexString()}const ee=["x","y","borderWidth","radius","tension"],ie=["color","borderColor","backgroundColor"];const se=new Map;function ne(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let s=se.get(i);return s||(s=new Intl.NumberFormat(t,e),se.set(i,s)),s}(e,i).format(t)}const oe={values:t=>n(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const s=this.chart.options.locale;let n,o=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(n="scientific"),o=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const a=z(Math.abs(o)),r=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(l,this.options.ticks.format),ne(t,s,l)},logarithmic(t,e,i){if(0===t)return"0";const s=i[e].significand||t/Math.pow(10,Math.floor(z(t)));return[1,2,3,5,10,15].includes(s)||e>.8*i.length?oe.numeric.call(this,t,e,i):""}};var ae={formatters:oe};const re=Object.create(null),le=Object.create(null);function he(t,e){if(!e)return t;const i=e.split(".");for(let e=0,s=i.length;e<s;++e){const s=i[e];t=t[s]||(t[s]=Object.create(null))}return t}function ce(t,e,i){return"string"==typeof e?b(he(t,e),i):b(he(t,""),e)}class de{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>te(e.backgroundColor),this.hoverBorderColor=(t,e)=>te(e.borderColor),this.hoverColor=(t,e)=>te(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ce(this,t,e)}get(t){return he(this,t)}describe(t,e){return ce(le,t,e)}override(t,e){return ce(re,t,e)}route(t,e,i,s){const n=he(this,t),a=he(this,i),r="_"+e;Object.defineProperties(n,{[r]:{value:n[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[r],e=a[s];return o(t)?Object.assign({},e,t):l(t,e)},set(t){this[r]=t}}})}apply(t){t.forEach((t=>t(this)))}}var ue=new de({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ie},numbers:{type:"number",properties:ee}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ae.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function fe(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ge(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function pe(t,e,i){let s;return"string"==typeof t?(s=parseInt(t,10),-1!==t.indexOf("%")&&(s=s/100*e.parentNode[i])):s=t,s}const me=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function be(t,e){return me(t).getPropertyValue(e)}const xe=["top","right","bottom","left"];function _e(t,e,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const o=xe[n];s[o]=parseFloat(t[e+"-"+o+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const ye=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function ve(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:s}=e,n=me(i),o="border-box"===n.boxSizing,a=_e(n,"padding"),r=_e(n,"border","width"),{x:l,y:h,box:c}=function(t,e){const i=t.touches,s=i&&i.length?i[0]:t,{offsetX:n,offsetY:o}=s;let a,r,l=!1;if(ye(n,o,t.target))a=n,r=o;else{const t=e.getBoundingClientRect();a=s.clientX-t.left,r=s.clientY-t.top,l=!0}return{x:a,y:r,box:l}}(t,i),d=a.left+(c&&r.left),u=a.top+(c&&r.top);let{width:f,height:g}=e;return o&&(f-=a.width+r.width,g-=a.height+r.height),{x:Math.round((l-d)/f*i.width/s),y:Math.round((h-u)/g*i.height/s)}}const Me=t=>Math.round(10*t)/10;function we(t,e,i,s){const n=me(t),o=_e(n,"margin"),a=pe(n.maxWidth,t,"clientWidth")||T,r=pe(n.maxHeight,t,"clientHeight")||T,l=function(t,e,i){let s,n;if(void 0===e||void 0===i){const o=ge(t);if(o){const t=o.getBoundingClientRect(),a=me(o),r=_e(a,"border","width"),l=_e(a,"padding");e=t.width-l.width-r.width,i=t.height-l.height-r.height,s=pe(a.maxWidth,o,"clientWidth"),n=pe(a.maxHeight,o,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:s||T,maxHeight:n||T}}(t,e,i);let{width:h,height:c}=l;if("content-box"===n.boxSizing){const t=_e(n,"border","width"),e=_e(n,"padding");h-=e.width+t.width,c-=e.height+t.height}h=Math.max(0,h-o.width),c=Math.max(0,s?h/s:c-o.height),h=Me(Math.min(h,a,l.maxWidth)),c=Me(Math.min(c,r,l.maxHeight)),h&&!c&&(c=Me(h/2));return(void 0!==e||void 0!==i)&&s&&l.height&&c>l.height&&(c=l.height,h=Me(Math.floor(c*s))),{width:h,height:c}}function ke(t,e,i){const s=e||1,n=Math.floor(t.height*s),o=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==s||a.height!==n||a.width!==o)&&(t.currentDevicePixelRatio=s,a.height=n,a.width=o,t.ctx.setTransform(s,0,0,s,0,0),!0)}const Se=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(t){}return t}();function Pe(t,e){const i=be(t,e),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function De(t){return!t||s(t.size)||s(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ce(t,e,i,s,n){let o=e[n];return o||(o=e[n]=t.measureText(n).width,i.push(n)),o>s&&(s=o),s}function Oe(t,e,i,s){let o=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(o=s.data={},a=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let r=0;const l=i.length;let h,c,d,u,f;for(h=0;h<l;h++)if(u=i[h],null==u||n(u)){if(n(u))for(c=0,d=u.length;c<d;c++)f=u[c],null==f||n(f)||(r=Ce(t,o,a,r,f))}else r=Ce(t,o,a,r,u);t.restore();const g=a.length/2;if(g>i.length){for(h=0;h<g;h++)delete o[a[h]];a.splice(0,g)}return r}function Ae(t,e,i){const s=t.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((e-n)*s)/s+n}function Te(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Le(t,e,i,s){Ee(t,e,i,s,null)}function Ee(t,e,i,s,n){let o,a,r,l,h,c,d,u;const f=e.pointStyle,g=e.rotation,p=e.radius;let m=(g||0)*L;if(f&&"object"==typeof f&&(o=f.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,s),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(p)||p<=0)){switch(t.beginPath(),f){default:n?t.ellipse(i,s,n/2,p,0,0,O):t.arc(i,s,p,0,O),t.closePath();break;case"triangle":c=n?n/2:p,t.moveTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),m+=I,t.lineTo(i+Math.sin(m)*c,s-Math.cos(m)*p),t.closePath();break;case"rectRounded":h=.516*p,l=p-h,a=Math.cos(m+R)*l,d=Math.cos(m+R)*(n?n/2-h:l),r=Math.sin(m+R)*l,u=Math.sin(m+R)*(n?n/2-h:l),t.arc(i-d,s-r,h,m-C,m-E),t.arc(i+u,s-a,h,m-E,m),t.arc(i+d,s+r,h,m,m+E),t.arc(i-u,s+a,h,m+E,m+C),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*p,c=n?n/2:l,t.rect(i-c,s-l,2*c,2*l);break}m+=R;case"rectRot":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+u,s-a),t.lineTo(i+d,s+r),t.lineTo(i-u,s+a),t.closePath();break;case"crossRot":m+=R;case"cross":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case"star":d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a),m+=R,d=Math.cos(m)*(n?n/2:p),a=Math.cos(m)*p,r=Math.sin(m)*p,u=Math.sin(m)*(n?n/2:p),t.moveTo(i-d,s-r),t.lineTo(i+d,s+r),t.moveTo(i+u,s-a),t.lineTo(i-u,s+a);break;case"line":a=n?n/2:Math.cos(m)*p,r=Math.sin(m)*p,t.moveTo(i-a,s-r),t.lineTo(i+a,s+r);break;case"dash":t.moveTo(i,s),t.lineTo(i+Math.cos(m)*(n?n/2:p),s+Math.sin(m)*p);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function Re(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function Ie(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ze(t){t.restore()}function Fe(t,e,i,s,n){if(!e)return t.lineTo(i.x,i.y);if("middle"===n){const s=(e.x+i.x)/2;t.lineTo(s,e.y),t.lineTo(s,i.y)}else"after"===n!=!!s?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function Ve(t,e,i,s){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Be(t,e,i,s,n){if(n.strikethrough||n.underline){const o=t.measureText(s),a=e-o.actualBoundingBoxLeft,r=e+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,h=i+o.actualBoundingBoxDescent,c=n.strikethrough?(l+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(a,c),t.lineTo(r,c),t.stroke()}}function Ne(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function We(t,e,i,o,a,r={}){const l=n(e)?e:[e],h=r.strokeWidth>0&&""!==r.strokeColor;let c,d;for(t.save(),t.font=a.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),s(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),c=0;c<l.length;++c)d=l[c],r.backdrop&&Ne(t,r.backdrop),h&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),s(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(d,i,o,r.maxWidth)),t.fillText(d,i,o,r.maxWidth),Be(t,i,o,d,r),o+=Number(a.lineHeight);t.restore()}function He(t,e){const{x:i,y:s,w:n,h:o,radius:a}=e;t.arc(i+a.topLeft,s+a.topLeft,a.topLeft,-E,C,!0),t.lineTo(i,s+o-a.bottomLeft),t.arc(i+a.bottomLeft,s+o-a.bottomLeft,a.bottomLeft,C,E,!0),t.lineTo(i+n-a.bottomRight,s+o),t.arc(i+n-a.bottomRight,s+o-a.bottomRight,a.bottomRight,E,0,!0),t.lineTo(i+n,s+a.topRight),t.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-E,!0),t.lineTo(i+a.topLeft,s)}function je(t,e=[""],i,s,n=(()=>t[0])){const o=i||t;void 0===s&&(s=ti("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:s,_getTarget:n,override:i=>je([i,...t],e,o,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,s)=>qe(i,s,(()=>function(t,e,i,s){let n;for(const o of e)if(n=ti(Ue(o,t),i),void 0!==n)return Xe(t,n)?Je(i,s,t,n):n}(s,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>ei(t).includes(e),ownKeys:t=>ei(t),set(t,e,i){const s=t._storage||(t._storage=n());return t[e]=s[e]=i,delete t._keys,!0}})}function $e(t,e,i,s){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:Ye(t,s),setContext:e=>$e(t,e,i,s),override:n=>$e(t.override(n),e,i,s)};return new Proxy(a,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>qe(t,e,(()=>function(t,e,i){const{_proxy:s,_context:a,_subProxy:r,_descriptors:l}=t;let h=s[e];S(h)&&l.isScriptable(e)&&(h=function(t,e,i,s){const{_proxy:n,_context:o,_subProxy:a,_stack:r}=i;if(r.has(t))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+t);r.add(t);let l=e(o,a||s);r.delete(t),Xe(t,l)&&(l=Je(n._scopes,n,t,l));return l}(e,h,t,i));n(h)&&h.length&&(h=function(t,e,i,s){const{_proxy:n,_context:a,_subProxy:r,_descriptors:l}=i;if(void 0!==a.index&&s(t))return e[a.index%e.length];if(o(e[0])){const i=e,s=n._scopes.filter((t=>t!==i));e=[];for(const o of i){const i=Je(s,n,t,o);e.push($e(i,a,r&&r[t],l))}}return e}(e,h,t,l.isIndexable));Xe(e,h)&&(h=$e(h,a,r&&r[e],l));return h}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,s)=>(t[i]=s,delete e[i],!0)})}function Ye(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:s=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:i,indexable:s,isScriptable:S(i)?i:()=>i,isIndexable:S(s)?s:()=>s}}const Ue=(t,e)=>t?t+w(e):e,Xe=(t,e)=>o(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function qe(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const s=i();return t[e]=s,s}function Ke(t,e,i){return S(t)?t(e,i):t}const Ge=(t,e)=>!0===t?e:"string"==typeof t?M(e,t):void 0;function Ze(t,e,i,s,n){for(const o of e){const e=Ge(i,o);if(e){t.add(e);const o=Ke(e._fallback,i,n);if(void 0!==o&&o!==i&&o!==s)return o}else if(!1===e&&void 0!==s&&i!==s)return null}return!1}function Je(t,e,i,s){const a=e._rootScopes,r=Ke(e._fallback,i,s),l=[...t,...a],h=new Set;h.add(s);let c=Qe(h,l,i,r||i,s);return null!==c&&((void 0===r||r===i||(c=Qe(h,l,r,c,s),null!==c))&&je(Array.from(h),[""],a,r,(()=>function(t,e,i){const s=t._getTarget();e in s||(s[e]={});const a=s[e];if(n(a)&&o(i))return i;return a||{}}(e,i,s))))}function Qe(t,e,i,s,n){for(;i;)i=Ze(t,e,i,s,n);return i}function ti(t,e){for(const i of e){if(!i)continue;const e=i[t];if(void 0!==e)return e}}function ei(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function ii(t,e,i,s){const{iScale:n}=t,{key:o="r"}=this._parsing,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={r:n.parse(M(c,o),h)};return a}const si=Number.EPSILON||1e-14,ni=(t,e)=>e<t.length&&!t[e].skip&&t[e],oi=t=>"x"===t?"y":"x";function ai(t,e,i,s){const n=t.skip?e:t,o=e,a=i.skip?e:i,r=q(o,n),l=q(a,o);let h=r/(r+l),c=l/(r+l);h=isNaN(h)?0:h,c=isNaN(c)?0:c;const d=s*h,u=s*c;return{previous:{x:o.x-d*(a.x-n.x),y:o.y-d*(a.y-n.y)},next:{x:o.x+u*(a.x-n.x),y:o.y+u*(a.y-n.y)}}}function ri(t,e="x"){const i=oi(e),s=t.length,n=Array(s).fill(0),o=Array(s);let a,r,l,h=ni(t,0);for(a=0;a<s;++a)if(r=l,l=h,h=ni(t,a+1),l){if(h){const t=h[e]-l[e];n[a]=0!==t?(h[i]-l[i])/t:0}o[a]=r?h?F(n[a-1])!==F(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(t,e,i){const s=t.length;let n,o,a,r,l,h=ni(t,0);for(let c=0;c<s-1;++c)l=h,h=ni(t,c+1),l&&h&&(V(e[c],0,si)?i[c]=i[c+1]=0:(n=i[c]/e[c],o=i[c+1]/e[c],r=Math.pow(n,2)+Math.pow(o,2),r<=9||(a=3/Math.sqrt(r),i[c]=n*a*e[c],i[c+1]=o*a*e[c])))}(t,n,o),function(t,e,i="x"){const s=oi(i),n=t.length;let o,a,r,l=ni(t,0);for(let h=0;h<n;++h){if(a=r,r=l,l=ni(t,h+1),!r)continue;const n=r[i],c=r[s];a&&(o=(n-a[i])/3,r[`cp1${i}`]=n-o,r[`cp1${s}`]=c-o*e[h]),l&&(o=(l[i]-n)/3,r[`cp2${i}`]=n+o,r[`cp2${s}`]=c+o*e[h])}}(t,o,e)}function li(t,e,i){return Math.max(Math.min(t,i),e)}function hi(t,e,i,s,n){let o,a,r,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)ri(t,n);else{let i=s?t[t.length-1]:t[0];for(o=0,a=t.length;o<a;++o)r=t[o],l=ai(i,r,t[Math.min(o+1,a-(s?0:1))%a],e.tension),r.cp1x=l.previous.x,r.cp1y=l.previous.y,r.cp2x=l.next.x,r.cp2y=l.next.y,i=r}e.capBezierPoints&&function(t,e){let i,s,n,o,a,r=Re(t[0],e);for(i=0,s=t.length;i<s;++i)a=o,o=r,r=i<s-1&&Re(t[i+1],e),o&&(n=t[i],a&&(n.cp1x=li(n.cp1x,e.left,e.right),n.cp1y=li(n.cp1y,e.top,e.bottom)),r&&(n.cp2x=li(n.cp2x,e.left,e.right),n.cp2y=li(n.cp2y,e.top,e.bottom)))}(t,i)}const ci=t=>0===t||1===t,di=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*O/i),ui=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*O/i)+1,fi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*E),easeOutSine:t=>Math.sin(t*E),easeInOutSine:t=>-.5*(Math.cos(C*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ci(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ci(t)?t:di(t,.075,.3),easeOutElastic:t=>ci(t)?t:ui(t,.075,.3),easeInOutElastic(t){const e=.1125;return ci(t)?t:t<.5?.5*di(2*t,e,.45):.5+.5*ui(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-fi.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*fi.easeInBounce(2*t):.5*fi.easeOutBounce(2*t-1)+.5};function gi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function pi(t,e,i,s){return{x:t.x+i*(e.x-t.x),y:"middle"===s?i<.5?t.y:e.y:"after"===s?i<1?t.y:e.y:i>0?e.y:t.y}}function mi(t,e,i,s){const n={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},a=gi(t,n,i),r=gi(n,o,i),l=gi(o,e,i),h=gi(a,r,i),c=gi(r,l,i);return gi(h,c,i)}const bi=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xi=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function _i(t,e){const i=(""+t).match(bi);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}const yi=t=>+t||0;function vi(t,e){const i={},s=o(e),n=s?Object.keys(e):e,a=o(t)?s?i=>l(t[i],t[e[i]]):e=>t[e]:()=>t;for(const t of n)i[t]=yi(a(t));return i}function Mi(t){return vi(t,{top:"y",right:"x",bottom:"y",left:"x"})}function wi(t){return vi(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ki(t){const e=Mi(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Si(t,e){t=t||{},e=e||ue.font;let i=l(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let s=l(t.style,e.style);s&&!(""+s).match(xi)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const n={family:l(t.family,e.family),lineHeight:_i(l(t.lineHeight,e.lineHeight),i),size:i,style:s,weight:l(t.weight,e.weight),string:""};return n.string=De(n),n}function Pi(t,e,i,s){let o,a,r,l=!0;for(o=0,a=t.length;o<a;++o)if(r=t[o],void 0!==r&&(void 0!==e&&"function"==typeof r&&(r=r(e),l=!1),void 0!==i&&n(r)&&(r=r[i%r.length],l=!1),void 0!==r))return s&&!l&&(s.cacheable=!1),r}function Di(t,e,i){const{min:s,max:n}=t,o=c(e,(n-s)/2),a=(t,e)=>i&&0===t?0:t+e;return{min:a(s,-Math.abs(o)),max:a(n,o)}}function Ci(t,e){return Object.assign(Object.create(t),e)}function Oi(t,e,i){return t?function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,i):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function Ai(t,e){let i,s;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,s=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=s)}function Ti(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Li(t){return"angle"===t?{between:Z,compare:K,normalize:G}:{between:tt,compare:(t,e)=>t-e,normalize:t=>t}}function Ei({start:t,end:e,count:i,loop:s,style:n}){return{start:t%i,end:e%i,loop:s&&(e-t+1)%i==0,style:n}}function Ri(t,e,i){if(!i)return[t];const{property:s,start:n,end:o}=i,a=e.length,{compare:r,between:l,normalize:h}=Li(s),{start:c,end:d,loop:u,style:f}=function(t,e,i){const{property:s,start:n,end:o}=i,{between:a,normalize:r}=Li(s),l=e.length;let h,c,{start:d,end:u,loop:f}=t;if(f){for(d+=l,u+=l,h=0,c=l;h<c&&a(r(e[d%l][s]),n,o);++h)d--,u--;d%=l,u%=l}return u<d&&(u+=l),{start:d,end:u,loop:f,style:t.style}}(t,e,i),g=[];let p,m,b,x=!1,_=null;const y=()=>x||l(n,b,p)&&0!==r(n,b),v=()=>!x||0===r(o,p)||l(o,b,p);for(let t=c,i=c;t<=d;++t)m=e[t%a],m.skip||(p=h(m[s]),p!==b&&(x=l(p,n,o),null===_&&y()&&(_=0===r(p,n)?t:i),null!==_&&v()&&(g.push(Ei({start:_,end:t,loop:u,count:a,style:f})),_=null),i=t,b=p));return null!==_&&g.push(Ei({start:_,end:d,loop:u,count:a,style:f})),g}function Ii(t,e){const i=[],s=t.segments;for(let n=0;n<s.length;n++){const o=Ri(s[n],t.points,e);o.length&&i.push(...o)}return i}function zi(t,e){const i=t.points,s=t.options.spanGaps,n=i.length;if(!n)return[];const o=!!t._loop,{start:a,end:r}=function(t,e,i,s){let n=0,o=e-1;if(i&&!s)for(;n<e&&!t[n].skip;)n++;for(;n<e&&t[n].skip;)n++;for(n%=e,i&&(o+=n);o>n&&t[o%e].skip;)o--;return o%=e,{start:n,end:o}}(i,n,o,s);if(!0===s)return Fi(t,[{start:a,end:r,loop:o}],i,e);return Fi(t,function(t,e,i,s){const n=t.length,o=[];let a,r=e,l=t[e];for(a=e+1;a<=i;++a){const i=t[a%n];i.skip||i.stop?l.skip||(s=!1,o.push({start:e%n,end:(a-1)%n,loop:s}),e=r=i.stop?a:null):(r=a,l.skip&&(e=a)),l=i}return null!==r&&o.push({start:e%n,end:r%n,loop:s}),o}(i,a,r<a?r+n:r,!!t._fullLoop&&0===a&&r===n-1),i,e)}function Fi(t,e,i,s){return s&&s.setContext&&i?function(t,e,i,s){const n=t._chart.getContext(),o=Vi(t.options),{_datasetIndex:a,options:{spanGaps:r}}=t,l=i.length,h=[];let c=o,d=e[0].start,u=d;function f(t,e,s,n){const o=r?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=o;for(;i[e%l].skip;)e+=o;t%l!=e%l&&(h.push({start:t%l,end:e%l,loop:s,style:n}),c=n,d=e%l)}}for(const t of e){d=r?d:t.start;let e,o=i[d%l];for(u=d+1;u<=t.end;u++){const r=i[u%l];e=Vi(s.setContext(Ci(n,{type:"segment",p0:o,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:a}))),Bi(e,c)&&f(d,u-1,t.loop,c),o=r,c=e}d<u-1&&f(d,u-1,t.loop,c)}return h}(t,e,i,s):e}function Vi(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Bi(t,e){if(!e)return!1;const i=[],s=function(t,e){return Jt(e)?(i.includes(e)||i.push(e),i.indexOf(e)):e};return JSON.stringify(t,s)!==JSON.stringify(e,s)}var Ni=Object.freeze({__proto__:null,HALF_PI:E,INFINITY:T,PI:C,PITAU:A,QUARTER_PI:R,RAD_PER_DEG:L,TAU:O,TWO_THIRDS_PI:I,_addGrace:Di,_alignPixel:Ae,_alignStartEnd:ft,_angleBetween:Z,_angleDiff:K,_arrayUnique:lt,_attachContext:$e,_bezierCurveTo:Ve,_bezierInterpolation:mi,_boundSegment:Ri,_boundSegments:Ii,_capitalize:w,_computeSegments:zi,_createResolver:je,_decimalPlaces:U,_deprecated:function(t,e,i,s){void 0!==e&&console.warn(t+': "'+i+'" is deprecated. Please use "'+s+'" instead')},_descriptors:Ye,_elementsEqual:f,_factorize:N,_filterBetween:nt,_getParentNode:ge,_getStartAndCountOfVisiblePoints:pt,_int16Range:Q,_isBetween:tt,_isClickEvent:D,_isDomSupported:fe,_isPointInArea:Re,_limitValue:J,_longestText:Oe,_lookup:et,_lookupByKey:it,_measureText:Ce,_merger:m,_mergerIf:_,_normalizeAngle:G,_parseObjectDataRadialScale:ii,_pointInLine:gi,_readValueToProps:vi,_rlookupByKey:st,_scaleRangesChanged:mt,_setMinAndMaxByKey:j,_splitKey:v,_steppedInterpolation:pi,_steppedLineTo:Fe,_textX:gt,_toLeftRightCenter:ut,_updateBezierControlPoints:hi,addRoundedRectPath:He,almostEquals:V,almostWhole:H,callback:d,clearCanvas:Te,clipArea:Ie,clone:g,color:Qt,createContext:Ci,debounce:dt,defined:k,distanceBetweenPoints:q,drawPoint:Le,drawPointLegend:Ee,each:u,easingEffects:fi,finiteOrDefault:r,fontString:function(t,e,i){return e+" "+t+"px "+i},formatNumber:ne,getAngleFromPoint:X,getHoverColor:te,getMaximumSize:we,getRelativePosition:ve,getRtlAdapter:Oi,getStyle:be,isArray:n,isFinite:a,isFunction:S,isNullOrUndef:s,isNumber:W,isObject:o,isPatternOrGradient:Jt,listenArrayEvents:at,log10:z,merge:b,mergeIf:x,niceNum:B,noop:e,overrideTextDirection:Ai,readUsedSize:Pe,renderText:We,requestAnimFrame:ht,resolve:Pi,resolveObjectKey:M,restoreTextDirection:Ti,retinaScale:ke,setsEqual:P,sign:F,splineCurve:ai,splineCurveMonotone:ri,supportsEventListenerOptions:Se,throttled:ct,toDegrees:Y,toDimension:c,toFont:Si,toFontString:De,toLineHeight:_i,toPadding:ki,toPercentage:h,toRadians:$,toTRBL:Mi,toTRBLCorners:wi,uid:i,unclipArea:ze,unlistenArrayEvents:rt,valueOrDefault:l});function Wi(t,e,i,s){const{controller:n,data:o,_sorted:a}=t,r=n._cachedMeta.iScale;if(r&&e===r.axis&&"r"!==e&&a&&o.length){const t=r._reversePixels?st:it;if(!s)return t(o,e,i);if(n._sharedOptions){const s=o[0],n="function"==typeof s.getRange&&s.getRange(e);if(n){const s=t(o,e,i-n),a=t(o,e,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:o.length-1}}function Hi(t,e,i,s,n){const o=t.getSortedVisibleDatasetMetas(),a=i[e];for(let t=0,i=o.length;t<i;++t){const{index:i,data:r}=o[t],{lo:l,hi:h}=Wi(o[t],e,a,n);for(let t=l;t<=h;++t){const e=r[t];e.skip||s(e,i,t)}}}function ji(t,e,i,s,n){const o=[];if(!n&&!t.isPointInArea(e))return o;return Hi(t,i,e,(function(i,a,r){(n||Re(i,t.chartArea,0))&&i.inRange(e.x,e.y,s)&&o.push({element:i,datasetIndex:a,index:r})}),!0),o}function $i(t,e,i,s,n,o){let a=[];const r=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,s){const n=e?Math.abs(t.x-s.x):0,o=i?Math.abs(t.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))}}(i);let l=Number.POSITIVE_INFINITY;return Hi(t,i,e,(function(i,h,c){const d=i.inRange(e.x,e.y,n);if(s&&!d)return;const u=i.getCenterPoint(n);if(!(!!o||t.isPointInArea(u))&&!d)return;const f=r(e,u);f<l?(a=[{element:i,datasetIndex:h,index:c}],l=f):f===l&&a.push({element:i,datasetIndex:h,index:c})})),a}function Yi(t,e,i,s,n,o){return o||t.isPointInArea(e)?"r"!==i||s?$i(t,e,i,s,n,o):function(t,e,i,s){let n=[];return Hi(t,i,e,(function(t,i,o){const{startAngle:a,endAngle:r}=t.getProps(["startAngle","endAngle"],s),{angle:l}=X(t,{x:e.x,y:e.y});Z(l,a,r)&&n.push({element:t,datasetIndex:i,index:o})})),n}(t,e,i,n):[]}function Ui(t,e,i,s,n){const o=[],a="x"===i?"inXRange":"inYRange";let r=!1;return Hi(t,i,e,((t,s,l)=>{t[a](e[i],n)&&(o.push({element:t,datasetIndex:s,index:l}),r=r||t.inRange(e.x,e.y,n))})),s&&!r?[]:o}var Xi={evaluateInteractionItems:Hi,modes:{index(t,e,i,s){const n=ve(e,t),o=i.axis||"x",a=i.includeInvisible||!1,r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a),l=[];return r.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=r[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,s){const n=ve(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;let r=i.intersect?ji(t,n,o,s,a):Yi(t,n,o,!1,s,a);if(r.length>0){const e=r[0].datasetIndex,i=t.getDatasetMeta(e).data;r=[];for(let t=0;t<i.length;++t)r.push({element:i[t],datasetIndex:e,index:t})}return r},point:(t,e,i,s)=>ji(t,ve(e,t),i.axis||"xy",s,i.includeInvisible||!1),nearest(t,e,i,s){const n=ve(e,t),o=i.axis||"xy",a=i.includeInvisible||!1;return Yi(t,n,o,i.intersect,s,a)},x:(t,e,i,s)=>Ui(t,ve(e,t),"x",i.intersect,s),y:(t,e,i,s)=>Ui(t,ve(e,t),"y",i.intersect,s)}};const qi=["left","top","right","bottom"];function Ki(t,e){return t.filter((t=>t.pos===e))}function Gi(t,e){return t.filter((t=>-1===qi.indexOf(t.pos)&&t.box.axis===e))}function Zi(t,e){return t.sort(((t,i)=>{const s=e?i:t,n=e?t:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight}))}function Ji(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:s,stackWeight:n}=i;if(!t||!qi.includes(s))continue;const o=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=n}return e}(t),{vBoxMaxWidth:s,hBoxMaxHeight:n}=e;let o,a,r;for(o=0,a=t.length;o<a;++o){r=t[o];const{fullSize:a}=r.box,l=i[r.stack],h=l&&r.stackWeight/l.weight;r.horizontal?(r.width=h?h*s:a&&e.availableWidth,r.height=n):(r.width=s,r.height=h?h*n:a&&e.availableHeight)}return i}function Qi(t,e,i,s){return Math.max(t[i],e[i])+Math.max(t[s],e[s])}function ts(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function es(t,e,i,s){const{pos:n,box:a}=i,r=t.maxPadding;if(!o(n)){i.size&&(t[n]-=i.size);const e=s[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?a.height:a.width),i.size=e.size/e.count,t[n]+=i.size}a.getPadding&&ts(r,a.getPadding());const l=Math.max(0,e.outerWidth-Qi(r,t,"left","right")),h=Math.max(0,e.outerHeight-Qi(r,t,"top","bottom")),c=l!==t.w,d=h!==t.h;return t.w=l,t.h=h,i.horizontal?{same:c,other:d}:{same:d,other:c}}function is(t,e){const i=e.maxPadding;function s(t){const s={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{s[t]=Math.max(e[t],i[t])})),s}return s(t?["left","right"]:["top","bottom"])}function ss(t,e,i,s){const n=[];let o,a,r,l,h,c;for(o=0,a=t.length,h=0;o<a;++o){r=t[o],l=r.box,l.update(r.width||e.w,r.height||e.h,is(r.horizontal,e));const{same:a,other:d}=es(e,i,r,s);h|=a&&n.length,c=c||d,l.fullSize||n.push(r)}return h&&ss(n,e,i,s)||c}function ns(t,e,i,s,n){t.top=i,t.left=e,t.right=e+s,t.bottom=i+n,t.width=s,t.height=n}function os(t,e,i,s){const n=i.padding;let{x:o,y:a}=e;for(const r of t){const t=r.box,l=s[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/l.weight||1;if(r.horizontal){const s=e.w*h,o=l.size||t.height;k(l.start)&&(a=l.start),t.fullSize?ns(t,n.left,a,i.outerWidth-n.right-n.left,o):ns(t,e.left+l.placed,a,s,o),l.start=a,l.placed+=s,a=t.bottom}else{const s=e.h*h,a=l.size||t.width;k(l.start)&&(o=l.start),t.fullSize?ns(t,o,n.top,a,i.outerHeight-n.bottom-n.top):ns(t,o,e.top+l.placed,a,s),l.start=o,l.placed+=s,o=t.right}}e.x=o,e.y=a}var as={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,s){if(!t)return;const n=ki(t.options.layout.padding),o=Math.max(e-n.width,0),a=Math.max(i-n.height,0),r=function(t){const e=function(t){const e=[];let i,s,n,o,a,r;for(i=0,s=(t||[]).length;i<s;++i)n=t[i],({position:o,options:{stack:a,stackWeight:r=1}}=n),e.push({index:i,box:n,pos:o,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&o+a,stackWeight:r});return e}(t),i=Zi(e.filter((t=>t.box.fullSize)),!0),s=Zi(Ki(e,"left"),!0),n=Zi(Ki(e,"right")),o=Zi(Ki(e,"top"),!0),a=Zi(Ki(e,"bottom")),r=Gi(e,"x"),l=Gi(e,"y");return{fullSize:i,leftAndTop:s.concat(o),rightAndBottom:n.concat(l).concat(a).concat(r),chartArea:Ki(e,"chartArea"),vertical:s.concat(n).concat(l),horizontal:o.concat(a).concat(r)}}(t.boxes),l=r.vertical,h=r.horizontal;u(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const c=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,d=Object.freeze({outerWidth:e,outerHeight:i,padding:n,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),f=Object.assign({},n);ts(f,ki(s));const g=Object.assign({maxPadding:f,w:o,h:a,x:n.left,y:n.top},n),p=Ji(l.concat(h),d);ss(r.fullSize,g,d,p),ss(l,g,d,p),ss(h,g,d,p)&&ss(l,g,d,p),function(t){const e=t.maxPadding;function i(i){const s=Math.max(e[i]-t[i],0);return t[i]+=s,s}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(g),os(r.leftAndTop,g,d,p),g.x+=g.w,g.y+=g.h,os(r.rightAndBottom,g,d,p),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},u(r.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})}))}};class rs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class ls extends rs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hs="$chartjs",cs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ds=t=>null===t||""===t;const us=!!Se&&{passive:!0};function fs(t,e,i){t.canvas.removeEventListener(e,i,us)}function gs(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function ps(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.addedNodes,s),e=e&&!gs(i.removedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}function ms(t,e,i){const s=t.canvas,n=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||gs(i.removedNodes,s),e=e&&!gs(i.addedNodes,s);e&&i()}));return n.observe(document,{childList:!0,subtree:!0}),n}const bs=new Map;let xs=0;function _s(){const t=window.devicePixelRatio;t!==xs&&(xs=t,bs.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function ys(t,e,i){const s=t.canvas,n=s&&ge(s);if(!n)return;const o=ct(((t,e)=>{const s=n.clientWidth;i(t,e),s<n.clientWidth&&i()}),window),a=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,s=e.contentRect.height;0===i&&0===s||o(i,s)}));return a.observe(n),function(t,e){bs.size||window.addEventListener("resize",_s),bs.set(t,e)}(t,o),a}function vs(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){bs.delete(t),bs.size||window.removeEventListener("resize",_s)}(t)}function Ms(t,e,i){const s=t.canvas,n=ct((e=>{null!==t.ctx&&i(function(t,e){const i=cs[t.type]||t.type,{x:s,y:n}=ve(t,e);return{type:i,chart:e,native:t,x:void 0!==s?s:null,y:void 0!==n?n:null}}(e,t))}),t);return function(t,e,i){t.addEventListener(e,i,us)}(s,e,n),n}class ws extends rs{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,s=t.getAttribute("height"),n=t.getAttribute("width");if(t[hs]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",ds(n)){const e=Pe(t,"width");void 0!==e&&(t.width=e)}if(ds(s))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Pe(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[hs])return!1;const i=e[hs].initial;["height","width"].forEach((t=>{const n=i[t];s(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[hs],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),n={attach:ps,detach:ms,resize:ys}[e]||Ms;s[e]=n(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:vs,detach:vs,resize:vs}[e]||fs)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return we(t,e,i,s)}isAttached(t){const e=ge(t);return!(!e||!e.isConnected)}}function ks(t){return!fe()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ls:ws}var Ss=Object.freeze({__proto__:null,BasePlatform:rs,BasicPlatform:ls,DomPlatform:ws,_detectPlatform:ks});const Ps="transparent",Ds={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const s=Qt(t||Ps),n=s.valid&&Qt(e||Ps);return n&&n.valid?n.mix(s,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class Cs{constructor(t,e,i,s){const n=e[i];s=Pi([t.to,s,n,t.from]);const o=Pi([t.from,n,s]);this._active=!0,this._fn=t.fn||Ds[t.type||typeof o],this._easing=fi[t.easing]||fi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,o=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=n,this._loop=!!t.loop,this._to=Pi([t.to,e,s,t.from]),this._from=Pi([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,n=this._from,o=this._loop,a=this._to;let r;if(this._active=n!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=n:(r=e/i%2,r=o&&r>1?2-r:r,r=this._easing(Math.min(1,Math.max(0,r))),this._target[s]=this._fn(n,a,r))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let t=0;t<i.length;t++)i[t][e]()}}class Os{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!o(t))return;const e=Object.keys(ue.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((s=>{const a=t[s];if(!o(a))return;const r={};for(const t of e)r[t]=a[t];(n(a.properties)&&a.properties||[s]).forEach((t=>{t!==s&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,s=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(t,e){const i=[],s=Object.keys(e);for(let e=0;e<s.length;e++){const n=t[s[e]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),n}_createAnimations(t,e){const i=this._properties,s=[],n=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let r;for(r=o.length-1;r>=0;--r){const l=o[r];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(t,e));continue}const h=e[l];let c=n[l];const d=i.get(l);if(c){if(d&&c.active()){c.update(d,h,a);continue}c.cancel()}d&&d.duration?(n[l]=c=new Cs(d,t,l,h),s.push(c)):t[l]=h}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(xt.add(this._chart,i),!0):void 0}}function As(t,e){const i=t&&t.options||{},s=i.reverse,n=void 0===i.min?e:0,o=void 0===i.max?e:0;return{start:s?o:n,end:s?n:o}}function Ts(t,e){const i=[],s=t._getSortedDatasetMetas(e);let n,o;for(n=0,o=s.length;n<o;++n)i.push(s[n].index);return i}function Ls(t,e,i,s={}){const n=t.keys,o="single"===s.mode;let r,l,h,c;if(null!==e){for(r=0,l=n.length;r<l;++r){if(h=+n[r],h===i){if(s.all)continue;break}c=t.values[h],a(c)&&(o||0===e||F(e)===F(c))&&(e+=c)}return e}}function Es(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Rs(t,e,i){const s=t[e]||(t[e]={});return s[i]||(s[i]={})}function Is(t,e,i,s){for(const n of e.getMatchingVisibleMetas(s).reverse()){const e=t[n.index];if(i&&e>0||!i&&e<0)return n.index}return null}function zs(t,e){const{chart:i,_cachedMeta:s}=t,n=i._stacks||(i._stacks={}),{iScale:o,vScale:a,index:r}=s,l=o.axis,h=a.axis,c=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(o,a,s),d=e.length;let u;for(let t=0;t<d;++t){const i=e[t],{[l]:o,[h]:d}=i;u=(i._stacks||(i._stacks={}))[h]=Rs(n,c,o),u[r]=d,u._top=Is(u,a,!0,s.type),u._bottom=Is(u,a,!1,s.type);(u._visualValues||(u._visualValues={}))[r]=d}}function Fs(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Vs(t,e){const i=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[s]||void 0===e[s][i])return;delete e[s][i],void 0!==e[s]._visualValues&&void 0!==e[s]._visualValues[i]&&delete e[s]._visualValues[i]}}}const Bs=t=>"reset"===t||"none"===t,Ns=(t,e)=>e?t:Object.assign({},t);class Ws{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Es(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Vs(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(t,e,i,s)=>"x"===t?e:"r"===t?s:i,n=e.xAxisID=l(i.xAxisID,Fs(t,"x")),o=e.yAxisID=l(i.yAxisID,Fs(t,"y")),a=e.rAxisID=l(i.rAxisID,Fs(t,"r")),r=e.indexAxis,h=e.iAxisID=s(r,n,o,a),c=e.vAxisID=s(r,o,n,a);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(o),e.rScale=this.getScaleForId(a),e.iScale=this.getScaleForId(h),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&rt(this._data,this),t._stacked&&Vs(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(o(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s],i[s]={x:o,y:t[o]};return i}(e);else if(i!==e){if(i){rt(i,this);const t=this._cachedMeta;Vs(t),t._parsed=[]}e&&Object.isExtensible(e)&&at(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=e._stacked;e._stacked=Es(e.vScale,e),e.stack!==i.stack&&(s=!0,Vs(e),e.stack=i.stack),this._resyncElements(t),(s||n!==e._stacked)&&zs(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:a,_stacked:r}=i,l=a.axis;let h,c,d,u=0===t&&e===s.length||i._sorted,f=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=s,i._sorted=!0,d=s;else{d=n(s[t])?this.parseArrayData(i,s,t,e):o(s[t])?this.parseObjectData(i,s,t,e):this.parsePrimitiveData(i,s,t,e);const a=()=>null===c[l]||f&&c[l]<f[l];for(h=0;h<e;++h)i._parsed[h+t]=c=d[h],u&&(a()&&(u=!1),f=c);i._sorted=u}r&&zs(this,d)}parsePrimitiveData(t,e,i,s){const{iScale:n,vScale:o}=t,a=n.axis,r=o.axis,l=n.getLabels(),h=n===o,c=new Array(s);let d,u,f;for(d=0,u=s;d<u;++d)f=d+i,c[d]={[a]:h||n.parse(l[f],f),[r]:o.parse(e[f],f)};return c}parseArrayData(t,e,i,s){const{xScale:n,yScale:o}=t,a=new Array(s);let r,l,h,c;for(r=0,l=s;r<l;++r)h=r+i,c=e[h],a[r]={x:n.parse(c[0],h),y:o.parse(c[1],h)};return a}parseObjectData(t,e,i,s){const{xScale:n,yScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l=new Array(s);let h,c,d,u;for(h=0,c=s;h<c;++h)d=h+i,u=e[d],l[h]={x:n.parse(M(u,a),d),y:o.parse(M(u,r),d)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,n=this._cachedMeta,o=e[t.axis];return Ls({keys:Ts(s,!0),values:e._stacks[t.axis]._visualValues},o,n.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const n=i[e.axis];let o=null===n?NaN:n;const a=s&&i._stacks[e.axis];s&&a&&(s.values=a,o=Ls(s,n,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&t===i.iScale,o=s.length,r=this._getOtherScale(t),l=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:Ts(i,!0),values:null})(e,i,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:s,maxDefined:n}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(r);let u,f;function g(){f=s[u];const e=f[r.axis];return!a(f[t.axis])||c>e||d<e}for(u=0;u<o&&(g()||(this.updateRangeFromParsed(h,t,f,l),!n));++u);if(n)for(u=o-1;u>=0;--u)if(!g()){this.updateRangeFromParsed(h,t,f,l);break}return h}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,n,o;for(s=0,n=e.length;s<n;++s)o=e[s][t.axis],a(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,s,n;return o(t)?(e=t.top,i=t.right,s=t.bottom,n=t.left):e=i=s=n=t,{top:e,right:i,bottom:s,left:n,disabled:!1===t}}(l(this.options.clip,function(t,e,i){if(!1===i)return!1;const s=As(t,i),n=As(e,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],n=e.chartArea,o=[],a=this._drawStart||0,r=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(t,n,a,r),h=a;h<a+r;++h){const e=s[h];e.hidden||(e.active&&l?o.push(e):e.draw(t,n))}for(h=0;h<o.length;++h)o[h].draw(t,n)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let n;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];n=e.$context||(e.$context=function(t,e,i){return Ci(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),n.parsed=this.getParsed(t),n.raw=s.data[t],n.index=n.dataIndex=t}else n=this.$context||(this.$context=function(t,e){return Ci(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),n.dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!e,n.mode=i,n}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s="active"===e,n=this._cachedDataOpts,o=t+"-"+e,a=n[o],r=this.enableOptionSharing&&k(i);if(a)return Ns(a,r);const l=this.chart.config,h=l.datasetElementScopeKeys(this._type,t),c=s?[`${t}Hover`,"hover",t,""]:[t,""],d=l.getOptionScopes(this.getDataset(),h),u=Object.keys(ue.elements[t]),f=l.resolveNamedOptions(d,u,(()=>this.getContext(i,s,e)),c);return f.$shared&&(f.$shared=r,n[o]=Object.freeze(Ns(f,r))),f}_resolveAnimations(t,e,i){const s=this.chart,n=this._cachedDataOpts,o=`animation-${e}`,a=n[o];if(a)return a;let r;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,e),o=s.getOptionScopes(this.getDataset(),n);r=s.createResolver(o,this.getContext(t,i,e))}const l=new Os(s,r&&r.animations);return r&&r._cacheable&&(n[o]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Bs(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,n=this.getSharedOptions(i),o=this.includeOptions(e,n)||n!==s;return this.updateSharedOptions(n,e,i),{sharedOptions:n,includeOptions:o}}updateElement(t,e,i,s){Bs(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Bs(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const n=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[t,e,i]of this._syncList)this[t](e,i);this._syncList=[];const s=i.length,n=e.length,o=Math.min(n,s);o&&this.parse(0,o),n>s?this._insertElements(s,n-s,t):n<s&&this._removeElements(n,s-n)}_insertElements(t,e,i=!0){const s=this._cachedMeta,n=s.data,o=t+e;let a;const r=t=>{for(t.length+=e,a=t.length-1;a>=o;a--)t[a]=t[a-e]};for(r(n),a=t;a<o;++a)n[a]=new this.dataElementType;this._parsing&&r(s._parsed),this.parse(t,e),i&&this.updateElements(n,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&Vs(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Hs{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return W(this.x)&&W(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach((t=>{s[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),s}}function js(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),s=t._length/i+(e?0:1),n=t._maxLength/i;return Math.floor(Math.min(s,n))}(t),o=Math.min(i.maxTicksLimit||n,n),a=i.major.enabled?function(t){const e=[];let i,s;for(i=0,s=t.length;i<s;i++)t[i].major&&e.push(i);return e}(e):[],r=a.length,l=a[0],h=a[r-1],c=[];if(r>o)return function(t,e,i,s){let n,o=0,a=i[0];for(s=Math.ceil(s),n=0;n<t.length;n++)n===a&&(e.push(t[n]),o++,a=i[o*s])}(e,c,a,r/o),c;const d=function(t,e,i){const s=function(t){const e=t.length;let i,s;if(e<2)return!1;for(s=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==s)return!1;return s}(t),n=e.length/i;if(!s)return Math.max(n,1);const o=N(s);for(let t=0,e=o.length-1;t<e;t++){const e=o[t];if(e>n)return e}return Math.max(n,1)}(a,e,o);if(r>0){let t,i;const n=r>1?Math.round((h-l)/(r-1)):null;for($s(e,c,d,s(n)?0:l-n,l),t=0,i=r-1;t<i;t++)$s(e,c,d,a[t],a[t+1]);return $s(e,c,d,h,s(n)?e.length:h+n),c}return $s(e,c,d),c}function $s(t,e,i,s,n){const o=l(s,0),a=Math.min(l(n,t.length),t.length);let r,h,c,d=0;for(i=Math.ceil(i),n&&(r=n-s,i=r/Math.floor(r/i)),c=o;c<0;)d++,c=Math.round(o+d*i);for(h=Math.max(o,0);h<a;h++)h===c&&(e.push(t[h]),d++,c=Math.round(o+d*i))}const Ys=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,Us=(t,e)=>Math.min(e||t,t);function Xs(t,e){const i=[],s=t.length/e,n=t.length;let o=0;for(;o<n;o+=s)i.push(t[Math.floor(o)]);return i}function qs(t,e,i){const s=t.ticks.length,n=Math.min(e,s-1),o=t._startPixel,a=t._endPixel,r=1e-6;let l,h=t.getPixelForTick(n);if(!(i&&(l=1===s?Math.max(h-o,a-h):0===e?(t.getPixelForTick(1)-h)/2:(h-t.getPixelForTick(n-1))/2,h+=n<e?l:-l,h<o-r||h>a+r)))return h}function Ks(t){return t.drawTicks?t.tickLength:0}function Gs(t,e){if(!t.display)return 0;const i=Si(t.font,e),s=ki(t.padding);return(n(t.text)?t.text.length:1)*i.lineHeight+s.height}function Zs(t,e,i){let s=ut(t);return(i&&"right"!==e||!i&&"right"===e)&&(s=(t=>"left"===t?"right":"right"===t?"left":t)(s)),s}class Js extends Hs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=r(t,Number.POSITIVE_INFINITY),e=r(e,Number.NEGATIVE_INFINITY),i=r(i,Number.POSITIVE_INFINITY),s=r(s,Number.NEGATIVE_INFINITY),{min:r(t,i),max:r(e,s),minDefined:a(t),maxDefined:a(e)}}getMinMax(t){let e,{min:i,max:s,minDefined:n,maxDefined:o}=this.getUserBounds();if(n&&o)return{min:i,max:s};const a=this.getMatchingVisibleMetas();for(let r=0,l=a.length;r<l;++r)e=a[r].controller.getMinMax(this,t),n||(i=Math.min(i,e.min)),o||(s=Math.max(s,e.max));return i=o&&i>s?s:i,s=n&&i>s?i:s,{min:r(i,r(s,i)),max:r(s,r(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){d(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:n,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Di(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const r=a<this.ticks.length;this._convertTicksToLabels(r?Xs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=js(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),r&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){d(this.options.afterUpdate,[this])}beforeSetDimensions(){d(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){d(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),d(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){d(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,n;for(i=0,s=t.length;i<s;i++)n=t[i],n.label=d(e.callback,[n.value,i,t],this)}afterTickToLabelConversion(){d(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){d(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Us(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,n=e.maxRotation;let o,a,r,l=s;if(!this._isVisible()||!e.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const h=this._getLabelSizes(),c=h.widest.width,d=h.highest.height,u=J(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/i:u/(i-1),c+6>o&&(o=u/(i-(t.offset?.5:1)),a=this.maxHeight-Ks(t.grid)-e.padding-Gs(t.title,this.chart.options.font),r=Math.sqrt(c*c+d*d),l=Y(Math.min(Math.asin(J((h.highest.height+6)/o,-1,1)),Math.asin(J(a/r,-1,1))-Math.asin(J(d/r,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){d(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){d(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:n}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const o=Gs(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=Ks(n)+o):(t.height=this.maxHeight,t.width=Ks(n)+o),i.display&&this.ticks.length){const{first:e,last:s,widest:n,highest:o}=this._getLabelSizes(),r=2*i.padding,l=$(this.labelRotation),h=Math.cos(l),c=Math.sin(l);if(a){const e=i.mirror?0:c*n.width+h*o.height;t.height=Math.min(this.maxHeight,t.height+e+r)}else{const e=i.mirror?0:h*n.width+c*o.height;t.width=Math.min(this.maxWidth,t.width+e+r)}this._calculatePadding(e,s,c,h)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:n,padding:o},position:a}=this.options,r=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let c=0,d=0;r?l?(c=s*t.width,d=i*e.height):(c=i*t.height,d=s*e.width):"start"===n?d=e.width:"end"===n?c=t.width:"inner"!==n&&(c=t.width/2,d=e.width/2),this.paddingLeft=Math.max((c-a+o)*this.width/(this.width-a),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let i=e.height/2,s=t.height/2;"start"===n?(i=0,s=t.height):"end"===n&&(i=e.height,s=0),this.paddingTop=i+o,this.paddingBottom=s+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){d(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)s(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Xs(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:o,_longestTextCache:a}=this,r=[],l=[],h=Math.floor(e/Us(e,i));let c,d,f,g,p,m,b,x,_,y,v,M=0,w=0;for(c=0;c<e;c+=h){if(g=t[c].label,p=this._resolveTickFontOptions(c),o.font=m=p.string,b=a[m]=a[m]||{data:{},gc:[]},x=p.lineHeight,_=y=0,s(g)||n(g)){if(n(g))for(d=0,f=g.length;d<f;++d)v=g[d],s(v)||n(v)||(_=Ce(o,b.data,b.gc,_,v),y+=x)}else _=Ce(o,b.data,b.gc,_,g),y=x;r.push(_),l.push(y),M=Math.max(_,M),w=Math.max(y,w)}!function(t,e){u(t,(t=>{const i=t.gc,s=i.length/2;let n;if(s>e){for(n=0;n<s;++n)delete t.data[i[n]];i.splice(0,s)}}))}(a,e);const k=r.indexOf(M),S=l.indexOf(w),P=t=>({width:r[t]||0,height:l[t]||0});return{first:P(0),last:P(e-1),widest:P(k),highest:P(S),widths:r,heights:l}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Q(this._alignToPixels?Ae(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return Ci(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=Ci(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=$(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),n=this._getLabelSizes(),o=t.autoSkipPadding||0,a=n?n.widest.width+o:0,r=n?n.highest.height+o:0;return this.isHorizontal()?r*i>a*s?a/i:r/s:r*s<a*i?r/i:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:n,position:a,border:r}=s,h=n.offset,c=this.isHorizontal(),d=this.ticks.length+(h?1:0),u=Ks(n),f=[],g=r.setContext(this.getContext()),p=g.display?g.width:0,m=p/2,b=function(t){return Ae(i,t,p)};let x,_,y,v,M,w,k,S,P,D,C,O;if("top"===a)x=b(this.bottom),w=this.bottom-u,S=x-m,D=b(t.top)+m,O=t.bottom;else if("bottom"===a)x=b(this.top),D=t.top,O=b(t.bottom)-m,w=x+m,S=this.top+u;else if("left"===a)x=b(this.right),M=this.right-u,k=x-m,P=b(t.left)+m,C=t.right;else if("right"===a)x=b(this.left),P=t.left,C=b(t.right)-m,M=x+m,k=this.left+u;else if("x"===e){if("center"===a)x=b((t.top+t.bottom)/2+.5);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}D=t.top,O=t.bottom,w=x+m,S=w+u}else if("y"===e){if("center"===a)x=b((t.left+t.right)/2);else if(o(a)){const t=Object.keys(a)[0],e=a[t];x=b(this.chart.scales[t].getPixelForValue(e))}M=x-m,k=M-u,P=t.left,C=t.right}const A=l(s.ticks.maxTicksLimit,d),T=Math.max(1,Math.ceil(d/A));for(_=0;_<d;_+=T){const t=this.getContext(_),e=n.setContext(t),s=r.setContext(t),o=e.lineWidth,a=e.color,l=s.dash||[],d=s.dashOffset,u=e.tickWidth,g=e.tickColor,p=e.tickBorderDash||[],m=e.tickBorderDashOffset;y=qs(this,_,h),void 0!==y&&(v=Ae(i,y,o),c?M=k=P=C=v:w=S=D=O=v,f.push({tx1:M,ty1:w,tx2:k,ty2:S,x1:P,y1:D,x2:C,y2:O,width:o,color:a,borderDash:l,borderDashOffset:d,tickWidth:u,tickColor:g,tickBorderDash:p,tickBorderDashOffset:m}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:a}=i,r=this.isHorizontal(),l=this.ticks,{align:h,crossAlign:c,padding:d,mirror:u}=a,f=Ks(i.grid),g=f+d,p=u?-d:g,m=-$(this.labelRotation),b=[];let x,_,y,v,M,w,k,S,P,D,C,O,A="middle";if("top"===s)w=this.bottom-p,k=this._getXAxisLabelAlignment();else if("bottom"===s)w=this.top+p,k=this._getXAxisLabelAlignment();else if("left"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if("right"===s){const t=this._getYAxisLabelAlignment(f);k=t.textAlign,M=t.x}else if("x"===e){if("center"===s)w=(t.top+t.bottom)/2+g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];w=this.chart.scales[t].getPixelForValue(e)+g}k=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)M=(t.left+t.right)/2-g;else if(o(s)){const t=Object.keys(s)[0],e=s[t];M=this.chart.scales[t].getPixelForValue(e)}k=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===h?A="top":"end"===h&&(A="bottom"));const T=this._getLabelSizes();for(x=0,_=l.length;x<_;++x){y=l[x],v=y.label;const t=a.setContext(this.getContext(x));S=this.getPixelForTick(x)+a.labelOffset,P=this._resolveTickFontOptions(x),D=P.lineHeight,C=n(v)?v.length:1;const e=C/2,i=t.color,o=t.textStrokeColor,h=t.textStrokeWidth;let d,f=k;if(r?(M=S,"inner"===k&&(f=x===_-1?this.options.reverse?"left":"right":0===x?this.options.reverse?"right":"left":"center"),O="top"===s?"near"===c||0!==m?-C*D+D/2:"center"===c?-T.highest.height/2-e*D+D:-T.highest.height+D/2:"near"===c||0!==m?D/2:"center"===c?T.highest.height/2-e*D:T.highest.height-C*D,u&&(O*=-1),0===m||t.showLabelBackdrop||(M+=D/2*Math.sin(m))):(w=S,O=(1-C)*D/2),t.showLabelBackdrop){const e=ki(t.backdropPadding),i=T.heights[x],s=T.widths[x];let n=O-e.top,o=0-e.left;switch(A){case"middle":n-=i/2;break;case"bottom":n-=i}switch(k){case"center":o-=s/2;break;case"right":o-=s}d={left:o,top:n,width:s+e.width,height:i+e.height,color:t.backdropColor}}b.push({label:v,font:P,textOffset:O,options:{rotation:m,color:i,strokeColor:o,strokeWidth:h,textAlign:f,textBaseline:A,translation:[M,w],backdrop:d}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-$(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,o=t+n,a=this._getLabelSizes().widest.width;let r,l;return"left"===e?s?(l=this.right+n,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l+=a)):(l=this.right-o,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l=this.left)):"right"===e?s?(l=this.left+n,"near"===i?r="right":"center"===i?(r="center",l-=a/2):(r="left",l-=a)):(l=this.left+o,"near"===i?r="left":"center"===i?(r="center",l+=a/2):(r="right",l=this.right)):r="right",{textAlign:r,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:n,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,n,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let n,o;const a=(t,e,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(n=0,o=s.length;n<o;++n){const t=s[n];e.drawOnChartArea&&a({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&a({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,n=i.setContext(this.getContext()),o=i.display?n.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,r=this._borderValue;let l,h,c,d;this.isHorizontal()?(l=Ae(t,this.left,o)-o/2,h=Ae(t,this.right,a)+a/2,c=d=r):(c=Ae(t,this.top,o)-o/2,d=Ae(t,this.bottom,a)+a/2,l=h=r),e.save(),e.lineWidth=n.width,e.strokeStyle=n.color,e.beginPath(),e.moveTo(l,c),e.lineTo(h,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&Ie(e,i);const s=this.getLabelItems(t);for(const t of s){const i=t.options,s=t.font;We(e,t.label,0,t.textOffset,s,i)}i&&ze(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const a=Si(i.font),r=ki(i.padding),l=i.align;let h=a.lineHeight/2;"bottom"===e||"center"===e||o(e)?(h+=r.bottom,n(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=r.top;const{titleX:c,titleY:d,maxWidth:u,rotation:f}=function(t,e,i,s){const{top:n,left:a,bottom:r,right:l,chart:h}=t,{chartArea:c,scales:d}=h;let u,f,g,p=0;const m=r-n,b=l-a;if(t.isHorizontal()){if(f=ft(s,a,l),o(i)){const t=Object.keys(i)[0],s=i[t];g=d[t].getPixelForValue(s)+m-e}else g="center"===i?(c.bottom+c.top)/2+m-e:Ys(t,i,e);u=l-a}else{if(o(i)){const t=Object.keys(i)[0],s=i[t];f=d[t].getPixelForValue(s)-b+e}else f="center"===i?(c.left+c.right)/2-b+e:Ys(t,i,e);g=ft(s,r,n),p="left"===i?-E:E}return{titleX:f,titleY:g,maxWidth:u,rotation:p}}(this,h,e,l);We(t,i.text,0,0,a,{color:i.color,maxWidth:u,rotation:f,textAlign:Zs(l,e,s),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=l(t.grid&&t.grid.z,-1),s=l(t.border&&t.border.z,0);return this._isVisible()&&this.draw===Js.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,o;for(n=0,o=e.length;n<o;++n){const o=e[n];o[i]!==this.id||t&&o.type!==t||s.push(o)}return s}_resolveTickFontOptions(t){return Si(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const s=this.items,n=t.id,o=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);return n in s||(s[n]=t,function(t,e,i){const s=b(Object.create(null),[i?ue.get(i):{},ue.get(e),t.defaults]);ue.set(e,s),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const s=i.split("."),n=s.pop(),o=[t].concat(s).join("."),a=e[i].split("."),r=a.pop(),l=a.join(".");ue.route(o,n,l,r)}))}(e,t.defaultRoutes);t.descriptors&&ue.describe(e,t.descriptors)}(t,o,i),this.override&&ue.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in ue[s]&&(delete ue[s][i],this.override&&delete re[i])}}class tn{constructor(){this.controllers=new Qs(Ws,"datasets",!0),this.elements=new Qs(Hs,"elements"),this.plugins=new Qs(Object,"plugins"),this.scales=new Qs(Js,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const s=i||this._getRegistryForType(e);i||s.isForType(e)||s===this.plugins&&e.id?this._exec(t,s,e):u(e,(e=>{const s=i||this._getRegistryForType(e);this._exec(t,s,e)}))}))}_exec(t,e,i){const s=w(t);d(i["before"+s],[],i),e[t](i),d(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var en=new tn;class sn{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const n=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(n,t,e,i);return"afterDestroy"===e&&(this._notify(n,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const n of t){const t=n.plugin;if(!1===d(t[i],[e,s,n.options],t)&&s.cancelable)return!1}return!0}invalidate(){s(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=l(i.options&&i.options.plugins,{}),n=function(t){const e={},i=[],s=Object.keys(en.plugins.items);for(let t=0;t<s.length;t++)i.push(en.getPlugin(s[t]));const n=t.plugins||[];for(let t=0;t<n.length;t++){const s=n[t];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==s||e?function(t,{plugins:e,localIds:i},s,n){const o=[],a=t.getContext();for(const r of e){const e=r.id,l=nn(s[e],n);null!==l&&o.push({plugin:r,options:on(t.config,{plugin:r,local:i[e]},l,a)})}return o}(t,n,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function nn(t,e){return e||!1!==t?!0===t?{}:t:null}function on(t,{plugin:e,local:i},s,n){const o=t.pluginScopeKeys(e),a=t.getOptionScopes(s,o);return i&&e.defaults&&a.push(e.defaults),t.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function an(t,e){const i=ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function rn(t){if("x"===t||"y"===t||"r"===t)return t}function ln(t,...e){if(rn(t))return t;for(const s of e){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&rn(t[0].toLowerCase());if(e)return e}var i;throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function hn(t,e,i){if(i[e+"AxisID"]===t)return{axis:e}}function cn(t,e){const i=re[t.type]||{scales:{}},s=e.scales||{},n=an(t.type,e),a=Object.create(null);return Object.keys(s).forEach((e=>{const r=s[e];if(!o(r))return console.error(`Invalid scale configuration for scale: ${e}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=ln(e,r,function(t,e){if(e.data&&e.data.datasets){const i=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(i.length)return hn(t,"x",i[0])||hn(t,"y",i[0])}return{}}(e,t),ue.scales[r.type]),h=function(t,e){return t===e?"_index_":"_value_"}(l,n),c=i.scales||{};a[e]=x(Object.create(null),[{axis:l},r,c[l],c[h]])})),t.data.datasets.forEach((i=>{const n=i.type||t.type,o=i.indexAxis||an(n,e),r=(re[n]||{}).scales||{};Object.keys(r).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,o),n=i[e+"AxisID"]||e;a[n]=a[n]||Object.create(null),x(a[n],[{axis:e},s[n],r[t]])}))})),Object.keys(a).forEach((t=>{const e=a[t];x(e,[ue.scales[e.type],ue.scale])})),a}function dn(t){const e=t.options||(t.options={});e.plugins=l(e.plugins,{}),e.scales=cn(t,e)}function un(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const fn=new Map,gn=new Set;function pn(t,e){let i=fn.get(t);return i||(i=e(),fn.set(t,i),gn.add(i)),i}const mn=(t,e,i)=>{const s=M(e,i);void 0!==s&&t.add(s)};class bn{constructor(t){this._config=function(t){return(t=t||{}).data=un(t.data),dn(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=un(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dn(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pn(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return pn(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return pn(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return pn(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return s&&!e||(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:n}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const r=new Set;e.forEach((e=>{t&&(r.add(t),e.forEach((e=>mn(r,t,e)))),e.forEach((t=>mn(r,s,t))),e.forEach((t=>mn(r,re[n]||{},t))),e.forEach((t=>mn(r,ue,t))),e.forEach((t=>mn(r,le,t)))}));const l=Array.from(r);return 0===l.length&&l.push(Object.create(null)),gn.has(e)&&o.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,re[e]||{},ue.datasets[e]||{},{type:e},ue,le]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:a,subPrefixes:r}=xn(this._resolverCache,t,s);let l=a;if(function(t,e){const{isScriptable:i,isIndexable:s}=Ye(t);for(const o of e){const e=i(o),a=s(o),r=(a||e)&&t[o];if(e&&(S(r)||_n(r))||a&&n(r))return!0}return!1}(a,e)){o.$shared=!1;l=$e(a,i=S(i)?i():i,this.createResolver(t,i,r))}for(const t of e)o[t]=l[t];return o}createResolver(t,e,i=[""],s){const{resolver:n}=xn(this._resolverCache,t,i);return o(e)?$e(n,e,void 0,s):n}}function xn(t,e,i){let s=t.get(e);s||(s=new Map,t.set(e,s));const n=i.join();let o=s.get(n);if(!o){o={resolver:je(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},s.set(n,o)}return o}const _n=t=>o(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||S(t[i])),!1);const yn=["top","bottom","left","right","chartArea"];function vn(t,e){return"top"===t||"bottom"===t||-1===yn.indexOf(t)&&"x"===e}function Mn(t,e){return function(i,s){return i[t]===s[t]?i[e]-s[e]:i[t]-s[t]}}function wn(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),d(i&&i.onComplete,[t],e)}function kn(t){const e=t.chart,i=e.options.animation;d(i&&i.onProgress,[t],e)}function Sn(t){return fe()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pn={},Dn=t=>{const e=Sn(t);return Object.values(Pn).filter((t=>t.canvas===e)).pop()};function Cn(t,e,i){const s=Object.keys(t);for(const n of s){const s=+n;if(s>=e){const o=t[n];delete t[n],(i>0||s>e)&&(t[s+i]=o)}}}class On{static defaults=ue;static instances=Pn;static overrides=re;static registry=en;static version="4.3.0";static getChart=Dn;static register(...t){en.add(...t),An()}static unregister(...t){en.remove(...t),An()}constructor(t,e){const s=this.config=new bn(e),n=Sn(t),o=Dn(n);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ks(n)),this.platform.updateConfig(s);const r=this.platform.acquireContext(n,a.aspectRatio),l=r&&r.canvas,h=l&&l.height,c=l&&l.width;this.id=i(),this.ctx=r,this.canvas=l,this.width=c,this.height=h,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sn,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dt((t=>this.update(t)),a.resizeDelay||0),this._dataChanges=[],Pn[this.id]=this,r&&l?(xt.listen(this,"complete",wn),xt.listen(this,"progress",kn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:o}=this;return s(t)?e&&o?o:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return en}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ke(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Te(this.canvas,this.ctx),this}stop(){return xt.stop(this),this}resize(t,e){xt.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,e,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,ke(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),d(i.onResize,[this,o],this),this.attached&&this._doResize(r)&&this.render())}ensureScalesHaveIDs(){u(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let n=[];e&&(n=n.concat(Object.keys(e).map((t=>{const i=e[t],s=ln(t,i),n="r"===s,o="x"===s;return{options:i,dposition:n?"chartArea":o?"bottom":"left",dtype:n?"radialLinear":o?"category":"linear"}})))),u(n,(e=>{const n=e.options,o=n.id,a=ln(o,n),r=l(n.type,e.dtype);void 0!==n.position&&vn(n.position,a)===vn(e.dposition)||(n.position=e.dposition),s[o]=!0;let h=null;if(o in i&&i[o].type===r)h=i[o];else{h=new(en.getScale(r))({id:o,type:r,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(n,t)})),u(s,((t,e)=>{t||delete i[e]})),u(i,(t=>{as.configure(this,t,t.options),as.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Mn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const s=e[i];let n=this.getDatasetMeta(i);const o=s.type||this.config.type;if(n.type&&n.type!==o&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=o,n.indexAxis=s.indexAxis||an(o,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const e=en.getController(o),{datasetElementType:s,dataElementType:a}=ue.datasets[o];Object.assign(e,{dataElementType:en.getElement(a),datasetElementType:s&&en.getElement(s)}),n.controller=new e(this,i),t.push(n.controller)}}return this._updateMetasets(),t}_resetElements(){u(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let t=0,e=this.data.datasets.length;t<e;t++){const{controller:e}=this.getDatasetMeta(t),i=!s&&-1===n.indexOf(e);e.buildOrUpdateElements(i),o=Math.max(+e.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||u(n,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mn("z","_idx"));const{_active:a,_lastEvent:r}=this;r?this._eventHandler(r,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){u(this.scales,(t=>{as.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);P(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of e){Cn(t,s,"_removeElements"===i?-n:n)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),s=i(0);for(let t=1;t<e;t++)if(!P(s,i(t)))return;return Array.from(s).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;as.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],u(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,S(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xt.has(this)?this.attached&&!xt.running(this)&&xt.start(this):(this.draw(),wn({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,n;for(s=0,n=e.length;s<n;++s){const n=e[s];t&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,n=function(t){const{xScale:e,yScale:i}=t;if(e&&i)return{left:e.left,right:e.right,top:i.top,bottom:i.bottom}}(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&Ie(e,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),t.controller.draw(),s&&ze(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Re(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const n=Xi.modes[e];return"function"==typeof n?n(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter((t=>t&&t._dataset===e)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Ci(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",n=this.getDatasetMeta(t),o=n.controller._resolveAnimations(void 0,s);k(e)?(n.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(n,{visible:i}),this.update((e=>e.datasetIndex===t?s:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xt.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Te(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Pn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};u(this.options.events,(t=>i(t,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,s)=>{e.addEventListener(this,i,s),t[i]=s},s=(i,s)=>{t[i]&&(e.removeEventListener(this,i,s),delete t[i])},n=(t,e)=>{this.canvas&&this.resize(t,e)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",o)};o=()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){u(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},u(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let n,o,a,r;for("dataset"===e&&(n=this.getDatasetMeta(t[0].datasetIndex),n.controller["_"+s+"DatasetHoverStyle"]()),a=0,r=t.length;a<r;++a){o=t[a];const e=o&&this.getDatasetMeta(o.datasetIndex).controller;e&&e[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!f(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const s=this.options.hover,n=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),o=n(e,t),a=i?t:n(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:n}=this,o=e,a=this._getActiveElements(t,s,i,o),r=D(t),l=function(t,e,i,s){return i&&"mouseout"!==t.type?s?e:t:null}(t,this._lastEvent,i,r);i&&(this._lastEvent=null,d(n.onHover,[t,a,this],this),r&&d(n.onClick,[t,a,this],this));const h=!f(a,s);return(h||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=l,h}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const n=this.options.hover;return this.getElementsAtEventForMode(t,n.mode,n,s)}}function An(){return u(On.instances,(t=>t._plugins.invalidate()))}function Tn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ln{static override(t){Object.assign(Ln.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Tn()}parse(){return Tn()}format(){return Tn()}add(){return Tn()}diff(){return Tn()}startOf(){return Tn()}endOf(){return Tn()}}var En={_date:Ln};function Rn(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let s=[];for(let e=0,n=i.length;e<n;e++)s=s.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=lt(s.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let s,n,o,a,r=e._length;const l=()=>{32767!==o&&-32768!==o&&(k(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,n=i.length;s<n;++s)o=e.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=e.ticks.length;s<n;++s)o=e.getPixelForTick(s),l();return r}function In(t,e,i,s){return n(t)?function(t,e,i,s){const n=i.parse(t[0],s),o=i.parse(t[1],s),a=Math.min(n,o),r=Math.max(n,o);let l=a,h=r;Math.abs(a)>Math.abs(r)&&(l=r,h=a),e[i.axis]=h,e._custom={barStart:l,barEnd:h,start:n,end:o,min:a,max:r}}(t,e,i,s):e[i.axis]=i.parse(t,s),e}function zn(t,e,i,s){const n=t.iScale,o=t.vScale,a=n.getLabels(),r=n===o,l=[];let h,c,d,u;for(h=i,c=i+s;h<c;++h)u=e[h],d={},d[n.axis]=r||n.parse(a[h],h),l.push(In(u,d,o,h));return l}function Fn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Vn(t,e,i,s){let n=e.borderSkipped;const o={};if(!n)return void(t.borderSkipped=o);if(!0===n)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:r,reverse:l,top:h,bottom:c}=function(t){let e,i,s,n,o;return t.horizontal?(e=t.base>t.x,i="left",s="right"):(e=t.base<t.y,i="bottom",s="top"),e?(n="end",o="start"):(n="start",o="end"),{start:i,end:s,reverse:e,top:n,bottom:o}}(t);"middle"===n&&i&&(t.enableBorderRadius=!0,(i._top||0)===s?n=h:(i._bottom||0)===s?n=c:(o[Bn(c,a,r,l)]=!0,n=h)),o[Bn(n,a,r,l)]=!0,t.borderSkipped=o}function Bn(t,e,i,s){var n,o,a;return s?(a=i,t=Nn(t=(n=t)===(o=e)?a:n===a?o:n,i,e)):t=Nn(t,e,i),t}function Nn(t,e,i){return"start"===t?e:"end"===t?i:t}function Wn(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}class Hn extends Ws{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let n,a,r=t=>+i[t];if(o(i[t])){const{key:t="value"}=this._parsing;r=e=>+M(i[e],t)}for(n=t,a=t+e;n<a;++n)s._parsed[n]=r(n)}}_getRotation(){return $(this.options.rotation-90)}_getCircumference(){return $(this.options.circumference)}_getRotationExtents(){let t=O,e=-O;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),o=s._getCircumference();t=Math.min(t,n),e=Math.max(e,n+o)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,n=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),r=Math.min(h(this.options.cutout,a),1),l=this._getRingWeight(this.index),{circumference:d,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:p,offsetY:m}=function(t,e,i){let s=1,n=1,o=0,a=0;if(e<O){const r=t,l=r+e,h=Math.cos(r),c=Math.sin(r),d=Math.cos(l),u=Math.sin(l),f=(t,e,s)=>Z(t,r,l,!0)?1:Math.max(e,e*i,s,s*i),g=(t,e,s)=>Z(t,r,l,!0)?-1:Math.min(e,e*i,s,s*i),p=f(0,h,d),m=f(E,c,u),b=g(C,h,d),x=g(C+E,c,u);s=(p-b)/2,n=(m-x)/2,o=-(p+b)/2,a=-(m+x)/2}return{ratioX:s,ratioY:n,offsetX:o,offsetY:a}}(u,d,r),b=(i.width-o)/f,x=(i.height-o)/g,_=Math.max(Math.min(b,x)/2,0),y=c(this.options.radius,_),v=(y-Math.max(y*r,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=m*y,s.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*l,0),this.updateElements(n,0,n.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===s._parsed[t]||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*n/O)}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.chartArea,r=o.options.animation,l=(a.left+a.right)/2,h=(a.top+a.bottom)/2,c=n&&r.animateScale,d=c?0:this.innerRadius,u=c?0:this.outerRadius,{sharedOptions:f,includeOptions:g}=this._getSharedOptions(e,s);let p,m=this._getRotation();for(p=0;p<e;++p)m+=this._circumference(p,n);for(p=e;p<e+i;++p){const e=this._circumference(p,n),i=t[p],o={x:l+this.offsetX,y:h+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:d};g&&(o.options=f||this.resolveDataElementOptions(p,i.active?"active":s)),m+=e,this.updateElement(i,p,o,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,s=0;for(i=0;i<e.length;i++){const n=t._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||e[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?O*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t],i.options.locale);return{label:s[t]||"",value:n}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,n,o,a,r;if(!t)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}if(!t)return 0;for(s=0,n=t.length;s<n;++s)r=a.resolveDataElementOptions(s),"inner"!==r.borderAlign&&(e=Math.max(e,r.borderWidth||0,r.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(l(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class jn extends Ws{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map(((e,n)=>{const o=t.getDatasetMeta(0).controller.getStyle(n);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:s,lineWidth:o.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(n),index:n}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=ne(e._parsed[t].r,i.options.locale);return{label:s[t]||"",value:n}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<e.min&&(e.min=s),s>e.max&&(e.max=s))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,s=Math.min(e.right-e.left,e.bottom-e.top),n=Math.max(s/2,0),o=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=n-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,i,s){const n="reset"===s,o=this.chart,a=o.options.animation,r=this._cachedMeta.rScale,l=r.xCenter,h=r.yCenter,c=r.getIndexAngle(0)-.5*C;let d,u=c;const f=360/this.countVisibleElements();for(d=0;d<e;++d)u+=this._computeAngle(d,s,f);for(d=e;d<e+i;d++){const e=t[d];let i=u,g=u+this._computeAngle(d,s,f),p=o.getDataVisibility(d)?r.getDistanceFromCenterForValue(this.getParsed(d).r):0;u=g,n&&(a.animateScale&&(p=0),a.animateRotate&&(i=g=c));const m={x:l,y:h,innerRadius:0,outerRadius:p,startAngle:i,endAngle:g,options:this.resolveDataElementOptions(d,e.active?"active":s)};this.updateElement(e,d,m,s)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?$(this.resolveDataElementOptions(t,e).angle||i):0}}var $n=Object.freeze({__proto__:null,BarController:class extends Ws{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,s){return zn(t,e,i,s)}parseArrayData(t,e,i,s){return zn(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:n,vScale:o}=t,{xAxisKey:a="x",yAxisKey:r="y"}=this._parsing,l="x"===n.axis?a:r,h="x"===o.axis?a:r,c=[];let d,u,f,g;for(d=i,u=i+s;d<u;++d)g=e[d],f={},f[n.axis]=n.parse(M(g,l),d),c.push(In(M(g,h),f,o,d));return c}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const n=i._custom;n&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,n.min),t.max=Math.max(t.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,n=this.getParsed(t),o=n._custom,a=Fn(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const o="reset"===n,{index:a,_cachedMeta:{vScale:r}}=this,l=r.getBasePixel(),h=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(e,n);for(let f=e;f<e+i;f++){const e=this.getParsed(f),i=o||s(e[r.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,c),p=(e._stacks||{})[r.axis],m={horizontal:h,base:i.base,enableBorderRadius:!p||Fn(e._custom)||a===p._top||a===p._bottom,x:h?i.head:g.center,y:h?g.center:i.head,height:h?g.size:Math.abs(i.size),width:h?Math.abs(i.size):g.size};u&&(m.options=d||this.resolveDataElementOptions(f,t[f].active?"active":n));const b=m.options||t[f].options;Vn(m,b,p,a),Wn(m,b,c.ratio),this.updateElement(t[f],f,m,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),o=i.options.stacked,a=[],r=t=>{const i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(s(n)||isNaN(n))return!0};for(const i of n)if((void 0===e||!r(i))&&((!1===o||-1===a.indexOf(i.stack)||void 0===o&&void 0===i.stack)&&a.push(i.stack),i.index===t))break;return a.length||a.push(void 0),a}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),n=void 0!==e?s.indexOf(e):-1;return-1===n?s.length-1:n}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let n,o;for(n=0,o=e.data.length;n<o;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=t.barThickness;return{min:a||Rn(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:o,minBarLength:a}}=this,r=o||0,l=this.getParsed(t),h=l._custom,c=Fn(h);let d,u,f=l[e.axis],g=0,p=i?this.applyStack(e,l,i):f;p!==f&&(g=p-f,p=f),c&&(f=h.barStart,p=h.barEnd-h.barStart,0!==f&&F(f)!==F(h.barEnd)&&(g=0),g+=f);const m=s(o)||c?g:o;let b=e.getPixelForValue(m);if(d=this.chart.getDataVisibility(t)?e.getPixelForValue(g+p):b,u=d-b,Math.abs(u)<a){u=function(t,e,i){return 0!==t?F(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(u,e,r)*a,f===r&&(b-=u/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),o=Math.min(t,s),h=Math.max(t,s);b=Math.max(Math.min(b,h),o),d=b+u,i&&!c&&(l._stacks[e.axis]._visualValues[n]=e.getValueForPixel(d)-e.getValueForPixel(b))}if(b===e.getPixelForValue(r)){const t=F(u)*e.getLineWidthForValue(r)/2;b+=t,u-=t}return{size:u,base:b,head:d,center:d+u/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,o=n.skipNull,a=l(n.maxBarThickness,1/0);let r,h;if(e.grouped){const i=o?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?function(t,e,i,s){const n=e.pixels,o=n[t];let a=t>0?n[t-1]:null,r=t<n.length-1?n[t+1]:null;const l=i.categoryPercentage;null===a&&(a=o-(null===r?e.end-e.start:r-o)),null===r&&(r=o+o-a);const h=o-(o-Math.min(a,r))/2*l;return{chunk:Math.abs(r-a)/2*l/s,ratio:i.barPercentage,start:h}}(t,e,n,i):function(t,e,i,n){const o=i.barThickness;let a,r;return s(o)?(a=e.min*i.categoryPercentage,r=i.barPercentage):(a=o*n,r=1),{chunk:a/n,ratio:r,start:e.pixels[t]-a/2}}(t,e,n,i),c=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);r=l.start+l.chunk*c+l.chunk/2,h=Math.min(a,l.chunk*l.ratio)}else r=i.getPixelForValue(this.getParsed(t)[i.axis],t),h=Math.min(a,e.min*e.ratio);return{base:r-h/2,head:r+h/2,center:r,size:h}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[e.axis]&&i[n].draw(this._ctx)}},BubbleController:class extends Ws{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,s){const n=super.parsePrimitiveData(t,e,i,s);for(let t=0;t<n.length;t++)n[t]._custom=this.resolveDataElementOptions(t+i).radius;return n}parseArrayData(t,e,i,s){const n=super.parseArrayData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s[2],this.resolveDataElementOptions(t+i).radius)}return n}parseObjectData(t,e,i,s){const n=super.parseObjectData(t,e,i,s);for(let t=0;t<n.length;t++){const s=e[i+t];n[t]._custom=l(s&&s.r&&+s.r,this.resolveDataElementOptions(t+i).radius)}return n}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y),l=o._custom;return{label:i[t]||"",value:"("+a+", "+r+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,s){const n="reset"===s,{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:r,includeOptions:l}=this._getSharedOptions(e,s),h=o.axis,c=a.axis;for(let d=e;d<e+i;d++){const e=t[d],i=!n&&this.getParsed(d),u={},f=u[h]=n?o.getPixelForDecimal(.5):o.getPixelForValue(i[h]),g=u[c]=n?a.getBasePixel():a.getPixelForValue(i[c]);u.skip=isNaN(f)||isNaN(g),l&&(u.options=r||this.resolveDataElementOptions(d,e.active?"active":s),n&&(u.options.radius=0)),this.updateElement(e,d,u,s)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,e);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==e&&(s.radius=0),s.radius+=l(i&&i._custom,n),s}},DoughnutController:Hn,LineController:class extends Ws{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=e,o=this.chart._animationsDisabled;let{start:a,count:r}=pt(e,s,o);this._drawStart=a,this._drawCount=r,mt(e)&&(a=0,r=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:l},t),this.updateElements(s,a,r,t)}updateElements(t,e,i,n){const o="reset"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,n),u=a.axis,f=r.axis,{spanGaps:g,segment:p}=this.options,m=W(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||o||"none"===n,x=e+i,_=t.length;let y=e>0&&this.getParsed(e-1);for(let i=0;i<_;++i){const g=t[i],_=b?g:{};if(i<e||i>=x){_.skip=!0;continue}const v=this.getParsed(i),M=s(v[f]),w=_[u]=a.getPixelForValue(v[u],i),k=_[f]=o||M?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,v,l):v[f],i);_.skip=isNaN(w)||isNaN(k)||M,_.stop=i>0&&Math.abs(v[u]-y[u])>m,p&&(_.parsed=v,_.raw=h.data[i]),d&&(_.options=c||this.resolveDataElementOptions(i,g.active?"active":n)),b||this.updateElement(g,i,_,n),y=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}},PieController:class extends Hn{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}},PolarAreaController:jn,RadarController:class extends Ws{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,s){return ii.bind(this)(t,e,i,s)}update(t){const e=this._cachedMeta,i=e.dataset,s=e.data||[],n=e.iScale.getLabels();if(i.points=s,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const o={_loop:!0,_fullLoop:n.length===s.length,options:e};this.updateElement(i,void 0,o,t)}this.updateElements(s,0,s.length,t)}updateElements(t,e,i,s){const n=this._cachedMeta.rScale,o="reset"===s;for(let a=e;a<e+i;a++){const e=t[a],i=this.resolveDataElementOptions(a,e.active?"active":s),r=n.getPointPositionForValue(a,this.getParsed(a).r),l=o?n.xCenter:r.x,h=o?n.yCenter:r.y,c={x:l,y:h,angle:r.angle,skip:isNaN(l)||isNaN(h),options:i};this.updateElement(e,a,c,s)}}},ScatterController:class extends Ws{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:n}=e,o=this.getParsed(t),a=s.getLabelForValue(o.x),r=n.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+r+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,s=this.chart._animationsDisabled;let{start:n,count:o}=pt(e,i,s);if(this._drawStart=n,this._drawCount=o,mt(e)&&(n=0,o=i.length),this.options.showLine){const{dataset:n,_dataset:o}=e;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const a=this.resolveDatasetElementOptions(t);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},t)}this.updateElements(i,n,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const o="reset"===n,{iScale:a,vScale:r,_stacked:l,_dataset:h}=this._cachedMeta,c=this.resolveDataElementOptions(e,n),d=this.getSharedOptions(c),u=this.includeOptions(n,d),f=a.axis,g=r.axis,{spanGaps:p,segment:m}=this.options,b=W(p)?p:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||"none"===n;let _=e>0&&this.getParsed(e-1);for(let c=e;c<e+i;++c){const e=t[c],i=this.getParsed(c),p=x?e:{},y=s(i[g]),v=p[f]=a.getPixelForValue(i[f],c),M=p[g]=o||y?r.getBasePixel():r.getPixelForValue(l?this.applyStack(r,i,l):i[g],c);p.skip=isNaN(v)||isNaN(M)||y,p.stop=c>0&&Math.abs(i[f]-_[f])>b,m&&(p.parsed=i,p.raw=h.data[c]),u&&(p.options=d||this.resolveDataElementOptions(c,e.active?"active":n)),x||this.updateElement(e,c,p,n),_=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!e.length)return s;const n=e[0].size(this.resolveDataElementOptions(0)),o=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(s,n,o)/2}}});function Yn(t,e,i,s){const n=vi(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const o=(i-e)/2,a=Math.min(o,s*e/2),r=t=>{const e=(i-Math.min(o,t))*s/2;return J(t,0,Math.min(o,e))};return{outerStart:r(n.outerStart),outerEnd:r(n.outerEnd),innerStart:J(n.innerStart,0,a),innerEnd:J(n.innerEnd,0,a)}}function Un(t,e,i,s){return{x:i+t*Math.cos(e),y:s+t*Math.sin(e)}}function Xn(t,e,i,s,n,o){const{x:a,y:r,startAngle:l,pixelMargin:h,innerRadius:c}=e,d=Math.max(e.outerRadius+s+i-h,0),u=c>0?c+s+i+h:0;let f=0;const g=n-l;if(s){const t=((c>0?c-s:0)+(d>0?d-s:0))/2;f=(g-(0!==t?g*t/(t+s):g))/2}const p=(g-Math.max(.001,g*d-i/C)/d)/2,m=l+p+f,b=n-p-f,{outerStart:x,outerEnd:_,innerStart:y,innerEnd:v}=Yn(e,u,d,b-m),M=d-x,w=d-_,k=m+x/M,S=b-_/w,P=u+y,D=u+v,O=m+y/P,A=b-v/D;if(t.beginPath(),o){const e=(k+S)/2;if(t.arc(a,r,d,k,e),t.arc(a,r,d,e,S),_>0){const e=Un(w,S,a,r);t.arc(e.x,e.y,_,S,b+E)}const i=Un(D,b,a,r);if(t.lineTo(i.x,i.y),v>0){const e=Un(D,A,a,r);t.arc(e.x,e.y,v,b+E,A+Math.PI)}const s=(b-v/u+(m+y/u))/2;if(t.arc(a,r,u,b-v/u,s,!0),t.arc(a,r,u,s,m+y/u,!0),y>0){const e=Un(P,O,a,r);t.arc(e.x,e.y,y,O+Math.PI,m-E)}const n=Un(M,m,a,r);if(t.lineTo(n.x,n.y),x>0){const e=Un(M,k,a,r);t.arc(e.x,e.y,x,m-E,k)}}else{t.moveTo(a,r);const e=Math.cos(k)*d+a,i=Math.sin(k)*d+r;t.lineTo(e,i);const s=Math.cos(S)*d+a,n=Math.sin(S)*d+r;t.lineTo(s,n)}t.closePath()}function qn(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r,options:l}=e,{borderWidth:h,borderJoinStyle:c,borderDash:d,borderDashOffset:u}=l,f="inner"===l.borderAlign;if(!h)return;t.setLineDash(d||[]),t.lineDashOffset=u,f?(t.lineWidth=2*h,t.lineJoin=c||"round"):(t.lineWidth=h,t.lineJoin=c||"bevel");let g=e.endAngle;if(o){Xn(t,e,i,s,g,n);for(let e=0;e<o;++e)t.stroke();isNaN(r)||(g=a+(r%O||O))}f&&function(t,e,i){const{startAngle:s,pixelMargin:n,x:o,y:a,outerRadius:r,innerRadius:l}=e;let h=n/r;t.beginPath(),t.arc(o,a,r,s-h,i+h),l>n?(h=n/l,t.arc(o,a,l,i+h,s-h,!0)):t.arc(o,a,n,i+E,s-E),t.closePath(),t.clip()}(t,e,g),o||(Xn(t,e,i,s,g,n),t.stroke())}function Kn(t,e,i=e){t.lineCap=l(i.borderCapStyle,e.borderCapStyle),t.setLineDash(l(i.borderDash,e.borderDash)),t.lineDashOffset=l(i.borderDashOffset,e.borderDashOffset),t.lineJoin=l(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=l(i.borderWidth,e.borderWidth),t.strokeStyle=l(i.borderColor,e.borderColor)}function Gn(t,e,i){t.lineTo(i.x,i.y)}function Zn(t,e,i={}){const s=t.length,{start:n=0,end:o=s-1}=i,{start:a,end:r}=e,l=Math.max(n,a),h=Math.min(o,r),c=n<a&&o<a||n>r&&o>r;return{count:s,start:l,loop:e.loop,ilen:h<l&&!c?s+h-l:h-l}}function Jn(t,e,i,s){const{points:n,options:o}=e,{count:a,start:r,loop:l,ilen:h}=Zn(n,i,s),c=function(t){return t.stepped?Fe:t.tension||"monotone"===t.cubicInterpolationMode?Ve:Gn}(o);let d,u,f,{move:g=!0,reverse:p}=s||{};for(d=0;d<=h;++d)u=n[(r+(p?h-d:d))%a],u.skip||(g?(t.moveTo(u.x,u.y),g=!1):c(t,f,u,p,o.stepped),f=u);return l&&(u=n[(r+(p?h:0))%a],c(t,f,u,p,o.stepped)),!!l}function Qn(t,e,i,s){const n=e.points,{count:o,start:a,ilen:r}=Zn(n,i,s),{move:l=!0,reverse:h}=s||{};let c,d,u,f,g,p,m=0,b=0;const x=t=>(a+(h?r-t:t))%o,_=()=>{f!==g&&(t.lineTo(m,g),t.lineTo(m,f),t.lineTo(m,p))};for(l&&(d=n[x(0)],t.moveTo(d.x,d.y)),c=0;c<=r;++c){if(d=n[x(c)],d.skip)continue;const e=d.x,i=d.y,s=0|e;s===u?(i<f?f=i:i>g&&(g=i),m=(b*m+e)/++b):(_(),t.lineTo(e,i),u=s,b=0,f=g=i),p=i}_()}function to(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Qn:Jn}const eo="function"==typeof Path2D;function io(t,e,i,s){eo&&!e.options.segment?function(t,e,i,s){let n=e._path;n||(n=e._path=new Path2D,e.path(n,i,s)&&n.closePath()),Kn(t,e.options),t.stroke(n)}(t,e,i,s):function(t,e,i,s){const{segments:n,options:o}=e,a=to(e);for(const r of n)Kn(t,o,r.style),t.beginPath(),a(t,e,r,{start:i,end:i+s-1})&&t.closePath(),t.stroke()}(t,e,i,s)}class so extends Hs{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;hi(this._points,i,t,s,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=zi(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,s=t[e],n=this.points,o=Ii(this,{property:e,start:s,end:s});if(!o.length)return;const a=[],r=function(t){return t.stepped?pi:t.tension||"monotone"===t.cubicInterpolationMode?mi:gi}(i);let l,h;for(l=0,h=o.length;l<h;++l){const{start:h,end:c}=o[l],d=n[h],u=n[c];if(d===u){a.push(d);continue}const f=r(d,u,Math.abs((s-d[e])/(u[e]-d[e])),i.stepped);f[e]=t[e],a.push(f)}return 1===a.length?a[0]:a}pathSegment(t,e,i){return to(this)(t,this,e,i)}path(t,e,i){const s=this.segments,n=to(this);let o=this._loop;e=e||0,i=i||this.points.length-e;for(const a of s)o&=n(t,this,a,{start:e,end:e+i-1});return!!o}draw(t,e,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(t.save(),io(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function no(t,e,i,s){const n=t.options,{[i]:o}=t.getProps([i],s);return Math.abs(e-o)<n.radius+n.hitRadius}function oo(t,e){const{x:i,y:s,base:n,width:o,height:a}=t.getProps(["x","y","base","width","height"],e);let r,l,h,c,d;return t.horizontal?(d=a/2,r=Math.min(i,n),l=Math.max(i,n),h=s-d,c=s+d):(d=o/2,r=i-d,l=i+d,h=Math.min(s,n),c=Math.max(s,n)),{left:r,top:h,right:l,bottom:c}}function ao(t,e,i,s){return t?0:J(e,i,s)}function ro(t){const e=oo(t),i=e.right-e.left,s=e.bottom-e.top,n=function(t,e,i){const s=t.options.borderWidth,n=t.borderSkipped,o=Mi(s);return{t:ao(n.top,o.top,0,i),r:ao(n.right,o.right,0,e),b:ao(n.bottom,o.bottom,0,i),l:ao(n.left,o.left,0,e)}}(t,i/2,s/2),a=function(t,e,i){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,a=wi(n),r=Math.min(e,i),l=t.borderSkipped,h=s||o(n);return{topLeft:ao(!h||l.top||l.left,a.topLeft,0,r),topRight:ao(!h||l.top||l.right,a.topRight,0,r),bottomLeft:ao(!h||l.bottom||l.left,a.bottomLeft,0,r),bottomRight:ao(!h||l.bottom||l.right,a.bottomRight,0,r)}}(t,i/2,s/2);return{outer:{x:e.left,y:e.top,w:i,h:s,radius:a},inner:{x:e.left+n.l,y:e.top+n.t,w:i-n.l-n.r,h:s-n.t-n.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,a.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(n.b,n.r))}}}}function lo(t,e,i,s){const n=null===e,o=null===i,a=t&&!(n&&o)&&oo(t,s);return a&&(n||tt(e,a.left,a.right))&&(o||tt(i,a.top,a.bottom))}function ho(t,e){t.rect(e.x,e.y,e.w,e.h)}function co(t,e,i={}){const s=t.x!==i.x?-e:0,n=t.y!==i.y?-e:0,o=(t.x+t.w!==i.x+i.w?e:0)-s,a=(t.y+t.h!==i.y+i.h?e:0)-n;return{x:t.x+s,y:t.y+n,w:t.w+o,h:t.h+a,radius:t.radius}}var uo=Object.freeze({__proto__:null,ArcElement:class extends Hs{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:n,distance:o}=X(s,{x:t,y:e}),{startAngle:a,endAngle:r,innerRadius:h,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),u=(this.options.spacing+this.options.borderWidth)/2,f=l(d,r-a)>=O||Z(n,a,r),g=tt(o,h+u,c+u);return f&&g}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:n,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:r,spacing:l}=this.options,h=(s+n)/2,c=(o+a+l+r)/2;return{x:e+Math.cos(h)*c,y:i+Math.sin(h)*c}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/4,n=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>O?Math.floor(i/O):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const a=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(a)*s,Math.sin(a)*s);const r=s*(1-Math.sin(Math.min(C,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,s,n){const{fullCircles:o,startAngle:a,circumference:r}=e;let l=e.endAngle;if(o){Xn(t,e,i,s,l,n);for(let e=0;e<o;++e)t.fill();isNaN(r)||(l=a+(r%O||O))}Xn(t,e,i,s,l,n),t.fill()}(t,this,r,n,o),qn(t,this,r,n,o),t.restore()}},BarElement:class extends Hs{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:o}=ro(this),a=(r=o.radius).topLeft||r.topRight||r.bottomLeft||r.bottomRight?He:ho;var r;t.save(),o.w===n.w&&o.h===n.h||(t.beginPath(),a(t,co(o,e,n)),t.clip(),a(t,co(n,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,co(n,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return lo(this,t,e,i)}inXRange(t,e){return lo(this,t,null,e)}inYRange(t,e){return lo(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],t);return{x:n?(e+s)/2:e,y:n?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}},LineElement:so,PointElement:class extends Hs{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.options,{x:n,y:o}=this.getProps(["x","y"],i);return Math.pow(t-n,2)+Math.pow(e-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,e){return no(this,t,"x",e)}inYRange(t,e){return no(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Re(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Le(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}});function fo(t,e,i,s){const n=t.indexOf(e);if(-1===n)return((t,e,i,s)=>("string"==typeof e?(i=t.push(e)-1,s.unshift({index:i,label:e})):isNaN(e)&&(i=null),i))(t,e,i,s);return n!==t.lastIndexOf(e)?i:n}function go(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}function po(t,e,{horizontal:i,minRotation:s}){const n=$(s),o=(i?Math.sin(n):Math.cos(n))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}class mo extends Js{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return s(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const o=t=>s=e?s:t,a=t=>n=i?n:t;if(t){const t=F(s),e=F(n);t<0&&e<0?a(0):t>0&&e>0&&o(0)}if(s===n){let e=0===n?1:Math.abs(.05*n);a(n+e),t||o(s-e)}this.min=s,this.max=n}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:s}=t;return s?(e=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=function(t,e){const i=[],{bounds:n,step:o,min:a,max:r,precision:l,count:h,maxTicks:c,maxDigits:d,includeBounds:u}=t,f=o||1,g=c-1,{min:p,max:m}=e,b=!s(a),x=!s(r),_=!s(h),y=(m-p)/(d+1);let v,M,w,k,S=B((m-p)/g/f)*f;if(S<1e-14&&!b&&!x)return[{value:p},{value:m}];k=Math.ceil(m/S)-Math.floor(p/S),k>g&&(S=B(k*S/g/f)*f),s(l)||(v=Math.pow(10,l),S=Math.ceil(S*v)/v),"ticks"===n?(M=Math.floor(p/S)*S,w=Math.ceil(m/S)*S):(M=p,w=m),b&&x&&o&&H((r-a)/o,S/1e3)?(k=Math.round(Math.min((r-a)/S,c)),S=(r-a)/k,M=a,w=r):_?(M=b?a:M,w=x?r:w,k=h-1,S=(w-M)/k):(k=(w-M)/S,k=V(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const P=Math.max(U(S),U(M));v=Math.pow(10,s(l)?P:l),M=Math.round(M*v)/v,w=Math.round(w*v)/v;let D=0;for(b&&(u&&M!==a?(i.push({value:a}),M<a&&D++,V(Math.round((M+D*S)*v)/v,a,po(a,y,t))&&D++):M<a&&D++);D<k;++D){const t=Math.round((M+D*S)*v)/v;if(x&&t>r)break;i.push({value:t})}return x&&u&&w!==r?i.length&&V(i[i.length-1].value,r,po(r,y,t))?i[i.length-1].value=r:i.push({value:r}):x&&w!==r||i.push({value:w}),i}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&j(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return ne(t,this.chart.options.locale,this.options.ticks.format)}}class bo extends mo{static id="linear";static defaults={ticks:{callback:ae.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?t:0,this.max=a(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=$(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,n.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const xo=t=>Math.floor(z(t)),_o=(t,e)=>Math.pow(10,xo(t)+e);function yo(t){return 1===t/Math.pow(10,xo(t))}function vo(t,e,i){const s=Math.pow(10,i),n=Math.floor(t/s);return Math.ceil(e/s)-n}function Mo(t,{min:e,max:i}){e=r(t.min,e);const s=[],n=xo(e);let o=function(t,e){let i=xo(e-t);for(;vo(t,e,i)>10;)i++;for(;vo(t,e,i)<10;)i--;return Math.min(i,xo(t))}(e,i),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),h=n>o?Math.pow(10,n):0,c=Math.round((e-h)*a)/a,d=Math.floor((e-h)/l/10)*l*10;let u=Math.floor((c-d)/Math.pow(10,o)),f=r(t.min,Math.round((h+d+u*Math.pow(10,o))*a)/a);for(;f<i;)s.push({value:f,major:yo(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(o++,u=2,a=o>=0?1:a),f=Math.round((h+d+u*Math.pow(10,o))*a)/a;const g=r(t.max,f);return s.push({value:g,major:yo(g),significand:u}),s}class wo extends Js{static id="logarithmic";static defaults={ticks:{callback:ae.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=mo.prototype.parse.apply(this,[t,e]);if(0!==i)return a(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=a(t)?Math.max(0,t):null,this.max=a(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!a(this._userMin)&&(this.min=t===_o(this.min,0)?_o(this.min,-1):_o(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const n=e=>i=t?i:e,o=t=>s=e?s:t;i===s&&(i<=0?(n(1),o(10)):(n(_o(i,-1)),o(_o(s,1)))),i<=0&&n(_o(s,-1)),s<=0&&o(_o(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,e=Mo({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&j(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":ne(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=z(t),this._valueRange=z(this.max)-z(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(z(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function ko(t){const e=t.ticks;if(e.display&&t.display){const t=ki(e.backdropPadding);return l(e.font&&e.font.size,ue.font.size)+t.height}return 0}function So(t,e,i,s,n){return t===s||t===n?{start:e-i/2,end:e+i/2}:t<s||t>n?{start:e-i,end:e}:{start:e,end:e+i}}function Po(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),s=[],o=[],a=t._pointLabels.length,r=t.options.pointLabels,l=r.centerPointLabels?C/a:0;for(let u=0;u<a;u++){const a=r.setContext(t.getPointLabelContext(u));o[u]=a.padding;const f=t.getPointPosition(u,t.drawingArea+o[u],l),g=Si(a.font),p=(h=t.ctx,c=g,d=n(d=t._pointLabels[u])?d:[d],{w:Oe(h,c.string,d),h:d.length*c.lineHeight});s[u]=p;const m=G(t.getIndexAngle(u)+l),b=Math.round(Y(m));Do(i,e,m,So(b,f.x,p.w,0,180),So(b,f.y,p.h,90,270))}var h,c,d;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const s=[],n=t._pointLabels.length,o=t.options,{centerPointLabels:a,display:r}=o.pointLabels,l={extra:ko(o)/2,additionalAngle:a?C/n:0};let h;for(let o=0;o<n;o++){l.padding=i[o],l.size=e[o];const n=Co(t,o,l);s.push(n),"auto"===r&&(n.visible=Oo(n,h),n.visible&&(h=n))}return s}(t,s,o)}function Do(t,e,i,s,n){const o=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let r=0,l=0;s.start<e.l?(r=(e.l-s.start)/o,t.l=Math.min(t.l,e.l-r)):s.end>e.r&&(r=(s.end-e.r)/o,t.r=Math.max(t.r,e.r+r)),n.start<e.t?(l=(e.t-n.start)/a,t.t=Math.min(t.t,e.t-l)):n.end>e.b&&(l=(n.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function Co(t,e,i){const s=t.drawingArea,{extra:n,additionalAngle:o,padding:a,size:r}=i,l=t.getPointPosition(e,s+n+a,o),h=Math.round(Y(G(l.angle+E))),c=function(t,e,i){90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e);return t}(l.y,r.h,h),d=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(h),u=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(l.x,r.w,d);return{visible:!0,x:l.x,y:c,textAlign:d,left:u,top:c,right:u+r.w,bottom:c+r.h}}function Oo(t,e){if(!e)return!0;const{left:i,top:s,right:n,bottom:o}=t;return!(Re({x:i,y:s},e)||Re({x:i,y:o},e)||Re({x:n,y:s},e)||Re({x:n,y:o},e))}function Ao(t,e,i){const{left:n,top:o,right:a,bottom:r}=i,{backdropColor:l}=e;if(!s(l)){const i=wi(e.borderRadius),s=ki(e.backdropPadding);t.fillStyle=l;const h=n-s.left,c=o-s.top,d=a-n+s.width,u=r-o+s.height;Object.values(i).some((t=>0!==t))?(t.beginPath(),He(t,{x:h,y:c,w:d,h:u,radius:i}),t.fill()):t.fillRect(h,c,d,u)}}function To(t,e,i,s){const{ctx:n}=t;if(i)n.arc(t.xCenter,t.yCenter,e,0,O);else{let i=t.getPointPosition(0,e);n.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),n.lineTo(i.x,i.y)}}class Lo extends mo{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ae.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ki(ko(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=a(t)&&!isNaN(t)?t:0,this.max=a(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ko(this.options))}generateTickLabels(t){mo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=d(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?Po(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return G(t*(O/(this._pointLabels.length||1))+$(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(s(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(s(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return Ci(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-E+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:n}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),To(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s,border:n}=e,o=this._pointLabels.length;let a,r,l;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:s}}=t;for(let n=e-1;n>=0;n--){const e=t._pointLabelItems[n];if(!e.visible)continue;const o=s.setContext(t.getPointLabelContext(n));Ao(i,o,e);const a=Si(o.font),{x:r,y:l,textAlign:h}=e;We(i,t._pointLabels[n],r,l+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}(this,o),s.display&&this.ticks.forEach(((t,e)=>{if(0!==e){r=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),a=s.setContext(i),l=n.setContext(i);!function(t,e,i,s,n){const o=t.ctx,a=e.circular,{color:r,lineWidth:l}=e;!a&&!s||!r||!l||i<0||(o.save(),o.strokeStyle=r,o.lineWidth=l,o.setLineDash(n.dash),o.lineDashOffset=n.dashOffset,o.beginPath(),To(t,i,a,s),o.closePath(),o.stroke(),o.restore())}(this,a,r,o,l)}})),i.display){for(t.save(),a=o-1;a>=0;a--){const s=i.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:o}=s;o&&n&&(t.lineWidth=o,t.strokeStyle=n,t.setLineDash(s.borderDash),t.lineDashOffset=s.borderDashOffset,r=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,r),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((s,a)=>{if(0===a&&!e.reverse)return;const r=i.setContext(this.getContext(a)),l=Si(r.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),r.showLabelBackdrop){t.font=l.string,o=t.measureText(s.label).width,t.fillStyle=r.backdropColor;const e=ki(r.backdropPadding);t.fillRect(-o/2-e.left,-n-l.size/2-e.top,o+e.width,l.size+e.height)}We(t,s.label,0,-n,l,{color:r.color})})),t.restore()}drawTitle(){}}const Eo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ro=Object.keys(Eo);function Io(t,e){return t-e}function zo(t,e){if(s(e))return null;const i=t._adapter,{parser:n,round:o,isoWeekday:r}=t._parseOpts;let l=e;return"function"==typeof n&&(l=n(l)),a(l)||(l="string"==typeof n?i.parse(l,n):i.parse(l)),null===l?null:(o&&(l="week"!==o||!W(r)&&!0!==r?i.startOf(l,o):i.startOf(l,"isoWeek",r)),+l)}function Fo(t,e,i,s){const n=Ro.length;for(let o=Ro.indexOf(t);o<n-1;++o){const t=Eo[Ro[o]],n=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(n*t.size))<=s)return Ro[o]}return Ro[n-1]}function Vo(t,e,i){if(i){if(i.length){const{lo:s,hi:n}=et(i,e);t[i[s]>=e?i[s]:i[n]]=!0}}else t[e]=!0}function Bo(t,e,i){const s=[],n={},o=e.length;let a,r;for(a=0;a<o;++a)r=e[a],n[r]=a,s.push({value:r,major:!1});return 0!==o&&i?function(t,e,i,s){const n=t._adapter,o=+n.startOf(e[0].value,s),a=e[e.length-1].value;let r,l;for(r=o;r<=a;r=+n.add(r,1,s))l=i[r],l>=0&&(e[l].major=!0);return e}(t,s,n,i):s}class No extends Js{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new En._date(t.adapters.date);s.init(e),x(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:zo(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:n,minDefined:o,maxDefined:r}=this.getUserBounds();function l(t){o||isNaN(t.min)||(s=Math.min(s,t.min)),r||isNaN(t.max)||(n=Math.max(n,t.max))}o&&r||(l(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||l(this.getMinMax(!1))),s=a(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),n=a(n)&&!isNaN(n)?n:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,o=nt(s,n,this.max);return this._unit=e.unit||(i.autoSkip?Fo(e.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(t,e,i,s,n){for(let o=Ro.length-1;o>=Ro.indexOf(i);o--){const i=Ro[o];if(Eo[i].common&&t._adapter.diff(n,s,i)>=e-1)return i}return Ro[i?Ro.indexOf(i):0]}(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=Ro.indexOf(t)+1,i=Ro.length;e<i;++e)if(Eo[Ro[e]].common)return Ro[e]}(this._unit):void 0,this.initOffsets(s),t.reverse&&o.reverse(),Bo(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,s=0,n=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),s=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),n=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;s=J(s,0,o),n=J(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,n=s.time,o=n.unit||Fo(n.minUnit,e,i,this._getLabelCapacity(e)),a=l(s.ticks.stepSize,1),r="week"===o&&n.isoWeekday,h=W(r)||!0===r,c={};let d,u,f=e;if(h&&(f=+t.startOf(f,"isoWeek",r)),f=+t.startOf(f,h?"day":o),t.diff(i,e,o)>1e5*a)throw new Error(e+" and "+i+" are too far apart with stepSize of "+a+" "+o);const g="data"===s.ticks.source&&this.getDataTimestamps();for(d=f,u=0;d<i;d=+t.add(d,a,o),u++)Vo(c,d,g);return d!==i&&"ticks"!==s.bounds&&1!==u||Vo(c,d,g),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,s=this._unit,n=e||i[s];return this._adapter.format(t,n)}_tickFormatFunction(t,e,i,s){const n=this.options,o=n.ticks.callback;if(o)return d(o,[t,e,i],this);const a=n.time.displayFormats,r=this._unit,l=this._majorUnit,h=r&&a[r],c=l&&a[l],u=i[e],f=l&&c&&u&&u.major;return this._adapter.format(t,s||(f?c:h))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=$(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*o,h:i*o+a*n}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,n=this._tickFormatFunction(t,0,Bo(this,[t],this._majorUnit),s),o=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,e=s.length;t<e;++t)i=i.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(zo(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lt(t.sort(Io))}}function Wo(t,e,i){let s,n,o,a,r=0,l=t.length-1;i?(e>=t[r].pos&&e<=t[l].pos&&({lo:r,hi:l}=it(t,"pos",e)),({pos:s,time:o}=t[r]),({pos:n,time:a}=t[l])):(e>=t[r].time&&e<=t[l].time&&({lo:r,hi:l}=it(t,"time",e)),({time:s,pos:o}=t[r]),({time:n,pos:a}=t[l]));const h=n-s;return h?o+(a-o)*(e-s)/h:o}var Ho=Object.freeze({__proto__:null,CategoryScale:class extends Js{static id="category";static defaults={ticks:{callback:go}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:s}of e)t[i]===s&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(s(t))return null;const i=this.getLabels();return((t,e)=>null===t?null:J(Math.round(t),0,e))(e=isFinite(e)&&i[e]===t?e:fo(i,t,l(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===t&&e===n.length-1?n:n.slice(t,e+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=t;i<=e;i++)s.push({value:i});return s}getLabelForValue(t){return go.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}},LinearScale:bo,LogarithmicScale:wo,RadialLinearScale:Lo,TimeScale:No,TimeSeriesScale:class extends No{static id="timeseries";static defaults=No.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Wo(e,this.min),this._tableRange=Wo(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],n=[];let o,a,r,l,h;for(o=0,a=t.length;o<a;++o)l=t[o],l>=e&&l<=i&&s.push(l);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)h=s[o+1],r=s[o-1],l=s[o],Math.round((h+r)/2)!==l&&n.push({time:l,pos:o/(a-1)});return n}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Wo(this._table,i*this._tableRange+this._minPos,!0)}}});const jo=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],$o=jo.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Yo(t){return jo[t%jo.length]}function Uo(t){return $o[t%$o.length]}function Xo(t){let e=0;return(i,s)=>{const n=t.getDatasetMeta(s).controller;n instanceof Hn?e=function(t,e){return t.backgroundColor=t.data.map((()=>Yo(e++))),e}(i,e):n instanceof jn?e=function(t,e){return t.backgroundColor=t.data.map((()=>Uo(e++))),e}(i,e):n&&(e=function(t,e){return t.borderColor=Yo(e),t.backgroundColor=Uo(e),++e}(i,e))}}function qo(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Ko={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:s},options:n}=t.config,{elements:o}=n;if(!i.forceOverride&&(qo(s)||(a=n)&&(a.borderColor||a.backgroundColor)||o&&qo(o)))return;var a;const r=Xo(t);s.forEach(r)}};function Go(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Zo(t){t.data.datasets.forEach((t=>{Go(t)}))}var Jo={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void Zo(t);const n=t.width;t.data.datasets.forEach(((e,o)=>{const{_data:a,indexAxis:r}=e,l=t.getDatasetMeta(o),h=a||e.data;if("y"===Pi([r,t.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const c=t.scales[l.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:d,count:u}=function(t,e){const i=e.length;let s,n=0;const{iScale:o}=t,{min:a,max:r,minDefined:l,maxDefined:h}=o.getUserBounds();return l&&(n=J(it(e,o.axis,a).lo,0,i-1)),s=h?J(it(e,o.axis,r).hi+1,n,i)-n:i-n,{start:n,count:s}}(l,h);if(u<=(i.threshold||4*n))return void Go(e);let f;switch(s(a)&&(e._data=h,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":f=function(t,e,i,s,n){const o=n.samples||s;if(o>=i)return t.slice(e,e+i);const a=[],r=(i-2)/(o-2);let l=0;const h=e+i-1;let c,d,u,f,g,p=e;for(a[l++]=t[p],c=0;c<o-2;c++){let s,n=0,o=0;const h=Math.floor((c+1)*r)+1+e,m=Math.min(Math.floor((c+2)*r)+1,i)+e,b=m-h;for(s=h;s<m;s++)n+=t[s].x,o+=t[s].y;n/=b,o/=b;const x=Math.floor(c*r)+1+e,_=Math.min(Math.floor((c+1)*r)+1,i)+e,{x:y,y:v}=t[p];for(u=f=-1,s=x;s<_;s++)f=.5*Math.abs((y-n)*(t[s].y-v)-(y-t[s].x)*(o-v)),f>u&&(u=f,d=t[s],g=s);a[l++]=d,p=g}return a[l++]=t[h],a}(h,d,u,n,i);break;case"min-max":f=function(t,e,i,n){let o,a,r,l,h,c,d,u,f,g,p=0,m=0;const b=[],x=e+i-1,_=t[e].x,y=t[x].x-_;for(o=e;o<e+i;++o){a=t[o],r=(a.x-_)/y*n,l=a.y;const e=0|r;if(e===h)l<f?(f=l,c=o):l>g&&(g=l,d=o),p=(m*p+a.x)/++m;else{const i=o-1;if(!s(c)&&!s(d)){const e=Math.min(c,d),s=Math.max(c,d);e!==u&&e!==i&&b.push({...t[e],x:p}),s!==u&&s!==i&&b.push({...t[s],x:p})}o>0&&i!==u&&b.push(t[i]),b.push(a),h=e,m=0,f=g=l,c=d=u=o}}return b}(h,d,u,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=f}))},destroy(t){Zo(t)}};function Qo(t,e,i,s){if(s)return;let n=e[t],o=i[t];return"angle"===t&&(n=G(n),o=G(o)),{property:t,start:n,end:o}}function ta(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ea(t,e,i,s){return t&&e?s(t[i],e[i]):t?t[i]:e?e[i]:0}function ia(t,e){let i=[],s=!1;return n(t)?(s=!0,i=t):i=function(t,e){const{x:i=null,y:s=null}=t||{},n=e.points,o=[];return e.segments.forEach((({start:t,end:e})=>{e=ta(t,e,n);const a=n[t],r=n[e];null!==s?(o.push({x:a.x,y:s}),o.push({x:r.x,y:s})):null!==i&&(o.push({x:i,y:a.y}),o.push({x:i,y:r.y}))})),o}(t,e),i.length?new so({points:i,options:{tension:0},_loop:s,_fullLoop:s}):null}function sa(t){return t&&!1!==t.fill}function na(t,e,i){let s=t[e].fill;const n=[e];let o;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!a(s))return s;if(o=t[s],!o)return!1;if(o.visible)return s;n.push(s),s=o.fill}return!1}function oa(t,e,i){const s=function(t){const e=t.options,i=e.fill;let s=l(i&&i.target,i);void 0===s&&(s=!!e.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(t);if(o(s))return!isNaN(s.value)&&s;let n=parseFloat(s);return a(n)&&Math.floor(n)===n?function(t,e,i,s){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=s)return!1;return i}(s[0],e,n,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function aa(t,e,i){const s=[];for(let n=0;n<i.length;n++){const o=i[n],{first:a,last:r,point:l}=ra(o,e,"x");if(!(!l||a&&r))if(a)s.unshift(l);else if(t.push(l),!r)break}t.push(...s)}function ra(t,e,i){const s=t.interpolate(e,i);if(!s)return{};const n=s[i],o=t.segments,a=t.points;let r=!1,l=!1;for(let t=0;t<o.length;t++){const e=o[t],s=a[e.start][i],h=a[e.end][i];if(tt(n,s,h)){r=n===s,l=n===h;break}}return{first:r,last:l,point:s}}class la{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:n,radius:o}=this;return e=e||{start:0,end:O},t.arc(s,n,o,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,n=t.angle;return{x:e+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function ha(t){const{chart:e,fill:i,line:s}=t;if(a(i))return function(t,e){const i=t.getDatasetMeta(e),s=i&&t.isDatasetVisible(e);return s?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:s}=t,n=[],o=s.segments,a=s.points,r=function(t,e){const i=[],s=t.getMatchingVisibleMetas("line");for(let t=0;t<s.length;t++){const n=s[t];if(n.index===e)break;n.hidden||i.unshift(n.dataset)}return i}(e,i);r.push(ia({x:null,y:e.bottom},s));for(let t=0;t<o.length;t++){const e=o[t];for(let t=e.start;t<=e.end;t++)aa(n,a[t],r)}return new so({points:n,options:{}})}(t);if("shape"===i)return!0;const n=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,s=e.options,n=e.getLabels().length,a=s.reverse?e.max:e.min,r=function(t,e,i){let s;return s="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:o(t)?t.value:e.getBaseValue(),s}(i,e,a),l=[];if(s.grid.circular){const t=e.getPointPositionForValue(0,a);return new la({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(r)})}for(let t=0;t<n;++t)l.push(e.getPointPositionForValue(t,r));return l}(t);return function(t){const{scale:e={},fill:i}=t,s=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:o(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(a(s)){const t=e.isHorizontal();return{x:t?s:null,y:t?null:s}}return null}(t)}(t);return n instanceof la?n:ia(n,s)}function ca(t,e,i){const s=ha(e),{line:n,scale:o,axis:a}=e,r=n.options,l=r.fill,h=r.backgroundColor,{above:c=h,below:d=h}=l||{};s&&n.points.length&&(Ie(t,i),function(t,e){const{line:i,target:s,above:n,below:o,area:a,scale:r}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&o!==n&&(da(t,s,a.top),ua(t,{line:i,target:s,color:n,scale:r,property:l}),t.restore(),t.save(),da(t,s,a.bottom));ua(t,{line:i,target:s,color:o,scale:r,property:l}),t.restore()}(t,{line:n,target:s,above:c,below:d,area:i,scale:o,axis:a}),ze(t))}function da(t,e,i){const{segments:s,points:n}=e;let o=!0,a=!1;t.beginPath();for(const r of s){const{start:s,end:l}=r,h=n[s],c=n[ta(s,l,n)];o?(t.moveTo(h.x,h.y),o=!1):(t.lineTo(h.x,i),t.lineTo(h.x,h.y)),a=!!e.pathSegment(t,r,{move:a}),a?t.closePath():t.lineTo(c.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function ua(t,e){const{line:i,target:s,property:n,color:o,scale:a}=e,r=function(t,e,i){const s=t.segments,n=t.points,o=e.points,a=[];for(const t of s){let{start:s,end:r}=t;r=ta(s,r,n);const l=Qo(i,n[s],n[r],t.loop);if(!e.segments){a.push({source:t,target:l,start:n[s],end:n[r]});continue}const h=Ii(e,l);for(const e of h){const s=Qo(i,o[e.start],o[e.end],e.loop),r=Ri(t,n,s);for(const t of r)a.push({source:t,target:e,start:{[i]:ea(l,s,"start",Math.max)},end:{[i]:ea(l,s,"end",Math.min)}})}}return a}(i,s,n);for(const{source:e,target:l,start:h,end:c}of r){const{style:{backgroundColor:r=o}={}}=e,d=!0!==s;t.save(),t.fillStyle=r,fa(t,a,d&&Qo(n,h,c)),t.beginPath();const u=!!i.pathSegment(t,e);let f;if(d){u?t.closePath():ga(t,s,c,n);const e=!!s.pathSegment(t,l,{move:u,reverse:!0});f=u&&e,f||ga(t,s,h,n)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function fa(t,e,i){const{top:s,bottom:n}=e.chart.chartArea,{property:o,start:a,end:r}=i||{};"x"===o&&(t.beginPath(),t.rect(a,s,r-a,n-s),t.clip())}function ga(t,e,i,s){const n=e.interpolate(i,s);n&&t.lineTo(n.x,n.y)}var pa={id:"filler",afterDatasetsUpdate(t,e,i){const s=(t.data.datasets||[]).length,n=[];let o,a,r,l;for(a=0;a<s;++a)o=t.getDatasetMeta(a),r=o.dataset,l=null,r&&r.options&&r instanceof so&&(l={visible:t.isDatasetVisible(a),index:a,fill:oa(r,a,s),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:r}),o.$filler=l,n.push(l);for(a=0;a<s;++a)l=n[a],l&&!1!==l.fill&&(l.fill=na(n,a,i.propagate))},beforeDraw(t,e,i){const s="beforeDraw"===i.drawTime,n=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let e=n.length-1;e>=0;--e){const i=n[e].$filler;i&&(i.line.updateControlPoints(o,i.axis),s&&i.fill&&ca(t.ctx,i,o))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=t.getSortedVisibleDatasetMetas();for(let e=s.length-1;e>=0;--e){const i=s[e].$filler;sa(i)&&ca(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,i){const s=e.meta.$filler;sa(s)&&"beforeDatasetDraw"===i.drawTime&&ca(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ma=(t,e)=>{let{boxHeight:i=e,boxWidth:s=e}=t;return t.usePointStyle&&(i=Math.min(i,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(e,i)}};class ba extends Hs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=d(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Si(i.font),n=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:r}=ma(i,n);let l,h;e.font=s.string,this.isHorizontal()?(l=this.maxWidth,h=this._fitRows(o,n,a,r)+10):(h=this.maxHeight,l=this._fitCols(o,s,a,r)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:n,maxWidth:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.lineWidths=[0],h=s+a;let c=t;n.textAlign="left",n.textBaseline="middle";let d=-1,u=-h;return this.legendItems.forEach(((t,f)=>{const g=i+e/2+n.measureText(t.text).width;(0===f||l[l.length-1]+g+2*a>o)&&(c+=h,l[l.length-(f>0?0:1)]=0,u+=h,d++),r[f]={left:0,top:u,row:d,width:g,height:s},l[l.length-1]+=g+a})),c}_fitCols(t,e,i,s){const{ctx:n,maxHeight:o,options:{labels:{padding:a}}}=this,r=this.legendHitBoxes=[],l=this.columnSizes=[],h=o-t;let c=a,d=0,u=0,f=0,g=0;return this.legendItems.forEach(((t,o)=>{const{itemWidth:p,itemHeight:m}=function(t,e,i,s,n){const o=function(t,e,i,s){let n=t.text;n&&"string"!=typeof n&&(n=n.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+s.measureText(n).width}(s,t,e,i),a=function(t,e,i){let s=t;"string"!=typeof e.text&&(s=xa(e,i));return s}(n,s,e.lineHeight);return{itemWidth:o,itemHeight:a}}(i,e,n,t,s);o>0&&u+m+2*a>h&&(c+=d+a,l.push({width:d,height:u}),f+=d+a,g++,d=u=0),r[o]={left:f,top:u,col:g,width:p,height:m},d=Math.max(d,p),u+=m+a})),c+=d,l.push({width:d,height:u}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:n}}=this,o=Oi(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=ft(i,this.left+s,this.right-this.lineWidths[n]);for(const r of e)n!==r.row&&(n=r.row,a=ft(i,this.left+s,this.right-this.lineWidths[n])),r.top+=this.top+t+s,r.left=o.leftForLtr(o.x(a),r.width),a+=r.width+s}else{let n=0,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height);for(const r of e)r.col!==n&&(n=r.col,a=ft(i,this.top+t+s,this.bottom-this.columnSizes[n].height)),r.top=a,r.left+=this.left+s,r.left=o.leftForLtr(o.x(r.left),r.width),a+=r.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ie(t,this),this._draw(),ze(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:n,labels:o}=t,a=ue.color,r=Oi(t.rtl,this.left,this.width),h=Si(o.font),{padding:c}=o,d=h.size,u=d/2;let f;this.drawTitle(),s.textAlign=r.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=h.string;const{boxWidth:g,boxHeight:p,itemHeight:m}=ma(o,d),b=this.isHorizontal(),x=this._computeTitleHeight();f=b?{x:ft(n,this.left+c,this.right-i[0]),y:this.top+c+x,line:0}:{x:this.left+c,y:ft(n,this.top+x+c,this.bottom-e[0].height),line:0},Ai(this.ctx,t.textDirection);const _=m+c;this.legendItems.forEach(((y,v)=>{s.strokeStyle=y.fontColor,s.fillStyle=y.fontColor;const M=s.measureText(y.text).width,w=r.textAlign(y.textAlign||(y.textAlign=o.textAlign)),k=g+u+M;let S=f.x,P=f.y;r.setWidth(this.width),b?v>0&&S+k+c>this.right&&(P=f.y+=_,f.line++,S=f.x=ft(n,this.left+c,this.right-i[f.line])):v>0&&P+_>this.bottom&&(S=f.x=S+e[f.line].width+c,f.line++,P=f.y=ft(n,this.top+x+c,this.bottom-e[f.line].height));if(function(t,e,i){if(isNaN(g)||g<=0||isNaN(p)||p<0)return;s.save();const n=l(i.lineWidth,1);if(s.fillStyle=l(i.fillStyle,a),s.lineCap=l(i.lineCap,"butt"),s.lineDashOffset=l(i.lineDashOffset,0),s.lineJoin=l(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=l(i.strokeStyle,a),s.setLineDash(l(i.lineDash,[])),o.usePointStyle){const a={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},l=r.xPlus(t,g/2);Ee(s,a,l,e+u,o.pointStyleWidth&&g)}else{const o=e+Math.max((d-p)/2,0),a=r.leftForLtr(t,g),l=wi(i.borderRadius);s.beginPath(),Object.values(l).some((t=>0!==t))?He(s,{x:a,y:o,w:g,h:p,radius:l}):s.rect(a,o,g,p),s.fill(),0!==n&&s.stroke()}s.restore()}(r.x(S),P,y),S=gt(w,S+g+u,b?S+k:this.right,t.rtl),function(t,e,i){We(s,i.text,t,e+m/2,h,{strikethrough:i.hidden,textAlign:r.textAlign(i.textAlign)})}(r.x(S),P,y),b)f.x+=k+c;else if("string"!=typeof y.text){const t=h.lineHeight;f.y+=xa(y,t)}else f.y+=_})),Ti(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Si(e.font),s=ki(e.padding);if(!e.display)return;const n=Oi(t.rtl,this.left,this.width),o=this.ctx,a=e.position,r=i.size/2,l=s.top+r;let h,c=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),h=this.top+l,c=ft(t.align,c,this.right-d);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);h=l+ft(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=ft(a,c,c+d);o.textAlign=n.textAlign(ut(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,We(o,e.text,u,h,i)}_computeTitleHeight(){const t=this.options.title,e=Si(t.font),i=ki(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,n;if(tt(t,this.left,this.right)&&tt(e,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(s=n[i],tt(t,s.left,s.left+s.width)&&tt(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const o=this._hoveredItem,a=(n=i,null!==(s=o)&&null!==n&&s.datasetIndex===n.datasetIndex&&s.index===n.index);o&&!a&&d(e.onLeave,[t,o,this],this),this._hoveredItem=i,i&&!a&&d(e.onHover,[t,i,this],this)}else i&&d(e.onClick,[t,i,this],this);var s,n}}function xa(t,e){return e*(t.text?t.text.length+.5:0)}var _a={id:"legend",_element:ba,start(t,e,i){const s=t.legend=new ba({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s)},stop(t){as.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const s=t.legend;as.configure(t,s,i),s.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const s=e.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),e.hidden=!0):(n.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:o,useBorderRadius:a,borderRadius:r}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),h=ki(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:o,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:n||l.textAlign,borderRadius:a&&(r||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ya extends Hs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=n(i.text)?i.text.length:1;this._padding=ki(i.padding);const o=s*Si(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:n,options:o}=this,a=o.align;let r,l,h,c=0;return this.isHorizontal()?(l=ft(a,i,n),h=e+t,r=n-i):("left"===o.position?(l=i+t,h=ft(a,s,e),c=-.5*C):(l=n-t,h=ft(a,e,s),c=.5*C),r=s-e),{titleX:l,titleY:h,maxWidth:r,rotation:c}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Si(e.font),s=i.lineHeight/2+this._padding.top,{titleX:n,titleY:o,maxWidth:a,rotation:r}=this._drawArgs(s);We(t,e.text,0,0,i,{color:e.color,maxWidth:a,rotation:r,textAlign:ut(e.align),textBaseline:"middle",translation:[n,o]})}}var va={id:"title",_element:ya,start(t,e,i){!function(t,e){const i=new ya({ctx:t.ctx,options:e,chart:t});as.configure(t,i,e),as.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;as.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const s=t.titleBlock;as.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ma=new WeakMap;var wa={id:"subtitle",start(t,e,i){const s=new ya({ctx:t.ctx,options:i,chart:t});as.configure(t,s,i),as.addBox(t,s),Ma.set(t,s)},stop(t){as.removeBox(t,Ma.get(t)),Ma.delete(t)},beforeUpdate(t,e,i){const s=Ma.get(t);as.configure(t,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ka={average(t){if(!t.length)return!1;let e,i,s=0,n=0,o=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();s+=t.x,n+=t.y,++o}}return{x:s/o,y:n/o}},nearest(t,e){if(!t.length)return!1;let i,s,n,o=e.x,a=e.y,r=Number.POSITIVE_INFINITY;for(i=0,s=t.length;i<s;++i){const s=t[i].element;if(s&&s.hasValue()){const t=q(e,s.getCenterPoint());t<r&&(r=t,n=s)}}if(n){const t=n.tooltipPosition();o=t.x,a=t.y}return{x:o,y:a}}};function Sa(t,e){return e&&(n(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pa(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Da(t,e){const{element:i,datasetIndex:s,index:n}=e,o=t.getDatasetMeta(s).controller,{label:a,value:r}=o.getLabelAndValue(n);return{chart:t,label:a,parsed:o.getParsed(n),raw:t.data.datasets[s].data[n],formattedValue:r,dataset:o.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Ca(t,e){const i=t.chart.ctx,{body:s,footer:n,title:o}=t,{boxWidth:a,boxHeight:r}=e,l=Si(e.bodyFont),h=Si(e.titleFont),c=Si(e.footerFont),d=o.length,f=n.length,g=s.length,p=ki(e.padding);let m=p.height,b=0,x=s.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(x+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*h.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),x){m+=g*(e.displayColors?Math.max(r,l.lineHeight):l.lineHeight)+(x-g)*l.lineHeight+(x-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let _=0;const y=function(t){b=Math.max(b,i.measureText(t).width+_)};return i.save(),i.font=h.string,u(t.title,y),i.font=l.string,u(t.beforeBody.concat(t.afterBody),y),_=e.displayColors?a+2+e.boxPadding:0,u(s,(t=>{u(t.before,y),u(t.lines,y),u(t.after,y)})),_=0,i.font=c.string,u(t.footer,y),i.restore(),b+=p.width,{width:b,height:m}}function Oa(t,e,i,s){const{x:n,width:o}=i,{width:a,chartArea:{left:r,right:l}}=t;let h="center";return"center"===s?h=n<=(r+l)/2?"left":"right":n<=o/2?h="left":n>=a-o/2&&(h="right"),function(t,e,i,s){const{x:n,width:o}=s,a=i.caretSize+i.caretPadding;return"left"===t&&n+o+a>e.width||"right"===t&&n-o-a<0||void 0}(h,t,e,i)&&(h="center"),h}function Aa(t,e,i){const s=i.yAlign||e.yAlign||function(t,e){const{y:i,height:s}=e;return i<s/2?"top":i>t.height-s/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||Oa(t,e,i,s),yAlign:s}}function Ta(t,e,i,s){const{caretSize:n,caretPadding:o,cornerRadius:a}=t,{xAlign:r,yAlign:l}=i,h=n+o,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(a);let g=function(t,e){let{x:i,width:s}=t;return"right"===e?i-=s:"center"===e&&(i-=s/2),i}(e,r);const p=function(t,e,i){let{y:s,height:n}=t;return"top"===e?s+=i:s-="bottom"===e?n+i:n/2,s}(e,l,h);return"center"===l?"left"===r?g+=h:"right"===r&&(g-=h):"left"===r?g-=Math.max(c,u)+n:"right"===r&&(g+=Math.max(d,f)+n),{x:J(g,0,s.width-e.width),y:J(p,0,s.height-e.height)}}function La(t,e,i){const s=ki(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-s.right:t.x+s.left}function Ea(t){return Sa([],Pa(t))}function Ra(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Ia={beforeTitle:e,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return i[e.dataIndex]}return""},afterTitle:e,beforeBody:e,beforeLabel:e,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return s(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e};function za(t,e,i,s){const n=t[e].call(i,s);return void 0===n?Ia[e].call(i,s):n}class Fa extends Hs{static positioners=ka;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,n=new Os(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,Ci(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,s=za(i,"beforeTitle",this,t),n=za(i,"title",this,t),o=za(i,"afterTitle",this,t);let a=[];return a=Sa(a,Pa(s)),a=Sa(a,Pa(n)),a=Sa(a,Pa(o)),a}getBeforeBody(t,e){return Ea(za(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return u(t,(t=>{const e={before:[],lines:[],after:[]},n=Ra(i,t);Sa(e.before,Pa(za(n,"beforeLabel",this,t))),Sa(e.lines,za(n,"label",this,t)),Sa(e.after,Pa(za(n,"afterLabel",this,t))),s.push(e)})),s}getAfterBody(t,e){return Ea(za(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=za(i,"beforeFooter",this,t),n=za(i,"footer",this,t),o=za(i,"afterFooter",this,t);let a=[];return a=Sa(a,Pa(s)),a=Sa(a,Pa(n)),a=Sa(a,Pa(o)),a}_createItems(t){const e=this._active,i=this.chart.data,s=[],n=[],o=[];let a,r,l=[];for(a=0,r=e.length;a<r;++a)l.push(Da(this.chart,e[a]));return t.filter&&(l=l.filter(((e,s,n)=>t.filter(e,s,n,i)))),t.itemSort&&(l=l.sort(((e,s)=>t.itemSort(e,s,i)))),u(l,(e=>{const i=Ra(t.callbacks,e);s.push(za(i,"labelColor",this,e)),n.push(za(i,"labelPointStyle",this,e)),o.push(za(i,"labelTextColor",this,e))})),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=o,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let n,o=[];if(s.length){const t=ka[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const e=this._size=Ca(this,i),a=Object.assign({},t,e),r=Aa(this.chart,i,a),l=Ta(i,a,r,this.chart);this.xAlign=r.xAlign,this.yAlign=r.yAlign,n={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const n=this.getCaretPosition(t,i,s);e.lineTo(n.x1,n.y1),e.lineTo(n.x2,n.y2),e.lineTo(n.x3,n.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:n}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:r,topRight:l,bottomLeft:h,bottomRight:c}=wi(a),{x:d,y:u}=t,{width:f,height:g}=e;let p,m,b,x,_,y;return"center"===n?(_=u+g/2,"left"===s?(p=d,m=p-o,x=_+o,y=_-o):(p=d+f,m=p+o,x=_-o,y=_+o),b=p):(m="left"===s?d+Math.max(r,h)+o:"right"===s?d+f-Math.max(l,c)-o:this.caretX,"top"===n?(x=u,_=x-o,p=m-o,b=m+o):(x=u+g,_=x+o,p=m+o,b=m-o),y=x),{x1:p,x2:m,x3:b,y1:x,y2:_,y3:y}}drawTitle(t,e,i){const s=this.title,n=s.length;let o,a,r;if(n){const l=Oi(i.rtl,this.x,this.width);for(t.x=La(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",o=Si(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=o.string,r=0;r<n;++r)e.fillText(s[r],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,r+1===n&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,e,i,s,n){const a=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:l,boxWidth:h}=n,c=Si(n.bodyFont),d=La(this,"left",n),u=s.x(d),f=l<c.lineHeight?(c.lineHeight-l)/2:0,g=e.y+f;if(n.usePointStyle){const e={radius:Math.min(h,l)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},i=s.leftForLtr(u,h)+h/2,o=g+l/2;t.strokeStyle=n.multiKeyBackground,t.fillStyle=n.multiKeyBackground,Le(t,e,i,o),t.strokeStyle=a.borderColor,t.fillStyle=a.backgroundColor,Le(t,e,i,o)}else{t.lineWidth=o(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,t.strokeStyle=a.borderColor,t.setLineDash(a.borderDash||[]),t.lineDashOffset=a.borderDashOffset||0;const e=s.leftForLtr(u,h),i=s.leftForLtr(s.xPlus(u,1),h-2),r=wi(a.borderRadius);Object.values(r).some((t=>0!==t))?(t.beginPath(),t.fillStyle=n.multiKeyBackground,He(t,{x:e,y:g,w:h,h:l,radius:r}),t.fill(),t.stroke(),t.fillStyle=a.backgroundColor,t.beginPath(),He(t,{x:i,y:g+1,w:h-2,h:l-2,radius:r}),t.fill()):(t.fillStyle=n.multiKeyBackground,t.fillRect(e,g,h,l),t.strokeRect(e,g,h,l),t.fillStyle=a.backgroundColor,t.fillRect(i,g+1,h-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:n,bodyAlign:o,displayColors:a,boxHeight:r,boxWidth:l,boxPadding:h}=i,c=Si(i.bodyFont);let d=c.lineHeight,f=0;const g=Oi(i.rtl,this.x,this.width),p=function(i){e.fillText(i,g.x(t.x+f),t.y+d/2),t.y+=d+n},m=g.textAlign(o);let b,x,_,y,v,M,w;for(e.textAlign=o,e.textBaseline="middle",e.font=c.string,t.x=La(this,m,i),e.fillStyle=i.bodyColor,u(this.beforeBody,p),f=a&&"right"!==m?"center"===o?l/2+h:l+2+h:0,y=0,M=s.length;y<M;++y){for(b=s[y],x=this.labelTextColors[y],e.fillStyle=x,u(b.before,p),_=b.lines,a&&_.length&&(this._drawColorBox(e,t,y,g,i),d=Math.max(c.lineHeight,r)),v=0,w=_.length;v<w;++v)p(_[v]),d=c.lineHeight;u(b.after,p)}f=0,d=c.lineHeight,u(this.afterBody,p),t.y-=n}drawFooter(t,e,i){const s=this.footer,n=s.length;let o,a;if(n){const r=Oi(i.rtl,this.x,this.width);for(t.x=La(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=r.textAlign(i.footerAlign),e.textBaseline="middle",o=Si(i.footerFont),e.fillStyle=i.footerColor,e.font=o.string,a=0;a<n;++a)e.fillText(s[a],r.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:n,yAlign:o}=this,{x:a,y:r}=t,{width:l,height:h}=i,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:f}=wi(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(a+c,r),"top"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+l-d,r),e.quadraticCurveTo(a+l,r,a+l,r+d),"center"===o&&"right"===n&&this.drawCaret(t,e,i,s),e.lineTo(a+l,r+h-f),e.quadraticCurveTo(a+l,r+h,a+l-f,r+h),"bottom"===o&&this.drawCaret(t,e,i,s),e.lineTo(a+u,r+h),e.quadraticCurveTo(a,r+h,a,r+h-u),"center"===o&&"left"===n&&this.drawCaret(t,e,i,s),e.lineTo(a,r+c),e.quadraticCurveTo(a,r,a+c,r),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=ka[t.position].call(this,this._active,this._eventPosition);if(!i)return;const o=this._size=Ca(this,t),a=Object.assign({},i,this._size),r=Aa(e,t,a),l=Ta(t,a,r,e);s._to===l.x&&n._to===l.y||(this.xAlign=r.xAlign,this.yAlign=r.yAlign,this.width=o.width,this.height=o.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=ki(e.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(n,t,s,e),Ai(t,e.textDirection),n.y+=o.top,this.drawTitle(n,t,e),this.drawBody(n,t,e),this.drawFooter(n,t,e),Ti(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),n=!f(i,s),o=this._positionChanged(s,e);(n||o)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],o=this._getActiveElements(t,n,e,i),a=this._positionChanged(o,t),r=e||!f(o,n)||a;return r&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),r}_getActiveElements(t,e,i,s){const n=this.options;if("mouseout"===t.type)return[];if(!s)return e;const o=this.chart.getElementsAtEventForMode(t,n.mode,n,i);return n.reverse&&o.reverse(),o}_positionChanged(t,e){const{caretX:i,caretY:s,options:n}=this,o=ka[n.position].call(this,t,e);return!1!==o&&(i!==o.x||s!==o.y)}}var Va={id:"tooltip",_element:Fa,positioners:ka,afterInit(t,e,i){i&&(t.tooltip=new Fa({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...i,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Ia},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};return On.register($n,Ho,uo,t),On.helpers={...Ni},On._adapters=En,On.Animation=Cs,On.Animations=Os,On.animator=xt,On.controllers=en.controllers.items,On.DatasetController=Ws,On.Element=Hs,On.elements=uo,On.Interaction=Xi,On.layouts=as,On.platforms=Ss,On.Scale=Js,On.Ticks=ae,Object.assign(On,$n,Ho,uo,t,Ss),On.Chart=On,"undefined"!=typeof window&&(window.Chart=On),On}));
//# sourceMappingURL=chart.umd.js.map
/* End of File include/javascript/chartjs/chart.min.js */

/*!
 * chartjs-chart-treemap v2.3.0
 * https://chartjs-chart-treemap.pages.dev/
 * (c) 2023 Jukka Kurkela
 * Released under the MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("chart.js"),require("chart.js/helpers")):"function"==typeof define&&define.amd?define(["exports","chart.js","chart.js/helpers"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["chartjs-chart-treemap"]={},t.Chart,t.Chart.helpers)}(this,(function(t,e,n){"use strict";const i=(t,e)=>e>t||t.length>e.length&&t.slice(0,e.length)===e,r=t=>""+t;function o(t,e,i,s=[],a=0,h=[]){const l=a-1;if(t[0]in i&&a>0){const n=s.reduce((function(t,e,n){return n!==l&&(t[r(n)]=e),t}),{});n[e]=s[l],t.forEach((function(t){n[t]=i[t]})),h.push(n)}else for(const r of Object.keys(i)){const l=i[r];n.isObject(l)&&(s.push(r),o(t,e,l,s,a+1,h))}return s.splice(l,1),h}function s(t,e,n){const i=o(t,e,n);if(!i.length)return i;const s=i.reduce((function(t,e){const n=Object.keys(e).length-2;return t>n?t:n}));return i.forEach((function(t){for(let e=0;e<s;e++){const n=r(e);t[n]||(t[n]="")}})),i}function a(t){const e=[...t],n=[];for(;e.length;){const t=e.pop();Array.isArray(t)?e.push(...t):n.push(t)}return n.reverse()}function h(t,e,n){if(!t.length)return;const i=[];for(const r of t){const t=e[r];if(""===t){i.push(n);break}i.push(t)}return i.length?i.join("."):n}function l(t,e,n,i,r,o,s=[]){const a=n[0],l=n.slice(1),c=Object.create(null),u=Object.create(null),f=[];let d,g,p;for(g=0,p=t.length;g<p;++g){const n=t[g];if(r&&n[r]!==o)continue;if(d=n[e]||n[i]||"",!(d in c)){const t=c[d]={value:0};l.forEach((function(e){t[e]=0})),u[d]=[]}c[d].value+=+n[a],c[d].label=n[e]||"";const f=c[d];l.forEach((function(t){f[t]+=n[t]})),c[d].path=h(s,n,d),u[d].push(n)}return Object.keys(c).forEach((t=>{const n={children:u[t]};n[a]=+c[t].value,l.forEach((function(e){n[e]=+c[t][e]})),n[e]=c[t].label,n.label=t,n.path=c[t].path,r&&(n[r]=o),f.push(n)})),f}function c(t,e){let i,r=t.length;if(!r)return e;const o=n.isObject(t[0]);for(e=o?e:"v",i=0,r=t.length;i<r;++i)o?t[i]._idx=i:t[i]={v:t[i],_idx:i};return e}function u(t,e){e?t.sort(((t,n)=>+n[e]-+t[e])):t.sort(((t,e)=>+e-+t))}function f(t,e){let n,i,r;for(n=0,i=0,r=t.length;i<r;++i)n+=e?+t[i][e]:+t[i];return n}function d(t,e,n,r=!0){const o=n.split(".");let s=0;for(const a of e.split(".")){const h=o[s++];if(parseInt(a,10)<parseInt(h,10))break;if(i(h,a)){if(r)throw new Error(`${t} v${n} is not supported. v${e} or newer is required.`);return!1}}return!0}const g=new Map;function p(t,e){const{x:n,y:i,width:r,height:o}=t.getProps(["x","y","width","height"],e);return{left:n,top:i,right:n+r,bottom:i+o}}function m(t,e,n){return Math.max(Math.min(t,n),e)}function x(t,e,i){const r=n.toTRBL(t);return{t:m(r.top,0,i),r:m(r.right,0,e),b:m(r.bottom,0,i),l:m(r.left,0,e)}}function b(t){const e=p(t),i=e.right-e.left,r=e.bottom-e.top,o=x(t.options.borderWidth,i/2,r/2),s=function(t,e,i){const r=n.toTRBLCorners(t),o=Math.min(e,i);return{topLeft:m(r.topLeft,0,o),topRight:m(r.topRight,0,o),bottomLeft:m(r.bottomLeft,0,o),bottomRight:m(r.bottomRight,0,o)}}(t.options.borderRadius,i/2,r/2),a={x:e.left,y:e.top,w:i,h:r,active:t.active,radius:s};return{outer:a,inner:{x:a.x+o.l,y:a.y+o.t,w:a.w-o.l-o.r,h:a.h-o.t-o.b,active:t.active,radius:{topLeft:Math.max(0,s.topLeft-Math.max(o.t,o.l)),topRight:Math.max(0,s.topRight-Math.max(o.t,o.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(o.b,o.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(o.b,o.r))}}}}function y(t,e,n,i){const r=null===e,o=null===n,s=!(!t||r&&o)&&p(t,i);return s&&(r||e>=s.left&&e<=s.right)&&(o||n>=s.top&&n<=s.bottom)}function v(t,e){t.rect(e.x,e.y,e.w,e.h)}function w(t,e){if(!e||!1===e.display)return!1;const{w:i,h:r}=t,o=n.toFont(e.font).lineHeight,s=m(2*n.valueOrDefault(e.padding,3),0,Math.min(i,r));return i-s>o&&r-s>o}function _(t,e,i,r,o){const{captions:s,labels:a}=i;t.save(),t.beginPath(),t.rect(e.x,e.y,e.w,e.h),t.clip();const h=r&&(!n.defined(r.l)||r.l===o);h&&a.display?function(t,e,i){const r=i.labels,o=r.formatter;if(!o)return;const s=n.isArray(o)?o:[o];let a=function(t,e){const{font:i,hoverFont:r}=e,o=(t.active?r:i)||i;return n.isArray(o)?o.map((t=>n.toFont(t))):[n.toFont(o)]}(e,r),h=function(t,e,n){const i=n.reduce((function(t,e){return t+=e.string}),""),r=e.join()+i+(t._measureText?"-spriting":"");if(!g.has(r)){t.save();const i=e.length;let o=0,s=0;for(let r=0;r<i;r++){const i=n[Math.min(r,n.length-1)];t.font=i.string;const a=e[r];o=Math.max(o,t.measureText(a).width),s+=i.lineHeight}t.restore(),g.set(r,{width:o,height:s})}return g.get(r)}(t,s,a);const l=function(t,e,n,i){const{overflow:r,padding:o}=n,{width:s,height:a}=i;if("hidden"===r)return!(s+2*o>e.w||a+2*o>e.h);if("fit"===r){const t=Math.min(e.w/(s+2*o),e.h/(a+2*o));if(t<1)return t}return!0}(0,e,r,h);if(!l)return;n.isNumber(l)&&(h={width:h.width*l,height:h.height*l},a=function(t,e){return t.map((function(t){return t.size=Math.floor(t.size*e),t.lineHeight=void 0,n.toFont(t)}))}(a,l));const{color:c,hoverColor:u,align:f}=r,d=(e.active?u:c)||c,p=n.isArray(d)?d:[d],m=function(t,e,n){const{align:i,position:r,padding:o}=e;let s,a;s=M(t,i,o),a="top"===r?t.y+o:"bottom"===r?t.y+t.h-o-n.height:t.y+(t.h-n.height)/2+o;return{x:s,y:a}}(e,r,h);t.textAlign=f,t.textBaseline="middle";let x=0;s.forEach((function(e,n){const i=p[Math.min(n,p.length-1)],r=a[Math.min(n,a.length-1)],o=r.lineHeight;t.font=r.string,t.fillStyle=i,t.fillText(e,m.x,m.y+o/2+x),x+=o}))}(t,e,i):!h&&w(e,s)&&function(t,e,i,r){const{captions:o,spacing:s,rtl:a}=i,{color:h,hoverColor:l,font:c,hoverFont:u,padding:f,align:d,formatter:g}=o,p=(e.active?l:h)||h,m=d||(a?"right":"left"),x=(e.active?u:c)||c,b=n.toFont(x),y=b.lineHeight/2,v=M(e,m,f);t.fillStyle=p,t.font=b.string,t.textAlign=m,t.textBaseline="middle",t.fillText(g||r.g,v,e.y+f+s+y)}(t,e,i,r),t.restore()}function M(t,e,n){return"left"===e?t.x+n:"right"===e?t.x+t.w-n:t.x+t.w/2}class C extends e.Element{constructor(t){super(),this.options=void 0,this.width=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t,e,i=0){if(!e)return;const r=this.options,{inner:o,outer:s}=b(this),a=(h=s.radius).topLeft||h.topRight||h.bottomLeft||h.bottomRight?n.addRoundedRectPath:v;var h;t.save(),s.w===o.w&&s.h===o.h||(t.beginPath(),a(t,s),t.clip(),a(t,o),t.fillStyle=r.borderColor,t.fill("evenodd")),t.beginPath(),a(t,o),t.fillStyle=r.backgroundColor,t.fill(),function(t,e,n,i){const r=n.dividers;if(!r.display||!i._data.children.length)return;const{x:o,y:s,w:a,h:h}=e,{lineColor:l,lineCapStyle:c,lineDash:u,lineDashOffset:f,lineWidth:d}=r;if(t.save(),t.strokeStyle=l,t.lineCap=c,t.setLineDash(u),t.lineDashOffset=f,t.lineWidth=d,t.beginPath(),a>h){const e=a/2;t.moveTo(o+e,s),t.lineTo(o+e,s+h)}else{const e=h/2;t.moveTo(o,s+e),t.lineTo(o+a,s+e)}t.stroke(),t.restore()}(t,o,r,e),_(t,o,r,e,i),t.restore()}inRange(t,e,n){return y(this,t,e,n)}inXRange(t,e){return y(this,t,null,e)}inYRange(t,e){return y(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,width:i,height:r}=this.getProps(["x","y","width","height"],t);return{x:e+i/2,y:n+r/2}}tooltipPosition(){return this.getCenterPoint()}getRange(t){return"x"===t?this.width/2:this.height/2}}function k(t,e,n,i){const r=t._normalized,o=e*r/n,s=Math.sqrt(r*o),a=r/s;return{d1:s,d2:a,w:"_ix"===i?s:a,h:"_ix"===i?a:s}}C.id="treemap",C.defaults={label:void 0,borderRadius:0,borderWidth:0,captions:{align:void 0,color:"black",display:!0,font:{},formatter:t=>t.raw.g||t.raw._data.label||"",padding:3},dividers:{display:!1,lineCapStyle:"butt",lineColor:"black",lineDash:[],lineDashOffset:0,lineWidth:1},labels:{align:"center",color:"black",display:!1,font:{},formatter:t=>t.raw.g?[t.raw.g,t.raw.v+""]:t.raw._data.label?[t.raw._data.label,t.raw.v+""]:t.raw.v+"",overflow:"cut",position:"middle",padding:3},rtl:!1,spacing:.5},C.descriptors={labels:{_fallback:!0},captions:{_fallback:!0},_scriptable:!0,_indexable:!1},C.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const R=(t,e)=>t.rtl?t.x+t.iw-e:t.x+t._ix;function O(t,e,n,i){const r={x:R(t,n.w),y:t.y+t._iy,w:n.w,h:n.h,a:e._normalized,v:e.value,vs:e.values,s:i,_data:e._data};return e.group&&(r.g=e.group,r.l=e.level,r.gs=e.groupSum),r}class j{constructor(t){t=t||{w:1,h:1},this.rtl=!!t.rtl,this.x=t.x||t.left||0,this.y=t.y||t.top||0,this._ix=0,this._iy=0,this.w=t.w||t.width||t.right-t.left,this.h=t.h||t.height||t.bottom-t.top}get area(){return this.w*this.h}get iw(){return this.w-this._ix}get ih(){return this.h-this._iy}get dir(){const t=this.ih;return t<=this.iw&&t>0?"y":"x"}get side(){return"x"===this.dir?this.iw:this.ih}map(t){const{dir:e,side:n}=this,i="x"===e?"_ix":"_iy",r=t.nsum,o=t.get(),s=n*n,a=r*r,h=[];let l=0,c=0;for(const e of o){const n=k(e,s,a,i);c+=n.d1,l=Math.max(l,n.d2),h.push(O(this,e,n,t.sum)),this[i]+=n.d1}return this["x"===e?"_iy":"_ix"]+=l,this[i]-=c,h}}const T=Math.min,E=Math.max;function P(t,e){const n=+e[t.key],i=n*t.ratio;return e._normalized=i,{min:T(t.min,n),max:E(t.max,n),sum:t.sum+n,nmin:T(t.nmin,i),nmax:E(t.nmax,i),nsum:t.nsum+i}}function S(t,e,n){t._arr.push(e),function(t,e){Object.assign(t,e)}(t,n)}class D{constructor(t,e){const n=this;n.key=t,n.ratio=e,n.reset()}get length(){return this._arr.length}reset(){const t=this;t._arr=[],t._hist=[],t.sum=0,t.nsum=0,t.min=1/0,t.max=-1/0,t.nmin=1/0,t.nmax=-1/0}push(t){S(this,t,P(this,t))}pushIf(t,e,...n){const i=P(this,t);if(!e((r=this,{min:r.min,max:r.max,sum:r.sum,nmin:r.nmin,nmax:r.nmax,nsum:r.nsum}),i,n))return t;var r;S(this,t,i)}get(){return this._arr}}function L(t,e,n){if(0===t.sum)return!0;const[i]=n,r=t.nsum*t.nsum,o=e.nsum*e.nsum,s=i*i,a=Math.max(s*t.nmax/r,r/(s*t.nmin));return Math.max(s*e.nmax/o,o/(s*e.nmin))<=a}function F(t,e,n=[],i,r,o){t=t||[];const s=[],h=new j(e),l=new D("value",h.area/f(t,n[0]));let d=h.side;const g=t.length;let p,m;if(!g)return s;const x=t.slice();let b=c(x,n[0]);u(x,b);const y=t=>i&&x[t][i];for(p=0;p<g;++p){if(m={value:(v=p,b?+x[v][b]:+x[v]),groupSum:o,_data:t[x[p]._idx],level:void 0,group:void 0},i){m.level=r,m.group=y(p);const t=x[p];m.values=n.reduce((function(e,n){return e[n]=+t[n],e}),{})}m=l.pushIf(m,L,d),m&&(s.push(h.map(l)),d=h.side,l.reset(),l.push(m))}var v;return l.length&&s.push(h.map(l)),a(s)}function A(t,e,n,i){const r=2*i,o=e.getPixelForValue(t.x),s=n.getPixelForValue(t.y),a=e.getPixelForValue(t.x+t.w)-o,h=n.getPixelForValue(t.y+t.h)-s;return{x:o+i,y:s+i,width:a-r,height:h-r,hidden:r>a||r>h}}function z(t,e){let n,i;if(!t||!e)return!0;if(t===e)return!1;if(t.length!==e.length)return!0;for(n=0,i=t.length;n<i;++n)if(t[n]!==e[n])return!0;return!1}class H extends e.DatasetController{constructor(t,e){super(t,e),this._groups=void 0,this._keys=void 0,this._rect=void 0,this._rectChanged=!0}initialize(){this.enableOptionSharing=!0,super.initialize()}getMinMax(t){return{min:0,max:"x"===t.axis?t.right-t.left:t.bottom-t.top}}configure(){super.configure();const{xScale:t,yScale:e}=this.getMeta();if(!t||!e)return;const n=t.right-t.left,i=e.bottom-e.top,r={x:0,y:0,w:n,h:i,rtl:!!this.options.rtl};var o,s;o=this._rect,s=r,o&&s&&o.x===s.x&&o.y===s.y&&o.w===s.w&&o.h===s.h&&o.rtl===s.rtl||(this._rect=r,this._rectChanged=!0),this._rectChanged&&(t.max=n,t.configure(),e.max=i,e.configure())}update(t){const e=this.getDataset(),{data:i}=this.getMeta(),o=e.groups||[],a=[e.key||""].concat(e.sumKeys||[]),h=e.tree=e.tree||e.data||[];"reset"===t&&this.configure(),(this._rectChanged||z(this._keys,a)||z(this._groups,o)||this._prevTree!==h)&&(this._groups=o.slice(),this._keys=a.slice(),this._prevTree=h,this._rectChanged=!1,e.data=function(t,e,i,o){const a=e.treeLeafKey||"_leaf";n.isObject(t)&&(t=s(i,a,t));const h=e.groups||[],c=h.length,u=n.valueOrDefault(e.spacing,0),f=e.captions||{},d=n.toFont(f.font),g=n.valueOrDefault(f.padding,3);return c?function n(o,s,p,m){const b=r(h[o]),y=o>0&&r(h[o-1]),v=l(t,b,i,a,y,p,h.filter(((t,e)=>e<=o))),_=F(v,s,i,b,o,m),M=_.slice();return o<c-1&&_.forEach((t=>{const i=x(e.borderWidth,t.w/2,t.h/2),r={...s,x:t.x+u+i.l,y:t.y+u+i.t,w:t.w-2*u-i.l-i.r,h:t.h-2*u-i.t-i.b};w(r,f)&&(r.y+=d.lineHeight+2*g,r.h-=d.lineHeight+2*g),M.push(...n(o+1,r,t.g,t.s))})),M}(0,o):F(t,o,i)}(h,e,this._keys,this._rect),this._dataCheck(),this._resyncElements()),this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r="reset"===i,o=this.getDataset(),s=this._rect.options=this.resolveDataElementOptions(e,i),a=this.getSharedOptions(s),h=this.includeOptions(i,a),{xScale:l,yScale:c}=this.getMeta(this.index);for(let s=e;s<e+n;s++){const e=a||this.resolveDataElementOptions(s,i),n=A(o.data[s],l,c,e.spacing);r&&(n.width=0,n.height=0),h&&(n.options=e),this.updateElement(t[s],s,n,i)}this.updateSharedOptions(a,i,s)}draw(){const{ctx:t,chartArea:e}=this.chart,i=this.getMeta().data||[],r=this.getDataset(),o=(r.groups||[]).length-1,s=r.data;n.clipArea(t,e);for(let e=0,n=i.length;e<n;++e){const n=i[e];n.hidden||n.draw(t,s[e],o)}n.unclipArea(t)}}H.id="treemap",H.version="2.3.0",H.defaults={dataElementType:"treemap",animations:{numbers:{type:"number",properties:["x","y","width","height"]}}},H.descriptors={_scriptable:!0,_indexable:!1},H.overrides={interaction:{mode:"point",includeInvisible:!0,intersect:!0},hover:{},plugins:{tooltip:{position:"treemap",intersect:!0,callbacks:{title(t){if(t.length){return t[0].dataset.key||""}return""},label(t){const e=t.dataset,n=e.data[t.dataIndex],i=n.g||n._data.label||e.label;return(i?i+": ":"")+n.v}}}},scales:{x:{type:"linear",alignToPixels:!0,bounds:"data",display:!1},y:{type:"linear",alignToPixels:!0,bounds:"data",display:!1,reverse:!0}}},H.beforeRegister=function(){d("chart.js","3.8",e.Chart.version)},H.afterRegister=function(){const t=e.registry.plugins.get("tooltip");t?t.positioners.treemap=function(t){if(!t.length)return!1;return t[t.length-1].element.tooltipPosition()}:console.warn("Unable to register the treemap positioner because tooltip plugin is not registered")},H.afterUnregister=function(){const t=e.registry.plugins.get("tooltip");t&&delete t.positioners.treemap},e.Chart.register(H,C),t.flatten=a,t.getGroupKey=r,t.group=l,t.index=c,t.normalizeTreeToArray=s,t.requireVersion=d,t.sort=u,t.sum=f}));
//# sourceMappingURL=chartjs-chart-treemap.min.js.map

/* End of File include/javascript/chartjs/chartjs-chart-treemap.min.js */

/*!
 * chartjs-plugin-datalabels v2.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("chart.js/helpers"),require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js/helpers","chart.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ChartDataLabels=e(t.Chart.helpers,t.Chart)}(this,(function(t,e){"use strict";var r=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var t=window.screen;if(t)return(t.deviceXDPI||1)/(t.logicalXDPI||1)}return 1}(),a=function(e){var r,a=[];for(e=[].concat(e);e.length;)"string"==typeof(r=e.pop())?a.unshift.apply(a,r.split("\n")):Array.isArray(r)?e.push.apply(e,r):t.isNullOrUndef(e)||a.unshift(""+r);return a},o=function(t,e,r){var a,o=[].concat(e),n=o.length,i=t.font,l=0;for(t.font=r.string,a=0;a<n;++a)l=Math.max(t.measureText(o[a]).width,l);return t.font=i,{height:n*r.lineHeight,width:l}},n=function(t,e,r){return Math.max(t,Math.min(e,r))},i=function(t,e){var r,a,o,n,i=t.slice(),l=[];for(r=0,o=e.length;r<o;++r)n=e[r],-1===(a=i.indexOf(n))?l.push([n,1]):i.splice(a,1);for(r=0,o=i.length;r<o;++r)l.push([i[r],-1]);return l};function l(t,e){var r=e.x,a=e.y;if(null===r)return{x:0,y:-1};if(null===a)return{x:1,y:0};var o=t.x-r,n=t.y-a,i=Math.sqrt(o*o+n*n);return{x:i?o/i:0,y:i?n/i:-1}}function s(t,e,r){var a=0;return t<r.left?a|=1:t>r.right&&(a|=2),e<r.top?a|=8:e>r.bottom&&(a|=4),a}function u(t,e){var r,a,o=e.anchor,n=t;return e.clamp&&(n=function(t,e){for(var r,a,o,n=t.x0,i=t.y0,l=t.x1,u=t.y1,d=s(n,i,e),c=s(l,u,e);d|c&&!(d&c);)8&(r=d||c)?(a=n+(l-n)*(e.top-i)/(u-i),o=e.top):4&r?(a=n+(l-n)*(e.bottom-i)/(u-i),o=e.bottom):2&r?(o=i+(u-i)*(e.right-n)/(l-n),a=e.right):1&r&&(o=i+(u-i)*(e.left-n)/(l-n),a=e.left),r===d?d=s(n=a,i=o,e):c=s(l=a,u=o,e);return{x0:n,x1:l,y0:i,y1:u}}(n,e.area)),"start"===o?(r=n.x0,a=n.y0):"end"===o?(r=n.x1,a=n.y1):(r=(n.x0+n.x1)/2,a=(n.y0+n.y1)/2),function(t,e,r,a,o){switch(o){case"center":r=a=0;break;case"bottom":r=0,a=1;break;case"right":r=1,a=0;break;case"left":r=-1,a=0;break;case"top":r=0,a=-1;break;case"start":r=-r,a=-a;break;case"end":break;default:o*=Math.PI/180,r=Math.cos(o),a=Math.sin(o)}return{x:t,y:e,vx:r,vy:a}}(r,a,t.vx,t.vy,e.align)}var d=function(t,e){var r=(t.startAngle+t.endAngle)/2,a=Math.cos(r),o=Math.sin(r),n=t.innerRadius,i=t.outerRadius;return u({x0:t.x+a*n,y0:t.y+o*n,x1:t.x+a*i,y1:t.y+o*i,vx:a,vy:o},e)},c=function(t,e){var r=l(t,e.origin),a=r.x*t.options.radius,o=r.y*t.options.radius;return u({x0:t.x-a,y0:t.y-o,x1:t.x+a,y1:t.y+o,vx:r.x,vy:r.y},e)},h=function(t,e){var r=l(t,e.origin),a=t.x,o=t.y,n=0,i=0;return t.horizontal?(a=Math.min(t.x,t.base),n=Math.abs(t.base-t.x)):(o=Math.min(t.y,t.base),i=Math.abs(t.base-t.y)),u({x0:a,y0:o+i,x1:a+n,y1:o,vx:r.x,vy:r.y},e)},f=function(t,e){var r=l(t,e.origin);return u({x0:t.x,y0:t.y,x1:t.x,y1:t.y,vx:r.x,vy:r.y},e)},x=function(t){return Math.round(t*r)/r};function y(t,e){var r=e.chart.getDatasetMeta(e.datasetIndex).vScale;if(!r)return null;if(void 0!==r.xCenter&&void 0!==r.yCenter)return{x:r.xCenter,y:r.yCenter};var a=r.getBasePixel();return t.horizontal?{x:a,y:null}:{x:null,y:a}}function v(t,e,r){var a=r.backgroundColor,o=r.borderColor,n=r.borderWidth;(a||o&&n)&&(t.beginPath(),function(t,e,r,a,o,n){var i=Math.PI/2;if(n){var l=Math.min(n,o/2,a/2),s=e+l,u=r+l,d=e+a-l,c=r+o-l;t.moveTo(e,u),s<d&&u<c?(t.arc(s,u,l,-Math.PI,-i),t.arc(d,u,l,-i,0),t.arc(d,c,l,0,i),t.arc(s,c,l,i,Math.PI)):s<d?(t.moveTo(s,r),t.arc(d,u,l,-i,i),t.arc(s,u,l,i,Math.PI+i)):u<c?(t.arc(s,u,l,-Math.PI,0),t.arc(s,c,l,0,Math.PI)):t.arc(s,u,l,-Math.PI,Math.PI),t.closePath(),t.moveTo(e,r)}else t.rect(e,r,a,o)}(t,x(e.x)+n/2,x(e.y)+n/2,x(e.w)-n,x(e.h)-n,r.borderRadius),t.closePath(),a&&(t.fillStyle=a,t.fill()),o&&n&&(t.strokeStyle=o,t.lineWidth=n,t.lineJoin="miter",t.stroke()))}function b(t,e,r){var a=t.shadowBlur,o=r.stroked,n=x(r.x),i=x(r.y),l=x(r.w);o&&t.strokeText(e,n,i,l),r.filled&&(a&&o&&(t.shadowBlur=0),t.fillText(e,n,i,l),a&&o&&(t.shadowBlur=a))}var _=function(t,e,r,a){var o=this;o._config=t,o._index=a,o._model=null,o._rects=null,o._ctx=e,o._el=r};t.merge(_.prototype,{_modelize:function(r,a,n,i){var l,s=this,u=s._index,x=t.toFont(t.resolve([n.font,{}],i,u)),v=t.resolve([n.color,e.defaults.color],i,u);return{align:t.resolve([n.align,"center"],i,u),anchor:t.resolve([n.anchor,"center"],i,u),area:i.chart.chartArea,backgroundColor:t.resolve([n.backgroundColor,null],i,u),borderColor:t.resolve([n.borderColor,null],i,u),borderRadius:t.resolve([n.borderRadius,0],i,u),borderWidth:t.resolve([n.borderWidth,0],i,u),clamp:t.resolve([n.clamp,!1],i,u),clip:t.resolve([n.clip,!1],i,u),color:v,display:r,font:x,lines:a,offset:t.resolve([n.offset,0],i,u),opacity:t.resolve([n.opacity,1],i,u),origin:y(s._el,i),padding:t.toPadding(t.resolve([n.padding,0],i,u)),positioner:(l=s._el,l instanceof e.ArcElement?d:l instanceof e.PointElement?c:l instanceof e.BarElement?h:f),rotation:t.resolve([n.rotation,0],i,u)*(Math.PI/180),size:o(s._ctx,a,x),textAlign:t.resolve([n.textAlign,"start"],i,u),textShadowBlur:t.resolve([n.textShadowBlur,0],i,u),textShadowColor:t.resolve([n.textShadowColor,v],i,u),textStrokeColor:t.resolve([n.textStrokeColor,v],i,u),textStrokeWidth:t.resolve([n.textStrokeWidth,0],i,u)}},update:function(e){var r,o,n,i=this,l=null,s=null,u=i._index,d=i._config,c=t.resolve([d.display,!0],e,u);c&&(r=e.dataset.data[u],o=t.valueOrDefault(t.callback(d.formatter,[r,e]),r),(n=t.isNullOrUndef(o)?[]:a(o)).length&&(s=function(t){var e=t.borderWidth||0,r=t.padding,a=t.size.height,o=t.size.width,n=-o/2,i=-a/2;return{frame:{x:n-r.left-e,y:i-r.top-e,w:o+r.width+2*e,h:a+r.height+2*e},text:{x:n,y:i,w:o,h:a}}}(l=i._modelize(c,n,d,e)))),i._model=l,i._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(t,e){var r,a=t.ctx,o=this._model,i=this._rects;this.visible()&&(a.save(),o.clip&&(r=o.area,a.beginPath(),a.rect(r.left,r.top,r.right-r.left,r.bottom-r.top),a.clip()),a.globalAlpha=n(0,o.opacity,1),a.translate(x(e.x),x(e.y)),a.rotate(o.rotation),v(a,i.frame,o),function(t,e,r,a){var o,n=a.textAlign,i=a.color,l=!!i,s=a.font,u=e.length,d=a.textStrokeColor,c=a.textStrokeWidth,h=d&&c;if(u&&(l||h))for(r=function(t,e,r){var a=r.lineHeight,o=t.w,n=t.x;return"center"===e?n+=o/2:"end"!==e&&"right"!==e||(n+=o),{h:a,w:o,x:n,y:t.y+a/2}}(r,n,s),t.font=s.string,t.textAlign=n,t.textBaseline="middle",t.shadowBlur=a.textShadowBlur,t.shadowColor=a.textShadowColor,l&&(t.fillStyle=i),h&&(t.lineJoin="round",t.lineWidth=c,t.strokeStyle=d),o=0,u=e.length;o<u;++o)b(t,e[o],{stroked:h,filled:l,w:r.w,x:r.x,y:r.y+r.h*o})}(a,o.lines,i.text,o),a.restore())}});var p=Number.MIN_SAFE_INTEGER||-9007199254740991,g=Number.MAX_SAFE_INTEGER||9007199254740991;function m(t,e,r){var a=Math.cos(r),o=Math.sin(r),n=e.x,i=e.y;return{x:n+a*(t.x-n)-o*(t.y-i),y:i+o*(t.x-n)+a*(t.y-i)}}function w(t,e){var r,a,o,n,i,l=g,s=p,u=e.origin;for(r=0;r<t.length;++r)o=(a=t[r]).x-u.x,n=a.y-u.y,i=e.vx*o+e.vy*n,l=Math.min(l,i),s=Math.max(s,i);return{min:l,max:s}}function M(t,e){var r=e.x-t.x,a=e.y-t.y,o=Math.sqrt(r*r+a*a);return{vx:(e.x-t.x)/o,vy:(e.y-t.y)/o,origin:t,ln:o}}var k=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function $(t,e,r){var a=e.positioner(t,e),o=a.vx,n=a.vy;if(!o&&!n)return{x:a.x,y:a.y};var i=r.w,l=r.h,s=e.rotation,u=Math.abs(i/2*Math.cos(s))+Math.abs(l/2*Math.sin(s)),d=Math.abs(i/2*Math.sin(s))+Math.abs(l/2*Math.cos(s)),c=1/Math.max(Math.abs(o),Math.abs(n));return u*=o*c,d*=n*c,u+=e.offset*o,d+=e.offset*n,{x:a.x+u,y:a.y+d}}t.merge(k.prototype,{center:function(){var t=this._rect;return{x:t.x+t.w/2,y:t.y+t.h/2}},update:function(t,e,r){this._rotation=r,this._rect={x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}},contains:function(t){var e=this,r=e._rect;return!((t=m(t,e.center(),-e._rotation)).x<r.x-1||t.y<r.y-1||t.x>r.x+r.w+2||t.y>r.y+r.h+2)},intersects:function(t){var e,r,a,o=this._points(),n=t._points(),i=[M(o[0],o[1]),M(o[0],o[3])];for(this._rotation!==t._rotation&&i.push(M(n[0],n[1]),M(n[0],n[3])),e=0;e<i.length;++e)if(r=w(o,i[e]),a=w(n,i[e]),r.max<a.min||a.max<r.min)return!1;return!0},_points:function(){var t=this,e=t._rect,r=t._rotation,a=t.center();return[m({x:e.x,y:e.y},a,r),m({x:e.x+e.w,y:e.y},a,r),m({x:e.x+e.w,y:e.y+e.h},a,r),m({x:e.x,y:e.y+e.h},a,r)]}});var C={prepare:function(t){var e,r,a,o,n,i=[];for(e=0,a=t.length;e<a;++e)for(r=0,o=t[e].length;r<o;++r)n=t[e][r],i.push(n),n.$layout={_box:new k,_hidable:!1,_visible:!0,_set:e,_idx:r};return i.sort((function(t,e){var r=t.$layout,a=e.$layout;return r._idx===a._idx?a._set-r._set:a._idx-r._idx})),this.update(i),i},update:function(t){var e,r,a,o,n,i=!1;for(e=0,r=t.length;e<r;++e)o=(a=t[e]).model(),(n=a.$layout)._hidable=o&&"auto"===o.display,n._visible=a.visible(),i|=n._hidable;i&&function(t){var e,r,a,o,n,i,l;for(e=0,r=t.length;e<r;++e)(o=(a=t[e]).$layout)._visible&&(l=new Proxy(a._el,{get:(t,e)=>t.getProps([e],!0)[e]}),n=a.geometry(),i=$(l,a.model(),n),o._box.update(i,n,a.rotation()));(function(t,e){var r,a,o,n;for(r=t.length-1;r>=0;--r)for(o=t[r].$layout,a=r-1;a>=0&&o._visible;--a)(n=t[a].$layout)._visible&&o._box.intersects(n._box)&&e(o,n)})(t,(function(t,e){var r=t._hidable,a=e._hidable;r&&a||a?e._visible=!1:r&&(t._visible=!1)}))}(t)},lookup:function(t,e){var r,a;for(r=t.length-1;r>=0;--r)if((a=t[r].$layout)&&a._visible&&a._box.contains(e))return t[r];return null},draw:function(t,e){var r,a,o,n,i,l;for(r=0,a=e.length;r<a;++r)(n=(o=e[r]).$layout)._visible&&(i=o.geometry(),l=$(o._el,o.model(),i),n._box.update(l,i,o.rotation()),o.draw(t,l))}},P="$default";function S(e,r,a){if(r){var o,n=a.$context,i=a.$groups;r[i._set]&&(o=r[i._set][i._key])&&!0===t.callback(o,[n])&&(e.$datalabels._dirty=!0,a.update(n))}}function I(t,e){var r,a,o=t.$datalabels,n=o._listeners;if(n.enter||n.leave){if("mousemove"===e.type)a=C.lookup(o._labels,e);else if("mouseout"!==e.type)return;r=o._hovered,o._hovered=a,function(t,e,r,a){var o,n;(r||a)&&(r?a?r!==a&&(n=o=!0):n=!0:o=!0,n&&S(t,e.leave,r),o&&S(t,e.enter,a))}(t,n,r,a)}}return{id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(t.isNullOrUndef(e))return null;var r,a,o,n=e;if(t.isObject(e))if(t.isNullOrUndef(e.label))if(t.isNullOrUndef(e.r))for(n="",o=0,a=(r=Object.keys(e)).length;o<a;++o)n+=(0!==o?", ":"")+r[o]+": "+e[r[o]];else n=e.r;else n=e.label;return""+n},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(t){t.$datalabels={_actives:[]}},beforeUpdate:function(t){var e=t.$datalabels;e._listened=!1,e._listeners={},e._datasets=[],e._labels=[]},afterDatasetUpdate:function(e,r,a){var o,n,i,l,s,u,d,c,h=r.index,f=e.$datalabels,x=f._datasets[h]=[],y=e.isDatasetVisible(h),v=e.data.datasets[h],b=function(e,r){var a,o,n,i=e.datalabels,l=[];return!1===i?null:(!0===i&&(i={}),r=t.merge({},[r,i]),o=r.labels||{},n=Object.keys(o),delete r.labels,n.length?n.forEach((function(e){o[e]&&l.push(t.merge({},[r,o[e],{_key:e}]))})):l.push(r),a=l.reduce((function(e,r){return t.each(r.listeners||{},(function(t,a){e[a]=e[a]||{},e[a][r._key||P]=t})),delete r.listeners,e}),{}),{labels:l,listeners:a})}(v,a),p=r.meta.data||[],g=e.ctx;for(g.save(),o=0,i=p.length;o<i;++o)if((d=p[o]).$datalabels=[],y&&d&&e.getDataVisibility(o)&&!d.skip)for(n=0,l=b.labels.length;n<l;++n)u=(s=b.labels[n])._key,(c=new _(s,g,d,o)).$groups={_set:h,_key:u||P},c.$context={active:!1,chart:e,dataIndex:o,dataset:v,datasetIndex:h},c.update(c.$context),d.$datalabels.push(c),x.push(c);g.restore(),t.merge(f._listeners,b.listeners,{merger:function(t,e,a){e[t]=e[t]||{},e[t][r.index]=a[t],f._listened=!0}})},afterUpdate:function(t,e){t.$datalabels._labels=C.prepare(t.$datalabels._datasets,e)},afterDatasetsDraw:function(t){C.draw(t,t.$datalabels._labels)},beforeEvent:function(t,e){if(t.$datalabels._listened){var r=e.event;switch(r.type){case"mousemove":case"mouseout":I(t,r);break;case"click":!function(t,e){var r=t.$datalabels,a=r._listeners.click,o=a&&C.lookup(r._labels,e);o&&S(t,a,o)}(t,r)}}},afterEvent:function(t){var e,r,a,o,n,l,s,u=t.$datalabels,d=u._actives,c=u._actives=t.getActiveElements(),h=i(d,c);for(e=0,r=h.length;e<r;++e)if((n=h[e])[1])for(a=0,o=(s=n[0].element.$datalabels||[]).length;a<o;++a)(l=s[a]).$context.active=1===n[1],l.update(l.$context);(u._dirty||h.length)&&(C.update(u._labels),t.render()),delete u._dirty}}}));

/* End of File include/javascript/chartjs/chartjs-plugin-datalabels.min.js */

function loadSugarChart(chartId,data,css,chartConfig,chartParams,callback){let elementId='chart_'+chartId;if(!document.getElementById(elementId)){return;}
var chartGroupType=chartConfig.barType||chartConfig.lineType||chartConfig.pieType||chartConfig.funnelType||'basic';if(_.isUndefined(chartParams.chart_type)&&!_.isUndefined(chartParams.type)){chartParams.chart_type=chartParams.type;chartParams.type='saved-report-view';}
let options=_.extend({allowScroll:true,baseModule:'Reports',colorData:'default',dataType:chartGroupType==='stacked'?'grouped':chartGroupType,direction:'ltr',hideEmptyGroups:true,label:SUGAR.charts.translateString('LBL_DASHLET_SAVED_REPORTS_CHART'),margin:{top:10,right:10,bottom:10,left:10},module:'Reports',overflowHandler:false,reduceXTicks:false,rotateTicks:true,saved_report_id:chartConfig.chartId||chartId,show_controls:false,show_legend:true,show_title:true,show_tooltips:true,show_x_label:false,show_y_label:false,showValues:false,stacked:true,staggerTicks:true,vertical:true,wrapTicks:true,x_axis_label:'',y_axis_label:'',allow_drillthru:true,barThickness:20,chartElementId:elementId,},chartConfig,chartParams);let noDataAvailable=SUGAR.charts.translateString('LBL_NO_DATA_AVAILABLE');SUGAR.charts.defineFiscalYearStart();SUGAR.charts.get(data,options,(data,params)=>{if(SUGAR.charts.dataIsEmpty(data)){SUGAR.charts.renderError(chartId,noDataAvailable);if(callback){callback(null);}
return;}
let chart=SUGAR.charts.getChart(data,params);chart.createChart();SUGAR.charts.renderChart(chartId,chart,data);if(callback){callback(chart);}});}
(function($){if(typeof SUGAR==='undefined'||!SUGAR){SUGAR={};}
function BaseChart(data,params){this.rawData=data;this.params=params;this.chartType='';this.app=SUGAR.charts.sugarApp;this.labels=SUGAR.charts.getChartStrings();this.chartElement=document.getElementById(this.params.chartElementId);this.chart=null;this.locale=SUGAR.charts.getUserLocale();this.chartJsMajorVersion=3;this.hasSavedChart=false;this.colorList=[];this.defaultColorList=['#517bf8','#36b0ff','#00e0e0','#00ba83','#6cdf46','#ffd132','#ff9445','#fa374f','#f476b1','#cd74f2','#8f5ff5','#29388c','#145c95','#00636e','#056f37','#537600','#866500','#9b4617','#bb0e1b','#a23354','#832a83','#4c2d85','#c6ddff','#c0edff','#c5fffb','#baffcc','#e4fbb4','#fff7ad','#ffdebc','#ffd4d0','#fde2eb','#f7d0fd','#e2d4fd',];this.baseColorList=Array.isArray(this.params.colorOverrideList)?this.params.colorOverrideList:this.defaultColorList;this.wrapperProperties={};}
BaseChart.prototype.updateParams=function(newParams){this.params=newParams;this.updateChartColors();this.chart.update();};BaseChart.prototype.getChartOptions=function(){return{};};BaseChart.prototype.createChart=function(){this.destroyChart();this.data=this.transformData();this.chart=new window.Chart(this.chartElement,this.getChartOptions());return this.chart;};BaseChart.prototype.createSavableChart=function(){this.data=this.transformData();let savableChartOptions=this.makeChartSavable(this.getChartOptions());this.chart=new window.Chart(this.getSavableChartElement(),savableChartOptions);return this.chart;};BaseChart.prototype.shouldSaveChart=function(){const isClassicSave=this.params.reportView&&this.params.imageExportType&&!this.params.isOnDrillthrough;const isNewSave=_.has(this.params,'saveChartAsImage')&&this.params.saveChartAsImage===true;return!!(isClassicSave)||!!(isNewSave);};BaseChart.prototype.getSavableChartElement=function(){return document.getElementById(`${this.params.chartElementId}_print`);};BaseChart.prototype.isSavableChartFromSidecar=function(){return(_.has(this.params,'saveChartAsImage')&&this.params.saveChartAsImage===true);};BaseChart.prototype.makeChartSavable=function(chartOptions){chartOptions.plugins=chartOptions.plugins||[];chartOptions.plugins.push({id:'savechart',afterRender:(chart,options)=>this.handleChartSave(),});chartOptions.options.animation=chartOptions.options.animation||{};chartOptions.options.animation.duration=0;const showLegendInPrint=(this.params.show_legend||this.params.print_chart_legend)&&this.params.chartType!=='treemapChart';const showTitleInPrint=this.params.show_title||this.params.print_chart_title;if(chartOptions.options&&chartOptions.options.plugins&&chartOptions.options.plugins.legend){chartOptions.options.plugins.legend.display=showLegendInPrint;}
if(chartOptions.options&&chartOptions.options.legend){chartOptions.options.legend.display=showLegendInPrint;}
if(chartOptions.options&&chartOptions.options.plugins&&chartOptions.options.plugins.title){chartOptions.options.plugins.title.display=showTitleInPrint;}
if(chartOptions.options&&chartOptions.options.title){chartOptions.options.title.display=showTitleInPrint;}
return chartOptions;};BaseChart.prototype.handleChartSave=function(){if(!this.shouldSaveChart()||this.hasSavedChart){return;}
let savableChartElement=this.getSavableChartElement();const saveFromSidecar=this.isSavableChartFromSidecar();SUGAR.charts.saveChartToImage(Chart.getChart(savableChartElement),this.params.saved_report_id,this.params.imageExportType,null,saveFromSidecar);this.hasSavedChart=true;this.destroyChart(savableChartElement);};BaseChart.prototype.destroyChart=function(chartElement=null){if(this.chart&&!chartElement){this.chart.destroy();return;}
chartElement=chartElement||this.chartElement;if(this.chartJsMajorVersion===2){Chart2.helpers.each(Chart2.instances,(function(instance){if(instance.canvas.id===chartElement.id){instance.destroy();}}).bind(this));}else{let chart=Chart.getChart(chartElement);if(chart){chart.destroy();}}};BaseChart.prototype.hasValues=function(){return!!this.rawData.values.filter(d=>Array.isArray(d.values)&&d.values.length).length;};BaseChart.prototype.isDiscreteData=function(){return this.hasValues()&&Array.isArray(this.rawData.label)&&this.rawData.label.length===this.rawData.values.length&&this.rawData.values.reduce((a,c,i)=>{return a&&Array.isArray(c.values)&&c.values.length===1&&this.pickLabel(c.label)===this.pickLabel(this.rawData.label[i]);},true);};BaseChart.prototype.pickLabel=function(label){label=[].concat(label)[0];return!_.isEmpty(label)?label:this.labels.noLabel;};BaseChart.prototype.getProperties=function(){let props=_.isArray(this.rawData.properties)?_.first(this.rawData.properties):this.rawData.properties;return props||{};};BaseChart.prototype.getTitle=function(){let props=this.getProperties();return props?props.title:'';};BaseChart.prototype.sumValues=function(values){return values.reduce((a,b)=>parseFloat(a)+parseFloat(b),0);};BaseChart.prototype.setTickLength=function(label,characterLimit=20){if(label.length>=characterLimit){return label.substring(0,characterLimit-1).trim()+'…';}
return label;};BaseChart.prototype.formatNumericTicks=function(value,isCurrency,roundNum=0){return SUGAR.charts.sugarApp.utils.charts.numberFormatSI(value,roundNum,isCurrency,this.locale);};BaseChart.prototype.getCustomTooltipTitle=function(tooltip,data){if(!_.isUndefined(this.params.tooltip)&&!_.isUndefined(this.params.tooltip.title)){if(!_.isFunction(this.params.tooltip.title)){return this.params.tooltip.title;}
return this.params.tooltip.title(this,tooltip,data);}
return false;};BaseChart.prototype.getCustomTooltipLabel=function(tooltip,data){if(!_.isUndefined(this.params.tooltip)&&!_.isUndefined(this.params.tooltip.label)){if(!_.isFunction(this.params.tooltip.label)){return this.params.tooltip.label;}
return this.params.tooltip.label(this,tooltip,data);}
return false;};BaseChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){let title=this.getCustomTooltipTitle(tooltip);if(!title){title=_.first(tooltip).label;}
return title;}).bind(this),label:(function(tooltip){let label=this.getCustomTooltipLabel(tooltip);if(!label){let value=tooltip.raw;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=!this.params.barType&&this.data.datasets.length>1;let isGroupedBarChart=!this.isSingleDataset()&&['grouped','stacked'].includes(this.params.barType);let isPieLike=['pieChart','donutChart'].includes(this.params.chartType);let total;if(isPieLike){total=this.sumValues(this.data.datasets[0].data);}else if(isGroupedBarChart){total=this.sumValues(this.data.datasets.map(dataset=>dataset.data[tooltip.dataIndex]));}else if(this.mutatedBarChart){const allValues=_.chain(this.data.datasets).pluck('data').flatten().value();total=this.sumValues(allValues);}else{total=this.sumValues(tooltip.dataset.data);}
let labels=[];if((isGroupedBarChart||isNonBarMultipleDatasets)&&!isPieLike){let text=isNonBarMultipleDatasets?props.groupName:props.seriesName;if(text){labels.push({text:text,value:tooltip.dataset.label,});}}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
label=labels.map(label=>`${label.text}: ${label.value}`);}
return label;}).bind(this),}};};BaseChart.prototype.isSingleDataset=function(){return this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1;};BaseChart.prototype.getTickOptions=function(axis){const getLabel=index=>{let label=this.getProperties().type==='line chart'?this.rawData.label[index]:this.rawData.values[index].label;return this.setTickLength(this.pickLabel(label));};let tickOptions={autoSkip:false,color:this.getTextColor(),callback:index=>getLabel(index),};let numericTickOptions={autoskip:false,minRotation:0,maxRotation:0,color:this.getTextColor(),callback:(value,index,values)=>{let props=this.getProperties();const round=(value<10||props.yDataType==='currency')?2:null;return this.formatNumericTicks(value,props.yDataType==='currency',round);},};if(axis==='y'&&this.params.orientation!=='horizontal'){return numericTickOptions;}
if(axis==='x'){if(this.params.orientation==='horizontal'){return numericTickOptions;}
if(this.params.rotateTicks){tickOptions={autoSkip:false,maxRotation:45,minRotation:45,color:this.getTextColor(),callback:index=>getLabel(index),};}
if(this.params.staggerTicks){tickOptions={autoSkip:false,maxRotation:0,minRotation:0,color:this.getTextColor(),callback:index=>{let label=getLabel(index);return index%2===0?[' ',label]:label;},};}
if(this.params.wrapTicks){tickOptions={autoSkip:false,maxRotation:0,minRotation:0,color:this.getTextColor(),callback:index=>{let label=getLabel(index);return/\s/.test(label)?label.split(' '):label;},};}}
return tickOptions;};BaseChart.prototype.getColors=function(index=-1,usePattern=false){if(!this.colorList.length){let colorList=this.baseColorList;let dataLength=-1;switch(this.params.chartType){case'pieChart':case'donutChart':case'lineChart':case'funnelChart':case'treemapChart':dataLength=this.rawData.values.length;break;case'barChart':if(['grouped','stacked'].includes(this.params.barType)){if(this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1){dataLength=this.rawData.values.length;}else{dataLength=this.rawData.label.length;}}else{dataLength=this.rawData.values.length;}
break;}
if(dataLength>this.baseColorList.length){for(let i=1;i<dataLength / this.baseColorList.length;i++){colorList=colorList.concat(this.baseColorList);}}
this.colorList=colorList;}
if(index!==-1){return usePattern?this.createPattern(this.colorList[index]):this.colorList[index];}else{return this.colorList;}};BaseChart.prototype.createPattern=function(color){let shape=document.createElement('canvas');shape.width=10;shape.height=10;let c=shape.getContext('2d');c.fillStyle=color;c.fillRect(0,0,shape.width,shape.height);c.strokeStyle='#ffffff';c.beginPath();c.moveTo(2,0);c.lineTo(10,8);c.stroke();c.beginPath();c.moveTo(0,8);c.lineTo(2,10);c.stroke();return c.createPattern(shape,'repeat');};BaseChart.prototype.getTextColor=function(){return this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode?'#e5eaed':'#2b2d2e';};BaseChart.prototype.getDataLabelsColor=function(){const grayBlack='#2b2d2e';const grayWhite='#e5eaed';if(this.params.showValues==='top'&&!this.params.stacked){return _.map(this.getColors(),function(){return this.app.utils.isDarkMode()?grayWhite:grayBlack;},this);}
return _.map(this.getColors(),function(color){return this.app.utils.isWhiteColor(color)?grayBlack:grayWhite;},this);};BaseChart.prototype.getBorderColor=function(){if(this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode){if(this.params.isOnDrillthrough){return'#2b2d2e';}
return this.params.reportView?'#16191d':'#000000';}else{if(this.params.isOnDrillthrough){return'#f1f3f4';}
return this.params.reportView?'#f8fafc':'#ffffff';}};BaseChart.prototype.getAxisColors=function(){return this.app.utils.isDarkMode()&&!this.params.ignoreDarkMode?'#4d5154':'#e5eaed';};BaseChart.prototype.getClickHandler=function(){if(this.params.onClick&&_.isFunction(this.params.onClick)){return this.params.onClick.bind(this);}
return function(event,activeElements,chart){let element;let groupIndex;let groupLabel;let seriesIndex;let seriesLabel;let params=Object.assign({},this.params);let reportDef=report_def;if(this.chartType==='funnel'){if(_.isEmpty(activeElements)){return;}
let internalChart=activeElements[0]._chart;let elementClicked=internalChart.getElementAtEvent(event);groupIndex=elementClicked[0]._index;groupLabel=internalChart.data.labels[groupIndex];seriesIndex=elementClicked[0]._datasetIndex;seriesLabel=internalChart.data.datasets[seriesIndex].label;params.seriesLabel=seriesLabel;params.seriesIndex=seriesIndex;params.groupLabel=groupLabel;params.groupIndex=groupIndex;}else{element=chart.getElementsAtEventForMode(event,'nearest',{intersect:true},false);if(_.isEmpty(element)){return;}
groupIndex=element[0].index;groupLabel=chart.data.labels[groupIndex];seriesIndex=element[0].datasetIndex;seriesLabel=chart.data.datasets[seriesIndex].label;if(params.chart_type==='line chart'){params.groupLabel=seriesLabel;params.groupIndex=seriesIndex;params.seriesLabel=groupLabel;params.seriesIndex=groupIndex;}else{params.seriesLabel=seriesLabel;params.seriesIndex=seriesIndex;params.groupLabel=groupLabel;params.groupIndex=groupIndex;}}
let enums=SUGAR.charts.getEnums(reportDef);let groupDefs=SUGAR.charts.getGrouping(reportDef);let drawerContext={chartData:this.app.utils.deepCopy(this.rawData),chartModule:reportDef.module,dashConfig:params,dashModel:null,enumsToFetch:enums,filterOptions:{auto_apply:false},groupDefs:groupDefs,layout:'drillthrough-drawer',module:'Reports',reportData:reportDef,reportId:this.params.saved_report_id,skipFetch:true,useSavedFilters:true};SUGAR.charts.openDrawer(drawerContext);}.bind(this);};function BarChart(data,params){BaseChart.call(this,data,params);this.chartType='bar';this.hiddenData={};if((this.params.reportView&&this.isDiscreteData())||this.params.barType==='stacked'){this.params.dataType='grouped';}
let orientation=this.params.orientation?this.params.orientation:'horizontal';const horizontalMinDatapointThickness=45;const verticalMinDatapointThickness=40;this.minDatapointThickness=orientation==='horizontal'?horizontalMinDatapointThickness:verticalMinDatapointThickness;this.categoryPercentage=0.8;this.barPercentage=0.9;this.wrapperProperties=this.getChartWrapperProperties();}
BarChart.prototype=Object.create(BaseChart.prototype);BarChart.prototype.getTooltipOptions=function(){let tooltipOptions=BaseChart.prototype.getTooltipOptions.call(this);if(this.params.orientation!=='horizontal'){window.Chart.Tooltip.positioners.alwaysOnScreenPositioner=function(elements,eventPosition){let xPos=eventPosition.x;let yPos=eventPosition.y;if(elements.length>0){const element=_.first(elements).element;const chartPos=$(element.$context.chart.canvas).position();const tooltipPos=element.tooltipPosition();const tooltipWidth=this.width;const left=chartPos.left+tooltipPos.x-tooltipWidth;if(left<0&&!element.horizontal){xPos=tooltipPos.x+tooltipWidth+element.width;this.xAlign='left';}}
return{x:xPos,y:yPos,};};tooltipOptions.position='alwaysOnScreenPositioner';tooltipOptions.xAlign='right';}
return tooltipOptions;};BarChart.prototype.getChartWrapperProperties=function(){let wrapperProperties={};let values=this.rawData&&this.rawData.values||[];let valuesCount=values.length;if(this.params.dataType==='grouped'&&!this.params.stacked){valuesCount=0;_.each(values,function(value){let subValues=value.values||[];valuesCount+=subValues.length;},this);}
let orientation=this.params.orientation?this.params.orientation:'horizontal';if(orientation==='horizontal'){let topMargin=_.get(this.params,['margin','top'])||0;let bottomMargin=_.get(this.params,['margin','bottom'])||0;let minChartHeight=(valuesCount*this.minDatapointThickness)+topMargin+bottomMargin;wrapperProperties['min-height']=`${minChartHeight}px`;}else{let leftMargin=_.get(this.params,['margin','left'])||0;let rightMargin=_.get(this.params,['margin','right'])||0;let minChartWidth=(valuesCount*this.minDatapointThickness)+leftMargin+rightMargin;wrapperProperties['min-width']=`${minChartWidth}px`;wrapperProperties['min-height']='200px';}
return wrapperProperties;};const formatBarChartTopLabels=function(chartDetails,params,props,rawData,locale){if(params.orientation!=='vertical'){chartDetails.options.plugins.datalabels.anchor='end';}
if(params.barType==='grouped'){let maxValue=0;rawData.values.forEach(group=>{group.values.forEach(value=>{maxValue=Math.max(maxValue,value);});});if(maxValue!=0){const multiplier=SUGAR.charts.sugarApp.utils.charts.numberFormatSI(maxValue,2,props.yDataType,locale).length*.068;chartDetails.options.scales.y.max=maxValue+(maxValue*multiplier);}}
return chartDetails;};BarChart.prototype.getChartOptions=function(){let isHorizontal=this.params.orientation==='horizontal';const isSimpleChart=!['grouped','stacked'].includes(this.params.barType)||this.isSingleDataset();if(isSimpleChart){this.mutateToStacked();}
if(!isHorizontal){this.params.rotateTicks=true;this.params.staggerTicks=false;this.params.wrapTicks=false;}
let chartDetails={type:this.chartType,data:this.data,plugins:[ChartDataLabels],options:{animation:{onComplete:function(animation){if(animation.initial){animation.chart.update();}}},indexAxis:isHorizontal?'y':'x',responsive:true,maintainAspectRatio:false,scales:{x:{title:{display:isHorizontal?this.params.show_y_label:this.params.show_x_label,text:isHorizontal?this.params.y_axis_label:this.params.x_axis_label,color:this.getTextColor(),font:{weight:'bold',},},stacked:this.params.stacked,ticks:this.getTickOptions('x'),border:{display:true,},grid:{display:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},y:{title:{display:isHorizontal?this.params.show_x_label:this.params.show_y_label,text:isHorizontal?this.params.x_axis_label:this.params.y_axis_label,color:this.getTextColor(),font:{weight:'bold',},},stacked:this.params.stacked,ticks:this.getTickOptions('y'),border:{display:true,},grid:{display:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},},plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),datalabels:{color:this.getDataLabelsColor(),anchor:(context)=>{return this.getLabelAnchorValue(context);},align:(context)=>{return this.getLabelAlignValue(context);},padding:4,formatter:(function(value,context){let props=this.getProperties();return this.formatNumericTicks(value,props.yDataType==='currency',2);}).bind(this),display:(function(context){if([0,'0','total'].includes(this.params.showValues)){return false;}
if(this.params.showValues==='top'&&this.params.stacked!==true){return true;}
const pixelsPerDigit=10;const value=context.dataset.data[context.dataIndex];const minBarSize=10;const targetBarSize=Math.round(value).toString().length*pixelsPerDigit;const datasetMeta=context.chart.getDatasetMeta(context.datasetIndex);const barWidth=datasetMeta.data[context.dataIndex].width;const barHeight=datasetMeta.data[context.dataIndex].height;return barWidth>=targetBarSize&&value>0&&barHeight>minBarSize;}).bind(this),},},onClick:this.getClickHandler(),}};if(this.params.showValues==='total'){let totalAxis=isHorizontal?'y1':'x1';chartDetails.options.scales[totalAxis]={display:true,stacked:this.params.stacked,position:isHorizontal?'right':'top',title:{display:false,},border:{display:false,},grid:{drawOnGridArea:false,drawTicks:false,},ticks:{minRotation:0,maxRotation:0,autoSkip:false,color:this.getTextColor(),callback:index=>{let props=this.getProperties();let value=this.sumValues(this.rawData.values[index].values);return this.formatNumericTicks(value,props.yDataType==='currency');},},};}
if(this.params.showValues==='top'){chartDetails=formatBarChartTopLabels(chartDetails,this.params,this.getProperties(),this.rawData,this.locale);}
return chartDetails;};BarChart.prototype.mutateToStacked=function(){if(_.isUndefined(this.rawData)||(_.isArray(this.rawData.label)&&this.rawData.label.length===1)){return;}
this.params.stacked=true;this.mutatedBarChart=true;let formattedDataset=[];if(_.isUndefined(this.data)){return;}
const dataset=_.first(this.data.datasets);if(!_.isUndefined(dataset)){_.each(dataset.data,function(value,idx){const columns=this.data.labels.length;let values=[];for(let columnIdx=0;columnIdx<columns;columnIdx++){if(columnIdx===idx){values.push(value);}else{values.push(0);}}
const undefinedLabel=this.app.lang.get('LBL_CHART_NO_LABEL');const isLabelDefined=dataset.label&&_.isString(dataset.label);let label=this.data.labels[idx];if(isLabelDefined&&dataset.label.toLowerCase()!==undefinedLabel.toLowerCase()){label=dataset.label;}
formattedDataset.push({backgroundColor:dataset.backgroundColor[idx],barPercentage:dataset.barPercentage,categoryPercentage:dataset.categoryPercentage,data:values,label:label,});},this);this.data.datasets=formattedDataset;}};BarChart.prototype.clampDatalabelVerticalPosition=function(context){if(this.params.orientation==='vertical'&&!(this.params.showValues==='top'&&!this.params.stacked)){let minBarHeight=25;const datasetMeta=context.chart.getDatasetMeta(context.datasetIndex);const barHeight=datasetMeta.data[context.dataIndex].height;if(barHeight<minBarHeight){return'center';}}
return false;};BarChart.prototype.getLabelAlignValue=function(context){let alignMap={'1':'start',start:'end',middle:'center',end:'start',top:this.params.stacked?'start':'end',};const clampedPosition=this.clampDatalabelVerticalPosition(context);return clampedPosition||alignMap[this.params.showValues]||'center';};BarChart.prototype.getLabelAnchorValue=function(context){let anchorMap={'1':'end',start:'start',middle:'center',end:'end',top:'end',};const clampedPosition=this.clampDatalabelVerticalPosition(context);return clampedPosition||anchorMap[this.params.showValues]||'center';};BarChart.prototype.getLargestColumnTotal=function(){return Math.max(...this.rawData.values.map(value=>this.sumValues(value.values)));};BarChart.prototype.updateChartColors=function(){let isSingleDataset=this.rawData.values&&this.rawData.values[0]&&this.rawData.values[0].values.length===1;let isGroupedOrStacked=['grouped','stacked'].includes(this.params.barType);if(!_.isUndefined(this.params.groupIndex)&&!_.isUndefined(this.params.seriesIndex)){this.chart.data.datasets.map((dataset,index)=>{if((isSingleDataset||!isGroupedOrStacked)&&!this.mutatedBarChart){this.chart.data.datasets[index].backgroundColor=[...this.getColors()];}else{this.chart.data.datasets[index].backgroundColor=new Array(this.rawData.values.length).fill(this.getColors(index));}});if(isGroupedOrStacked||this.mutatedBarChart){this.chart.data.datasets[this.params.seriesIndex].backgroundColor[this.params.groupIndex]=this.getColors(this.params.seriesIndex,true);}else{this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}}};BarChart.prototype.transformData=function(){if(['grouped','stacked'].includes(this.params.barType)&&!this.isSingleDataset()){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:this.rawData.label.map((label,index)=>({categoryPercentage:this.categoryPercentage,barPercentage:this.barPercentage,label:this.pickLabel(label),backgroundColor:new Array(this.rawData.values[0].values.length).fill(this.getColors(index)),data:this.rawData.values.map(value=>value.values[index]),})),};}else{return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:[{categoryPercentage:this.categoryPercentage,barPercentage:this.barPercentage,label:this.pickLabel(this.rawData.label.length===1?this.rawData.label[0]:''),backgroundColor:[...this.getColors()],data:this.rawData.values.map(value=>this.sumValues(value.values)),}],};}};function PieChart(data,params){BaseChart.call(this,data,params);this.chartType='pie';}
PieChart.prototype=Object.create(BaseChart.prototype);PieChart.prototype.getChartOptions=function(){let chartOptions={type:this.chartType,data:this.data,plugins:[],options:{responsive:true,maintainAspectRatio:false,cutout:this.params.cutout,plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),datalabels:{color:this.getDataLabelsColor(),anchor:'center',padding:4,formatter:(function(value,context){return this.pickLabel(this.rawData.values[context.dataIndex].label);}).bind(this),display:context=>context.dataset.data[context.dataIndex]!==0,},},onClick:this.getClickHandler(),},};if(this.params.donutLabelsOutside){chartOptions.plugins.push(ChartDataLabels);}
if(!_.isEmpty(this.params.hole)){chartOptions.plugins.push({id:'donuthole',beforeDraw:chart=>{let width=chart.width;let height=chart.height;chart.ctx.restore();let fontSize=(height / 114).toFixed(2);chart.ctx.font=`${fontSize}em Inter`;chart.ctx.textBaseline='middle';chart.ctx.fillStyle=this.getTextColor();let textX=Math.round((width-chart.ctx.measureText(this.params.hole).width)/ 2);let textY=0;if(!_.isUndefined(chart.legend)&&chart.legend.height>0){textY=chart.legend.height;}
textY=(textY+height)/ 2;chart.ctx.fillText(this.params.hole,textX,textY);chart.ctx.save();},});}
return chartOptions;};PieChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=[...this.getColors()];this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}};PieChart.prototype.transformData=function(){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)),datasets:[{backgroundColor:[...this.getColors()],borderColor:this.getBorderColor(),borderWidth:2,data:this.rawData.values.map(value=>this.sumValues(value.values)),}],};};function LineChart(data,params){BaseChart.call(this,data,params);this.chartType='line';}
LineChart.prototype=Object.create(BaseChart.prototype);LineChart.prototype.getChartOptions=function(){return{type:this.chartType,data:this.data,options:{pointHitRadius:5,pointHoverRadius:5,responsive:true,maintainAspectRatio:this.params.maintainAspectRatio?this.params.maintainAspectRatio:false,aspectRatio:this.params.aspectRatio?this.params.aspectRatio:2,scales:{x:{title:{display:this.params.show_x_label,text:this.params.x_axis_label,color:this.getTextColor(),},ticks:this.getTickOptions('x'),border:{display:true,},grid:{display:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},y:{title:{display:this.params.show_y_label,text:this.params.y_axis_label,color:this.getTextColor(),},ticks:this.getTickOptions('y'),border:{display:true,},grid:{display:true,drawOnChartArea:true,drawTicks:false,color:this.getAxisColors(),},},},plugins:{legend:{display:this.params.show_legend,labels:{color:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),},onClick:this.getClickHandler(),},};};LineChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){let title=this.getCustomTooltipTitle(tooltip);if(!title){title=_.first(tooltip).label;}
return title;}).bind(this),label:(function(tooltip){let label=this.getCustomTooltipLabel(tooltip);if(!label){let value=tooltip.raw;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let labels=[{text:props.groupName,value:tooltip.dataset.label,},{text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),}];label=labels.map(label=>`${label.text}: ${label.value}`);}
return label;}).bind(this),}};};LineChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)&&!_.isUndefined(this.params.seriesIndex)){this.chart.data.datasets.map((dataset,index)=>{this.chart.data.datasets[index].pointRadius=new Array(dataset.data.length).fill(3);});this.chart.data.datasets[this.params.groupIndex].pointRadius[this.params.seriesIndex]=6;}};LineChart.prototype.transformData=function(){return{labels:this.rawData.label.map(label=>this.pickLabel(label)),datasets:this.rawData.values.map((value,index)=>({label:this.pickLabel(value.label),fill:false,borderColor:this.getColors(index),pointRadius:3,backgroundColor:this.getColors(index),data:value.values,})),};};function FunnelChart(data,params){BaseChart.call(this,data,params);this.chartType='funnel';this.chartJsMajorVersion=2;}
FunnelChart.prototype=Object.create(BaseChart.prototype);FunnelChart.prototype.createChart=function(){this.destroyChart();this.data=this.transformData();this.chart=new window.Chart2(this.chartElement,this.getChartOptions());return this.chart;};FunnelChart.prototype.createSavableChart=function(){this.data=this.transformData();let savableChartOptions=this.makeChartSavable(this.getChartOptions({alwaysDisplayLabel:true}));this.chart=new window.Chart2(this.getSavableChartElement(),savableChartOptions);return this.chart;};FunnelChart.prototype.handleChartSave=function(){if(!this.shouldSaveChart()||this.hasSavedChart){return;}
let savableChartElement=this.getSavableChartElement();const saveFromSidecar=this.isSavableChartFromSidecar();Chart2.helpers.each(Chart2.instances,(function(instance){if(instance.canvas.id===savableChartElement.id){SUGAR.charts.saveChartToImage(instance,this.params.saved_report_id,this.params.imageExportType,null,saveFromSidecar);}}).bind(this));this.hasSavedChart=true;this.destroyChart(savableChartElement);};FunnelChart.prototype.getChartOptions=function(rules){return{plugins:[ChartDataLabelsV1],type:this.chartType,data:this.data,options:{responsive:true,maintainAspectRatio:this.params.maintainAspectRatio?this.params.maintainAspectRatio:false,aspectRatio:this.params.aspectRatio?this.params.aspectRatio:2,sort:'desc',legend:{display:this.params.show_legend,labels:{fontColor:this.getTextColor(),usePointStyle:true,pointStyle:'circle',},},title:{display:this.params.show_title,text:this.getTitle(),fontColor:this.getTextColor(),},tooltips:this.getTooltipOptions(),onClick:this.getClickHandler(),plugins:{datalabels:{color:this.getDataLabelsColor(),align:'center',formatter:(function(value,context){let props=this.getProperties();return this.formatNumericTicks(value,props.yDataType==='currency',2);}).bind(this),display:(function(context){if([0,'0','total'].includes(this.params.showValues)){return false;}
if(rules&&rules.alwaysDisplayLabel){return true;}
const targetSet=context.chart.getDatasetMeta(context.datasetIndex||0);const targetBar=targetSet&&targetSet.data?targetSet.data[context.dataIndex]:false;const targetCorners=targetBar?targetBar._cornersCache:false;const topLeftCornerIndex=0;const bottomLeftCornerIndex=1;const yPosIndex=1;const minHeightAllowed=10;let barHeight=0;if(targetCorners&&targetCorners[topLeftCornerIndex]&&targetCorners[bottomLeftCornerIndex]){const topY=targetCorners[topLeftCornerIndex][yPosIndex]||0;const bottomY=targetCorners[bottomLeftCornerIndex][yPosIndex]||0;barHeight=topY-bottomY;}
return barHeight>=minHeightAllowed;}).bind(this),},}},};};FunnelChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=[...this.getColors()];this.chart.data.datasets[0].backgroundColor[this.params.groupIndex]=this.getColors(this.params.groupIndex,true);}};FunnelChart.prototype.transformData=function(){return{labels:this.rawData.values.map(value=>this.pickLabel(value.label)).reverse(),datasets:[{backgroundColor:[...this.getColors()],data:this.rawData.values.map(value=>this.sumValues(value.values)).reverse(),}],};};FunnelChart.prototype.getTooltipOptions=function(){return{position:'custom',enabled:true,mode:'point',display:true,displayColors:false,labelColor:function(tooltipItem,chart){return{borderColor:chart.data.datasets[0].backgroundColor[tooltipItem.index],backgroundColor:chart.data.datasets[0].backgroundColor[tooltipItem.index]};},callbacks:{title:(function(tooltipItem,data){let title=this.getCustomTooltipTitle(tooltipItem,data);if(!title){title=this.pickLabel(data.labels[tooltipItem[0].index]);}
return title;}).bind(this),label:(function(tooltipItem,data){let label=this.getCustomTooltipLabel(tooltipItem,data);if(!label){let value=data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=this.data.datasets.length>1;let total=this.sumValues(data.datasets[tooltipItem.datasetIndex].data);let labels=[];if(isNonBarMultipleDatasets){labels.push({text:isNonBarMultipleDatasets?props.groupName:props.seriesName,value:data.datasets[tooltipItem.datasetIndex].label,});}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
label=labels.map(label=>`${label.text}: ${label.value}`);}
return label;}).bind(this),}};};function TreemapChart(data,params){BaseChart.call(this,data,params);this.chartType='treemap';}
TreemapChart.prototype=Object.create(BaseChart.prototype);TreemapChart.prototype.getChartOptions=function(){return{type:this.chartType,data:this.data,options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false,},title:{display:this.params.show_title,text:this.getTitle(),color:this.getTextColor(),},tooltip:this.getTooltipOptions(),},onClick:this.getClickHandler(),}};};TreemapChart.prototype.updateChartColors=function(){if(!_.isUndefined(this.params.groupIndex)){this.chart.data.datasets[0].backgroundColor=(function(ctx){if(ctx.type!=='data'){return;}
return this.getColors(ctx.dataIndex,ctx.dataIndex===this.params.groupIndex);}).bind(this);}};TreemapChart.prototype.transformData=function(){let newData=this.rawData.values.map(value=>({label:this.pickLabel(value.label),value:this.sumValues(value.values),}));newData.sort((a,b)=>b.value-a.value);this.sortedData=newData;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';return{labels:this.sortedData.map(value=>this.pickLabel(value.label)),datasets:[{backgroundColor:(function(ctx){if(ctx.type!=='data'){return;}
return this.getColors(ctx.dataIndex);}).bind(this),tree:this.sortedData,key:'value',groups:['label'],spacing:1,labels:{display:true,align:'center',position:'center',color:'#ffffff',formatter:(function(ctx){if(ctx.type!=='data'){return;}
let value=ctx.raw.v;return[this.sortedData[ctx.dataIndex].label,yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),];}).bind(this),},}],};};TreemapChart.prototype.getTooltipOptions=function(){return{display:true,displayColors:false,callbacks:{title:(function(tooltip){let title=this.getCustomTooltipTitle(tooltip);if(!title){let dataIndex=_.first(tooltip).dataIndex;title=this.pickLabel(this.sortedData[dataIndex].label);}
return title;}).bind(this),label:(function(tooltip){let label=this.getCustomTooltipLabel(tooltip);if(!label){let dataIndex=tooltip.dataIndex;let value=this.sortedData[dataIndex].value;let props=this.getProperties();let yIsCurrency=props.yDataType==='currency';let isNonBarMultipleDatasets=!this.params.barType&&this.data.datasets.length>1;let total=this.sumValues(this.sortedData.map(value=>value.value));let labels=[];if(isNonBarMultipleDatasets){labels.push({text:isNonBarMultipleDatasets?props.groupName:props.seriesName,value:tooltip.dataset.label,});}
labels.push({text:yIsCurrency?this.labels.tooltip.amount:this.labels.tooltip.count,value:yIsCurrency?this.app.currency.formatAmountLocale(value,this.locale.currency_id):this.app.utils.charts.numberFormat(value,this.locale.precision,false,this.locale),});if(this.app.utils.charts.isNumeric(value)&&!isNonBarMultipleDatasets){labels.push({text:this.labels.tooltip.percent,value:this.app.utils.charts.numberFormatPercent(value,total,this.locale),});}
label=labels.map(label=>`${label.text}: ${label.value}`);}
return label;}).bind(this),}};};SUGAR.charts={sugarApp:(SUGAR.App||SUGAR.app||app),get:function(urlordata,params,success){let data;if(_.isString(urlordata)){data={r:new Date().getTime()};$.extend(data,params);$.ajax({url:urlordata,data:data,dataType:'json',async:false,success:data=>success(data,params),});}else{success(urlordata,params);}},getChart:function(data,params){let chart=SUGAR.charts.getChartInstance(data,params);if(chart.shouldSaveChart()){let paramsForSaveChart=this.sugarApp.utils.deepCopy(params);paramsForSaveChart.show_title=true;let savableChart=SUGAR.charts.getChartInstance(data,paramsForSaveChart,true);savableChart.createSavableChart();}
return chart;},getChartInstance:function(data,params,isSavableChart=false){let chart;let chartParams=Object.assign({},params);switch(params.chartType){case'barChart':chart=new BarChart(data,chartParams);break;case'lineChart':chart=new LineChart(data,chartParams);break;case'donutChart':case'pieChart':chartParams.cutout=chartParams.chartType==='donutChart'?'50%':'0';chart=new PieChart(data,chartParams);break;case'funnelChart':chart=new FunnelChart(data,chartParams);break;case'treemapChart':chart=new TreemapChart(data,chartParams);break;}
if(isSavableChart){chart.params.ignoreDarkMode=true;}
return chart;},callback:function(callback,chart,chartId,params,chartData){if(!_.isFunction(chart.update)){return;}
if(callback){callback(chart);return;}
if(!_.isFunction(chart.seriesClick)||!params.allow_drillthru){return;}
chart.seriesClick(_.bind(function(data,eo,chart,labels){var chartState;var drawerContext;let reportDef=report_def;chartState=this.buildChartState(eo,labels);if(!_.isFinite(chartState.seriesIndex)){return;}
if(params.chart_type==='line chart'){params.groupLabel=this.extractSeriesLabel(chartState,data);params.seriesLabel=this.extractGroupLabel(chartState,labels);}else{params.seriesLabel=this.extractSeriesLabel(chartState,data);params.groupLabel=this.extractGroupLabel(chartState,labels);}
var enums=this.getEnums(reportDef);var groupDefs=this.getGrouping(reportDef);drawerContext={chartData:chartData,chartModule:reportDef.module,chartState:chartState,dashConfig:params,dashModel:null,enumsToFetch:enums,filterOptions:{auto_apply:false},groupDefs:groupDefs,layout:'drillthrough-drawer',module:'Reports',reportData:reportDef,reportId:chartId,skipFetch:true,useSavedFilters:true};chart.clearActive();if(chart.cellActivate){chart.cellActivate(chartState);}else if(chart.seriesActivate){chart.seriesActivate(chartState);}else{chart.dataSeriesActivate(eo);}
chart.dispatch.call('tooltipHide',this);this.sugarApp.alert.show('listfromreport_loading',{level:'process',title:this.translateString('LBL_LOADING')});chart.clearActive();chart.render();this.openDrawer(drawerContext);},this));},buildChartState:function(eo,labels){var seriesIndex;var state={};if(!_.isEmpty(eo.series)&&_.isFinite(eo.series.seriesIndex)){seriesIndex=eo.series.seriesIndex;}else if(_.isFinite(eo.seriesIndex)){seriesIndex=eo.seriesIndex;}
if(_.isEmpty(labels)){if(!_.isFinite(seriesIndex)&&_.isFinite(eo.pointIndex)){seriesIndex=eo.pointIndex;}}else{if(_.isFinite(eo.groupIndex)){state.groupIndex=eo.groupIndex;}
if(_.isFinite(eo.pointIndex)){state.pointIndex=eo.pointIndex;}}
state.seriesIndex=seriesIndex;return state;},extractSeriesLabel:function(state,data){return data[state.seriesIndex].key;},extractGroupLabel:function(state,labels){var index=_.isUndefined(state.pointIndex)?state.groupIndex:state.pointIndex;return _.isEmpty(labels)?null:labels[index];},getGrouping:function(reportDef,i){var groupDefs=reportDef.group_defs;if(isNaN(i)){return groupDefs;}
return i>0&&groupDefs.length>1?groupDefs[1]:groupDefs[0];},defineFiscalYearStart:function(){let fiscalYear=this.getFiscalStartDate();if(!_.isEmpty(fiscalYear)){return;}
const config=this.sugarApp.metadata.getModule('Forecasts','config');let fiscalStartDate=!_.isEmpty(config)?config.timeperiod_start_date:null;if(_.isEmpty(fiscalStartDate)){fiscalYear=new Date().getUTCFullYear();fiscalStartDate=fiscalYear+'-01-01';}
this.sugarApp.api.call('GET',this.sugarApp.api.buildURL('TimePeriods/'+fiscalStartDate),null,{success:_.bind(this.setFiscalStartDate,this),error:_.bind(function(){},this)});},setFiscalStartDate:function(firstQuarter){if(!firstQuarter){return;}
const timePeriodType='Quarter';const fiscalYear=firstQuarter.start_date.split('-')[0];const quarterDateStart=new Date(firstQuarter.start_date);let fiscalMonth=quarterDateStart.getUTCMonth();const day=quarterDateStart.getUTCDate();if(firstQuarter.type===timePeriodType){const quarterNumber=firstQuarter.name.match(/.*Q(\d{1})/)[1];fiscalMonth=fiscalMonth-(quarterNumber-1)*3;}
const fiscalYearStart=new Date(Date.UTC(fiscalYear,fiscalMonth,day,0,0,0)).toUTCString();this.sugarApp.cache.set('fiscaltimeperiods',{'annualDate':fiscalYearStart});},getFiscalStartDate:function(){var timeperiods=this.sugarApp.cache.get('fiscaltimeperiods');var datetime=!_.isEmpty(timeperiods)&&!_.isUndefined(timeperiods.annualDate)?timeperiods.annualDate:null;return datetime;},getTargetYear:function(label){const config=this.sugarApp.metadata.getModule('Forecasts','config');if(!_.isUndefined(config)&&config.timeperiod_fiscal_year==='next_year'){const actualYear=new Date(label).getUTCFullYear()-1;return actualYear.toString();}
return label;},getDateValues:function(label,type){var dateParser=this.sugarApp.date;var userLangPref=this.sugarApp.user.getLanguage()||'en_us';let pattern=this.sugarApp.date.getUserDateFormat();const partialDatePatterns={year:'YYYY',quarter:'Q YYYY',month:'MMMM YYYY',week:'W YYYY',};var startDate;var endDate;var y1;var y2;var m1;var m2;var d1;var d2;var values=[];if(_.isEmpty(label)){startDate='';endDate='';}else{switch(type){case'fiscalYear':label=this.getTargetYear(label);var fy=new Date(this.getFiscalStartDate()||new Date().getFullYear()+'-01-01');fy.setUTCFullYear(label);y1=fy.getUTCFullYear();m1=fy.getUTCMonth()+1;d1=fy.getUTCDate();fy.setUTCMonth(fy.getUTCMonth()+12);fy.setUTCDate(fy.getUTCDate()-1);y2=fy.getUTCFullYear();m2=fy.getUTCMonth()+1;d2=fy.getUTCDate();startDate=y1+'-'+m1+'-'+d1;endDate=y2+'-'+m2+'-'+d2;break;case'fiscalQuarter':var fy=new Date(this.getFiscalStartDate()||new Date().getFullYear()+'-01-01');var re=/Q([1-4]{1})\s(\d{4})/;var rm=label.match(re);rm[2]=this.getTargetYear(rm[2]);fy.setUTCFullYear(rm[2]);fy.setUTCMonth((rm[1]-1)*3+fy.getUTCMonth());y1=fy.getUTCFullYear();m1=fy.getUTCMonth()+1;d1=fy.getUTCDate();fy.setUTCMonth(m1+2);fy.setUTCDate(fy.getUTCDate()-1);y2=fy.getUTCFullYear();m2=fy.getUTCMonth()+1;d2=fy.getUTCDate();startDate=y1+'-'+m1+'-'+d1;endDate=y2+'-'+m2+'-'+d2;break;case'day':var parsedDate=dateParser(label,pattern,userLangPref);startDate=parsedDate.formatServer(true);break;default:pattern=partialDatePatterns[type]||partialDatePatterns.year;var parsedDate=dateParser(label,pattern,userLangPref);var momentType=type==='week'?'isoweek':type;startDate=parsedDate.startOf(momentType).formatServer(true);endDate=parsedDate.endOf(momentType).formatServer(true);break;}}
values.push(startDate);if(type!=='day'){values.push(endDate);values.push(type);}
return values;},getValues:function(label,def,type,enums){var dateFunctions=['year','quarter','month','week','day','fiscalYear','fiscalQuarter'];var columnFn=def.column_function;var isDateFn=!_.isEmpty(columnFn)&&dateFunctions.indexOf(columnFn)!==-1;var values=[];if(this.translateString('LBL_CHART_UNDEFINED')===label){label='';}
if(isDateFn){values=this.getDateValues(label,columnFn);}else{switch(type){case'bool':if(this.translateListStrings('dom_switch_bool').on===label){values.push('1');}else if(this.translateListStrings('dom_switch_bool').off===label){values.push('0');}
break;case'enum':case'radioenum':const data=enums[def.table_key+':'+def.name][label];if(_.isArray(data)){_.each(data,function(item){values.push(item);});}else{values.push(data);}
break;case'multienum':const multiEnumValue=enums[def.table_key+':'+def.name][label];if(multiEnumValue){values.push(multiEnumValue);}else{const labels=label.split(', ');_.each(labels,(label)=>{const multiEnumValue=enums[def.table_key+':'+def.name][label];values.push(multiEnumValue);});}
break;case'date':case'datetime':case'datetimecombo':var date=new this.sugarApp.date(label,this.sugarApp.date.getUserDateFormat());let dateValue=date.formatServer(true);if(dateValue==='Invalid date'){dateValue='';}
values.push(dateValue);break;case'int':const numberSeparator=this.sugarApp.user.getPreference('number_grouping_separator');label=label.replaceAll(numberSeparator,'');values.push(label);break;default:values.push(label);break;}}
return values;},buildFilter:function(reportDef,params,enums){var filter=[];var groups=this.getGrouping(reportDef,0);var series=this.getGrouping(reportDef,1);var groupType=this.getFieldDef(groups,reportDef).type;var seriesType=this.getFieldDef(series,reportDef).type;var isGroupType=params.dataType==='grouped';var groupLabel=params.groupLabel;var seriesLabel=params.seriesLabel;var hasSameLabel=!_.isEmpty(seriesLabel)&&!_.isEmpty(groupLabel)&&seriesLabel===groupLabel;var hasSameGroup=groups.name===series.name&&groups.label===series.label&&groups.table_key===series.table_key;var addGroupRow=_.bind(function(){var groupsName=groups.table_key+':'+groups.name;var groupsValues=this.getValues(groupLabel,groups,groupType,enums);addFilterRow(groupsName,groupsValues);},this);var addSeriesRow=_.bind(function(){var seriesName=series.table_key+':'+series.name;var seriesValues=this.getValues(seriesLabel,series,seriesType,enums);addFilterRow(seriesName,seriesValues);},this);function addFilterRow(name,values){var row={};row[name]=values;filter.push(row);}
if(!isGroupType&&hasSameGroup&&!_.isEmpty(seriesLabel)&&_.isEmpty(groupLabel)){groupLabel=groupLabel||seriesLabel;params.groupLabel=groupLabel;addSeriesRow();}
else if(hasSameGroup&&!hasSameLabel){addGroupRow();}
else if(!isGroupType&&!hasSameGroup){if(!hasSameLabel){groupLabel=groupLabel||seriesLabel;params.groupLabel=groupLabel;}
addGroupRow();}
else if(hasSameGroup&&hasSameLabel){addSeriesRow();}
else if(isGroupType&&!hasSameGroup){addGroupRow();addSeriesRow();}
return filter;},getEnums:function(reportDef){var enumTypes=['enum','radioenum','multienum'];var groups=this.getGrouping(reportDef);var enums=[];_.each(groups,function(group){var groupType=this.getFieldDef(group,reportDef).type;if(groupType&&_.contains(enumTypes,groupType)){enums.push(group);}},this);return enums;},getFieldDef:function(groupDef,reportDef){var module=reportDef.module||reportDef.base_module;if(groupDef.table_key==='self'){return this.sugarApp.metadata.getField({name:groupDef.name,module:module});}
var relationships=groupDef.table_key.split(':');var fieldsMeta=this.sugarApp.metadata.getModule(module,'fields');var fieldDef;for(var i=1;i<relationships.length;i++){var relationship=relationships[i];fieldDef=fieldsMeta[relationship];module=fieldDef.module||this._getModuleFromRelationship(fieldDef.relationship,module);fieldsMeta=this.sugarApp.metadata.getModule(module,'fields');}
fieldDef=fieldsMeta[groupDef.name];fieldDef.module=fieldDef.module||module;return fieldDef;},_getModuleFromRelationship:function(relationshipName,module){var relationship=this.sugarApp.metadata.getRelationship(relationshipName);return module===relationship.lhs_module?relationship.rhs_module:relationship.lhs_module;},openDrawer:function(drawerContext){var currentModule=this.sugarApp.drawer.context.get('module');this.sugarApp.drawer.context.set('module',drawerContext.chartModule);this.sugarApp.drawer.open({layout:'drillthrough-drawer',context:drawerContext},_.bind(function(){if(currentModule){this.sugarApp.drawer.context.set('module',currentModule);}},this,currentModule));},renderChart:function(id,chart,json){chart.updateChartColors();chart.chart.update();},renderError:function(id,message){},translateString:function(appString,module){if(SUGAR.App){if(module){return SUGAR.App.lang.get(appString,module);}else{return SUGAR.App.lang.get(appString);}}else if(typeof app!=='undefined'&&app&&app.lang){if(module){return app.lang.get(appString,module);}else{return app.lang.get(appString);}}else if(SUGAR.language){if(module){return SUGAR.language.get(module,appString);}else{return SUGAR.language.get('app_strings',appString);}}else{return appString;}},translateListStrings:function(appList){if(SUGAR.App){return SUGAR.App.lang.getAppListStrings(appList);}else if(app){return app.lang.getAppListStrings(appList);}else if(SUGAR.language){return SUGAR.language.get('app_list_strings',appList);}else{return appList;}},isDataEmpty:function(data){return data!==undefined&&data!=='No Data'&&data!=='';},dataIsEmpty:function(data){return _.isUndefined(data)||_.isUndefined(data.values)||!_.isArray(data.values)||_.isEmpty(data.values);},saveChartToImage:function(chart,chartId,imageExt,saveTo,saveFromSidecar){if(!chart||chart&&(chart.width===0&&chart.height===0)){return;}
let uri=chart.toBase64Image(imageExt==='jpg'?'image/jpeg':'image/png');let saveToUrl=saveTo||'index.php?action=DynamicAction&DynamicAction=saveImage&module=Charts&to_pdf=1';if(saveFromSidecar===true){this.sugarApp.bwc.login(false,function saveImage(){$.post(saveToUrl,{imageStr:uri,chart_id:chartId,});});return;}
$.post(saveToUrl,{imageStr:uri,chart_id:chartId,});},saveImageFile:function(id,chart,json,jsonfilename,imageExt,saveTo,complete){app.logger.warn('`SUGAR.charts.saveImageFile()` is deprecated. Use `SUGAR.charts.saveChartToImage()` instead.');},getChartStrings:function(type){var noLabelStr=this.translateString('LBL_CHART_UNDEFINED');return{legend:{close:this.translateString('LBL_CHART_LEGEND_CLOSE'),open:this.translateString('LBL_CHART_LEGEND_OPEN'),noLabel:noLabelStr},tooltip:{amount:this.translateString('LBL_CHART_AMOUNT'),count:this.translateString('LBL_CHART_COUNT'),date:this.translateString('LBL_CHART_DATE'),group:this.translateString('LBL_CHART_GROUP'),key:this.translateString('LBL_CHART_KEY'),percent:this.translateString('LBL_CHART_PERCENT')},noData:this.translateString('LBL_CHART_NO_DATA'),noLabel:noLabelStr,noDrillthru:this.translateString('LBL_CHART_NO_DRILLTHRU','Reports')};},getLocale:function(pref){var preferences=pref||this.getUserPreferences();return{'decimal':preferences.decimal_separator,'thousands':preferences.number_grouping_separator,'grouping':[3],'currency':[preferences.currency_symbol,''],'currency_id':preferences.currency_id,'dateTime':'%a %b %e %X %Y','date':this._dateFormat(preferences.datepref),'time':this._timeFormat(preferences.timepref),'periods':this._timePeriods(preferences.timepref),'days':this._dateStringArray('dom_cal_day_long'),'shortDays':this._dateStringArray('dom_cal_day_short'),'months':this._dateStringArray('dom_cal_month_long'),'shortMonths':this._dateStringArray('dom_cal_month_short'),'precision':preferences.decimal_precision};},getUserLocale:function(){return this.getLocale(this.getUserPreferences());},getUserPreferences:function(){return this.sugarApp.user.get('preferences')||{};},userPreference:function(pref){return this.sugarApp.user.getPreference(pref)||pref;},getSystemLocale:function(){return this.getLocale(this._getSystemPreferences());},_getSystemPreferences:function(){var config=this.sugarApp.config;var currency=this.sugarApp.currency;return{decimal_separator:config.defaultDecimalSeparator,number_grouping_separator:config.defaultNumberGroupingSeparator,currency_symbol:currency.getCurrencySymbol(currency.getBaseCurrencyId()),datepref:'m/d/Y',timepref:'H:i',decimal_precision:config.defaultCurrencySignificantDigits};},_dateFormat:function(pref){if(!pref){return'%b %-d, %Y';}
return pref.replace(/([mMyYdD]+)/ig,'%$1');},_timeFormat:function(pref){if(!pref){return'%-I:%M:%S';}
return pref.replace('h','I').replace('i','M').replace(/[aA\s]+/,'').replace(/([HIM]+)/ig,'%$1');},_timePeriods:function(pref){if(!pref){return['AM','PM'];}
var period=pref.indexOf(' A')!==-1?[' AM',' PM']:pref.indexOf('A')!==-1?['AM','PM']:pref.indexOf(' a')!==-1?[' am',' pm']:pref.indexOf('a')!==-1?['am','pm']:['',''];return period;},_dateStringArray:function(listLabel){return _.filter(_.values(this.translateListStrings(listLabel)));},};})(jQuery);
/* End of File include/SugarCharts/chartjs/js/sugarCharts.js */

/*!
 * Chart.js v2.9.4
 * https://www.chartjs.org
 * (c) 2020 Chart.js Contributors
 * Released under the MIT License
 */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(function(){try{return require('moment');}catch(e){}}()):typeof define==='function'&&define.amd?define(['require'],function(require){return factory(function(){try{return require('moment');}catch(e){}}());}):(global=global||self,global.Chart2=factory(window.moment));}(this,(function(moment){'use strict';moment=moment&&moment.hasOwnProperty('default')?moment['default']:moment;function createCommonjsModule(fn,module){return module={exports:{}},fn(module,module.exports),module.exports;}
function getCjsExportFromNamespace(n){return n&&n['default']||n;}
var colorName={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var conversions=createCommonjsModule(function(module){var reverseKeywords={};for(var key in colorName){if(colorName.hasOwnProperty(key)){reverseKeywords[colorName[key]]=key;}}
var convert=module.exports={rgb:{channels:3,labels:'rgb'},hsl:{channels:3,labels:'hsl'},hsv:{channels:3,labels:'hsv'},hwb:{channels:3,labels:'hwb'},cmyk:{channels:4,labels:'cmyk'},xyz:{channels:3,labels:'xyz'},lab:{channels:3,labels:'lab'},lch:{channels:3,labels:'lch'},hex:{channels:1,labels:['hex']},keyword:{channels:1,labels:['keyword']},ansi16:{channels:1,labels:['ansi16']},ansi256:{channels:1,labels:['ansi256']},hcg:{channels:3,labels:['h','c','g']},apple:{channels:3,labels:['r16','g16','b16']},gray:{channels:1,labels:['gray']}};for(var model in convert){if(convert.hasOwnProperty(model)){if(!('channels'in convert[model])){throw new Error('missing channels property: '+model);}
if(!('labels'in convert[model])){throw new Error('missing channel labels property: '+model);}
if(convert[model].labels.length!==convert[model].channels){throw new Error('channel and label counts mismatch: '+model);}
var channels=convert[model].channels;var labels=convert[model].labels;delete convert[model].channels;delete convert[model].labels;Object.defineProperty(convert[model],'channels',{value:channels});Object.defineProperty(convert[model],'labels',{value:labels});}}
convert.rgb.hsl=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var min=Math.min(r,g,b);var max=Math.max(r,g,b);var delta=max-min;var h;var s;var l;if(max===min){h=0;}else if(r===max){h=(g-b)/ delta;}else if(g===max){h=2+(b-r)/ delta;}else if(b===max){h=4+(r-g)/ delta;}
h=Math.min(h*60,360);if(h<0){h+=360;}
l=(min+max)/ 2;if(max===min){s=0;}else if(l<=0.5){s=delta /(max+min);}else{s=delta /(2-max-min);}
return[h,s*100,l*100];};convert.rgb.hsv=function(rgb){var rdif;var gdif;var bdif;var h;var s;var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var v=Math.max(r,g,b);var diff=v-Math.min(r,g,b);var diffc=function(c){return(v-c)/ 6 / diff+1 / 2;};if(diff===0){h=s=0;}else{s=diff / v;rdif=diffc(r);gdif=diffc(g);bdif=diffc(b);if(r===v){h=bdif-gdif;}else if(g===v){h=(1 / 3)+rdif-bdif;}else if(b===v){h=(2 / 3)+gdif-rdif;}
if(h<0){h+=1;}else if(h>1){h-=1;}}
return[h*360,s*100,v*100];};convert.rgb.hwb=function(rgb){var r=rgb[0];var g=rgb[1];var b=rgb[2];var h=convert.rgb.hsl(rgb)[0];var w=1 / 255*Math.min(r,Math.min(g,b));b=1-1 / 255*Math.max(r,Math.max(g,b));return[h,w*100,b*100];};convert.rgb.cmyk=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var c;var m;var y;var k;k=Math.min(1-r,1-g,1-b);c=(1-r-k)/(1-k)||0;m=(1-g-k)/(1-k)||0;y=(1-b-k)/(1-k)||0;return[c*100,m*100,y*100,k*100];};function comparativeDistance(x,y){return(Math.pow(x[0]-y[0],2)+
Math.pow(x[1]-y[1],2)+
Math.pow(x[2]-y[2],2));}
convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed){return reversed;}
var currentClosestDistance=Infinity;var currentClosestKeyword;for(var keyword in colorName){if(colorName.hasOwnProperty(keyword)){var value=colorName[keyword];var distance=comparativeDistance(rgb,value);if(distance<currentClosestDistance){currentClosestDistance=distance;currentClosestKeyword=keyword;}}}
return currentClosestKeyword;};convert.keyword.rgb=function(keyword){return colorName[keyword];};convert.rgb.xyz=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;r=r>0.04045?Math.pow(((r+0.055)/ 1.055),2.4):(r / 12.92);g=g>0.04045?Math.pow(((g+0.055)/ 1.055),2.4):(g / 12.92);b=b>0.04045?Math.pow(((b+0.055)/ 1.055),2.4):(b / 12.92);var x=(r*0.4124)+(g*0.3576)+(b*0.1805);var y=(r*0.2126)+(g*0.7152)+(b*0.0722);var z=(r*0.0193)+(g*0.1192)+(b*0.9505);return[x*100,y*100,z*100];};convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb);var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x /=95.047;y /=100;z /=108.883;x=x>0.008856?Math.pow(x,1 / 3):(7.787*x)+(16 / 116);y=y>0.008856?Math.pow(y,1 / 3):(7.787*y)+(16 / 116);z=z>0.008856?Math.pow(z,1 / 3):(7.787*z)+(16 / 116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.hsl.rgb=function(hsl){var h=hsl[0]/ 360;var s=hsl[1]/ 100;var l=hsl[2]/ 100;var t1;var t2;var t3;var rgb;var val;if(s===0){val=l*255;return[val,val,val];}
if(l<0.5){t2=l*(1+s);}else{t2=l+s-l*s;}
t1=2*l-t2;rgb=[0,0,0];for(var i=0;i<3;i++){t3=h+1 / 3*-(i-1);if(t3<0){t3++;}
if(t3>1){t3--;}
if(6*t3<1){val=t1+(t2-t1)*6*t3;}else if(2*t3<1){val=t2;}else if(3*t3<2){val=t1+(t2-t1)*(2 / 3-t3)*6;}else{val=t1;}
rgb[i]=val*255;}
return rgb;};convert.hsl.hsv=function(hsl){var h=hsl[0];var s=hsl[1]/ 100;var l=hsl[2]/ 100;var smin=s;var lmin=Math.max(l,0.01);var sv;var v;l*=2;s*=(l<=1)?l:2-l;smin*=lmin<=1?lmin:2-lmin;v=(l+s)/ 2;sv=l===0?(2*smin)/(lmin+smin):(2*s)/(l+s);return[h,sv*100,v*100];};convert.hsv.rgb=function(hsv){var h=hsv[0]/ 60;var s=hsv[1]/ 100;var v=hsv[2]/ 100;var hi=Math.floor(h)%6;var f=h-Math.floor(h);var p=255*v*(1-s);var q=255*v*(1-(s*f));var t=255*v*(1-(s*(1-f)));v*=255;switch(hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q];}};convert.hsv.hsl=function(hsv){var h=hsv[0];var s=hsv[1]/ 100;var v=hsv[2]/ 100;var vmin=Math.max(v,0.01);var lmin;var sl;var l;l=(2-s)*v;lmin=(2-s)*vmin;sl=s*vmin;sl /=(lmin<=1)?lmin:2-lmin;sl=sl||0;l /=2;return[h,sl*100,l*100];};convert.hwb.rgb=function(hwb){var h=hwb[0]/ 360;var wh=hwb[1]/ 100;var bl=hwb[2]/ 100;var ratio=wh+bl;var i;var v;var f;var n;if(ratio>1){wh /=ratio;bl /=ratio;}
i=Math.floor(6*h);v=1-bl;f=6*h-i;if((i&0x01)!==0){f=1-f;}
n=wh+f*(v-wh);var r;var g;var b;switch(i){default:case 6:case 0:r=v;g=n;b=wh;break;case 1:r=n;g=v;b=wh;break;case 2:r=wh;g=v;b=n;break;case 3:r=wh;g=n;b=v;break;case 4:r=n;g=wh;b=v;break;case 5:r=v;g=wh;b=n;break;}
return[r*255,g*255,b*255];};convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/ 100;var m=cmyk[1]/ 100;var y=cmyk[2]/ 100;var k=cmyk[3]/ 100;var r;var g;var b;r=1-Math.min(1,c*(1-k)+k);g=1-Math.min(1,m*(1-k)+k);b=1-Math.min(1,y*(1-k)+k);return[r*255,g*255,b*255];};convert.xyz.rgb=function(xyz){var x=xyz[0]/ 100;var y=xyz[1]/ 100;var z=xyz[2]/ 100;var r;var g;var b;r=(x*3.2406)+(y*-1.5372)+(z*-0.4986);g=(x*-0.9689)+(y*1.8758)+(z*0.0415);b=(x*0.0557)+(y*-0.2040)+(z*1.0570);r=r>0.0031308?((1.055*Math.pow(r,1.0 / 2.4))-0.055):r*12.92;g=g>0.0031308?((1.055*Math.pow(g,1.0 / 2.4))-0.055):g*12.92;b=b>0.0031308?((1.055*Math.pow(b,1.0 / 2.4))-0.055):b*12.92;r=Math.min(Math.max(0,r),1);g=Math.min(Math.max(0,g),1);b=Math.min(Math.max(0,b),1);return[r*255,g*255,b*255];};convert.xyz.lab=function(xyz){var x=xyz[0];var y=xyz[1];var z=xyz[2];var l;var a;var b;x /=95.047;y /=100;z /=108.883;x=x>0.008856?Math.pow(x,1 / 3):(7.787*x)+(16 / 116);y=y>0.008856?Math.pow(y,1 / 3):(7.787*y)+(16 / 116);z=z>0.008856?Math.pow(z,1 / 3):(7.787*z)+(16 / 116);l=(116*y)-16;a=500*(x-y);b=200*(y-z);return[l,a,b];};convert.lab.xyz=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var x;var y;var z;y=(l+16)/ 116;x=a / 500+y;z=y-b / 200;var y2=Math.pow(y,3);var x2=Math.pow(x,3);var z2=Math.pow(z,3);y=y2>0.008856?y2:(y-16 / 116)/ 7.787;x=x2>0.008856?x2:(x-16 / 116)/ 7.787;z=z2>0.008856?z2:(z-16 / 116)/ 7.787;x*=95.047;y*=100;z*=108.883;return[x,y,z];};convert.lab.lch=function(lab){var l=lab[0];var a=lab[1];var b=lab[2];var hr;var h;var c;hr=Math.atan2(b,a);h=hr*360 / 2 / Math.PI;if(h<0){h+=360;}
c=Math.sqrt(a*a+b*b);return[l,c,h];};convert.lch.lab=function(lch){var l=lch[0];var c=lch[1];var h=lch[2];var a;var b;var hr;hr=h / 360*2*Math.PI;a=c*Math.cos(hr);b=c*Math.sin(hr);return[l,a,b];};convert.rgb.ansi16=function(args){var r=args[0];var g=args[1];var b=args[2];var value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];value=Math.round(value / 50);if(value===0){return 30;}
var ansi=30
+((Math.round(b / 255)<<2)|(Math.round(g / 255)<<1)|Math.round(r / 255));if(value===2){ansi+=60;}
return ansi;};convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2]);};convert.rgb.ansi256=function(args){var r=args[0];var g=args[1];var b=args[2];if(r===g&&g===b){if(r<8){return 16;}
if(r>248){return 231;}
return Math.round(((r-8)/ 247)*24)+232;}
var ansi=16
+(36*Math.round(r / 255*5))
+(6*Math.round(g / 255*5))
+Math.round(b / 255*5);return ansi;};convert.ansi16.rgb=function(args){var color=args%10;if(color===0||color===7){if(args>50){color+=3.5;}
color=color / 10.5*255;return[color,color,color];}
var mult=(~~(args>50)+1)*0.5;var r=((color&1)*mult)*255;var g=(((color>>1)&1)*mult)*255;var b=(((color>>2)&1)*mult)*255;return[r,g,b];};convert.ansi256.rgb=function(args){if(args>=232){var c=(args-232)*10+8;return[c,c,c];}
args-=16;var rem;var r=Math.floor(args / 36)/ 5*255;var g=Math.floor((rem=args%36)/ 6)/ 5*255;var b=(rem%6)/ 5*255;return[r,g,b];};convert.rgb.hex=function(args){var integer=((Math.round(args[0])&0xFF)<<16)
+((Math.round(args[1])&0xFF)<<8)
+(Math.round(args[2])&0xFF);var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match){return[0,0,0];}
var colorString=match[0];if(match[0].length===3){colorString=colorString.split('').map(function(char){return char+char;}).join('');}
var integer=parseInt(colorString,16);var r=(integer>>16)&0xFF;var g=(integer>>8)&0xFF;var b=integer&0xFF;return[r,g,b];};convert.rgb.hcg=function(rgb){var r=rgb[0]/ 255;var g=rgb[1]/ 255;var b=rgb[2]/ 255;var max=Math.max(Math.max(r,g),b);var min=Math.min(Math.min(r,g),b);var chroma=(max-min);var grayscale;var hue;if(chroma<1){grayscale=min /(1-chroma);}else{grayscale=0;}
if(chroma<=0){hue=0;}else
if(max===r){hue=((g-b)/ chroma)%6;}else
if(max===g){hue=2+(b-r)/ chroma;}else{hue=4+(r-g)/ chroma+4;}
hue /=6;hue%=1;return[hue*360,chroma*100,grayscale*100];};convert.hsl.hcg=function(hsl){var s=hsl[1]/ 100;var l=hsl[2]/ 100;var c=1;var f=0;if(l<0.5){c=2.0*s*l;}else{c=2.0*s*(1.0-l);}
if(c<1.0){f=(l-0.5*c)/(1.0-c);}
return[hsl[0],c*100,f*100];};convert.hsv.hcg=function(hsv){var s=hsv[1]/ 100;var v=hsv[2]/ 100;var c=s*v;var f=0;if(c<1.0){f=(v-c)/(1-c);}
return[hsv[0],c*100,f*100];};convert.hcg.rgb=function(hcg){var h=hcg[0]/ 360;var c=hcg[1]/ 100;var g=hcg[2]/ 100;if(c===0.0){return[g*255,g*255,g*255];}
var pure=[0,0,0];var hi=(h%1)*6;var v=hi%1;var w=1-v;var mg=0;switch(Math.floor(hi)){case 0:pure[0]=1;pure[1]=v;pure[2]=0;break;case 1:pure[0]=w;pure[1]=1;pure[2]=0;break;case 2:pure[0]=0;pure[1]=1;pure[2]=v;break;case 3:pure[0]=0;pure[1]=w;pure[2]=1;break;case 4:pure[0]=v;pure[1]=0;pure[2]=1;break;default:pure[0]=1;pure[1]=0;pure[2]=w;}
mg=(1.0-c)*g;return[(c*pure[0]+mg)*255,(c*pure[1]+mg)*255,(c*pure[2]+mg)*255];};convert.hcg.hsv=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var v=c+g*(1.0-c);var f=0;if(v>0.0){f=c / v;}
return[hcg[0],f*100,v*100];};convert.hcg.hsl=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var l=g*(1.0-c)+0.5*c;var s=0;if(l>0.0&&l<0.5){s=c /(2*l);}else
if(l>=0.5&&l<1.0){s=c /(2*(1-l));}
return[hcg[0],s*100,l*100];};convert.hcg.hwb=function(hcg){var c=hcg[1]/ 100;var g=hcg[2]/ 100;var v=c+g*(1.0-c);return[hcg[0],(v-c)*100,(1-v)*100];};convert.hwb.hcg=function(hwb){var w=hwb[1]/ 100;var b=hwb[2]/ 100;var v=1-b;var c=v-w;var g=0;if(c<1){g=(v-c)/(1-c);}
return[hwb[0],c*100,g*100];};convert.apple.rgb=function(apple){return[(apple[0]/ 65535)*255,(apple[1]/ 65535)*255,(apple[2]/ 65535)*255];};convert.rgb.apple=function(rgb){return[(rgb[0]/ 255)*65535,(rgb[1]/ 255)*65535,(rgb[2]/ 255)*65535];};convert.gray.rgb=function(args){return[args[0]/ 100*255,args[0]/ 100*255,args[0]/ 100*255];};convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]];};convert.gray.hwb=function(gray){return[0,100,gray[0]];};convert.gray.cmyk=function(gray){return[0,0,0,gray[0]];};convert.gray.lab=function(gray){return[gray[0],0,0];};convert.gray.hex=function(gray){var val=Math.round(gray[0]/ 100*255)&0xFF;var integer=(val<<16)+(val<<8)+val;var string=integer.toString(16).toUpperCase();return'000000'.substring(string.length)+string;};convert.rgb.gray=function(rgb){var val=(rgb[0]+rgb[1]+rgb[2])/ 3;return[val / 255*100];};});var conversions_1=conversions.rgb;var conversions_2=conversions.hsl;var conversions_3=conversions.hsv;var conversions_4=conversions.hwb;var conversions_5=conversions.cmyk;var conversions_6=conversions.xyz;var conversions_7=conversions.lab;var conversions_8=conversions.lch;var conversions_9=conversions.hex;var conversions_10=conversions.keyword;var conversions_11=conversions.ansi16;var conversions_12=conversions.ansi256;var conversions_13=conversions.hcg;var conversions_14=conversions.apple;var conversions_15=conversions.gray;function buildGraph(){var graph={};var models=Object.keys(conversions);for(var len=models.length,i=0;i<len;i++){graph[models[i]]={distance:-1,parent:null};}
return graph;}
function deriveBFS(fromModel){var graph=buildGraph();var queue=[fromModel];graph[fromModel].distance=0;while(queue.length){var current=queue.pop();var adjacents=Object.keys(conversions[current]);for(var len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i];var node=graph[adjacent];if(node.distance===-1){node.distance=graph[current].distance+1;node.parent=current;queue.unshift(adjacent);}}}
return graph;}
function link(from,to){return function(args){return to(from(args));};}
function wrapConversion(toModel,graph){var path=[graph[toModel].parent,toModel];var fn=conversions[graph[toModel].parent][toModel];var cur=graph[toModel].parent;while(graph[cur].parent){path.unshift(graph[cur].parent);fn=link(conversions[graph[cur].parent][cur],fn);cur=graph[cur].parent;}
fn.conversion=path;return fn;}
var route=function(fromModel){var graph=deriveBFS(fromModel);var conversion={};var models=Object.keys(graph);for(var len=models.length,i=0;i<len;i++){var toModel=models[i];var node=graph[toModel];if(node.parent===null){continue;}
conversion[toModel]=wrapConversion(toModel,graph);}
return conversion;};var convert={};var models=Object.keys(conversions);function wrapRaw(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
return fn(args);};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
function wrapRounded(fn){var wrappedFn=function(args){if(args===undefined||args===null){return args;}
if(arguments.length>1){args=Array.prototype.slice.call(arguments);}
var result=fn(args);if(typeof result==='object'){for(var len=result.length,i=0;i<len;i++){result[i]=Math.round(result[i]);}}
return result;};if('conversion'in fn){wrappedFn.conversion=fn.conversion;}
return wrappedFn;}
models.forEach(function(fromModel){convert[fromModel]={};Object.defineProperty(convert[fromModel],'channels',{value:conversions[fromModel].channels});Object.defineProperty(convert[fromModel],'labels',{value:conversions[fromModel].labels});var routes=route(fromModel);var routeModels=Object.keys(routes);routeModels.forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=wrapRounded(fn);convert[fromModel][toModel].raw=wrapRaw(fn);});});var colorConvert=convert;var colorName$1={"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aqua":[0,255,255],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"black":[0,0,0],"blanchedalmond":[255,235,205],"blue":[0,0,255],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"fuchsia":[255,0,255],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"gray":[128,128,128],"green":[0,128,0],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"lime":[0,255,0],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"maroon":[128,0,0],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"navy":[0,0,128],"oldlace":[253,245,230],"olive":[128,128,0],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"purple":[128,0,128],"rebeccapurple":[102,51,153],"red":[255,0,0],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"silver":[192,192,192],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"teal":[0,128,128],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"white":[255,255,255],"whitesmoke":[245,245,245],"yellow":[255,255,0],"yellowgreen":[154,205,50]};var colorString={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};function getRgba(string){if(!string){return;}
var abbr=/^#([a-fA-F0-9]{3,4})$/i,hex=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,rgba=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,per=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,keyword=/(\w+)/;var rgb=[0,0,0],a=1,match=string.match(abbr),hexAlpha="";if(match){match=match[1];hexAlpha=match[3];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i]+match[i],16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha+hexAlpha,16)/ 255)*100)/ 100;}}
else if(match=string.match(hex)){hexAlpha=match[2];match=match[1];for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match.slice(i*2,i*2+2),16);}
if(hexAlpha){a=Math.round((parseInt(hexAlpha,16)/ 255)*100)/ 100;}}
else if(match=string.match(rgba)){for(var i=0;i<rgb.length;i++){rgb[i]=parseInt(match[i+1]);}
a=parseFloat(match[4]);}
else if(match=string.match(per)){for(var i=0;i<rgb.length;i++){rgb[i]=Math.round(parseFloat(match[i+1])*2.55);}
a=parseFloat(match[4]);}
else if(match=string.match(keyword)){if(match[1]=="transparent"){return[0,0,0,0];}
rgb=colorName$1[match[1]];if(!rgb){return;}}
for(var i=0;i<rgb.length;i++){rgb[i]=scale(rgb[i],0,255);}
if(!a&&a!=0){a=1;}
else{a=scale(a,0,1);}
rgb[3]=a;return rgb;}
function getHsla(string){if(!string){return;}
var hsl=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hsl);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),s=scale(parseFloat(match[2]),0,100),l=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,s,l,a];}}
function getHwb(string){if(!string){return;}
var hwb=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/;var match=string.match(hwb);if(match){var alpha=parseFloat(match[4]);var h=scale(parseInt(match[1]),0,360),w=scale(parseFloat(match[2]),0,100),b=scale(parseFloat(match[3]),0,100),a=scale(isNaN(alpha)?1:alpha,0,1);return[h,w,b,a];}}
function getRgb(string){var rgba=getRgba(string);return rgba&&rgba.slice(0,3);}
function getHsl(string){var hsla=getHsla(string);return hsla&&hsla.slice(0,3);}
function getAlpha(string){var vals=getRgba(string);if(vals){return vals[3];}
else if(vals=getHsla(string)){return vals[3];}
else if(vals=getHwb(string)){return vals[3];}}
function hexString(rgba,a){var a=(a!==undefined&&rgba.length===3)?a:rgba[3];return"#"+hexDouble(rgba[0])
+hexDouble(rgba[1])
+hexDouble(rgba[2])
+((a>=0&&a<1)?hexDouble(Math.round(a*255)):"");}
function rgbString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return rgbaString(rgba,alpha);}
return"rgb("+rgba[0]+", "+rgba[1]+", "+rgba[2]+")";}
function rgbaString(rgba,alpha){if(alpha===undefined){alpha=(rgba[3]!==undefined?rgba[3]:1);}
return"rgba("+rgba[0]+", "+rgba[1]+", "+rgba[2]
+", "+alpha+")";}
function percentString(rgba,alpha){if(alpha<1||(rgba[3]&&rgba[3]<1)){return percentaString(rgba,alpha);}
var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgb("+r+"%, "+g+"%, "+b+"%)";}
function percentaString(rgba,alpha){var r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return"rgba("+r+"%, "+g+"%, "+b+"%, "+(alpha||rgba[3]||1)+")";}
function hslString(hsla,alpha){if(alpha<1||(hsla[3]&&hsla[3]<1)){return hslaString(hsla,alpha);}
return"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)";}
function hslaString(hsla,alpha){if(alpha===undefined){alpha=(hsla[3]!==undefined?hsla[3]:1);}
return"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "
+alpha+")";}
function hwbString(hwb,alpha){if(alpha===undefined){alpha=(hwb[3]!==undefined?hwb[3]:1);}
return"hwb("+hwb[0]+", "+hwb[1]+"%, "+hwb[2]+"%"
+(alpha!==undefined&&alpha!==1?", "+alpha:"")+")";}
function keyword(rgb){return reverseNames[rgb.slice(0,3)];}
function scale(num,min,max){return Math.min(Math.max(min,num),max);}
function hexDouble(num){var str=num.toString(16).toUpperCase();return(str.length<2)?"0"+str:str;}
var reverseNames={};for(var name in colorName$1){reverseNames[colorName$1[name]]=name;}
var Color=function(obj){if(obj instanceof Color){return obj;}
if(!(this instanceof Color)){return new Color(obj);}
this.valid=false;this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var vals;if(typeof obj==='string'){vals=colorString.getRgba(obj);if(vals){this.setValues('rgb',vals);}else if(vals=colorString.getHsla(obj)){this.setValues('hsl',vals);}else if(vals=colorString.getHwb(obj)){this.setValues('hwb',vals);}}else if(typeof obj==='object'){vals=obj;if(vals.r!==undefined||vals.red!==undefined){this.setValues('rgb',vals);}else if(vals.l!==undefined||vals.lightness!==undefined){this.setValues('hsl',vals);}else if(vals.v!==undefined||vals.value!==undefined){this.setValues('hsv',vals);}else if(vals.w!==undefined||vals.whiteness!==undefined){this.setValues('hwb',vals);}else if(vals.c!==undefined||vals.cyan!==undefined){this.setValues('cmyk',vals);}}};Color.prototype={isValid:function(){return this.valid;},rgb:function(){return this.setSpace('rgb',arguments);},hsl:function(){return this.setSpace('hsl',arguments);},hsv:function(){return this.setSpace('hsv',arguments);},hwb:function(){return this.setSpace('hwb',arguments);},cmyk:function(){return this.setSpace('cmyk',arguments);},rgbArray:function(){return this.values.rgb;},hslArray:function(){return this.values.hsl;},hsvArray:function(){return this.values.hsv;},hwbArray:function(){var values=this.values;if(values.alpha!==1){return values.hwb.concat([values.alpha]);}
return values.hwb;},cmykArray:function(){return this.values.cmyk;},rgbaArray:function(){var values=this.values;return values.rgb.concat([values.alpha]);},hslaArray:function(){var values=this.values;return values.hsl.concat([values.alpha]);},alpha:function(val){if(val===undefined){return this.values.alpha;}
this.setValues('alpha',val);return this;},red:function(val){return this.setChannel('rgb',0,val);},green:function(val){return this.setChannel('rgb',1,val);},blue:function(val){return this.setChannel('rgb',2,val);},hue:function(val){if(val){val%=360;val=val<0?360+val:val;}
return this.setChannel('hsl',0,val);},saturation:function(val){return this.setChannel('hsl',1,val);},lightness:function(val){return this.setChannel('hsl',2,val);},saturationv:function(val){return this.setChannel('hsv',1,val);},whiteness:function(val){return this.setChannel('hwb',1,val);},blackness:function(val){return this.setChannel('hwb',2,val);},value:function(val){return this.setChannel('hsv',2,val);},cyan:function(val){return this.setChannel('cmyk',0,val);},magenta:function(val){return this.setChannel('cmyk',1,val);},yellow:function(val){return this.setChannel('cmyk',2,val);},black:function(val){return this.setChannel('cmyk',3,val);},hexString:function(){return colorString.hexString(this.values.rgb);},rgbString:function(){return colorString.rgbString(this.values.rgb,this.values.alpha);},rgbaString:function(){return colorString.rgbaString(this.values.rgb,this.values.alpha);},percentString:function(){return colorString.percentString(this.values.rgb,this.values.alpha);},hslString:function(){return colorString.hslString(this.values.hsl,this.values.alpha);},hslaString:function(){return colorString.hslaString(this.values.hsl,this.values.alpha);},hwbString:function(){return colorString.hwbString(this.values.hwb,this.values.alpha);},keyword:function(){return colorString.keyword(this.values.rgb,this.values.alpha);},rgbNumber:function(){var rgb=this.values.rgb;return(rgb[0]<<16)|(rgb[1]<<8)|rgb[2];},luminosity:function(){var rgb=this.values.rgb;var lum=[];for(var i=0;i<rgb.length;i++){var chan=rgb[i]/ 255;lum[i]=(chan<=0.03928)?chan / 12.92:Math.pow(((chan+0.055)/ 1.055),2.4);}
return 0.2126*lum[0]+0.7152*lum[1]+0.0722*lum[2];},contrast:function(color2){var lum1=this.luminosity();var lum2=color2.luminosity();if(lum1>lum2){return(lum1+0.05)/(lum2+0.05);}
return(lum2+0.05)/(lum1+0.05);},level:function(color2){var contrastRatio=this.contrast(color2);if(contrastRatio>=7.1){return'AAA';}
return(contrastRatio>=4.5)?'AA':'';},dark:function(){var rgb=this.values.rgb;var yiq=(rgb[0]*299+rgb[1]*587+rgb[2]*114)/ 1000;return yiq<128;},light:function(){return!this.dark();},negate:function(){var rgb=[];for(var i=0;i<3;i++){rgb[i]=255-this.values.rgb[i];}
this.setValues('rgb',rgb);return this;},lighten:function(ratio){var hsl=this.values.hsl;hsl[2]+=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},darken:function(ratio){var hsl=this.values.hsl;hsl[2]-=hsl[2]*ratio;this.setValues('hsl',hsl);return this;},saturate:function(ratio){var hsl=this.values.hsl;hsl[1]+=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},desaturate:function(ratio){var hsl=this.values.hsl;hsl[1]-=hsl[1]*ratio;this.setValues('hsl',hsl);return this;},whiten:function(ratio){var hwb=this.values.hwb;hwb[1]+=hwb[1]*ratio;this.setValues('hwb',hwb);return this;},blacken:function(ratio){var hwb=this.values.hwb;hwb[2]+=hwb[2]*ratio;this.setValues('hwb',hwb);return this;},greyscale:function(){var rgb=this.values.rgb;var val=rgb[0]*0.3+rgb[1]*0.59+rgb[2]*0.11;this.setValues('rgb',[val,val,val]);return this;},clearer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha-(alpha*ratio));return this;},opaquer:function(ratio){var alpha=this.values.alpha;this.setValues('alpha',alpha+(alpha*ratio));return this;},rotate:function(degrees){var hsl=this.values.hsl;var hue=(hsl[0]+degrees)%360;hsl[0]=hue<0?360+hue:hue;this.setValues('hsl',hsl);return this;},mix:function(mixinColor,weight){var color1=this;var color2=mixinColor;var p=weight===undefined?0.5:weight;var w=2*p-1;var a=color1.alpha()-color2.alpha();var w1=(((w*a===-1)?w:(w+a)/(1+w*a))+1)/ 2.0;var w2=1-w1;return this.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue()).alpha(color1.alpha()*p+color2.alpha()*(1-p));},toJSON:function(){return this.rgb();},clone:function(){var result=new Color();var source=this.values;var target=result.values;var value,type;for(var prop in source){if(source.hasOwnProperty(prop)){value=source[prop];type=({}).toString.call(value);if(type==='[object Array]'){target[prop]=value.slice(0);}else if(type==='[object Number]'){target[prop]=value;}else{console.error('unexpected color value:',value);}}}
return result;}};Color.prototype.spaces={rgb:['red','green','blue'],hsl:['hue','saturation','lightness'],hsv:['hue','saturation','value'],hwb:['hue','whiteness','blackness'],cmyk:['cyan','magenta','yellow','black']};Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]};Color.prototype.getValues=function(space){var values=this.values;var vals={};for(var i=0;i<space.length;i++){vals[space.charAt(i)]=values[space][i];}
if(values.alpha!==1){vals.a=values.alpha;}
return vals;};Color.prototype.setValues=function(space,vals){var values=this.values;var spaces=this.spaces;var maxes=this.maxes;var alpha=1;var i;this.valid=true;if(space==='alpha'){alpha=vals;}else if(vals.length){values[space]=vals.slice(0,space.length);alpha=vals[space.length];}else if(vals[space.charAt(0)]!==undefined){for(i=0;i<space.length;i++){values[space][i]=vals[space.charAt(i)];}
alpha=vals.a;}else if(vals[spaces[space][0]]!==undefined){var chans=spaces[space];for(i=0;i<space.length;i++){values[space][i]=vals[chans[i]];}
alpha=vals.alpha;}
values.alpha=Math.max(0,Math.min(1,(alpha===undefined?values.alpha:alpha)));if(space==='alpha'){return false;}
var capped;for(i=0;i<space.length;i++){capped=Math.max(0,Math.min(maxes[space][i],values[space][i]));values[space][i]=Math.round(capped);}
for(var sname in spaces){if(sname!==space){values[sname]=colorConvert[space][sname](values[space]);}}
return true;};Color.prototype.setSpace=function(space,args){var vals=args[0];if(vals===undefined){return this.getValues(space);}
if(typeof vals==='number'){vals=Array.prototype.slice.call(args);}
this.setValues(space,vals);return this;};Color.prototype.setChannel=function(space,index,val){var svalues=this.values[space];if(val===undefined){return svalues[index];}else if(val===svalues[index]){return this;}
svalues[index]=val;this.setValues(space,svalues);return this;};if(typeof window!=='undefined'){window.Color=Color;}
var chartjsColor=Color;function isValidKey(key){return['__proto__','prototype','constructor'].indexOf(key)===-1;}
var helpers={noop:function(){},uid:(function(){var id=0;return function(){return id++;};}()),isNullOrUndef:function(value){return value===null||typeof value==='undefined';},isArray:function(value){if(Array.isArray&&Array.isArray(value)){return true;}
var type=Object.prototype.toString.call(value);if(type.substr(0,7)==='[object'&&type.substr(-6)==='Array]'){return true;}
return false;},isObject:function(value){return value!==null&&Object.prototype.toString.call(value)==='[object Object]';},isFinite:function(value){return(typeof value==='number'||value instanceof Number)&&isFinite(value);},valueOrDefault:function(value,defaultValue){return typeof value==='undefined'?defaultValue:value;},valueAtIndexOrDefault:function(value,index,defaultValue){return helpers.valueOrDefault(helpers.isArray(value)?value[index]:value,defaultValue);},callback:function(fn,args,thisArg){if(fn&&typeof fn.call==='function'){return fn.apply(thisArg,args);}},each:function(loopable,fn,thisArg,reverse){var i,len,keys;if(helpers.isArray(loopable)){len=loopable.length;if(reverse){for(i=len-1;i>=0;i--){fn.call(thisArg,loopable[i],i);}}else{for(i=0;i<len;i++){fn.call(thisArg,loopable[i],i);}}}else if(helpers.isObject(loopable)){keys=Object.keys(loopable);len=keys.length;for(i=0;i<len;i++){fn.call(thisArg,loopable[keys[i]],keys[i]);}}},arrayEquals:function(a0,a1){var i,ilen,v0,v1;if(!a0||!a1||a0.length!==a1.length){return false;}
for(i=0,ilen=a0.length;i<ilen;++i){v0=a0[i];v1=a1[i];if(v0 instanceof Array&&v1 instanceof Array){if(!helpers.arrayEquals(v0,v1)){return false;}}else if(v0!==v1){return false;}}
return true;},clone:function(source){if(helpers.isArray(source)){return source.map(helpers.clone);}
if(helpers.isObject(source)){var target=Object.create(source);var keys=Object.keys(source);var klen=keys.length;var k=0;for(;k<klen;++k){target[keys[k]]=helpers.clone(source[keys[k]]);}
return target;}
return source;},_merger:function(key,target,source,options){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.merge(tval,sval,options);}else{target[key]=helpers.clone(sval);}},_mergerIf:function(key,target,source){if(!isValidKey(key)){return;}
var tval=target[key];var sval=source[key];if(helpers.isObject(tval)&&helpers.isObject(sval)){helpers.mergeIf(tval,sval);}else if(!target.hasOwnProperty(key)){target[key]=helpers.clone(sval);}},merge:function(target,source,options){var sources=helpers.isArray(source)?source:[source];var ilen=sources.length;var merge,i,keys,klen,k;if(!helpers.isObject(target)){return target;}
options=options||{};merge=options.merger||helpers._merger;for(i=0;i<ilen;++i){source=sources[i];if(!helpers.isObject(source)){continue;}
keys=Object.keys(source);for(k=0,klen=keys.length;k<klen;++k){merge(keys[k],target,source,options);}}
return target;},mergeIf:function(target,source){return helpers.merge(target,source,{merger:helpers._mergerIf});},extend:Object.assign||function(target){return helpers.merge(target,[].slice.call(arguments,1),{merger:function(key,dst,src){dst[key]=src[key];}});},inherits:function(extensions){var me=this;var ChartElement=(extensions&&extensions.hasOwnProperty('constructor'))?extensions.constructor:function(){return me.apply(this,arguments);};var Surrogate=function(){this.constructor=ChartElement;};Surrogate.prototype=me.prototype;ChartElement.prototype=new Surrogate();ChartElement.extend=helpers.inherits;if(extensions){helpers.extend(ChartElement.prototype,extensions);}
ChartElement.__super__=me.prototype;return ChartElement;},_deprecated:function(scope,value,previous,current){if(value!==undefined){console.warn(scope+': "'+previous+'" is deprecated. Please use "'+current+'" instead');}}};var helpers_core=helpers;helpers.callCallback=helpers.callback;helpers.indexOf=function(array,item,fromIndex){return Array.prototype.indexOf.call(array,item,fromIndex);};helpers.getValueOrDefault=helpers.valueOrDefault;helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;var effects={linear:function(t){return t;},easeInQuad:function(t){return t*t;},easeOutQuad:function(t){return-t*(t-2);},easeInOutQuad:function(t){if((t /=0.5)<1){return 0.5*t*t;}
return-0.5*((--t)*(t-2)-1);},easeInCubic:function(t){return t*t*t;},easeOutCubic:function(t){return(t=t-1)*t*t+1;},easeInOutCubic:function(t){if((t /=0.5)<1){return 0.5*t*t*t;}
return 0.5*((t-=2)*t*t+2);},easeInQuart:function(t){return t*t*t*t;},easeOutQuart:function(t){return-((t=t-1)*t*t*t-1);},easeInOutQuart:function(t){if((t /=0.5)<1){return 0.5*t*t*t*t;}
return-0.5*((t-=2)*t*t*t-2);},easeInQuint:function(t){return t*t*t*t*t;},easeOutQuint:function(t){return(t=t-1)*t*t*t*t+1;},easeInOutQuint:function(t){if((t /=0.5)<1){return 0.5*t*t*t*t*t;}
return 0.5*((t-=2)*t*t*t*t+2);},easeInSine:function(t){return-Math.cos(t*(Math.PI / 2))+1;},easeOutSine:function(t){return Math.sin(t*(Math.PI / 2));},easeInOutSine:function(t){return-0.5*(Math.cos(Math.PI*t)-1);},easeInExpo:function(t){return(t===0)?0:Math.pow(2,10*(t-1));},easeOutExpo:function(t){return(t===1)?1:-Math.pow(2,-10*t)+1;},easeInOutExpo:function(t){if(t===0){return 0;}
if(t===1){return 1;}
if((t /=0.5)<1){return 0.5*Math.pow(2,10*(t-1));}
return 0.5*(-Math.pow(2,-10*--t)+2);},easeInCirc:function(t){if(t>=1){return t;}
return-(Math.sqrt(1-t*t)-1);},easeOutCirc:function(t){return Math.sqrt(1-(t=t-1)*t);},easeInOutCirc:function(t){if((t /=0.5)<1){return-0.5*(Math.sqrt(1-t*t)-1);}
return 0.5*(Math.sqrt(1-(t-=2)*t)+1);},easeInElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p));},easeOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if(t===1){return 1;}
if(!p){p=0.3;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/ p)+1;},easeInOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0){return 0;}
if((t /=0.5)===2){return 1;}
if(!p){p=0.45;}
if(a<1){a=1;s=p / 4;}else{s=p /(2*Math.PI)*Math.asin(1 / a);}
if(t<1){return-0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p));}
return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/ p)*0.5+1;},easeInBack:function(t){var s=1.70158;return t*t*((s+1)*t-s);},easeOutBack:function(t){var s=1.70158;return(t=t-1)*t*((s+1)*t+s)+1;},easeInOutBack:function(t){var s=1.70158;if((t /=0.5)<1){return 0.5*(t*t*(((s*=(1.525))+1)*t-s));}
return 0.5*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2);},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t);},easeOutBounce:function(t){if(t<(1 / 2.75)){return 7.5625*t*t;}
if(t<(2 / 2.75)){return 7.5625*(t-=(1.5 / 2.75))*t+0.75;}
if(t<(2.5 / 2.75)){return 7.5625*(t-=(2.25 / 2.75))*t+0.9375;}
return 7.5625*(t-=(2.625 / 2.75))*t+0.984375;},easeInOutBounce:function(t){if(t<0.5){return effects.easeInBounce(t*2)*0.5;}
return effects.easeOutBounce(t*2-1)*0.5+0.5;}};var helpers_easing={effects:effects};helpers_core.easingEffects=effects;var PI=Math.PI;var RAD_PER_DEG=PI / 180;var DOUBLE_PI=PI*2;var HALF_PI=PI / 2;var QUARTER_PI=PI / 4;var TWO_THIRDS_PI=PI*2 / 3;var exports$1={clear:function(chart){chart.ctx.clearRect(0,0,chart.width,chart.height);},roundedRect:function(ctx,x,y,width,height,radius){if(radius){var r=Math.min(radius,height / 2,width / 2);var left=x+r;var top=y+r;var right=x+width-r;var bottom=y+height-r;ctx.moveTo(x,top);if(left<right&&top<bottom){ctx.arc(left,top,r,-PI,-HALF_PI);ctx.arc(right,top,r,-HALF_PI,0);ctx.arc(right,bottom,r,0,HALF_PI);ctx.arc(left,bottom,r,HALF_PI,PI);}else if(left<right){ctx.moveTo(left,y);ctx.arc(right,top,r,-HALF_PI,HALF_PI);ctx.arc(left,top,r,HALF_PI,PI+HALF_PI);}else if(top<bottom){ctx.arc(left,top,r,-PI,0);ctx.arc(left,bottom,r,0,PI);}else{ctx.arc(left,top,r,-PI,PI);}
ctx.closePath();ctx.moveTo(x,y);}else{ctx.rect(x,y,width,height);}},drawPoint:function(ctx,style,radius,x,y,rotation){var type,xOffset,yOffset,size,cornerRadius;var rad=(rotation||0)*RAD_PER_DEG;if(style&&typeof style==='object'){type=style.toString();if(type==='[object HTMLImageElement]'||type==='[object HTMLCanvasElement]'){ctx.save();ctx.translate(x,y);ctx.rotate(rad);ctx.drawImage(style,-style.width / 2,-style.height / 2,style.width,style.height);ctx.restore();return;}}
if(isNaN(radius)||radius<=0){return;}
ctx.beginPath();switch(style){default:ctx.arc(x,y,radius,0,DOUBLE_PI);ctx.closePath();break;case'triangle':ctx.moveTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);rad+=TWO_THIRDS_PI;ctx.lineTo(x+Math.sin(rad)*radius,y-Math.cos(rad)*radius);ctx.closePath();break;case'rectRounded':cornerRadius=radius*0.516;size=radius-cornerRadius;xOffset=Math.cos(rad+QUARTER_PI)*size;yOffset=Math.sin(rad+QUARTER_PI)*size;ctx.arc(x-xOffset,y-yOffset,cornerRadius,rad-PI,rad-HALF_PI);ctx.arc(x+yOffset,y-xOffset,cornerRadius,rad-HALF_PI,rad);ctx.arc(x+xOffset,y+yOffset,cornerRadius,rad,rad+HALF_PI);ctx.arc(x-yOffset,y+xOffset,cornerRadius,rad+HALF_PI,rad+PI);ctx.closePath();break;case'rect':if(!rotation){size=Math.SQRT1_2*radius;ctx.rect(x-size,y-size,2*size,2*size);break;}
rad+=QUARTER_PI;case'rectRot':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+yOffset,y-xOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.lineTo(x-yOffset,y+xOffset);ctx.closePath();break;case'crossRot':rad+=QUARTER_PI;case'cross':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'star':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);rad+=QUARTER_PI;xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);ctx.moveTo(x+yOffset,y-xOffset);ctx.lineTo(x-yOffset,y+xOffset);break;case'line':xOffset=Math.cos(rad)*radius;yOffset=Math.sin(rad)*radius;ctx.moveTo(x-xOffset,y-yOffset);ctx.lineTo(x+xOffset,y+yOffset);break;case'dash':ctx.moveTo(x,y);ctx.lineTo(x+Math.cos(rad)*radius,y+Math.sin(rad)*radius);break;}
ctx.fill();ctx.stroke();},_isPointInArea:function(point,area){var epsilon=1e-6;return point.x>area.left-epsilon&&point.x<area.right+epsilon&&point.y>area.top-epsilon&&point.y<area.bottom+epsilon;},clipArea:function(ctx,area){ctx.save();ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();},unclipArea:function(ctx){ctx.restore();},lineTo:function(ctx,previous,target,flip){var stepped=target.steppedLine;if(stepped){if(stepped==='middle'){var midpoint=(previous.x+target.x)/ 2.0;ctx.lineTo(midpoint,flip?target.y:previous.y);ctx.lineTo(midpoint,flip?previous.y:target.y);}else if((stepped==='after'&&!flip)||(stepped!=='after'&&flip)){ctx.lineTo(previous.x,target.y);}else{ctx.lineTo(target.x,previous.y);}
ctx.lineTo(target.x,target.y);return;}
if(!target.tension){ctx.lineTo(target.x,target.y);return;}
ctx.bezierCurveTo(flip?previous.controlPointPreviousX:previous.controlPointNextX,flip?previous.controlPointPreviousY:previous.controlPointNextY,flip?target.controlPointNextX:target.controlPointPreviousX,flip?target.controlPointNextY:target.controlPointPreviousY,target.x,target.y);}};var helpers_canvas=exports$1;helpers_core.clear=exports$1.clear;helpers_core.drawRoundedRectangle=function(ctx){ctx.beginPath();exports$1.roundedRect.apply(exports$1,arguments);};var defaults={_set:function(scope,values){return helpers_core.merge(this[scope]||(this[scope]={}),values);}};defaults._set('global',{defaultColor:'rgba(0,0,0,0.1)',defaultFontColor:'#666',defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:'normal',defaultLineHeight:1.2,showLines:true});var core_defaults=defaults;var valueOrDefault=helpers_core.valueOrDefault;function toFontString(font){if(!font||helpers_core.isNullOrUndef(font.size)||helpers_core.isNullOrUndef(font.family)){return null;}
return(font.style?font.style+' ':'')
+(font.weight?font.weight+' ':'')
+font.size+'px '
+font.family;}
var helpers_options={toLineHeight:function(value,size){var matches=(''+value).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!matches||matches[1]==='normal'){return size*1.2;}
value=+matches[2];switch(matches[3]){case'px':return value;case'%':value /=100;break;}
return size*value;},toPadding:function(value){var t,r,b,l;if(helpers_core.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{top:t,right:r,bottom:b,left:l,height:t+b,width:l+r};},_parseFont:function(options){var globalDefaults=core_defaults.global;var size=valueOrDefault(options.fontSize,globalDefaults.defaultFontSize);var font={family:valueOrDefault(options.fontFamily,globalDefaults.defaultFontFamily),lineHeight:helpers_core.options.toLineHeight(valueOrDefault(options.lineHeight,globalDefaults.defaultLineHeight),size),size:size,style:valueOrDefault(options.fontStyle,globalDefaults.defaultFontStyle),weight:null,string:''};font.string=toFontString(font);return font;},resolve:function(inputs,context,index,info){var cacheable=true;var i,ilen,value;for(i=0,ilen=inputs.length;i<ilen;++i){value=inputs[i];if(value===undefined){continue;}
if(context!==undefined&&typeof value==='function'){value=value(context);cacheable=false;}
if(index!==undefined&&helpers_core.isArray(value)){value=value[index];cacheable=false;}
if(value!==undefined){if(info&&!cacheable){info.cacheable=false;}
return value;}}}};var exports$2={_factorize:function(value){var result=[];var sqrt=Math.sqrt(value);var i;for(i=1;i<sqrt;i++){if(value%i===0){result.push(i);result.push(value / i);}}
if(sqrt===(sqrt|0)){result.push(sqrt);}
result.sort(function(a,b){return a-b;}).pop();return result;},log10:Math.log10||function(x){var exponent=Math.log(x)*Math.LOG10E;var powerOf10=Math.round(exponent);var isPowerOf10=x===Math.pow(10,powerOf10);return isPowerOf10?powerOf10:exponent;}};var helpers_math=exports$2;helpers_core.log10=exports$2.log10;var getRtlAdapter=function(rectX,width){return{x:function(x){return rectX+rectX+width-x;},setWidth:function(w){width=w;},textAlign:function(align){if(align==='center'){return align;}
return align==='right'?'left':'right';},xPlus:function(x,value){return x-value;},leftForLtr:function(x,itemWidth){return x-itemWidth;},};};var getLtrAdapter=function(){return{x:function(x){return x;},setWidth:function(w){},textAlign:function(align){return align;},xPlus:function(x,value){return x+value;},leftForLtr:function(x,_itemWidth){return x;},};};var getAdapter=function(rtl,rectX,width){return rtl?getRtlAdapter(rectX,width):getLtrAdapter();};var overrideTextDirection=function(ctx,direction){var style,original;if(direction==='ltr'||direction==='rtl'){style=ctx.canvas.style;original=[style.getPropertyValue('direction'),style.getPropertyPriority('direction'),];style.setProperty('direction',direction,'important');ctx.prevTextDirection=original;}};var restoreTextDirection=function(ctx){var original=ctx.prevTextDirection;if(original!==undefined){delete ctx.prevTextDirection;ctx.canvas.style.setProperty('direction',original[0],original[1]);}};var helpers_rtl={getRtlAdapter:getAdapter,overrideTextDirection:overrideTextDirection,restoreTextDirection:restoreTextDirection,};var helpers$1=helpers_core;var easing=helpers_easing;var canvas=helpers_canvas;var options=helpers_options;var math=helpers_math;var rtl=helpers_rtl;helpers$1.easing=easing;helpers$1.canvas=canvas;helpers$1.options=options;helpers$1.math=math;helpers$1.rtl=rtl;function interpolate(start,view,model,ease){var keys=Object.keys(model);var i,ilen,key,actual,origin,target,type,c0,c1;for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];target=model[key];if(!view.hasOwnProperty(key)){view[key]=target;}
actual=view[key];if(actual===target||key[0]==='_'){continue;}
if(!start.hasOwnProperty(key)){start[key]=actual;}
origin=start[key];type=typeof target;if(type===typeof origin){if(type==='string'){c0=chartjsColor(origin);if(c0.valid){c1=chartjsColor(target);if(c1.valid){view[key]=c1.mix(c0,ease).rgbString();continue;}}}else if(helpers$1.isFinite(origin)&&helpers$1.isFinite(target)){view[key]=origin+(target-origin)*ease;continue;}}
view[key]=target;}}
var Element=function(configuration){helpers$1.extend(this,configuration);this.initialize.apply(this,arguments);};helpers$1.extend(Element.prototype,{_type:undefined,initialize:function(){this.hidden=false;},pivot:function(){var me=this;if(!me._view){me._view=helpers$1.extend({},me._model);}
me._start={};return me;},transition:function(ease){var me=this;var model=me._model;var start=me._start;var view=me._view;if(!model||ease===1){me._view=helpers$1.extend({},model);me._start=null;return me;}
if(!view){view=me._view={};}
if(!start){start=me._start={};}
interpolate(start,view,model,ease);return me;},tooltipPosition:function(){return{x:this._model.x,y:this._model.y};},hasValue:function(){return helpers$1.isNumber(this._model.x)&&helpers$1.isNumber(this._model.y);}});Element.extend=helpers$1.inherits;var core_element=Element;var exports$3=core_element.extend({chart:null,currentStep:0,numSteps:60,easing:'',render:null,onAnimationProgress:null,onAnimationComplete:null,});var core_animation=exports$3;Object.defineProperty(exports$3.prototype,'animationObject',{get:function(){return this;}});Object.defineProperty(exports$3.prototype,'chartInstance',{get:function(){return this.chart;},set:function(value){this.chart=value;}});core_defaults._set('global',{animation:{duration:1000,easing:'easeOutQuart',onProgress:helpers$1.noop,onComplete:helpers$1.noop}});var core_animations={animations:[],request:null,addAnimation:function(chart,animation,duration,lazy){var animations=this.animations;var i,ilen;animation.chart=chart;animation.startTime=Date.now();animation.duration=duration;if(!lazy){chart.animating=true;}
for(i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){animations[i]=animation;return;}}
animations.push(animation);if(animations.length===1){this.requestAnimationFrame();}},cancelAnimation:function(chart){var index=helpers$1.findIndex(this.animations,function(animation){return animation.chart===chart;});if(index!==-1){this.animations.splice(index,1);chart.animating=false;}},requestAnimationFrame:function(){var me=this;if(me.request===null){me.request=helpers$1.requestAnimFrame.call(window,function(){me.request=null;me.startDigest();});}},startDigest:function(){var me=this;me.advance();if(me.animations.length>0){me.requestAnimationFrame();}},advance:function(){var animations=this.animations;var animation,chart,numSteps,nextStep;var i=0;while(i<animations.length){animation=animations[i];chart=animation.chart;numSteps=animation.numSteps;nextStep=Math.floor((Date.now()-animation.startTime)/ animation.duration*numSteps)+1;animation.currentStep=Math.min(nextStep,numSteps);helpers$1.callback(animation.render,[chart,animation],chart);helpers$1.callback(animation.onAnimationProgress,[animation],chart);if(animation.currentStep>=numSteps){helpers$1.callback(animation.onAnimationComplete,[animation],chart);chart.animating=false;animations.splice(i,1);}else{++i;}}}};var resolve=helpers$1.options.resolve;var arrayEvents=['push','pop','shift','splice','unshift'];function listenArrayEvents(array,listener){if(array._chartjs){array._chartjs.listeners.push(listener);return;}
Object.defineProperty(array,'_chartjs',{configurable:true,enumerable:false,value:{listeners:[listener]}});arrayEvents.forEach(function(key){var method='onData'+key.charAt(0).toUpperCase()+key.slice(1);var base=array[key];Object.defineProperty(array,key,{configurable:true,enumerable:false,value:function(){var args=Array.prototype.slice.call(arguments);var res=base.apply(this,args);helpers$1.each(array._chartjs.listeners,function(object){if(typeof object[method]==='function'){object[method].apply(object,args);}});return res;}});});}
function unlistenArrayEvents(array,listener){var stub=array._chartjs;if(!stub){return;}
var listeners=stub.listeners;var index=listeners.indexOf(listener);if(index!==-1){listeners.splice(index,1);}
if(listeners.length>0){return;}
arrayEvents.forEach(function(key){delete array[key];});delete array._chartjs;}
var DatasetController=function(chart,datasetIndex){this.initialize(chart,datasetIndex);};helpers$1.extend(DatasetController.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth'],_dataElementOptions:['backgroundColor','borderColor','borderWidth','pointStyle'],initialize:function(chart,datasetIndex){var me=this;me.chart=chart;me.index=datasetIndex;me.linkScales();me.addElements();me._type=me.getMeta().type;},updateIndex:function(datasetIndex){this.index=datasetIndex;},linkScales:function(){var me=this;var meta=me.getMeta();var chart=me.chart;var scales=chart.scales;var dataset=me.getDataset();var scalesOpts=chart.options.scales;if(meta.xAxisID===null||!(meta.xAxisID in scales)||dataset.xAxisID){meta.xAxisID=dataset.xAxisID||scalesOpts.xAxes[0].id;}
if(meta.yAxisID===null||!(meta.yAxisID in scales)||dataset.yAxisID){meta.yAxisID=dataset.yAxisID||scalesOpts.yAxes[0].id;}},getDataset:function(){return this.chart.data.datasets[this.index];},getMeta:function(){return this.chart.getDatasetMeta(this.index);},getScaleForId:function(scaleID){return this.chart.scales[scaleID];},_getValueScaleId:function(){return this.getMeta().yAxisID;},_getIndexScaleId:function(){return this.getMeta().xAxisID;},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId());},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId());},reset:function(){this._update(true);},destroy:function(){if(this._data){unlistenArrayEvents(this._data,this);}},createMetaDataset:function(){var me=this;var type=me.datasetElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index});},createMetaData:function(index){var me=this;var type=me.dataElementType;return type&&new type({_chart:me.chart,_datasetIndex:me.index,_index:index});},addElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data||[];var metaData=meta.data;var i,ilen;for(i=0,ilen=data.length;i<ilen;++i){metaData[i]=metaData[i]||me.createMetaData(i);}
meta.dataset=meta.dataset||me.createMetaDataset();},addElementAndReset:function(index){var element=this.createMetaData(index);this.getMeta().data.splice(index,0,element);this.updateElement(element,index,true);},buildOrUpdateElements:function(){var me=this;var dataset=me.getDataset();var data=dataset.data||(dataset.data=[]);if(me._data!==data){if(me._data){unlistenArrayEvents(me._data,me);}
if(data&&Object.isExtensible(data)){listenArrayEvents(data,me);}
me._data=data;}
me.resyncElements();},_configure:function(){var me=this;me._config=helpers$1.merge(Object.create(null),[me.chart.options.datasets[me._type],me.getDataset(),],{merger:function(key,target,source){if(key!=='_meta'&&key!=='data'){helpers$1._merger(key,target,source);}}});},_update:function(reset){var me=this;me._configure();me._cachedDataOpts=null;me.update(reset);},update:helpers$1.noop,transition:function(easingValue){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;for(;i<ilen;++i){elements[i].transition(easingValue);}
if(meta.dataset){meta.dataset.transition(easingValue);}},draw:function(){var meta=this.getMeta();var elements=meta.data||[];var ilen=elements.length;var i=0;if(meta.dataset){meta.dataset.draw();}
for(;i<ilen;++i){elements[i].draw();}},getStyle:function(index){var me=this;var meta=me.getMeta();var dataset=meta.dataset;var style;me._configure();if(dataset&&index===undefined){style=me._resolveDatasetElementOptions(dataset||{});}else{index=index||0;style=me._resolveDataElementOptions(meta.data[index]||{},index);}
if(style.fill===false||style.fill===null){style.backgroundColor=style.borderColor;}
return style;},_resolveDatasetElementOptions:function(element,hover){var me=this;var chart=me.chart;var datasetOpts=me._config;var custom=element.custom||{};var options=chart.options.elements[me.datasetElementType.prototype._type]||{};var elementOptions=me._datasetElementOptions;var values={};var i,ilen,key,readKey;var context={chart:chart,dataset:me.getDataset(),datasetIndex:me.index,hover:hover};for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];readKey=hover?'hover'+key.charAt(0).toUpperCase()+key.slice(1):key;values[key]=resolve([custom[readKey],datasetOpts[readKey],options[readKey]],context);}
return values;},_resolveDataElementOptions:function(element,index){var me=this;var custom=element&&element.custom;var cached=me._cachedDataOpts;if(cached&&!custom){return cached;}
var chart=me.chart;var datasetOpts=me._config;var options=chart.options.elements[me.dataElementType.prototype._type]||{};var elementOptions=me._dataElementOptions;var values={};var context={chart:chart,dataIndex:index,dataset:me.getDataset(),datasetIndex:me.index};var info={cacheable:!custom};var keys,i,ilen,key;custom=custom||{};if(helpers$1.isArray(elementOptions)){for(i=0,ilen=elementOptions.length;i<ilen;++i){key=elementOptions[i];values[key]=resolve([custom[key],datasetOpts[key],options[key]],context,index,info);}}else{keys=Object.keys(elementOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];values[key]=resolve([custom[key],datasetOpts[elementOptions[key]],datasetOpts[key],options[key]],context,index,info);}}
if(info.cacheable){me._cachedDataOpts=Object.freeze(values);}
return values;},removeHoverStyle:function(element){helpers$1.merge(element._model,element.$previousStyle||{});delete element.$previousStyle;},setHoverStyle:function(element){var dataset=this.chart.data.datasets[element._datasetIndex];var index=element._index;var custom=element.custom||{};var model=element._model;var getHoverColor=helpers$1.getHoverColor;element.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth};model.backgroundColor=resolve([custom.hoverBackgroundColor,dataset.hoverBackgroundColor,getHoverColor(model.backgroundColor)],undefined,index);model.borderColor=resolve([custom.hoverBorderColor,dataset.hoverBorderColor,getHoverColor(model.borderColor)],undefined,index);model.borderWidth=resolve([custom.hoverBorderWidth,dataset.hoverBorderWidth,model.borderWidth],undefined,index);},_removeDatasetHoverStyle:function(){var element=this.getMeta().dataset;if(element){this.removeHoverStyle(element);}},_setDatasetHoverStyle:function(){var element=this.getMeta().dataset;var prev={};var i,ilen,key,keys,hoverOptions,model;if(!element){return;}
model=element._model;hoverOptions=this._resolveDatasetElementOptions(element,true);keys=Object.keys(hoverOptions);for(i=0,ilen=keys.length;i<ilen;++i){key=keys[i];prev[key]=model[key];model[key]=hoverOptions[key];}
element.$previousStyle=prev;},resyncElements:function(){var me=this;var meta=me.getMeta();var data=me.getDataset().data;var numMeta=meta.data.length;var numData=data.length;if(numData<numMeta){meta.data.splice(numData,numMeta-numData);}else if(numData>numMeta){me.insertElements(numMeta,numData-numMeta);}},insertElements:function(start,count){for(var i=0;i<count;++i){this.addElementAndReset(start+i);}},onDataPush:function(){var count=arguments.length;this.insertElements(this.getDataset().data.length-count,count);},onDataPop:function(){this.getMeta().data.pop();},onDataShift:function(){this.getMeta().data.shift();},onDataSplice:function(start,count){this.getMeta().data.splice(start,count);this.insertElements(start,arguments.length-2);},onDataUnshift:function(){this.insertElements(0,arguments.length);}});DatasetController.extend=helpers$1.inherits;var core_datasetController=DatasetController;var TAU=Math.PI*2;core_defaults._set('global',{elements:{arc:{backgroundColor:core_defaults.global.defaultColor,borderColor:'#fff',borderWidth:2,borderAlign:'center'}}});function clipArc(ctx,arc){var startAngle=arc.startAngle;var endAngle=arc.endAngle;var pixelMargin=arc.pixelMargin;var angleMargin=pixelMargin / arc.outerRadius;var x=arc.x;var y=arc.y;ctx.beginPath();ctx.arc(x,y,arc.outerRadius,startAngle-angleMargin,endAngle+angleMargin);if(arc.innerRadius>pixelMargin){angleMargin=pixelMargin / arc.innerRadius;ctx.arc(x,y,arc.innerRadius-pixelMargin,endAngle+angleMargin,startAngle-angleMargin,true);}else{ctx.arc(x,y,pixelMargin,endAngle+Math.PI / 2,startAngle-Math.PI / 2);}
ctx.closePath();ctx.clip();}
function drawFullCircleBorders(ctx,vm,arc,inner){var endAngle=arc.endAngle;var i;if(inner){arc.endAngle=arc.startAngle+TAU;clipArc(ctx,arc);arc.endAngle=endAngle;if(arc.endAngle===arc.startAngle&&arc.fullCircles){arc.endAngle+=TAU;arc.fullCircles--;}}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.innerRadius,arc.startAngle+TAU,arc.startAngle,true);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.startAngle+TAU);for(i=0;i<arc.fullCircles;++i){ctx.stroke();}}
function drawBorder(ctx,vm,arc){var inner=vm.borderAlign==='inner';if(inner){ctx.lineWidth=vm.borderWidth*2;ctx.lineJoin='round';}else{ctx.lineWidth=vm.borderWidth;ctx.lineJoin='bevel';}
if(arc.fullCircles){drawFullCircleBorders(ctx,vm,arc,inner);}
if(inner){clipArc(ctx,arc);}
ctx.beginPath();ctx.arc(arc.x,arc.y,vm.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.stroke();}
var element_arc=core_element.extend({_type:'arc',inLabelRange:function(mouseX){var vm=this._view;if(vm){return(Math.pow(mouseX-vm.x,2)<Math.pow(vm.radius+vm.hoverRadius,2));}
return false;},inRange:function(chartX,chartY){var vm=this._view;if(vm){var pointRelativePosition=helpers$1.getAngleFromPoint(vm,{x:chartX,y:chartY});var angle=pointRelativePosition.angle;var distance=pointRelativePosition.distance;var startAngle=vm.startAngle;var endAngle=vm.endAngle;while(endAngle<startAngle){endAngle+=TAU;}
while(angle>endAngle){angle-=TAU;}
while(angle<startAngle){angle+=TAU;}
var betweenAngles=(angle>=startAngle&&angle<=endAngle);var withinRadius=(distance>=vm.innerRadius&&distance<=vm.outerRadius);return(betweenAngles&&withinRadius);}
return false;},getCenterPoint:function(){var vm=this._view;var halfAngle=(vm.startAngle+vm.endAngle)/ 2;var halfRadius=(vm.innerRadius+vm.outerRadius)/ 2;return{x:vm.x+Math.cos(halfAngle)*halfRadius,y:vm.y+Math.sin(halfAngle)*halfRadius};},getArea:function(){var vm=this._view;return Math.PI*((vm.endAngle-vm.startAngle)/(2*Math.PI))*(Math.pow(vm.outerRadius,2)-Math.pow(vm.innerRadius,2));},tooltipPosition:function(){var vm=this._view;var centreAngle=vm.startAngle+((vm.endAngle-vm.startAngle)/ 2);var rangeFromCentre=(vm.outerRadius-vm.innerRadius)/ 2+vm.innerRadius;return{x:vm.x+(Math.cos(centreAngle)*rangeFromCentre),y:vm.y+(Math.sin(centreAngle)*rangeFromCentre)};},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var pixelMargin=(vm.borderAlign==='inner')?0.33:0;var arc={x:vm.x,y:vm.y,innerRadius:vm.innerRadius,outerRadius:Math.max(vm.outerRadius-pixelMargin,0),pixelMargin:pixelMargin,startAngle:vm.startAngle,endAngle:vm.endAngle,fullCircles:Math.floor(vm.circumference / TAU)};var i;ctx.save();ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;if(arc.fullCircles){arc.endAngle=arc.startAngle+TAU;ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();for(i=0;i<arc.fullCircles;++i){ctx.fill();}
arc.endAngle=arc.startAngle+vm.circumference%TAU;}
ctx.beginPath();ctx.arc(arc.x,arc.y,arc.outerRadius,arc.startAngle,arc.endAngle);ctx.arc(arc.x,arc.y,arc.innerRadius,arc.endAngle,arc.startAngle,true);ctx.closePath();ctx.fill();if(vm.borderWidth){drawBorder(ctx,vm,arc);}
ctx.restore();}});var valueOrDefault$1=helpers$1.valueOrDefault;var defaultColor=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{line:{tension:0.4,backgroundColor:defaultColor,borderWidth:3,borderColor:defaultColor,borderCapStyle:'butt',borderDash:[],borderDashOffset:0.0,borderJoinStyle:'miter',capBezierPoints:true,fill:true,}}});var element_line=core_element.extend({_type:'line',draw:function(){var me=this;var vm=me._view;var ctx=me._chart.ctx;var spanGaps=vm.spanGaps;var points=me._children.slice();var globalDefaults=core_defaults.global;var globalOptionLineElements=globalDefaults.elements.line;var lastDrawnIndex=-1;var closePath=me._loop;var index,previous,currentVM;if(!points.length){return;}
if(me._loop){for(index=0;index<points.length;++index){previous=helpers$1.previousItem(points,index);if(!points[index]._view.skip&&previous._view.skip){points=points.slice(index).concat(points.slice(0,index));closePath=spanGaps;break;}}
if(closePath){points.push(points[0]);}}
ctx.save();ctx.lineCap=vm.borderCapStyle||globalOptionLineElements.borderCapStyle;if(ctx.setLineDash){ctx.setLineDash(vm.borderDash||globalOptionLineElements.borderDash);}
ctx.lineDashOffset=valueOrDefault$1(vm.borderDashOffset,globalOptionLineElements.borderDashOffset);ctx.lineJoin=vm.borderJoinStyle||globalOptionLineElements.borderJoinStyle;ctx.lineWidth=valueOrDefault$1(vm.borderWidth,globalOptionLineElements.borderWidth);ctx.strokeStyle=vm.borderColor||globalDefaults.defaultColor;ctx.beginPath();currentVM=points[0]._view;if(!currentVM.skip){ctx.moveTo(currentVM.x,currentVM.y);lastDrawnIndex=0;}
for(index=1;index<points.length;++index){currentVM=points[index]._view;previous=lastDrawnIndex===-1?helpers$1.previousItem(points,index):points[lastDrawnIndex];if(!currentVM.skip){if((lastDrawnIndex!==(index-1)&&!spanGaps)||lastDrawnIndex===-1){ctx.moveTo(currentVM.x,currentVM.y);}else{helpers$1.canvas.lineTo(ctx,previous._view,currentVM);}
lastDrawnIndex=index;}}
if(closePath){ctx.closePath();}
ctx.stroke();ctx.restore();}});var valueOrDefault$2=helpers$1.valueOrDefault;var defaultColor$1=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{point:{radius:3,pointStyle:'circle',backgroundColor:defaultColor$1,borderColor:defaultColor$1,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});function xRange(mouseX){var vm=this._view;return vm?(Math.abs(mouseX-vm.x)<vm.radius+vm.hitRadius):false;}
function yRange(mouseY){var vm=this._view;return vm?(Math.abs(mouseY-vm.y)<vm.radius+vm.hitRadius):false;}
var element_point=core_element.extend({_type:'point',inRange:function(mouseX,mouseY){var vm=this._view;return vm?((Math.pow(mouseX-vm.x,2)+Math.pow(mouseY-vm.y,2))<Math.pow(vm.hitRadius+vm.radius,2)):false;},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y};},getArea:function(){return Math.PI*Math.pow(this._view.radius,2);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y,padding:vm.radius+vm.borderWidth};},draw:function(chartArea){var vm=this._view;var ctx=this._chart.ctx;var pointStyle=vm.pointStyle;var rotation=vm.rotation;var radius=vm.radius;var x=vm.x;var y=vm.y;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;if(vm.skip){return;}
if(chartArea===undefined||helpers$1.canvas._isPointInArea(vm,chartArea)){ctx.strokeStyle=vm.borderColor||defaultColor;ctx.lineWidth=valueOrDefault$2(vm.borderWidth,globalDefaults.elements.point.borderWidth);ctx.fillStyle=vm.backgroundColor||defaultColor;helpers$1.canvas.drawPoint(ctx,pointStyle,radius,x,y,rotation);}}});var defaultColor$2=core_defaults.global.defaultColor;core_defaults._set('global',{elements:{rectangle:{backgroundColor:defaultColor$2,borderColor:defaultColor$2,borderSkipped:'bottom',borderWidth:0}}});function isVertical(vm){return vm&&vm.width!==undefined;}
function getBarBounds(vm){var x1,x2,y1,y2,half;if(isVertical(vm)){half=vm.width / 2;x1=vm.x-half;x2=vm.x+half;y1=Math.min(vm.y,vm.base);y2=Math.max(vm.y,vm.base);}else{half=vm.height / 2;x1=Math.min(vm.x,vm.base);x2=Math.max(vm.x,vm.base);y1=vm.y-half;y2=vm.y+half;}
return{left:x1,top:y1,right:x2,bottom:y2};}
function swap(orig,v1,v2){return orig===v1?v2:orig===v2?v1:orig;}
function parseBorderSkipped(vm){var edge=vm.borderSkipped;var res={};if(!edge){return res;}
if(vm.horizontal){if(vm.base>vm.x){edge=swap(edge,'left','right');}}else if(vm.base<vm.y){edge=swap(edge,'bottom','top');}
res[edge]=true;return res;}
function parseBorderWidth(vm,maxW,maxH){var value=vm.borderWidth;var skip=parseBorderSkipped(vm);var t,r,b,l;if(helpers$1.isObject(value)){t=+value.top||0;r=+value.right||0;b=+value.bottom||0;l=+value.left||0;}else{t=r=b=l=+value||0;}
return{t:skip.top||(t<0)?0:t>maxH?maxH:t,r:skip.right||(r<0)?0:r>maxW?maxW:r,b:skip.bottom||(b<0)?0:b>maxH?maxH:b,l:skip.left||(l<0)?0:l>maxW?maxW:l};}
function boundingRects(vm){var bounds=getBarBounds(vm);var width=bounds.right-bounds.left;var height=bounds.bottom-bounds.top;var border=parseBorderWidth(vm,width / 2,height / 2);return{outer:{x:bounds.left,y:bounds.top,w:width,h:height},inner:{x:bounds.left+border.l,y:bounds.top+border.t,w:width-border.l-border.r,h:height-border.t-border.b}};}
function inRange(vm,x,y){var skipX=x===null;var skipY=y===null;var bounds=!vm||(skipX&&skipY)?false:getBarBounds(vm);return bounds&&(skipX||x>=bounds.left&&x<=bounds.right)&&(skipY||y>=bounds.top&&y<=bounds.bottom);}
var element_rectangle=core_element.extend({_type:'rectangle',draw:function(){var ctx=this._chart.ctx;var vm=this._view;var rects=boundingRects(vm);var outer=rects.outer;var inner=rects.inner;ctx.fillStyle=vm.backgroundColor;ctx.fillRect(outer.x,outer.y,outer.w,outer.h);if(outer.w===inner.w&&outer.h===inner.h){return;}
ctx.save();ctx.beginPath();ctx.rect(outer.x,outer.y,outer.w,outer.h);ctx.clip();ctx.fillStyle=vm.borderColor;ctx.rect(inner.x,inner.y,inner.w,inner.h);ctx.fill('evenodd');ctx.restore();},height:function(){var vm=this._view;return vm.base-vm.y;},inRange:function(mouseX,mouseY){return inRange(this._view,mouseX,mouseY);},inLabelRange:function(mouseX,mouseY){var vm=this._view;return isVertical(vm)?inRange(vm,mouseX,null):inRange(vm,null,mouseY);},inXRange:function(mouseX){return inRange(this._view,mouseX,null);},inYRange:function(mouseY){return inRange(this._view,null,mouseY);},getCenterPoint:function(){var vm=this._view;var x,y;if(isVertical(vm)){x=vm.x;y=(vm.y+vm.base)/ 2;}else{x=(vm.x+vm.base)/ 2;y=vm.y;}
return{x:x,y:y};},getArea:function(){var vm=this._view;return isVertical(vm)?vm.width*Math.abs(vm.y-vm.base):vm.height*Math.abs(vm.x-vm.base);},tooltipPosition:function(){var vm=this._view;return{x:vm.x,y:vm.y};}});var elements={};var Arc=element_arc;var Line=element_line;var Point=element_point;var Rectangle=element_rectangle;elements.Arc=Arc;elements.Line=Line;elements.Point=Point;elements.Rectangle=Rectangle;var deprecated=helpers$1._deprecated;var valueOrDefault$3=helpers$1.valueOrDefault;core_defaults._set('bar',{hover:{mode:'label'},scales:{xAxes:[{type:'category',offset:true,gridLines:{offsetGridLines:true}}],yAxes:[{type:'linear'}]}});core_defaults._set('global',{datasets:{bar:{categoryPercentage:0.8,barPercentage:0.9}}});function computeMinSampleSize(scale,pixels){var min=scale._length;var prev,curr,i,ilen;for(i=1,ilen=pixels.length;i<ilen;++i){min=Math.min(min,Math.abs(pixels[i]-pixels[i-1]));}
for(i=0,ilen=scale.getTicks().length;i<ilen;++i){curr=scale.getPixelForTick(i);min=i>0?Math.min(min,Math.abs(curr-prev)):min;prev=curr;}
return min;}
function computeFitCategoryTraits(index,ruler,options){var thickness=options.barThickness;var count=ruler.stackCount;var curr=ruler.pixels[index];var min=helpers$1.isNullOrUndef(thickness)?computeMinSampleSize(ruler.scale,ruler.pixels):-1;var size,ratio;if(helpers$1.isNullOrUndef(thickness)){size=min*options.categoryPercentage;ratio=options.barPercentage;}else{size=thickness*count;ratio=1;}
return{chunk:size / count,ratio:ratio,start:curr-(size / 2)};}
function computeFlexCategoryTraits(index,ruler,options){var pixels=ruler.pixels;var curr=pixels[index];var prev=index>0?pixels[index-1]:null;var next=index<pixels.length-1?pixels[index+1]:null;var percent=options.categoryPercentage;var start,size;if(prev===null){prev=curr-(next===null?ruler.end-ruler.start:next-curr);}
if(next===null){next=curr+curr-prev;}
start=curr-(curr-Math.min(prev,next))/ 2*percent;size=Math.abs(next-prev)/ 2*percent;return{chunk:size / ruler.stackCount,ratio:options.barPercentage,start:start};}
var controller_bar=core_datasetController.extend({dataElementType:elements.Rectangle,_dataElementOptions:['backgroundColor','borderColor','borderSkipped','borderWidth','barPercentage','barThickness','categoryPercentage','maxBarThickness','minBarLength'],initialize:function(){var me=this;var meta,scaleOpts;core_datasetController.prototype.initialize.apply(me,arguments);meta=me.getMeta();meta.stack=me.getDataset().stack;meta.bar=true;scaleOpts=me._getIndexScale().options;deprecated('bar chart',scaleOpts.barPercentage,'scales.[x/y]Axes.barPercentage','dataset.barPercentage');deprecated('bar chart',scaleOpts.barThickness,'scales.[x/y]Axes.barThickness','dataset.barThickness');deprecated('bar chart',scaleOpts.categoryPercentage,'scales.[x/y]Axes.categoryPercentage','dataset.categoryPercentage');deprecated('bar chart',me._getValueScale().options.minBarLength,'scales.[x/y]Axes.minBarLength','dataset.minBarLength');deprecated('bar chart',scaleOpts.maxBarThickness,'scales.[x/y]Axes.maxBarThickness','dataset.maxBarThickness');},update:function(reset){var me=this;var rects=me.getMeta().data;var i,ilen;me._ruler=me.getRuler();for(i=0,ilen=rects.length;i<ilen;++i){me.updateElement(rects[i],i,reset);}},updateElement:function(rectangle,index,reset){var me=this;var meta=me.getMeta();var dataset=me.getDataset();var options=me._resolveDataElementOptions(rectangle,index);rectangle._xScale=me.getScaleForId(meta.xAxisID);rectangle._yScale=me.getScaleForId(meta.yAxisID);rectangle._datasetIndex=me.index;rectangle._index=index;rectangle._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderSkipped:options.borderSkipped,borderWidth:options.borderWidth,datasetLabel:dataset.label,label:me.chart.data.labels[index]};if(helpers$1.isArray(dataset.data[index])){rectangle._model.borderSkipped=null;}
me._updateElementGeometry(rectangle,index,reset,options);rectangle.pivot();},_updateElementGeometry:function(rectangle,index,reset,options){var me=this;var model=rectangle._model;var vscale=me._getValueScale();var base=vscale.getBasePixel();var horizontal=vscale.isHorizontal();var ruler=me._ruler||me.getRuler();var vpixels=me.calculateBarValuePixels(me.index,index,options);var ipixels=me.calculateBarIndexPixels(me.index,index,ruler,options);model.horizontal=horizontal;model.base=reset?base:vpixels.base;model.x=horizontal?reset?base:vpixels.head:ipixels.center;model.y=horizontal?ipixels.center:reset?base:vpixels.head;model.height=horizontal?ipixels.size:undefined;model.width=horizontal?undefined:ipixels.size;},_getStacks:function(last){var me=this;var scale=me._getIndexScale();var metasets=scale._getMatchingVisibleMetas(me._type);var stacked=scale.options.stacked;var ilen=metasets.length;var stacks=[];var i,meta;for(i=0;i<ilen;++i){meta=metasets[i];if(stacked===false||stacks.indexOf(meta.stack)===-1||(stacked===undefined&&meta.stack===undefined)){stacks.push(meta.stack);}
if(meta.index===last){break;}}
return stacks;},getStackCount:function(){return this._getStacks().length;},getStackIndex:function(datasetIndex,name){var stacks=this._getStacks(datasetIndex);var index=(name!==undefined)?stacks.indexOf(name):-1;return(index===-1)?stacks.length-1:index;},getRuler:function(){var me=this;var scale=me._getIndexScale();var pixels=[];var i,ilen;for(i=0,ilen=me.getMeta().data.length;i<ilen;++i){pixels.push(scale.getPixelForValue(null,i,me.index));}
return{pixels:pixels,start:scale._startPixel,end:scale._endPixel,stackCount:me.getStackCount(),scale:scale};},calculateBarValuePixels:function(datasetIndex,index,options){var me=this;var chart=me.chart;var scale=me._getValueScale();var isHorizontal=scale.isHorizontal();var datasets=chart.data.datasets;var metasets=scale._getMatchingVisibleMetas(me._type);var value=scale._parseValue(datasets[datasetIndex].data[index]);var minBarLength=options.minBarLength;var stacked=scale.options.stacked;var stack=me.getMeta().stack;var start=value.start===undefined?0:value.max>=0&&value.min>=0?value.min:value.max;var length=value.start===undefined?value.end:value.max>=0&&value.min>=0?value.max-value.min:value.min-value.max;var ilen=metasets.length;var i,imeta,ivalue,base,head,size,stackLength;if(stacked||(stacked===undefined&&stack!==undefined)){for(i=0;i<ilen;++i){imeta=metasets[i];if(imeta.index===datasetIndex){break;}
if(imeta.stack===stack){stackLength=scale._parseValue(datasets[imeta.index].data[index]);ivalue=stackLength.start===undefined?stackLength.end:stackLength.min>=0&&stackLength.max>=0?stackLength.max:stackLength.min;if((value.min<0&&ivalue<0)||(value.max>=0&&ivalue>0)){start+=ivalue;}}}}
base=scale.getPixelForValue(start);head=scale.getPixelForValue(start+length);size=head-base;if(minBarLength!==undefined&&Math.abs(size)<minBarLength){size=minBarLength;if(length>=0&&!isHorizontal||length<0&&isHorizontal){head=base-minBarLength;}else{head=base+minBarLength;}}
return{size:size,base:base,head:head,center:head+size / 2};},calculateBarIndexPixels:function(datasetIndex,index,ruler,options){var me=this;var range=options.barThickness==='flex'?computeFlexCategoryTraits(index,ruler,options):computeFitCategoryTraits(index,ruler,options);var stackIndex=me.getStackIndex(datasetIndex,me.getMeta().stack);var center=range.start+(range.chunk*stackIndex)+(range.chunk / 2);var size=Math.min(valueOrDefault$3(options.maxBarThickness,Infinity),range.chunk*range.ratio);return{base:center-size / 2,head:center+size / 2,center:center,size:size};},draw:function(){var me=this;var chart=me.chart;var scale=me._getValueScale();var rects=me.getMeta().data;var dataset=me.getDataset();var ilen=rects.length;var i=0;helpers$1.canvas.clipArea(chart.ctx,chart.chartArea);for(;i<ilen;++i){var val=scale._parseValue(dataset.data[i]);if(!isNaN(val.min)&&!isNaN(val.max)){rects[i].draw();}}
helpers$1.canvas.unclipArea(chart.ctx);},_resolveDataElementOptions:function(){var me=this;var values=helpers$1.extend({},core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments));var indexOpts=me._getIndexScale().options;var valueOpts=me._getValueScale().options;values.barPercentage=valueOrDefault$3(indexOpts.barPercentage,values.barPercentage);values.barThickness=valueOrDefault$3(indexOpts.barThickness,values.barThickness);values.categoryPercentage=valueOrDefault$3(indexOpts.categoryPercentage,values.categoryPercentage);values.maxBarThickness=valueOrDefault$3(indexOpts.maxBarThickness,values.maxBarThickness);values.minBarLength=valueOrDefault$3(valueOpts.minBarLength,values.minBarLength);return values;}});var valueOrDefault$4=helpers$1.valueOrDefault;var resolve$1=helpers$1.options.resolve;core_defaults._set('bubble',{hover:{mode:'single'},scales:{xAxes:[{type:'linear',position:'bottom',id:'x-axis-0'}],yAxes:[{type:'linear',position:'left',id:'y-axis-0'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){var datasetLabel=data.datasets[item.datasetIndex].label||'';var dataPoint=data.datasets[item.datasetIndex].data[item.index];return datasetLabel+': ('+item.xLabel+', '+item.yLabel+', '+dataPoint.r+')';}}}});var controller_bubble=core_datasetController.extend({dataElementType:elements.Point,_dataElementOptions:['backgroundColor','borderColor','borderWidth','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth','hoverRadius','hitRadius','pointStyle','rotation'],update:function(reset){var me=this;var meta=me.getMeta();var points=meta.data;helpers$1.each(points,function(point,index){me.updateElement(point,index,reset);});},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var xScale=me.getScaleForId(meta.xAxisID);var yScale=me.getScaleForId(meta.yAxisID);var options=me._resolveDataElementOptions(point,index);var data=me.getDataset().data[index];var dsIndex=me.index;var x=reset?xScale.getPixelForDecimal(0.5):xScale.getPixelForValue(typeof data==='object'?data:NaN,index,dsIndex);var y=reset?yScale.getBasePixel():yScale.getPixelForValue(data,index,dsIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=dsIndex;point._index=index;point._model={backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,hitRadius:options.hitRadius,pointStyle:options.pointStyle,rotation:options.rotation,radius:reset?0:options.radius,skip:custom.skip||isNaN(x)||isNaN(y),x:x,y:y,};point.pivot();},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$4(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$4(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$4(options.hoverBorderWidth,options.borderWidth);model.radius=options.radius+options.hoverRadius;},_resolveDataElementOptions:function(point,index){var me=this;var chart=me.chart;var dataset=me.getDataset();var custom=point.custom||{};var data=dataset.data[index]||{};var values=core_datasetController.prototype._resolveDataElementOptions.apply(me,arguments);var context={chart:chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};if(me._cachedDataOpts===values){values=helpers$1.extend({},values);}
values.radius=resolve$1([custom.radius,data.r,me._config.radius,chart.options.elements.point.radius],context,index);return values;}});var valueOrDefault$5=helpers$1.valueOrDefault;var PI$1=Math.PI;var DOUBLE_PI$1=PI$1*2;var HALF_PI$1=PI$1 / 2;core_defaults._set('doughnut',{animation:{animateRotate:true,animateScale:false},hover:{mode:'single'},legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);if(meta.data[index]){meta.data[index].hidden=!meta.data[index].hidden;}}
chart.update();}},cutoutPercentage:50,rotation:-HALF_PI$1,circumference:DOUBLE_PI$1,tooltips:{callbacks:{title:function(){return'';},label:function(tooltipItem,data){var dataLabel=data.labels[tooltipItem.index];var value=': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];if(helpers$1.isArray(dataLabel)){dataLabel=dataLabel.slice();dataLabel[0]+=value;}else{dataLabel+=value;}
return dataLabel;}}}});var controller_doughnut=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],getRingIndex:function(datasetIndex){var ringIndex=0;for(var j=0;j<datasetIndex;++j){if(this.chart.isDatasetVisible(j)){++ringIndex;}}
return ringIndex;},update:function(reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var ratioX=1;var ratioY=1;var offsetX=0;var offsetY=0;var meta=me.getMeta();var arcs=meta.data;var cutout=opts.cutoutPercentage / 100||0;var circumference=opts.circumference;var chartWeight=me._getRingWeight(me.index);var maxWidth,maxHeight,i,ilen;if(circumference<DOUBLE_PI$1){var startAngle=opts.rotation%DOUBLE_PI$1;startAngle+=startAngle>=PI$1?-DOUBLE_PI$1:startAngle<-PI$1?DOUBLE_PI$1:0;var endAngle=startAngle+circumference;var startX=Math.cos(startAngle);var startY=Math.sin(startAngle);var endX=Math.cos(endAngle);var endY=Math.sin(endAngle);var contains0=(startAngle<=0&&endAngle>=0)||endAngle>=DOUBLE_PI$1;var contains90=(startAngle<=HALF_PI$1&&endAngle>=HALF_PI$1)||endAngle>=DOUBLE_PI$1+HALF_PI$1;var contains180=startAngle===-PI$1||endAngle>=PI$1;var contains270=(startAngle<=-HALF_PI$1&&endAngle>=-HALF_PI$1)||endAngle>=PI$1+HALF_PI$1;var minX=contains180?-1:Math.min(startX,startX*cutout,endX,endX*cutout);var minY=contains270?-1:Math.min(startY,startY*cutout,endY,endY*cutout);var maxX=contains0?1:Math.max(startX,startX*cutout,endX,endX*cutout);var maxY=contains90?1:Math.max(startY,startY*cutout,endY,endY*cutout);ratioX=(maxX-minX)/ 2;ratioY=(maxY-minY)/ 2;offsetX=-(maxX+minX)/ 2;offsetY=-(maxY+minY)/ 2;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);}
chart.borderWidth=me.getMaxBorderWidth();maxWidth=(chartArea.right-chartArea.left-chart.borderWidth)/ ratioX;maxHeight=(chartArea.bottom-chartArea.top-chart.borderWidth)/ ratioY;chart.outerRadius=Math.max(Math.min(maxWidth,maxHeight)/ 2,0);chart.innerRadius=Math.max(chart.outerRadius*cutout,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/(me._getVisibleDatasetWeightTotal()||1);chart.offsetX=offsetX*chart.outerRadius;chart.offsetY=offsetY*chart.outerRadius;meta.total=me.calculateTotal();me.outerRadius=chart.outerRadius-chart.radiusLength*me._getRingWeightOffset(me.index);me.innerRadius=Math.max(me.outerRadius-chart.radiusLength*chartWeight,0);for(i=0,ilen=arcs.length;i<ilen;++i){me.updateElement(arcs[i],i,reset);}},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var animationOpts=opts.animation;var centerX=(chartArea.left+chartArea.right)/ 2;var centerY=(chartArea.top+chartArea.bottom)/ 2;var startAngle=opts.rotation;var endAngle=opts.rotation;var dataset=me.getDataset();var circumference=reset&&animationOpts.animateRotate?0:arc.hidden?0:me.calculateCircumference(dataset.data[index])*(opts.circumference / DOUBLE_PI$1);var innerRadius=reset&&animationOpts.animateScale?0:me.innerRadius;var outerRadius=reset&&animationOpts.animateScale?0:me.outerRadius;var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX+chart.offsetX,y:centerY+chart.offsetY,startAngle:startAngle,endAngle:endAngle,circumference:circumference,outerRadius:outerRadius,innerRadius:innerRadius,label:helpers$1.valueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])}});var model=arc._model;if(!reset||!animationOpts.animateRotate){if(index===0){model.startAngle=opts.rotation;}else{model.startAngle=me.getMeta().data[index-1]._model.endAngle;}
model.endAngle=model.startAngle+model.circumference;}
arc.pivot();},calculateTotal:function(){var dataset=this.getDataset();var meta=this.getMeta();var total=0;var value;helpers$1.each(meta.data,function(element,index){value=dataset.data[index];if(!isNaN(value)&&!element.hidden){total+=Math.abs(value);}});return total;},calculateCircumference:function(value){var total=this.getMeta().total;if(total>0&&!isNaN(value)){return DOUBLE_PI$1*(Math.abs(value)/ total);}
return 0;},getMaxBorderWidth:function(arcs){var me=this;var max=0;var chart=me.chart;var i,ilen,meta,arc,controller,options,borderWidth,hoverWidth;if(!arcs){for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);arcs=meta.data;if(i!==me.index){controller=meta.controller;}
break;}}}
if(!arcs){return 0;}
for(i=0,ilen=arcs.length;i<ilen;++i){arc=arcs[i];if(controller){controller._configure();options=controller._resolveDataElementOptions(arc,i);}else{options=arc._options;}
if(options.borderAlign!=='inner'){borderWidth=options.borderWidth;hoverWidth=options.hoverBorderWidth;max=borderWidth>max?borderWidth:max;max=hoverWidth>max?hoverWidth:max;}}
return max;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault$5(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$5(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$5(options.hoverBorderWidth,options.borderWidth);},_getRingWeightOffset:function(datasetIndex){var ringWeightOffset=0;for(var i=0;i<datasetIndex;++i){if(this.chart.isDatasetVisible(i)){ringWeightOffset+=this._getRingWeight(i);}}
return ringWeightOffset;},_getRingWeight:function(dataSetIndex){return Math.max(valueOrDefault$5(this.chart.data.datasets[dataSetIndex].weight,1),0);},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length);}});core_defaults._set('horizontalBar',{hover:{mode:'index',axis:'y'},scales:{xAxes:[{type:'linear',position:'bottom'}],yAxes:[{type:'category',position:'left',offset:true,gridLines:{offsetGridLines:true}}]},elements:{rectangle:{borderSkipped:'left'}},tooltips:{mode:'index',axis:'y'}});core_defaults._set('global',{datasets:{horizontalBar:{categoryPercentage:0.8,barPercentage:0.9}}});var controller_horizontalBar=controller_bar.extend({_getValueScaleId:function(){return this.getMeta().xAxisID;},_getIndexScaleId:function(){return this.getMeta().yAxisID;}});var valueOrDefault$6=helpers$1.valueOrDefault;var resolve$2=helpers$1.options.resolve;var isPointInArea=helpers$1.canvas._isPointInArea;core_defaults._set('line',{showLines:true,spanGaps:false,hover:{mode:'label'},scales:{xAxes:[{type:'category',id:'x-axis-0'}],yAxes:[{type:'linear',id:'y-axis-0'}]}});function scaleClip(scale,halfBorderWidth){var tickOpts=scale&&scale.options.ticks||{};var reverse=tickOpts.reverse;var min=tickOpts.min===undefined?halfBorderWidth:0;var max=tickOpts.max===undefined?halfBorderWidth:0;return{start:reverse?max:min,end:reverse?min:max};}
function defaultClip(xScale,yScale,borderWidth){var halfBorderWidth=borderWidth / 2;var x=scaleClip(xScale,halfBorderWidth);var y=scaleClip(yScale,halfBorderWidth);return{top:y.end,right:x.end,bottom:y.start,left:x.start};}
function toClip(value){var t,r,b,l;if(helpers$1.isObject(value)){t=value.top;r=value.right;b=value.bottom;l=value.left;}else{t=r=b=l=value;}
return{top:t,right:r,bottom:b,left:l};}
var controller_line=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,_datasetElementOptions:['backgroundColor','borderCapStyle','borderColor','borderDash','borderDashOffset','borderJoinStyle','borderWidth','cubicInterpolationMode','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var options=me.chart.options;var config=me._config;var showLine=me._showLine=valueOrDefault$6(config.showLine,options.showLines);var i,ilen;me._xScale=me.getScaleForId(meta.xAxisID);me._yScale=me.getScaleForId(meta.yAxisID);if(showLine){if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=me._yScale;line._datasetIndex=me.index;line._children=points;line._model=me._resolveDatasetElementOptions(line);line.pivot();}
for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
if(showLine&&line._model.tension!==0){me.updateBezierControlPoints();}
for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var meta=me.getMeta();var custom=point.custom||{};var dataset=me.getDataset();var datasetIndex=me.index;var value=dataset.data[index];var xScale=me._xScale;var yScale=me._yScale;var lineModel=meta.dataset._model;var x,y;var options=me._resolveDataElementOptions(point,index);x=xScale.getPixelForValue(typeof value==='object'?value:NaN,index,datasetIndex);y=reset?yScale.getBasePixel():me.calculatePointY(value,index,datasetIndex);point._xScale=xScale;point._yScale=yScale;point._options=options;point._datasetIndex=datasetIndex;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$6(custom.tension,lineModel?lineModel.tension:0),steppedLine:lineModel?lineModel.steppedLine:false,hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(element){var me=this;var config=me._config;var custom=element.custom||{};var options=me.chart.options;var lineOptions=options.elements.line;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$6(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$6(config.lineTension,lineOptions.tension);values.steppedLine=resolve$2([custom.steppedLine,config.steppedLine,lineOptions.stepped]);values.clip=toClip(valueOrDefault$6(config.clip,defaultClip(me._xScale,me._yScale,values.borderWidth)));return values;},calculatePointY:function(value,index,datasetIndex){var me=this;var chart=me.chart;var yScale=me._yScale;var sumPos=0;var sumNeg=0;var i,ds,dsMeta,stackedRightValue,rightValue,metasets,ilen;if(yScale.options.stacked){rightValue=+yScale.getRightValue(value);metasets=chart._getSortedVisibleDatasetMetas();ilen=metasets.length;for(i=0;i<ilen;++i){dsMeta=metasets[i];if(dsMeta.index===datasetIndex){break;}
ds=chart.data.datasets[dsMeta.index];if(dsMeta.type==='line'&&dsMeta.yAxisID===yScale.id){stackedRightValue=+yScale.getRightValue(ds.data[index]);if(stackedRightValue<0){sumNeg+=stackedRightValue||0;}else{sumPos+=stackedRightValue||0;}}}
if(rightValue<0){return yScale.getPixelForValue(sumNeg+rightValue);}
return yScale.getPixelForValue(sumPos+rightValue);}
return yScale.getPixelForValue(value);},updateBezierControlPoints:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var lineModel=meta.dataset._model;var area=chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(lineModel.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
if(lineModel.cubicInterpolationMode==='monotone'){helpers$1.splineCurveMonotone(points);}else{for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i)._model,model,helpers$1.nextItem(points,i)._model,lineModel.tension);model.controlPointPreviousX=controlPoints.previous.x;model.controlPointPreviousY=controlPoints.previous.y;model.controlPointNextX=controlPoints.next.x;model.controlPointNextY=controlPoints.next.y;}}
if(chart.options.elements.line.capBezierPoints){for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;if(isPointInArea(model,area)){if(i>0&&isPointInArea(points[i-1]._model,area)){model.controlPointPreviousX=capControlPoint(model.controlPointPreviousX,area.left,area.right);model.controlPointPreviousY=capControlPoint(model.controlPointPreviousY,area.top,area.bottom);}
if(i<points.length-1&&isPointInArea(points[i+1]._model,area)){model.controlPointNextX=capControlPoint(model.controlPointNextX,area.left,area.right);model.controlPointNextY=capControlPoint(model.controlPointNextY,area.top,area.bottom);}}}}},draw:function(){var me=this;var chart=me.chart;var meta=me.getMeta();var points=meta.data||[];var area=chart.chartArea;var canvas=chart.canvas;var i=0;var ilen=points.length;var clip;if(me._showLine){clip=meta.dataset._model.clip;helpers$1.canvas.clipArea(chart.ctx,{left:clip.left===false?0:area.left-clip.left,right:clip.right===false?canvas.width:area.right+clip.right,top:clip.top===false?0:area.top-clip.top,bottom:clip.bottom===false?canvas.height:area.bottom+clip.bottom});meta.dataset.draw();helpers$1.canvas.unclipArea(chart.ctx);}
for(;i<ilen;++i){points[i].draw(area);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$6(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$6(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$6(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$6(options.hoverRadius,options.radius);},});var resolve$3=helpers$1.options.resolve;core_defaults._set('polarArea',{scale:{type:'radialLinear',angleLines:{display:false},gridLines:{circular:true},pointLabels:{display:false},ticks:{beginAtZero:true}},animation:{animateRotate:true,animateScale:true},startAngle:-0.5*Math.PI,legendCallback:function(chart){var list=document.createElement('ul');var data=chart.data;var datasets=data.datasets;var labels=data.labels;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');if(datasets.length){for(i=0,ilen=datasets[0].data.length;i<ilen;++i){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[0].backgroundColor[i];if(labels[i]){listItem.appendChild(document.createTextNode(labels[i]));}}}
return list.outerHTML;},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var style=meta.controller.getStyle(i);return{text:label,fillStyle:style.backgroundColor,strokeStyle:style.borderColor,lineWidth:style.borderWidth,hidden:isNaN(data.datasets[0].data[i])||meta.data[i].hidden,index:i};});}
return[];}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden;}
chart.update();}},tooltips:{callbacks:{title:function(){return'';},label:function(item,data){return data.labels[item.index]+': '+item.yLabel;}}}});var controller_polarArea=core_datasetController.extend({dataElementType:elements.Arc,linkScales:helpers$1.noop,_dataElementOptions:['backgroundColor','borderColor','borderWidth','borderAlign','hoverBackgroundColor','hoverBorderColor','hoverBorderWidth',],_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var dataset=me.getDataset();var meta=me.getMeta();var start=me.chart.options.startAngle||0;var starts=me._starts=[];var angles=me._angles=[];var arcs=meta.data;var i,ilen,angle;me._updateRadius();meta.count=me.countVisibleElements();for(i=0,ilen=dataset.data.length;i<ilen;i++){starts[i]=start;angle=me._computeAngle(i);angles[i]=angle;start+=angle;}
for(i=0,ilen=arcs.length;i<ilen;++i){arcs[i]._options=me._resolveDataElementOptions(arcs[i],i);me.updateElement(arcs[i],i,reset);}},_updateRadius:function(){var me=this;var chart=me.chart;var chartArea=chart.chartArea;var opts=chart.options;var minSize=Math.min(chartArea.right-chartArea.left,chartArea.bottom-chartArea.top);chart.outerRadius=Math.max(minSize / 2,0);chart.innerRadius=Math.max(opts.cutoutPercentage?(chart.outerRadius / 100)*(opts.cutoutPercentage):1,0);chart.radiusLength=(chart.outerRadius-chart.innerRadius)/ chart.getVisibleDatasetCount();me.outerRadius=chart.outerRadius-(chart.radiusLength*me.index);me.innerRadius=me.outerRadius-chart.radiusLength;},updateElement:function(arc,index,reset){var me=this;var chart=me.chart;var dataset=me.getDataset();var opts=chart.options;var animationOpts=opts.animation;var scale=chart.scale;var labels=chart.data.labels;var centerX=scale.xCenter;var centerY=scale.yCenter;var datasetStartAngle=opts.startAngle;var distance=arc.hidden?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var startAngle=me._starts[index];var endAngle=startAngle+(arc.hidden?0:me._angles[index]);var resetRadius=animationOpts.animateScale?0:scale.getDistanceFromCenterForValue(dataset.data[index]);var options=arc._options||{};helpers$1.extend(arc,{_datasetIndex:me.index,_index:index,_scale:scale,_model:{backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,borderAlign:options.borderAlign,x:centerX,y:centerY,innerRadius:0,outerRadius:reset?resetRadius:distance,startAngle:reset&&animationOpts.animateRotate?datasetStartAngle:startAngle,endAngle:reset&&animationOpts.animateRotate?datasetStartAngle:endAngle,label:helpers$1.valueAtIndexOrDefault(labels,index,labels[index])}});arc.pivot();},countVisibleElements:function(){var dataset=this.getDataset();var meta=this.getMeta();var count=0;helpers$1.each(meta.data,function(element,index){if(!isNaN(dataset.data[index])&&!element.hidden){count++;}});return count;},setHoverStyle:function(arc){var model=arc._model;var options=arc._options;var getHoverColor=helpers$1.getHoverColor;var valueOrDefault=helpers$1.valueOrDefault;arc.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,};model.backgroundColor=valueOrDefault(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault(options.hoverBorderWidth,options.borderWidth);},_computeAngle:function(index){var me=this;var count=this.getMeta().count;var dataset=me.getDataset();var meta=me.getMeta();if(isNaN(dataset.data[index])||meta.data[index].hidden){return 0;}
var context={chart:me.chart,dataIndex:index,dataset:dataset,datasetIndex:me.index};return resolve$3([me.chart.options.elements.arc.angle,(2*Math.PI)/ count],context,index);}});core_defaults._set('pie',helpers$1.clone(core_defaults.doughnut));core_defaults._set('pie',{cutoutPercentage:0});var controller_pie=controller_doughnut;var valueOrDefault$7=helpers$1.valueOrDefault;core_defaults._set('radar',{spanGaps:false,scale:{type:'radialLinear'},elements:{line:{fill:'start',tension:0}}});var controller_radar=core_datasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers$1.noop,_datasetElementOptions:['backgroundColor','borderWidth','borderColor','borderCapStyle','borderDash','borderDashOffset','borderJoinStyle','fill'],_dataElementOptions:{backgroundColor:'pointBackgroundColor',borderColor:'pointBorderColor',borderWidth:'pointBorderWidth',hitRadius:'pointHitRadius',hoverBackgroundColor:'pointHoverBackgroundColor',hoverBorderColor:'pointHoverBorderColor',hoverBorderWidth:'pointHoverBorderWidth',hoverRadius:'pointHoverRadius',pointStyle:'pointStyle',radius:'pointRadius',rotation:'pointRotation'},_getIndexScaleId:function(){return this.chart.scale.id;},_getValueScaleId:function(){return this.chart.scale.id;},update:function(reset){var me=this;var meta=me.getMeta();var line=meta.dataset;var points=meta.data||[];var scale=me.chart.scale;var config=me._config;var i,ilen;if(config.tension!==undefined&&config.lineTension===undefined){config.lineTension=config.tension;}
line._scale=scale;line._datasetIndex=me.index;line._children=points;line._loop=true;line._model=me._resolveDatasetElementOptions(line);line.pivot();for(i=0,ilen=points.length;i<ilen;++i){me.updateElement(points[i],i,reset);}
me.updateBezierControlPoints();for(i=0,ilen=points.length;i<ilen;++i){points[i].pivot();}},updateElement:function(point,index,reset){var me=this;var custom=point.custom||{};var dataset=me.getDataset();var scale=me.chart.scale;var pointPosition=scale.getPointPositionForValue(index,dataset.data[index]);var options=me._resolveDataElementOptions(point,index);var lineModel=me.getMeta().dataset._model;var x=reset?scale.xCenter:pointPosition.x;var y=reset?scale.yCenter:pointPosition.y;point._scale=scale;point._options=options;point._datasetIndex=me.index;point._index=index;point._model={x:x,y:y,skip:custom.skip||isNaN(x)||isNaN(y),radius:options.radius,pointStyle:options.pointStyle,rotation:options.rotation,backgroundColor:options.backgroundColor,borderColor:options.borderColor,borderWidth:options.borderWidth,tension:valueOrDefault$7(custom.tension,lineModel?lineModel.tension:0),hitRadius:options.hitRadius};},_resolveDatasetElementOptions:function(){var me=this;var config=me._config;var options=me.chart.options;var values=core_datasetController.prototype._resolveDatasetElementOptions.apply(me,arguments);values.spanGaps=valueOrDefault$7(config.spanGaps,options.spanGaps);values.tension=valueOrDefault$7(config.lineTension,options.elements.line.tension);return values;},updateBezierControlPoints:function(){var me=this;var meta=me.getMeta();var area=me.chart.chartArea;var points=meta.data||[];var i,ilen,model,controlPoints;if(meta.dataset._model.spanGaps){points=points.filter(function(pt){return!pt._model.skip;});}
function capControlPoint(pt,min,max){return Math.max(Math.min(pt,max),min);}
for(i=0,ilen=points.length;i<ilen;++i){model=points[i]._model;controlPoints=helpers$1.splineCurve(helpers$1.previousItem(points,i,true)._model,model,helpers$1.nextItem(points,i,true)._model,model.tension);model.controlPointPreviousX=capControlPoint(controlPoints.previous.x,area.left,area.right);model.controlPointPreviousY=capControlPoint(controlPoints.previous.y,area.top,area.bottom);model.controlPointNextX=capControlPoint(controlPoints.next.x,area.left,area.right);model.controlPointNextY=capControlPoint(controlPoints.next.y,area.top,area.bottom);}},setHoverStyle:function(point){var model=point._model;var options=point._options;var getHoverColor=helpers$1.getHoverColor;point.$previousStyle={backgroundColor:model.backgroundColor,borderColor:model.borderColor,borderWidth:model.borderWidth,radius:model.radius};model.backgroundColor=valueOrDefault$7(options.hoverBackgroundColor,getHoverColor(options.backgroundColor));model.borderColor=valueOrDefault$7(options.hoverBorderColor,getHoverColor(options.borderColor));model.borderWidth=valueOrDefault$7(options.hoverBorderWidth,options.borderWidth);model.radius=valueOrDefault$7(options.hoverRadius,options.radius);}});core_defaults._set('scatter',{hover:{mode:'single'},scales:{xAxes:[{id:'x-axis-1',type:'linear',position:'bottom'}],yAxes:[{id:'y-axis-1',type:'linear',position:'left'}]},tooltips:{callbacks:{title:function(){return'';},label:function(item){return'('+item.xLabel+', '+item.yLabel+')';}}}});core_defaults._set('global',{datasets:{scatter:{showLine:false}}});var controller_scatter=controller_line;var controllers={bar:controller_bar,bubble:controller_bubble,doughnut:controller_doughnut,horizontalBar:controller_horizontalBar,line:controller_line,polarArea:controller_polarArea,pie:controller_pie,radar:controller_radar,scatter:controller_scatter};function getRelativePosition(e,chart){if(e.native){return{x:e.x,y:e.y};}
return helpers$1.getRelativePosition(e,chart);}
function parseVisibleItems(chart,handler){var metasets=chart._getSortedVisibleDatasetMetas();var metadata,i,j,ilen,jlen,element;for(i=0,ilen=metasets.length;i<ilen;++i){metadata=metasets[i].data;for(j=0,jlen=metadata.length;j<jlen;++j){element=metadata[j];if(!element._view.skip){handler(element);}}}}
function getIntersectItems(chart,position){var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);}});return elements;}
function getNearestItems(chart,position,intersect,distanceMetric){var minDistance=Number.POSITIVE_INFINITY;var nearestItems=[];parseVisibleItems(chart,function(element){if(intersect&&!element.inRange(position.x,position.y)){return;}
var center=element.getCenterPoint();var distance=distanceMetric(position,center);if(distance<minDistance){nearestItems=[element];minDistance=distance;}else if(distance===minDistance){nearestItems.push(element);}});return nearestItems;}
function getDistanceMetricForAxis(axis){var useX=axis.indexOf('x')!==-1;var useY=axis.indexOf('y')!==-1;return function(pt1,pt2){var deltaX=useX?Math.abs(pt1.x-pt2.x):0;var deltaY=useY?Math.abs(pt1.y-pt2.y):0;return Math.sqrt(Math.pow(deltaX,2)+Math.pow(deltaY,2));};}
function indexMode(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'x';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);var elements=[];if(!items.length){return[];}
chart._getSortedVisibleDatasetMetas().forEach(function(meta){var element=meta.data[items[0]._index];if(element&&!element._view.skip){elements.push(element);}});return elements;}
var core_interaction={modes:{single:function(chart,e){var position=getRelativePosition(e,chart);var elements=[];parseVisibleItems(chart,function(element){if(element.inRange(position.x,position.y)){elements.push(element);return elements;}});return elements.slice(0,1);},label:indexMode,index:indexMode,dataset:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);var items=options.intersect?getIntersectItems(chart,position):getNearestItems(chart,position,false,distanceMetric);if(items.length>0){items=chart.getDatasetMeta(items[0]._datasetIndex).data;}
return items;},'x-axis':function(chart,e){return indexMode(chart,e,{intersect:false});},point:function(chart,e){var position=getRelativePosition(e,chart);return getIntersectItems(chart,position);},nearest:function(chart,e,options){var position=getRelativePosition(e,chart);options.axis=options.axis||'xy';var distanceMetric=getDistanceMetricForAxis(options.axis);return getNearestItems(chart,position,options.intersect,distanceMetric);},x:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inXRange(position.x)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;},y:function(chart,e,options){var position=getRelativePosition(e,chart);var items=[];var intersectsItem=false;parseVisibleItems(chart,function(element){if(element.inYRange(position.y)){items.push(element);}
if(element.inRange(position.x,position.y)){intersectsItem=true;}});if(options.intersect&&!intersectsItem){items=[];}
return items;}}};var extend=helpers$1.extend;function filterByPosition(array,position){return helpers$1.where(array,function(v){return v.pos===position;});}
function sortByWeight(array,reverse){return array.sort(function(a,b){var v0=reverse?b:a;var v1=reverse?a:b;return v0.weight===v1.weight?v0.index-v1.index:v0.weight-v1.weight;});}
function wrapBoxes(boxes){var layoutBoxes=[];var i,ilen,box;for(i=0,ilen=(boxes||[]).length;i<ilen;++i){box=boxes[i];layoutBoxes.push({index:i,box:box,pos:box.position,horizontal:box.isHorizontal(),weight:box.weight});}
return layoutBoxes;}
function setLayoutDims(layouts,params){var i,ilen,layout;for(i=0,ilen=layouts.length;i<ilen;++i){layout=layouts[i];layout.width=layout.horizontal?layout.box.fullWidth&&params.availableWidth:params.vBoxMaxWidth;layout.height=layout.horizontal&&params.hBoxMaxHeight;}}
function buildLayoutBoxes(boxes){var layoutBoxes=wrapBoxes(boxes);var left=sortByWeight(filterByPosition(layoutBoxes,'left'),true);var right=sortByWeight(filterByPosition(layoutBoxes,'right'));var top=sortByWeight(filterByPosition(layoutBoxes,'top'),true);var bottom=sortByWeight(filterByPosition(layoutBoxes,'bottom'));return{leftAndTop:left.concat(top),rightAndBottom:right.concat(bottom),chartArea:filterByPosition(layoutBoxes,'chartArea'),vertical:left.concat(right),horizontal:top.concat(bottom)};}
function getCombinedMax(maxPadding,chartArea,a,b){return Math.max(maxPadding[a],chartArea[a])+Math.max(maxPadding[b],chartArea[b]);}
function updateDims(chartArea,params,layout){var box=layout.box;var maxPadding=chartArea.maxPadding;var newWidth,newHeight;if(layout.size){chartArea[layout.pos]-=layout.size;}
layout.size=layout.horizontal?box.height:box.width;chartArea[layout.pos]+=layout.size;if(box.getPadding){var boxPadding=box.getPadding();maxPadding.top=Math.max(maxPadding.top,boxPadding.top);maxPadding.left=Math.max(maxPadding.left,boxPadding.left);maxPadding.bottom=Math.max(maxPadding.bottom,boxPadding.bottom);maxPadding.right=Math.max(maxPadding.right,boxPadding.right);}
newWidth=params.outerWidth-getCombinedMax(maxPadding,chartArea,'left','right');newHeight=params.outerHeight-getCombinedMax(maxPadding,chartArea,'top','bottom');if(newWidth!==chartArea.w||newHeight!==chartArea.h){chartArea.w=newWidth;chartArea.h=newHeight;var sizes=layout.horizontal?[newWidth,chartArea.w]:[newHeight,chartArea.h];return sizes[0]!==sizes[1]&&(!isNaN(sizes[0])||!isNaN(sizes[1]));}}
function handleMaxPadding(chartArea){var maxPadding=chartArea.maxPadding;function updatePos(pos){var change=Math.max(maxPadding[pos]-chartArea[pos],0);chartArea[pos]+=change;return change;}
chartArea.y+=updatePos('top');chartArea.x+=updatePos('left');updatePos('right');updatePos('bottom');}
function getMargins(horizontal,chartArea){var maxPadding=chartArea.maxPadding;function marginForPositions(positions){var margin={left:0,top:0,right:0,bottom:0};positions.forEach(function(pos){margin[pos]=Math.max(chartArea[pos],maxPadding[pos]);});return margin;}
return horizontal?marginForPositions(['left','right']):marginForPositions(['top','bottom']);}
function fitBoxes(boxes,chartArea,params){var refitBoxes=[];var i,ilen,layout,box,refit,changed;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;box.update(layout.width||chartArea.w,layout.height||chartArea.h,getMargins(layout.horizontal,chartArea));if(updateDims(chartArea,params,layout)){changed=true;if(refitBoxes.length){refit=true;}}
if(!box.fullWidth){refitBoxes.push(layout);}}
return refit?fitBoxes(refitBoxes,chartArea,params)||changed:changed;}
function placeBoxes(boxes,chartArea,params){var userPadding=params.padding;var x=chartArea.x;var y=chartArea.y;var i,ilen,layout,box;for(i=0,ilen=boxes.length;i<ilen;++i){layout=boxes[i];box=layout.box;if(layout.horizontal){box.left=box.fullWidth?userPadding.left:chartArea.left;box.right=box.fullWidth?params.outerWidth-userPadding.right:chartArea.left+chartArea.w;box.top=y;box.bottom=y+box.height;box.width=box.right-box.left;y=box.bottom;}else{box.left=x;box.right=x+box.width;box.top=chartArea.top;box.bottom=chartArea.top+chartArea.h;box.height=box.bottom-box.top;x=box.right;}}
chartArea.x=x;chartArea.y=y;}
core_defaults._set('global',{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var core_layouts={defaults:{},addBox:function(chart,item){if(!chart.boxes){chart.boxes=[];}
item.fullWidth=item.fullWidth||false;item.position=item.position||'top';item.weight=item.weight||0;item._layers=item._layers||function(){return[{z:0,draw:function(){item.draw.apply(item,arguments);}}];};chart.boxes.push(item);},removeBox:function(chart,layoutItem){var index=chart.boxes?chart.boxes.indexOf(layoutItem):-1;if(index!==-1){chart.boxes.splice(index,1);}},configure:function(chart,item,options){var props=['fullWidth','position','weight'];var ilen=props.length;var i=0;var prop;for(;i<ilen;++i){prop=props[i];if(options.hasOwnProperty(prop)){item[prop]=options[prop];}}},update:function(chart,width,height){if(!chart){return;}
var layoutOptions=chart.options.layout||{};var padding=helpers$1.options.toPadding(layoutOptions.padding);var availableWidth=width-padding.width;var availableHeight=height-padding.height;var boxes=buildLayoutBoxes(chart.boxes);var verticalBoxes=boxes.vertical;var horizontalBoxes=boxes.horizontal;var params=Object.freeze({outerWidth:width,outerHeight:height,padding:padding,availableWidth:availableWidth,vBoxMaxWidth:availableWidth / 2 / verticalBoxes.length,hBoxMaxHeight:availableHeight / 2});var chartArea=extend({maxPadding:extend({},padding),w:availableWidth,h:availableHeight,x:padding.left,y:padding.top},padding);setLayoutDims(verticalBoxes.concat(horizontalBoxes),params);fitBoxes(verticalBoxes,chartArea,params);if(fitBoxes(horizontalBoxes,chartArea,params)){fitBoxes(verticalBoxes,chartArea,params);}
handleMaxPadding(chartArea);placeBoxes(boxes.leftAndTop,chartArea,params);chartArea.x+=chartArea.w;chartArea.y+=chartArea.h;placeBoxes(boxes.rightAndBottom,chartArea,params);chart.chartArea={left:chartArea.left,top:chartArea.top,right:chartArea.left+chartArea.w,bottom:chartArea.top+chartArea.h};helpers$1.each(boxes.chartArea,function(layout){var box=layout.box;extend(box,chart.chartArea);box.update(chartArea.w,chartArea.h);});}};var platform_basic={acquireContext:function(item){if(item&&item.canvas){item=item.canvas;}
return item&&item.getContext('2d')||null;}};var platform_dom="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n";var platform_dom$1=Object.freeze({__proto__:null,'default':platform_dom});var stylesheet=getCjsExportFromNamespace(platform_dom$1);var EXPANDO_KEY='$chartjs';var CSS_PREFIX='chartjs-';var CSS_SIZE_MONITOR=CSS_PREFIX+'size-monitor';var CSS_RENDER_MONITOR=CSS_PREFIX+'render-monitor';var CSS_RENDER_ANIMATION=CSS_PREFIX+'render-animation';var ANIMATION_START_EVENTS=['animationstart','webkitAnimationStart'];var EVENT_TYPES={touchstart:'mousedown',touchmove:'mousemove',touchend:'mouseup',pointerenter:'mouseenter',pointerdown:'mousedown',pointermove:'mousemove',pointerup:'mouseup',pointerleave:'mouseout',pointerout:'mouseout'};function readUsedSize(element,property){var value=helpers$1.getStyle(element,property);var matches=value&&value.match(/^(\d+)(\.\d+)?px$/);return matches?Number(matches[1]):undefined;}
function initCanvas(canvas,config){var style=canvas.style;var renderHeight=canvas.getAttribute('height');var renderWidth=canvas.getAttribute('width');canvas[EXPANDO_KEY]={initial:{height:renderHeight,width:renderWidth,style:{display:style.display,height:style.height,width:style.width}}};style.display=style.display||'block';if(renderWidth===null||renderWidth===''){var displayWidth=readUsedSize(canvas,'width');if(displayWidth!==undefined){canvas.width=displayWidth;}}
if(renderHeight===null||renderHeight===''){if(canvas.style.height===''){canvas.height=canvas.width /(config.options.aspectRatio||2);}else{var displayHeight=readUsedSize(canvas,'height');if(displayWidth!==undefined){canvas.height=displayHeight;}}}
return canvas;}
var supportsEventListenerOptions=(function(){var supports=false;try{var options=Object.defineProperty({},'passive',{get:function(){supports=true;}});window.addEventListener('e',null,options);}catch(e){}
return supports;}());var eventListenerOptions=supportsEventListenerOptions?{passive:true}:false;function addListener(node,type,listener){node.addEventListener(type,listener,eventListenerOptions);}
function removeListener(node,type,listener){node.removeEventListener(type,listener,eventListenerOptions);}
function createEvent(type,chart,x,y,nativeEvent){return{type:type,chart:chart,native:nativeEvent||null,x:x!==undefined?x:null,y:y!==undefined?y:null,};}
function fromNativeEvent(event,chart){var type=EVENT_TYPES[event.type]||event.type;var pos=helpers$1.getRelativePosition(event,chart);return createEvent(type,chart,pos.x,pos.y,event);}
function throttled(fn,thisArg){var ticking=false;var args=[];return function(){args=Array.prototype.slice.call(arguments);thisArg=thisArg||this;if(!ticking){ticking=true;helpers$1.requestAnimFrame.call(window,function(){ticking=false;fn.apply(thisArg,args);});}};}
function createDiv(cls){var el=document.createElement('div');el.className=cls||'';return el;}
function createResizer(handler){var maxSize=1000000;var resizer=createDiv(CSS_SIZE_MONITOR);var expand=createDiv(CSS_SIZE_MONITOR+'-expand');var shrink=createDiv(CSS_SIZE_MONITOR+'-shrink');expand.appendChild(createDiv());shrink.appendChild(createDiv());resizer.appendChild(expand);resizer.appendChild(shrink);resizer._reset=function(){expand.scrollLeft=maxSize;expand.scrollTop=maxSize;shrink.scrollLeft=maxSize;shrink.scrollTop=maxSize;};var onScroll=function(){resizer._reset();handler();};addListener(expand,'scroll',onScroll.bind(expand,'expand'));addListener(shrink,'scroll',onScroll.bind(shrink,'shrink'));return resizer;}
function watchForRender(node,handler){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var proxy=expando.renderProxy=function(e){if(e.animationName===CSS_RENDER_ANIMATION){handler();}};helpers$1.each(ANIMATION_START_EVENTS,function(type){addListener(node,type,proxy);});expando.reflow=!!node.offsetParent;node.classList.add(CSS_RENDER_MONITOR);}
function unwatchForRender(node){var expando=node[EXPANDO_KEY]||{};var proxy=expando.renderProxy;if(proxy){helpers$1.each(ANIMATION_START_EVENTS,function(type){removeListener(node,type,proxy);});delete expando.renderProxy;}
node.classList.remove(CSS_RENDER_MONITOR);}
function addResizeListener(node,listener,chart){var expando=node[EXPANDO_KEY]||(node[EXPANDO_KEY]={});var resizer=expando.resizer=createResizer(throttled(function(){if(expando.resizer){var container=chart.options.maintainAspectRatio&&node.parentNode;var w=container?container.clientWidth:0;listener(createEvent('resize',chart));if(container&&container.clientWidth<w&&chart.canvas){listener(createEvent('resize',chart));}}}));watchForRender(node,function(){if(expando.resizer){var container=node.parentNode;if(container&&container!==resizer.parentNode){container.insertBefore(resizer,container.firstChild);}
resizer._reset();}});}
function removeResizeListener(node){var expando=node[EXPANDO_KEY]||{};var resizer=expando.resizer;delete expando.resizer;unwatchForRender(node);if(resizer&&resizer.parentNode){resizer.parentNode.removeChild(resizer);}}
function injectCSS(rootNode,css){var expando=rootNode[EXPANDO_KEY]||(rootNode[EXPANDO_KEY]={});if(!expando.containsStyles){expando.containsStyles=true;css='/* Chart.js */\n'+css;var style=document.createElement('style');style.setAttribute('type','text/css');style.appendChild(document.createTextNode(css));rootNode.appendChild(style);}}
var platform_dom$2={disableCSSInjection:false,_enabled:typeof window!=='undefined'&&typeof document!=='undefined',_ensureLoaded:function(canvas){if(!this.disableCSSInjection){var root=canvas.getRootNode?canvas.getRootNode():document;var targetNode=root.host?root:document.head;injectCSS(targetNode,stylesheet);}},acquireContext:function(item,config){if(typeof item==='string'){item=document.getElementById(item);}else if(item.length){item=item[0];}
if(item&&item.canvas){item=item.canvas;}
var context=item&&item.getContext&&item.getContext('2d');if(context&&context.canvas===item){this._ensureLoaded(item);initCanvas(item,config);return context;}
return null;},releaseContext:function(context){var canvas=context.canvas;if(!canvas[EXPANDO_KEY]){return;}
var initial=canvas[EXPANDO_KEY].initial;['height','width'].forEach(function(prop){var value=initial[prop];if(helpers$1.isNullOrUndef(value)){canvas.removeAttribute(prop);}else{canvas.setAttribute(prop,value);}});helpers$1.each(initial.style||{},function(value,key){canvas.style[key]=value;});canvas.width=canvas.width;delete canvas[EXPANDO_KEY];},addEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){addResizeListener(canvas,listener,chart);return;}
var expando=listener[EXPANDO_KEY]||(listener[EXPANDO_KEY]={});var proxies=expando.proxies||(expando.proxies={});var proxy=proxies[chart.id+'_'+type]=function(event){listener(fromNativeEvent(event,chart));};addListener(canvas,type,proxy);},removeEventListener:function(chart,type,listener){var canvas=chart.canvas;if(type==='resize'){removeResizeListener(canvas);return;}
var expando=listener[EXPANDO_KEY]||{};var proxies=expando.proxies||{};var proxy=proxies[chart.id+'_'+type];if(!proxy){return;}
removeListener(canvas,type,proxy);}};helpers$1.addEvent=addListener;helpers$1.removeEvent=removeListener;var implementation=platform_dom$2._enabled?platform_dom$2:platform_basic;var platform=helpers$1.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);core_defaults._set('global',{plugins:{}});var core_plugins={_plugins:[],_cacheId:0,register:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){if(p.indexOf(plugin)===-1){p.push(plugin);}});this._cacheId++;},unregister:function(plugins){var p=this._plugins;([]).concat(plugins).forEach(function(plugin){var idx=p.indexOf(plugin);if(idx!==-1){p.splice(idx,1);}});this._cacheId++;},clear:function(){this._plugins=[];this._cacheId++;},count:function(){return this._plugins.length;},getAll:function(){return this._plugins;},notify:function(chart,hook,args){var descriptors=this.descriptors(chart);var ilen=descriptors.length;var i,descriptor,plugin,params,method;for(i=0;i<ilen;++i){descriptor=descriptors[i];plugin=descriptor.plugin;method=plugin[hook];if(typeof method==='function'){params=[chart].concat(args||[]);params.push(descriptor.options);if(method.apply(plugin,params)===false){return false;}}}
return true;},descriptors:function(chart){var cache=chart.$plugins||(chart.$plugins={});if(cache.id===this._cacheId){return cache.descriptors;}
var plugins=[];var descriptors=[];var config=(chart&&chart.config)||{};var options=(config.options&&config.options.plugins)||{};this._plugins.concat(config.plugins||[]).forEach(function(plugin){var idx=plugins.indexOf(plugin);if(idx!==-1){return;}
var id=plugin.id;var opts=options[id];if(opts===false){return;}
if(opts===true){opts=helpers$1.clone(core_defaults.global.plugins[id]);}
plugins.push(plugin);descriptors.push({plugin:plugin,options:opts||{}});});cache.descriptors=descriptors;cache.id=this._cacheId;return descriptors;},_invalidate:function(chart){delete chart.$plugins;}};var core_scaleService={constructors:{},defaults:{},registerScaleType:function(type,scaleConstructor,scaleDefaults){this.constructors[type]=scaleConstructor;this.defaults[type]=helpers$1.clone(scaleDefaults);},getScaleConstructor:function(type){return this.constructors.hasOwnProperty(type)?this.constructors[type]:undefined;},getScaleDefaults:function(type){return this.defaults.hasOwnProperty(type)?helpers$1.merge(Object.create(null),[core_defaults.scale,this.defaults[type]]):{};},updateScaleDefaults:function(type,additions){var me=this;if(me.defaults.hasOwnProperty(type)){me.defaults[type]=helpers$1.extend(me.defaults[type],additions);}},addScalesToLayout:function(chart){helpers$1.each(chart.scales,function(scale){scale.fullWidth=scale.options.fullWidth;scale.position=scale.options.position;scale.weight=scale.options.weight;core_layouts.addBox(chart,scale);});}};var valueOrDefault$8=helpers$1.valueOrDefault;var getRtlHelper=helpers$1.rtl.getRtlAdapter;core_defaults._set('global',{tooltips:{enabled:true,custom:null,mode:'nearest',position:'average',intersect:true,backgroundColor:'rgba(0,0,0,0.8)',titleFontStyle:'bold',titleSpacing:2,titleMarginBottom:6,titleFontColor:'#fff',titleAlign:'left',bodySpacing:2,bodyFontColor:'#fff',bodyAlign:'left',footerFontStyle:'bold',footerSpacing:2,footerMarginTop:6,footerFontColor:'#fff',footerAlign:'left',yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:'#fff',displayColors:true,borderColor:'rgba(0,0,0,0)',borderWidth:0,callbacks:{beforeTitle:helpers$1.noop,title:function(tooltipItems,data){var title='';var labels=data.labels;var labelCount=labels?labels.length:0;if(tooltipItems.length>0){var item=tooltipItems[0];if(item.label){title=item.label;}else if(item.xLabel){title=item.xLabel;}else if(labelCount>0&&item.index<labelCount){title=labels[item.index];}}
return title;},afterTitle:helpers$1.noop,beforeBody:helpers$1.noop,beforeLabel:helpers$1.noop,label:function(tooltipItem,data){var label=data.datasets[tooltipItem.datasetIndex].label||'';if(label){label+=': ';}
if(!helpers$1.isNullOrUndef(tooltipItem.value)){label+=tooltipItem.value;}else{label+=tooltipItem.yLabel;}
return label;},labelColor:function(tooltipItem,chart){var meta=chart.getDatasetMeta(tooltipItem.datasetIndex);var activeElement=meta.data[tooltipItem.index];var view=activeElement._view;return{borderColor:view.borderColor,backgroundColor:view.backgroundColor};},labelTextColor:function(){return this._options.bodyFontColor;},afterLabel:helpers$1.noop,afterBody:helpers$1.noop,beforeFooter:helpers$1.noop,footer:helpers$1.noop,afterFooter:helpers$1.noop}}});var positioners={average:function(elements){if(!elements.length){return false;}
var i,len;var x=0;var y=0;var count=0;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var pos=el.tooltipPosition();x+=pos.x;y+=pos.y;++count;}}
return{x:x / count,y:y / count};},nearest:function(elements,eventPosition){var x=eventPosition.x;var y=eventPosition.y;var minDistance=Number.POSITIVE_INFINITY;var i,len,nearestElement;for(i=0,len=elements.length;i<len;++i){var el=elements[i];if(el&&el.hasValue()){var center=el.getCenterPoint();var d=helpers$1.distanceBetweenPoints(eventPosition,center);if(d<minDistance){minDistance=d;nearestElement=el;}}}
if(nearestElement){var tp=nearestElement.tooltipPosition();x=tp.x;y=tp.y;}
return{x:x,y:y};}};function pushOrConcat(base,toPush){if(toPush){if(helpers$1.isArray(toPush)){Array.prototype.push.apply(base,toPush);}else{base.push(toPush);}}
return base;}
function splitNewlines(str){if((typeof str==='string'||str instanceof String)&&str.indexOf('\n')>-1){return str.split('\n');}
return str;}
function createTooltipItem(element){var xScale=element._xScale;var yScale=element._yScale||element._scale;var index=element._index;var datasetIndex=element._datasetIndex;var controller=element._chart.getDatasetMeta(datasetIndex).controller;var indexScale=controller._getIndexScale();var valueScale=controller._getValueScale();return{xLabel:xScale?xScale.getLabelForIndex(index,datasetIndex):'',yLabel:yScale?yScale.getLabelForIndex(index,datasetIndex):'',label:indexScale?''+indexScale.getLabelForIndex(index,datasetIndex):'',value:valueScale?''+valueScale.getLabelForIndex(index,datasetIndex):'',index:index,datasetIndex:datasetIndex,x:element._model.x,y:element._model.y};}
function getBaseModel(tooltipOpts){var globalDefaults=core_defaults.global;return{xPadding:tooltipOpts.xPadding,yPadding:tooltipOpts.yPadding,xAlign:tooltipOpts.xAlign,yAlign:tooltipOpts.yAlign,rtl:tooltipOpts.rtl,textDirection:tooltipOpts.textDirection,bodyFontColor:tooltipOpts.bodyFontColor,_bodyFontFamily:valueOrDefault$8(tooltipOpts.bodyFontFamily,globalDefaults.defaultFontFamily),_bodyFontStyle:valueOrDefault$8(tooltipOpts.bodyFontStyle,globalDefaults.defaultFontStyle),_bodyAlign:tooltipOpts.bodyAlign,bodyFontSize:valueOrDefault$8(tooltipOpts.bodyFontSize,globalDefaults.defaultFontSize),bodySpacing:tooltipOpts.bodySpacing,titleFontColor:tooltipOpts.titleFontColor,_titleFontFamily:valueOrDefault$8(tooltipOpts.titleFontFamily,globalDefaults.defaultFontFamily),_titleFontStyle:valueOrDefault$8(tooltipOpts.titleFontStyle,globalDefaults.defaultFontStyle),titleFontSize:valueOrDefault$8(tooltipOpts.titleFontSize,globalDefaults.defaultFontSize),_titleAlign:tooltipOpts.titleAlign,titleSpacing:tooltipOpts.titleSpacing,titleMarginBottom:tooltipOpts.titleMarginBottom,footerFontColor:tooltipOpts.footerFontColor,_footerFontFamily:valueOrDefault$8(tooltipOpts.footerFontFamily,globalDefaults.defaultFontFamily),_footerFontStyle:valueOrDefault$8(tooltipOpts.footerFontStyle,globalDefaults.defaultFontStyle),footerFontSize:valueOrDefault$8(tooltipOpts.footerFontSize,globalDefaults.defaultFontSize),_footerAlign:tooltipOpts.footerAlign,footerSpacing:tooltipOpts.footerSpacing,footerMarginTop:tooltipOpts.footerMarginTop,caretSize:tooltipOpts.caretSize,cornerRadius:tooltipOpts.cornerRadius,backgroundColor:tooltipOpts.backgroundColor,opacity:0,legendColorBackground:tooltipOpts.multiKeyBackground,displayColors:tooltipOpts.displayColors,borderColor:tooltipOpts.borderColor,borderWidth:tooltipOpts.borderWidth};}
function getTooltipSize(tooltip,model){var ctx=tooltip._chart.ctx;var height=model.yPadding*2;var width=0;var body=model.body;var combinedBodyLength=body.reduce(function(count,bodyItem){return count+bodyItem.before.length+bodyItem.lines.length+bodyItem.after.length;},0);combinedBodyLength+=model.beforeBody.length+model.afterBody.length;var titleLineCount=model.title.length;var footerLineCount=model.footer.length;var titleFontSize=model.titleFontSize;var bodyFontSize=model.bodyFontSize;var footerFontSize=model.footerFontSize;height+=titleLineCount*titleFontSize;height+=titleLineCount?(titleLineCount-1)*model.titleSpacing:0;height+=titleLineCount?model.titleMarginBottom:0;height+=combinedBodyLength*bodyFontSize;height+=combinedBodyLength?(combinedBodyLength-1)*model.bodySpacing:0;height+=footerLineCount?model.footerMarginTop:0;height+=footerLineCount*(footerFontSize);height+=footerLineCount?(footerLineCount-1)*model.footerSpacing:0;var widthPadding=0;var maxLineWidth=function(line){width=Math.max(width,ctx.measureText(line).width+widthPadding);};ctx.font=helpers$1.fontString(titleFontSize,model._titleFontStyle,model._titleFontFamily);helpers$1.each(model.title,maxLineWidth);ctx.font=helpers$1.fontString(bodyFontSize,model._bodyFontStyle,model._bodyFontFamily);helpers$1.each(model.beforeBody.concat(model.afterBody),maxLineWidth);widthPadding=model.displayColors?(bodyFontSize+2):0;helpers$1.each(body,function(bodyItem){helpers$1.each(bodyItem.before,maxLineWidth);helpers$1.each(bodyItem.lines,maxLineWidth);helpers$1.each(bodyItem.after,maxLineWidth);});widthPadding=0;ctx.font=helpers$1.fontString(footerFontSize,model._footerFontStyle,model._footerFontFamily);helpers$1.each(model.footer,maxLineWidth);width+=2*model.xPadding;return{width:width,height:height};}
function determineAlignment(tooltip,size){var model=tooltip._model;var chart=tooltip._chart;var chartArea=tooltip._chart.chartArea;var xAlign='center';var yAlign='center';if(model.y<size.height){yAlign='top';}else if(model.y>(chart.height-size.height)){yAlign='bottom';}
var lf,rf;var olf,orf;var yf;var midX=(chartArea.left+chartArea.right)/ 2;var midY=(chartArea.top+chartArea.bottom)/ 2;if(yAlign==='center'){lf=function(x){return x<=midX;};rf=function(x){return x>midX;};}else{lf=function(x){return x<=(size.width / 2);};rf=function(x){return x>=(chart.width-(size.width / 2));};}
olf=function(x){return x+size.width+model.caretSize+model.caretPadding>chart.width;};orf=function(x){return x-size.width-model.caretSize-model.caretPadding<0;};yf=function(y){return y<=midY?'top':'bottom';};if(lf(model.x)){xAlign='left';if(olf(model.x)){xAlign='center';yAlign=yf(model.y);}}else if(rf(model.x)){xAlign='right';if(orf(model.x)){xAlign='center';yAlign=yf(model.y);}}
var opts=tooltip._options;return{xAlign:opts.xAlign?opts.xAlign:xAlign,yAlign:opts.yAlign?opts.yAlign:yAlign};}
function getBackgroundPoint(vm,size,alignment,chart){var x=vm.x;var y=vm.y;var caretSize=vm.caretSize;var caretPadding=vm.caretPadding;var cornerRadius=vm.cornerRadius;var xAlign=alignment.xAlign;var yAlign=alignment.yAlign;var paddingAndSize=caretSize+caretPadding;var radiusAndPadding=cornerRadius+caretPadding;if(xAlign==='right'){x-=size.width;}else if(xAlign==='center'){x-=(size.width / 2);if(x+size.width>chart.width){x=chart.width-size.width;}
if(x<0){x=0;}}
if(yAlign==='top'){y+=paddingAndSize;}else if(yAlign==='bottom'){y-=size.height+paddingAndSize;}else{y-=(size.height / 2);}
if(yAlign==='center'){if(xAlign==='left'){x+=paddingAndSize;}else if(xAlign==='right'){x-=paddingAndSize;}}else if(xAlign==='left'){x-=radiusAndPadding;}else if(xAlign==='right'){x+=radiusAndPadding;}
return{x:x,y:y};}
function getAlignedX(vm,align){return align==='center'?vm.x+vm.width / 2:align==='right'?vm.x+vm.width-vm.xPadding:vm.x+vm.xPadding;}
function getBeforeAfterBodyLines(callback){return pushOrConcat([],splitNewlines(callback));}
var exports$4=core_element.extend({initialize:function(){this._model=getBaseModel(this._options);this._lastActive=[];},getTitle:function(){var me=this;var opts=me._options;var callbacks=opts.callbacks;var beforeTitle=callbacks.beforeTitle.apply(me,arguments);var title=callbacks.title.apply(me,arguments);var afterTitle=callbacks.afterTitle.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeTitle));lines=pushOrConcat(lines,splitNewlines(title));lines=pushOrConcat(lines,splitNewlines(afterTitle));return lines;},getBeforeBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this,arguments));},getBody:function(tooltipItems,data){var me=this;var callbacks=me._options.callbacks;var bodyItems=[];helpers$1.each(tooltipItems,function(tooltipItem){var bodyItem={before:[],lines:[],after:[]};pushOrConcat(bodyItem.before,splitNewlines(callbacks.beforeLabel.call(me,tooltipItem,data)));pushOrConcat(bodyItem.lines,callbacks.label.call(me,tooltipItem,data));pushOrConcat(bodyItem.after,splitNewlines(callbacks.afterLabel.call(me,tooltipItem,data)));bodyItems.push(bodyItem);});return bodyItems;},getAfterBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this,arguments));},getFooter:function(){var me=this;var callbacks=me._options.callbacks;var beforeFooter=callbacks.beforeFooter.apply(me,arguments);var footer=callbacks.footer.apply(me,arguments);var afterFooter=callbacks.afterFooter.apply(me,arguments);var lines=[];lines=pushOrConcat(lines,splitNewlines(beforeFooter));lines=pushOrConcat(lines,splitNewlines(footer));lines=pushOrConcat(lines,splitNewlines(afterFooter));return lines;},update:function(changed){var me=this;var opts=me._options;var existingModel=me._model;var model=me._model=getBaseModel(opts);var active=me._active;var data=me._data;var alignment={xAlign:existingModel.xAlign,yAlign:existingModel.yAlign};var backgroundPoint={x:existingModel.x,y:existingModel.y};var tooltipSize={width:existingModel.width,height:existingModel.height};var tooltipPosition={x:existingModel.caretX,y:existingModel.caretY};var i,len;if(active.length){model.opacity=1;var labelColors=[];var labelTextColors=[];tooltipPosition=positioners[opts.position].call(me,active,me._eventPosition);var tooltipItems=[];for(i=0,len=active.length;i<len;++i){tooltipItems.push(createTooltipItem(active[i]));}
if(opts.filter){tooltipItems=tooltipItems.filter(function(a){return opts.filter(a,data);});}
if(opts.itemSort){tooltipItems=tooltipItems.sort(function(a,b){return opts.itemSort(a,b,data);});}
helpers$1.each(tooltipItems,function(tooltipItem){labelColors.push(opts.callbacks.labelColor.call(me,tooltipItem,me._chart));labelTextColors.push(opts.callbacks.labelTextColor.call(me,tooltipItem,me._chart));});model.title=me.getTitle(tooltipItems,data);model.beforeBody=me.getBeforeBody(tooltipItems,data);model.body=me.getBody(tooltipItems,data);model.afterBody=me.getAfterBody(tooltipItems,data);model.footer=me.getFooter(tooltipItems,data);model.x=tooltipPosition.x;model.y=tooltipPosition.y;model.caretPadding=opts.caretPadding;model.labelColors=labelColors;model.labelTextColors=labelTextColors;model.dataPoints=tooltipItems;tooltipSize=getTooltipSize(this,model);alignment=determineAlignment(this,tooltipSize);backgroundPoint=getBackgroundPoint(model,tooltipSize,alignment,me._chart);}else{model.opacity=0;}
model.xAlign=alignment.xAlign;model.yAlign=alignment.yAlign;model.x=backgroundPoint.x;model.y=backgroundPoint.y;model.width=tooltipSize.width;model.height=tooltipSize.height;model.caretX=tooltipPosition.x;model.caretY=tooltipPosition.y;me._model=model;if(changed&&opts.custom){opts.custom.call(me,model);}
return me;},drawCaret:function(tooltipPoint,size){var ctx=this._chart.ctx;var vm=this._view;var caretPosition=this.getCaretPosition(tooltipPoint,size,vm);ctx.lineTo(caretPosition.x1,caretPosition.y1);ctx.lineTo(caretPosition.x2,caretPosition.y2);ctx.lineTo(caretPosition.x3,caretPosition.y3);},getCaretPosition:function(tooltipPoint,size,vm){var x1,x2,x3,y1,y2,y3;var caretSize=vm.caretSize;var cornerRadius=vm.cornerRadius;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var ptX=tooltipPoint.x;var ptY=tooltipPoint.y;var width=size.width;var height=size.height;if(yAlign==='center'){y2=ptY+(height / 2);if(xAlign==='left'){x1=ptX;x2=x1-caretSize;x3=x1;y1=y2+caretSize;y3=y2-caretSize;}else{x1=ptX+width;x2=x1+caretSize;x3=x1;y1=y2-caretSize;y3=y2+caretSize;}}else{if(xAlign==='left'){x2=ptX+cornerRadius+(caretSize);x1=x2-caretSize;x3=x2+caretSize;}else if(xAlign==='right'){x2=ptX+width-cornerRadius-caretSize;x1=x2-caretSize;x3=x2+caretSize;}else{x2=vm.caretX;x1=x2-caretSize;x3=x2+caretSize;}
if(yAlign==='top'){y1=ptY;y2=y1-caretSize;y3=y1;}else{y1=ptY+height;y2=y1+caretSize;y3=y1;var tmp=x3;x3=x1;x1=tmp;}}
return{x1:x1,x2:x2,x3:x3,y1:y1,y2:y2,y3:y3};},drawTitle:function(pt,vm,ctx){var title=vm.title;var length=title.length;var titleFontSize,titleSpacing,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._titleAlign);ctx.textAlign=rtlHelper.textAlign(vm._titleAlign);ctx.textBaseline='middle';titleFontSize=vm.titleFontSize;titleSpacing=vm.titleSpacing;ctx.fillStyle=vm.titleFontColor;ctx.font=helpers$1.fontString(titleFontSize,vm._titleFontStyle,vm._titleFontFamily);for(i=0;i<length;++i){ctx.fillText(title[i],rtlHelper.x(pt.x),pt.y+titleFontSize / 2);pt.y+=titleFontSize+titleSpacing;if(i+1===length){pt.y+=vm.titleMarginBottom-titleSpacing;}}}},drawBody:function(pt,vm,ctx){var bodyFontSize=vm.bodyFontSize;var bodySpacing=vm.bodySpacing;var bodyAlign=vm._bodyAlign;var body=vm.body;var drawColorBoxes=vm.displayColors;var xLinePadding=0;var colorX=drawColorBoxes?getAlignedX(vm,'left'):0;var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);var fillLineOfText=function(line){ctx.fillText(line,rtlHelper.x(pt.x+xLinePadding),pt.y+bodyFontSize / 2);pt.y+=bodyFontSize+bodySpacing;};var bodyItem,textColor,labelColors,lines,i,j,ilen,jlen;var bodyAlignForCalculation=rtlHelper.textAlign(bodyAlign);ctx.textAlign=bodyAlign;ctx.textBaseline='middle';ctx.font=helpers$1.fontString(bodyFontSize,vm._bodyFontStyle,vm._bodyFontFamily);pt.x=getAlignedX(vm,bodyAlignForCalculation);ctx.fillStyle=vm.bodyFontColor;helpers$1.each(vm.beforeBody,fillLineOfText);xLinePadding=drawColorBoxes&&bodyAlignForCalculation!=='right'?bodyAlign==='center'?(bodyFontSize / 2+1):(bodyFontSize+2):0;for(i=0,ilen=body.length;i<ilen;++i){bodyItem=body[i];textColor=vm.labelTextColors[i];labelColors=vm.labelColors[i];ctx.fillStyle=textColor;helpers$1.each(bodyItem.before,fillLineOfText);lines=bodyItem.lines;for(j=0,jlen=lines.length;j<jlen;++j){if(drawColorBoxes){var rtlColorX=rtlHelper.x(colorX);ctx.fillStyle=vm.legendColorBackground;ctx.fillRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.lineWidth=1;ctx.strokeStyle=labelColors.borderColor;ctx.strokeRect(rtlHelper.leftForLtr(rtlColorX,bodyFontSize),pt.y,bodyFontSize,bodyFontSize);ctx.fillStyle=labelColors.backgroundColor;ctx.fillRect(rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX,1),bodyFontSize-2),pt.y+1,bodyFontSize-2,bodyFontSize-2);ctx.fillStyle=textColor;}
fillLineOfText(lines[j]);}
helpers$1.each(bodyItem.after,fillLineOfText);}
xLinePadding=0;helpers$1.each(vm.afterBody,fillLineOfText);pt.y-=bodySpacing;},drawFooter:function(pt,vm,ctx){var footer=vm.footer;var length=footer.length;var footerFontSize,i;if(length){var rtlHelper=getRtlHelper(vm.rtl,vm.x,vm.width);pt.x=getAlignedX(vm,vm._footerAlign);pt.y+=vm.footerMarginTop;ctx.textAlign=rtlHelper.textAlign(vm._footerAlign);ctx.textBaseline='middle';footerFontSize=vm.footerFontSize;ctx.fillStyle=vm.footerFontColor;ctx.font=helpers$1.fontString(footerFontSize,vm._footerFontStyle,vm._footerFontFamily);for(i=0;i<length;++i){ctx.fillText(footer[i],rtlHelper.x(pt.x),pt.y+footerFontSize / 2);pt.y+=footerFontSize+vm.footerSpacing;}}},drawBackground:function(pt,vm,ctx,tooltipSize){ctx.fillStyle=vm.backgroundColor;ctx.strokeStyle=vm.borderColor;ctx.lineWidth=vm.borderWidth;var xAlign=vm.xAlign;var yAlign=vm.yAlign;var x=pt.x;var y=pt.y;var width=tooltipSize.width;var height=tooltipSize.height;var radius=vm.cornerRadius;ctx.beginPath();ctx.moveTo(x+radius,y);if(yAlign==='top'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width-radius,y);ctx.quadraticCurveTo(x+width,y,x+width,y+radius);if(yAlign==='center'&&xAlign==='right'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+width,y+height-radius);ctx.quadraticCurveTo(x+width,y+height,x+width-radius,y+height);if(yAlign==='bottom'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x+radius,y+height);ctx.quadraticCurveTo(x,y+height,x,y+height-radius);if(yAlign==='center'&&xAlign==='left'){this.drawCaret(pt,tooltipSize);}
ctx.lineTo(x,y+radius);ctx.quadraticCurveTo(x,y,x+radius,y);ctx.closePath();ctx.fill();if(vm.borderWidth>0){ctx.stroke();}},draw:function(){var ctx=this._chart.ctx;var vm=this._view;if(vm.opacity===0){return;}
var tooltipSize={width:vm.width,height:vm.height};var pt={x:vm.x,y:vm.y};var opacity=Math.abs(vm.opacity<1e-3)?0:vm.opacity;var hasTooltipContent=vm.title.length||vm.beforeBody.length||vm.body.length||vm.afterBody.length||vm.footer.length;if(this._options.enabled&&hasTooltipContent){ctx.save();ctx.globalAlpha=opacity;this.drawBackground(pt,vm,ctx,tooltipSize);pt.y+=vm.yPadding;helpers$1.rtl.overrideTextDirection(ctx,vm.textDirection);this.drawTitle(pt,vm,ctx);this.drawBody(pt,vm,ctx);this.drawFooter(pt,vm,ctx);helpers$1.rtl.restoreTextDirection(ctx,vm.textDirection);ctx.restore();}},handleEvent:function(e){var me=this;var options=me._options;var changed=false;me._lastActive=me._lastActive||[];if(e.type==='mouseout'){me._active=[];}else{me._active=me._chart.getElementsAtEventForMode(e,options.mode,options);if(options.reverse){me._active.reverse();}}
changed=!helpers$1.arrayEquals(me._active,me._lastActive);if(changed){me._lastActive=me._active;if(options.enabled||options.custom){me._eventPosition={x:e.x,y:e.y};me.update(true);me.pivot();}}
return changed;}});var positioners_1=positioners;var core_tooltip=exports$4;core_tooltip.positioners=positioners_1;var valueOrDefault$9=helpers$1.valueOrDefault;core_defaults._set('global',{elements:{},events:['mousemove','mouseout','click','touchstart','touchmove'],hover:{onHover:null,mode:'nearest',intersect:true,animationDuration:400},onClick:null,maintainAspectRatio:true,responsive:true,responsiveAnimationDuration:0});function mergeScaleConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){if(key==='xAxes'||key==='yAxes'){var slen=source[key].length;var i,type,scale;if(!target[key]){target[key]=[];}
for(i=0;i<slen;++i){scale=source[key][i];type=valueOrDefault$9(scale.type,key==='xAxes'?'category':'linear');if(i>=target[key].length){target[key].push({});}
if(!target[key][i].type||(scale.type&&scale.type!==target[key][i].type)){helpers$1.merge(target[key][i],[core_scaleService.getScaleDefaults(type),scale]);}else{helpers$1.merge(target[key][i],scale);}}}else{helpers$1._merger(key,target,source,options);}}});}
function mergeConfig(){return helpers$1.merge(Object.create(null),[].slice.call(arguments),{merger:function(key,target,source,options){var tval=target[key]||Object.create(null);var sval=source[key];if(key==='scales'){target[key]=mergeScaleConfig(tval,sval);}else if(key==='scale'){target[key]=helpers$1.merge(tval,[core_scaleService.getScaleDefaults(sval.type),sval]);}else{helpers$1._merger(key,target,source,options);}}});}
function initConfig(config){config=config||Object.create(null);var data=config.data=config.data||{};data.datasets=data.datasets||[];data.labels=data.labels||[];config.options=mergeConfig(core_defaults.global,core_defaults[config.type],config.options||{});return config;}
function updateConfig(chart){var newOptions=chart.options;helpers$1.each(chart.scales,function(scale){core_layouts.removeBox(chart,scale);});newOptions=mergeConfig(core_defaults.global,core_defaults[chart.config.type],newOptions);chart.options=chart.config.options=newOptions;chart.ensureScalesHaveIDs();chart.buildOrUpdateScales();chart.tooltip._options=newOptions.tooltips;chart.tooltip.initialize();}
function nextAvailableScaleId(axesOpts,prefix,index){var id;var hasId=function(obj){return obj.id===id;};do{id=prefix+index++;}while(helpers$1.findIndex(axesOpts,hasId)>=0);return id;}
function positionIsHorizontal(position){return position==='top'||position==='bottom';}
function compare2Level(l1,l2){return function(a,b){return a[l1]===b[l1]?a[l2]-b[l2]:a[l1]-b[l1];};}
var Chart2=function(item,config){this.construct(item,config);return this;};helpers$1.extend(Chart2.prototype,{construct:function(item,config){var me=this;config=initConfig(config);var context=platform.acquireContext(item,config);var canvas=context&&context.canvas;var height=canvas&&canvas.height;var width=canvas&&canvas.width;me.id=helpers$1.uid();me.ctx=context;me.canvas=canvas;me.config=config;me.width=width;me.height=height;me.aspectRatio=height?width / height:null;me.options=config.options;me._bufferedRender=false;me._layers=[];me.chart=me;me.controller=me;Chart2.instances[me.id]=me;Object.defineProperty(me,'data',{get:function(){return me.config.data;},set:function(value){me.config.data=value;}});if(!context||!canvas){console.error("Failed to create chart: can't acquire context from the given item");return;}
me.initialize();me.update();},initialize:function(){var me=this;core_plugins.notify(me,'beforeInit');helpers$1.retinaScale(me,me.options.devicePixelRatio);me.bindEvents();if(me.options.responsive){me.resize(true);}
me.initToolTip();core_plugins.notify(me,'afterInit');return me;},clear:function(){helpers$1.canvas.clear(this);return this;},stop:function(){core_animations.cancelAnimation(this);return this;},resize:function(silent){var me=this;var options=me.options;var canvas=me.canvas;var aspectRatio=(options.maintainAspectRatio&&me.aspectRatio)||null;var newWidth=Math.max(0,Math.floor(helpers$1.getMaximumWidth(canvas)));var newHeight=Math.max(0,Math.floor(aspectRatio?newWidth / aspectRatio:helpers$1.getMaximumHeight(canvas)));if(me.width===newWidth&&me.height===newHeight){return;}
canvas.width=me.width=newWidth;canvas.height=me.height=newHeight;canvas.style.width=newWidth+'px';canvas.style.height=newHeight+'px';helpers$1.retinaScale(me,options.devicePixelRatio);if(!silent){var newSize={width:newWidth,height:newHeight};core_plugins.notify(me,'resize',[newSize]);if(options.onResize){options.onResize(me,newSize);}
me.stop();me.update({duration:options.responsiveAnimationDuration});}},ensureScalesHaveIDs:function(){var options=this.options;var scalesOptions=options.scales||{};var scaleOptions=options.scale;helpers$1.each(scalesOptions.xAxes,function(xAxisOptions,index){if(!xAxisOptions.id){xAxisOptions.id=nextAvailableScaleId(scalesOptions.xAxes,'x-axis-',index);}});helpers$1.each(scalesOptions.yAxes,function(yAxisOptions,index){if(!yAxisOptions.id){yAxisOptions.id=nextAvailableScaleId(scalesOptions.yAxes,'y-axis-',index);}});if(scaleOptions){scaleOptions.id=scaleOptions.id||'scale';}},buildOrUpdateScales:function(){var me=this;var options=me.options;var scales=me.scales||{};var items=[];var updated=Object.keys(scales).reduce(function(obj,id){obj[id]=false;return obj;},{});if(options.scales){items=items.concat((options.scales.xAxes||[]).map(function(xAxisOptions){return{options:xAxisOptions,dtype:'category',dposition:'bottom'};}),(options.scales.yAxes||[]).map(function(yAxisOptions){return{options:yAxisOptions,dtype:'linear',dposition:'left'};}));}
if(options.scale){items.push({options:options.scale,dtype:'radialLinear',isDefault:true,dposition:'chartArea'});}
helpers$1.each(items,function(item){var scaleOptions=item.options;var id=scaleOptions.id;var scaleType=valueOrDefault$9(scaleOptions.type,item.dtype);if(positionIsHorizontal(scaleOptions.position)!==positionIsHorizontal(item.dposition)){scaleOptions.position=item.dposition;}
updated[id]=true;var scale=null;if(id in scales&&scales[id].type===scaleType){scale=scales[id];scale.options=scaleOptions;scale.ctx=me.ctx;scale.chart=me;}else{var scaleClass=core_scaleService.getScaleConstructor(scaleType);if(!scaleClass){return;}
scale=new scaleClass({id:id,type:scaleType,options:scaleOptions,ctx:me.ctx,chart:me});scales[scale.id]=scale;}
scale.mergeTicksOptions();if(item.isDefault){me.scale=scale;}});helpers$1.each(updated,function(hasUpdated,id){if(!hasUpdated){delete scales[id];}});me.scales=scales;core_scaleService.addScalesToLayout(this);},buildOrUpdateControllers:function(){var me=this;var newControllers=[];var datasets=me.data.datasets;var i,ilen;for(i=0,ilen=datasets.length;i<ilen;i++){var dataset=datasets[i];var meta=me.getDatasetMeta(i);var type=dataset.type||me.config.type;if(meta.type&&meta.type!==type){me.destroyDatasetMeta(i);meta=me.getDatasetMeta(i);}
meta.type=type;meta.order=dataset.order||0;meta.index=i;if(meta.controller){meta.controller.updateIndex(i);meta.controller.linkScales();}else{var ControllerClass=controllers[meta.type];if(ControllerClass===undefined){throw new Error('"'+meta.type+'" is not a chart type.');}
meta.controller=new ControllerClass(me,i);newControllers.push(meta.controller);}}
return newControllers;},resetElements:function(){var me=this;helpers$1.each(me.data.datasets,function(dataset,datasetIndex){me.getDatasetMeta(datasetIndex).controller.reset();},me);},reset:function(){this.resetElements();this.tooltip.initialize();},update:function(config){var me=this;var i,ilen;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
updateConfig(me);core_plugins._invalidate(me);if(core_plugins.notify(me,'beforeUpdate')===false){return;}
me.tooltip._data=me.data;var newControllers=me.buildOrUpdateControllers();for(i=0,ilen=me.data.datasets.length;i<ilen;i++){me.getDatasetMeta(i).controller.buildOrUpdateElements();}
me.updateLayout();if(me.options.animation&&me.options.animation.duration){helpers$1.each(newControllers,function(controller){controller.reset();});}
me.updateDatasets();me.tooltip.initialize();me.lastActive=[];core_plugins.notify(me,'afterUpdate');me._layers.sort(compare2Level('z','_idx'));if(me._bufferedRender){me._bufferedRequest={duration:config.duration,easing:config.easing,lazy:config.lazy};}else{me.render(config);}},updateLayout:function(){var me=this;if(core_plugins.notify(me,'beforeLayout')===false){return;}
core_layouts.update(this,this.width,this.height);me._layers=[];helpers$1.each(me.boxes,function(box){if(box._configure){box._configure();}
me._layers.push.apply(me._layers,box._layers());},me);me._layers.forEach(function(item,index){item._idx=index;});core_plugins.notify(me,'afterScaleUpdate');core_plugins.notify(me,'afterLayout');},updateDatasets:function(){var me=this;if(core_plugins.notify(me,'beforeDatasetsUpdate')===false){return;}
for(var i=0,ilen=me.data.datasets.length;i<ilen;++i){me.updateDataset(i);}
core_plugins.notify(me,'afterDatasetsUpdate');},updateDataset:function(index){var me=this;var meta=me.getDatasetMeta(index);var args={meta:meta,index:index};if(core_plugins.notify(me,'beforeDatasetUpdate',[args])===false){return;}
meta.controller._update();core_plugins.notify(me,'afterDatasetUpdate',[args]);},render:function(config){var me=this;if(!config||typeof config!=='object'){config={duration:config,lazy:arguments[1]};}
var animationOptions=me.options.animation;var duration=valueOrDefault$9(config.duration,animationOptions&&animationOptions.duration);var lazy=config.lazy;if(core_plugins.notify(me,'beforeRender')===false){return;}
var onComplete=function(animation){core_plugins.notify(me,'afterRender');helpers$1.callback(animationOptions&&animationOptions.onComplete,[animation],me);};if(animationOptions&&duration){var animation=new core_animation({numSteps:duration / 16.66,easing:config.easing||animationOptions.easing,render:function(chart,animationObject){var easingFunction=helpers$1.easing.effects[animationObject.easing];var currentStep=animationObject.currentStep;var stepDecimal=currentStep / animationObject.numSteps;chart.draw(easingFunction(stepDecimal),stepDecimal,currentStep);},onAnimationProgress:animationOptions.onProgress,onAnimationComplete:onComplete});core_animations.addAnimation(me,animation,duration,lazy);}else{me.draw();onComplete(new core_animation({numSteps:0,chart:me}));}
return me;},draw:function(easingValue){var me=this;var i,layers;me.clear();if(helpers$1.isNullOrUndef(easingValue)){easingValue=1;}
me.transition(easingValue);if(me.width<=0||me.height<=0){return;}
if(core_plugins.notify(me,'beforeDraw',[easingValue])===false){return;}
layers=me._layers;for(i=0;i<layers.length&&layers[i].z<=0;++i){layers[i].draw(me.chartArea);}
me.drawDatasets(easingValue);for(;i<layers.length;++i){layers[i].draw(me.chartArea);}
me._drawTooltip(easingValue);core_plugins.notify(me,'afterDraw',[easingValue]);},transition:function(easingValue){var me=this;for(var i=0,ilen=(me.data.datasets||[]).length;i<ilen;++i){if(me.isDatasetVisible(i)){me.getDatasetMeta(i).controller.transition(easingValue);}}
me.tooltip.transition(easingValue);},_getSortedDatasetMetas:function(filterVisible){var me=this;var datasets=me.data.datasets||[];var result=[];var i,ilen;for(i=0,ilen=datasets.length;i<ilen;++i){if(!filterVisible||me.isDatasetVisible(i)){result.push(me.getDatasetMeta(i));}}
result.sort(compare2Level('order','index'));return result;},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(true);},drawDatasets:function(easingValue){var me=this;var metasets,i;if(core_plugins.notify(me,'beforeDatasetsDraw',[easingValue])===false){return;}
metasets=me._getSortedVisibleDatasetMetas();for(i=metasets.length-1;i>=0;--i){me.drawDataset(metasets[i],easingValue);}
core_plugins.notify(me,'afterDatasetsDraw',[easingValue]);},drawDataset:function(meta,easingValue){var me=this;var args={meta:meta,index:meta.index,easingValue:easingValue};if(core_plugins.notify(me,'beforeDatasetDraw',[args])===false){return;}
meta.controller.draw(easingValue);core_plugins.notify(me,'afterDatasetDraw',[args]);},_drawTooltip:function(easingValue){var me=this;var tooltip=me.tooltip;var args={tooltip:tooltip,easingValue:easingValue};if(core_plugins.notify(me,'beforeTooltipDraw',[args])===false){return;}
tooltip.draw();core_plugins.notify(me,'afterTooltipDraw',[args]);},getElementAtEvent:function(e){return core_interaction.modes.single(this,e);},getElementsAtEvent:function(e){return core_interaction.modes.label(this,e,{intersect:true});},getElementsAtXAxis:function(e){return core_interaction.modes['x-axis'](this,e,{intersect:true});},getElementsAtEventForMode:function(e,mode,options){var method=core_interaction.modes[mode];if(typeof method==='function'){return method(this,e,options);}
return[];},getDatasetAtEvent:function(e){return core_interaction.modes.dataset(this,e,{intersect:true});},getDatasetMeta:function(datasetIndex){var me=this;var dataset=me.data.datasets[datasetIndex];if(!dataset._meta){dataset._meta={};}
var meta=dataset._meta[me.id];if(!meta){meta=dataset._meta[me.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:dataset.order||0,index:datasetIndex};}
return meta;},getVisibleDatasetCount:function(){var count=0;for(var i=0,ilen=this.data.datasets.length;i<ilen;++i){if(this.isDatasetVisible(i)){count++;}}
return count;},isDatasetVisible:function(datasetIndex){var meta=this.getDatasetMeta(datasetIndex);return typeof meta.hidden==='boolean'?!meta.hidden:!this.data.datasets[datasetIndex].hidden;},generateLegend:function(){return this.options.legendCallback(this);},destroyDatasetMeta:function(datasetIndex){var id=this.id;var dataset=this.data.datasets[datasetIndex];var meta=dataset._meta&&dataset._meta[id];if(meta){meta.controller.destroy();delete dataset._meta[id];}},destroy:function(){var me=this;var canvas=me.canvas;var i,ilen;me.stop();for(i=0,ilen=me.data.datasets.length;i<ilen;++i){me.destroyDatasetMeta(i);}
if(canvas){me.unbindEvents();helpers$1.canvas.clear(me);platform.releaseContext(me.ctx);me.canvas=null;me.ctx=null;}
core_plugins.notify(me,'destroy');delete Chart2.instances[me.id];},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments);},initToolTip:function(){var me=this;me.tooltip=new core_tooltip({_chart:me,_chartInstance:me,_data:me.data,_options:me.options.tooltips},me);},bindEvents:function(){var me=this;var listeners=me._listeners={};var listener=function(){me.eventHandler.apply(me,arguments);};helpers$1.each(me.options.events,function(type){platform.addEventListener(me,type,listener);listeners[type]=listener;});if(me.options.responsive){listener=function(){me.resize();};platform.addEventListener(me,'resize',listener);listeners.resize=listener;}},unbindEvents:function(){var me=this;var listeners=me._listeners;if(!listeners){return;}
delete me._listeners;helpers$1.each(listeners,function(listener,type){platform.removeEventListener(me,type,listener);});},updateHoverStyle:function(elements,mode,enabled){var prefix=enabled?'set':'remove';var element,i,ilen;for(i=0,ilen=elements.length;i<ilen;++i){element=elements[i];if(element){this.getDatasetMeta(element._datasetIndex).controller[prefix+'HoverStyle'](element);}}
if(mode==='dataset'){this.getDatasetMeta(elements[0]._datasetIndex).controller['_'+prefix+'DatasetHoverStyle']();}},eventHandler:function(e){var me=this;var tooltip=me.tooltip;if(core_plugins.notify(me,'beforeEvent',[e])===false){return;}
me._bufferedRender=true;me._bufferedRequest=null;var changed=me.handleEvent(e);if(tooltip){changed=tooltip._start?tooltip.handleEvent(e):changed|tooltip.handleEvent(e);}
core_plugins.notify(me,'afterEvent',[e]);var bufferedRequest=me._bufferedRequest;if(bufferedRequest){me.render(bufferedRequest);}else if(changed&&!me.animating){me.stop();me.render({duration:me.options.hover.animationDuration,lazy:true});}
me._bufferedRender=false;me._bufferedRequest=null;return me;},handleEvent:function(e){var me=this;var options=me.options||{};var hoverOptions=options.hover;var changed=false;me.lastActive=me.lastActive||[];if(e.type==='mouseout'){me.active=[];}else{me.active=me.getElementsAtEventForMode(e,hoverOptions.mode,hoverOptions);}
helpers$1.callback(options.onHover||options.hover.onHover,[e.native,me.active],me);if(e.type==='mouseup'||e.type==='click'){if(options.onClick){options.onClick.call(me,e.native,me.active);}}
if(me.lastActive.length){me.updateHoverStyle(me.lastActive,hoverOptions.mode,false);}
if(me.active.length&&hoverOptions.mode){me.updateHoverStyle(me.active,hoverOptions.mode,true);}
changed=!helpers$1.arrayEquals(me.active,me.lastActive);me.lastActive=me.active;return changed;}});Chart2.instances={};var core_controller=Chart2;Chart.Controller=Chart2;Chart2.types={};helpers$1.configMerge=mergeConfig;helpers$1.scaleMerge=mergeScaleConfig;var core_helpers=function(){helpers$1.where=function(collection,filterCallback){if(helpers$1.isArray(collection)&&Array.prototype.filter){return collection.filter(filterCallback);}
var filtered=[];helpers$1.each(collection,function(item){if(filterCallback(item)){filtered.push(item);}});return filtered;};helpers$1.findIndex=Array.prototype.findIndex?function(array,callback,scope){return array.findIndex(callback,scope);}:function(array,callback,scope){scope=scope===undefined?array:scope;for(var i=0,ilen=array.length;i<ilen;++i){if(callback.call(scope,array[i],i,array)){return i;}}
return-1;};helpers$1.findNextWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=-1;}
for(var i=startIndex+1;i<arrayToSearch.length;i++){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.findPreviousWhere=function(arrayToSearch,filterCallback,startIndex){if(helpers$1.isNullOrUndef(startIndex)){startIndex=arrayToSearch.length;}
for(var i=startIndex-1;i>=0;i--){var currentItem=arrayToSearch[i];if(filterCallback(currentItem)){return currentItem;}}};helpers$1.isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n);};helpers$1.almostEquals=function(x,y,epsilon){return Math.abs(x-y)<epsilon;};helpers$1.almostWhole=function(x,epsilon){var rounded=Math.round(x);return((rounded-epsilon)<=x)&&((rounded+epsilon)>=x);};helpers$1.max=function(array){return array.reduce(function(max,value){if(!isNaN(value)){return Math.max(max,value);}
return max;},Number.NEGATIVE_INFINITY);};helpers$1.min=function(array){return array.reduce(function(min,value){if(!isNaN(value)){return Math.min(min,value);}
return min;},Number.POSITIVE_INFINITY);};helpers$1.sign=Math.sign?function(x){return Math.sign(x);}:function(x){x=+x;if(x===0||isNaN(x)){return x;}
return x>0?1:-1;};helpers$1.toRadians=function(degrees){return degrees*(Math.PI / 180);};helpers$1.toDegrees=function(radians){return radians*(180 / Math.PI);};helpers$1._decimalPlaces=function(x){if(!helpers$1.isFinite(x)){return;}
var e=1;var p=0;while(Math.round(x*e)/ e!==x){e*=10;p++;}
return p;};helpers$1.getAngleFromPoint=function(centrePoint,anglePoint){var distanceFromXCenter=anglePoint.x-centrePoint.x;var distanceFromYCenter=anglePoint.y-centrePoint.y;var radialDistanceFromCenter=Math.sqrt(distanceFromXCenter*distanceFromXCenter+distanceFromYCenter*distanceFromYCenter);var angle=Math.atan2(distanceFromYCenter,distanceFromXCenter);if(angle<(-0.5*Math.PI)){angle+=2.0*Math.PI;}
return{angle:angle,distance:radialDistanceFromCenter};};helpers$1.distanceBetweenPoints=function(pt1,pt2){return Math.sqrt(Math.pow(pt2.x-pt1.x,2)+Math.pow(pt2.y-pt1.y,2));};helpers$1.aliasPixel=function(pixelWidth){return(pixelWidth%2===0)?0:0.5;};helpers$1._alignPixel=function(chart,pixel,width){var devicePixelRatio=chart.currentDevicePixelRatio;var halfWidth=width / 2;return Math.round((pixel-halfWidth)*devicePixelRatio)/ devicePixelRatio+halfWidth;};helpers$1.splineCurve=function(firstPoint,middlePoint,afterPoint,t){var previous=firstPoint.skip?middlePoint:firstPoint;var current=middlePoint;var next=afterPoint.skip?middlePoint:afterPoint;var d01=Math.sqrt(Math.pow(current.x-previous.x,2)+Math.pow(current.y-previous.y,2));var d12=Math.sqrt(Math.pow(next.x-current.x,2)+Math.pow(next.y-current.y,2));var s01=d01 /(d01+d12);var s12=d12 /(d01+d12);s01=isNaN(s01)?0:s01;s12=isNaN(s12)?0:s12;var fa=t*s01;var fb=t*s12;return{previous:{x:current.x-fa*(next.x-previous.x),y:current.y-fa*(next.y-previous.y)},next:{x:current.x+fb*(next.x-previous.x),y:current.y+fb*(next.y-previous.y)}};};helpers$1.EPSILON=Number.EPSILON||1e-14;helpers$1.splineCurveMonotone=function(points){var pointsWithTangents=(points||[]).map(function(point){return{model:point._model,deltaK:0,mK:0};});var pointsLen=pointsWithTangents.length;var i,pointBefore,pointCurrent,pointAfter;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointAfter&&!pointAfter.model.skip){var slopeDeltaX=(pointAfter.model.x-pointCurrent.model.x);pointCurrent.deltaK=slopeDeltaX!==0?(pointAfter.model.y-pointCurrent.model.y)/ slopeDeltaX:0;}
if(!pointBefore||pointBefore.model.skip){pointCurrent.mK=pointCurrent.deltaK;}else if(!pointAfter||pointAfter.model.skip){pointCurrent.mK=pointBefore.deltaK;}else if(this.sign(pointBefore.deltaK)!==this.sign(pointCurrent.deltaK)){pointCurrent.mK=0;}else{pointCurrent.mK=(pointBefore.deltaK+pointCurrent.deltaK)/ 2;}}
var alphaK,betaK,tauK,squaredMagnitude;for(i=0;i<pointsLen-1;++i){pointCurrent=pointsWithTangents[i];pointAfter=pointsWithTangents[i+1];if(pointCurrent.model.skip||pointAfter.model.skip){continue;}
if(helpers$1.almostEquals(pointCurrent.deltaK,0,this.EPSILON)){pointCurrent.mK=pointAfter.mK=0;continue;}
alphaK=pointCurrent.mK / pointCurrent.deltaK;betaK=pointAfter.mK / pointCurrent.deltaK;squaredMagnitude=Math.pow(alphaK,2)+Math.pow(betaK,2);if(squaredMagnitude<=9){continue;}
tauK=3 / Math.sqrt(squaredMagnitude);pointCurrent.mK=alphaK*tauK*pointCurrent.deltaK;pointAfter.mK=betaK*tauK*pointCurrent.deltaK;}
var deltaX;for(i=0;i<pointsLen;++i){pointCurrent=pointsWithTangents[i];if(pointCurrent.model.skip){continue;}
pointBefore=i>0?pointsWithTangents[i-1]:null;pointAfter=i<pointsLen-1?pointsWithTangents[i+1]:null;if(pointBefore&&!pointBefore.model.skip){deltaX=(pointCurrent.model.x-pointBefore.model.x)/ 3;pointCurrent.model.controlPointPreviousX=pointCurrent.model.x-deltaX;pointCurrent.model.controlPointPreviousY=pointCurrent.model.y-deltaX*pointCurrent.mK;}
if(pointAfter&&!pointAfter.model.skip){deltaX=(pointAfter.model.x-pointCurrent.model.x)/ 3;pointCurrent.model.controlPointNextX=pointCurrent.model.x+deltaX;pointCurrent.model.controlPointNextY=pointCurrent.model.y+deltaX*pointCurrent.mK;}}};helpers$1.nextItem=function(collection,index,loop){if(loop){return index>=collection.length-1?collection[0]:collection[index+1];}
return index>=collection.length-1?collection[collection.length-1]:collection[index+1];};helpers$1.previousItem=function(collection,index,loop){if(loop){return index<=0?collection[collection.length-1]:collection[index-1];}
return index<=0?collection[0]:collection[index-1];};helpers$1.niceNum=function(range,round){var exponent=Math.floor(helpers$1.log10(range));var fraction=range / Math.pow(10,exponent);var niceFraction;if(round){if(fraction<1.5){niceFraction=1;}else if(fraction<3){niceFraction=2;}else if(fraction<7){niceFraction=5;}else{niceFraction=10;}}else if(fraction<=1.0){niceFraction=1;}else if(fraction<=2){niceFraction=2;}else if(fraction<=5){niceFraction=5;}else{niceFraction=10;}
return niceFraction*Math.pow(10,exponent);};helpers$1.requestAnimFrame=(function(){if(typeof window==='undefined'){return function(callback){callback();};}
return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){return window.setTimeout(callback,1000 / 60);};}());helpers$1.getRelativePosition=function(evt,chart){var mouseX,mouseY;var e=evt.originalEvent||evt;var canvas=evt.target||evt.srcElement;var boundingRect=canvas.getBoundingClientRect();var touches=e.touches;if(touches&&touches.length>0){mouseX=touches[0].clientX;mouseY=touches[0].clientY;}else{mouseX=e.clientX;mouseY=e.clientY;}
var paddingLeft=parseFloat(helpers$1.getStyle(canvas,'padding-left'));var paddingTop=parseFloat(helpers$1.getStyle(canvas,'padding-top'));var paddingRight=parseFloat(helpers$1.getStyle(canvas,'padding-right'));var paddingBottom=parseFloat(helpers$1.getStyle(canvas,'padding-bottom'));var width=boundingRect.right-boundingRect.left-paddingLeft-paddingRight;var height=boundingRect.bottom-boundingRect.top-paddingTop-paddingBottom;mouseX=Math.round((mouseX-boundingRect.left-paddingLeft)/(width)*canvas.width / chart.currentDevicePixelRatio);mouseY=Math.round((mouseY-boundingRect.top-paddingTop)/(height)*canvas.height / chart.currentDevicePixelRatio);return{x:mouseX,y:mouseY};};function parseMaxStyle(styleValue,node,parentProperty){var valueInPixels;if(typeof styleValue==='string'){valueInPixels=parseInt(styleValue,10);if(styleValue.indexOf('%')!==-1){valueInPixels=valueInPixels / 100*node.parentNode[parentProperty];}}else{valueInPixels=styleValue;}
return valueInPixels;}
function isConstrainedValue(value){return value!==undefined&&value!==null&&value!=='none';}
function getConstraintDimension(domNode,maxStyle,percentageProperty){var view=document.defaultView;var parentNode=helpers$1._getParentNode(domNode);var constrainedNode=view.getComputedStyle(domNode)[maxStyle];var constrainedContainer=view.getComputedStyle(parentNode)[maxStyle];var hasCNode=isConstrainedValue(constrainedNode);var hasCContainer=isConstrainedValue(constrainedContainer);var infinity=Number.POSITIVE_INFINITY;if(hasCNode||hasCContainer){return Math.min(hasCNode?parseMaxStyle(constrainedNode,domNode,percentageProperty):infinity,hasCContainer?parseMaxStyle(constrainedContainer,parentNode,percentageProperty):infinity);}
return'none';}
helpers$1.getConstraintWidth=function(domNode){return getConstraintDimension(domNode,'max-width','clientWidth');};helpers$1.getConstraintHeight=function(domNode){return getConstraintDimension(domNode,'max-height','clientHeight');};helpers$1._calculatePadding=function(container,padding,parentDimension){padding=helpers$1.getStyle(container,padding);return padding.indexOf('%')>-1?parentDimension*parseInt(padding,10)/ 100:parseInt(padding,10);};helpers$1._getParentNode=function(domNode){var parent=domNode.parentNode;if(parent&&parent.toString()==='[object ShadowRoot]'){parent=parent.host;}
return parent;};helpers$1.getMaximumWidth=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientWidth;}
var clientWidth=container.clientWidth;var paddingLeft=helpers$1._calculatePadding(container,'padding-left',clientWidth);var paddingRight=helpers$1._calculatePadding(container,'padding-right',clientWidth);var w=clientWidth-paddingLeft-paddingRight;var cw=helpers$1.getConstraintWidth(domNode);return isNaN(cw)?w:Math.min(w,cw);};helpers$1.getMaximumHeight=function(domNode){var container=helpers$1._getParentNode(domNode);if(!container){return domNode.clientHeight;}
var clientHeight=container.clientHeight;var paddingTop=helpers$1._calculatePadding(container,'padding-top',clientHeight);var paddingBottom=helpers$1._calculatePadding(container,'padding-bottom',clientHeight);var h=clientHeight-paddingTop-paddingBottom;var ch=helpers$1.getConstraintHeight(domNode);return isNaN(ch)?h:Math.min(h,ch);};helpers$1.getStyle=function(el,property){return el.currentStyle?el.currentStyle[property]:document.defaultView.getComputedStyle(el,null).getPropertyValue(property);};helpers$1.retinaScale=function(chart,forceRatio){var pixelRatio=chart.currentDevicePixelRatio=forceRatio||(typeof window!=='undefined'&&window.devicePixelRatio)||1;if(pixelRatio===1){return;}
var canvas=chart.canvas;var height=chart.height;var width=chart.width;canvas.height=height*pixelRatio;canvas.width=width*pixelRatio;chart.ctx.scale(pixelRatio,pixelRatio);if(!canvas.style.height&&!canvas.style.width){canvas.style.height=height+'px';canvas.style.width=width+'px';}};helpers$1.fontString=function(pixelSize,fontStyle,fontFamily){return fontStyle+' '+pixelSize+'px '+fontFamily;};helpers$1.longestText=function(ctx,font,arrayOfThings,cache){cache=cache||{};var data=cache.data=cache.data||{};var gc=cache.garbageCollect=cache.garbageCollect||[];if(cache.font!==font){data=cache.data={};gc=cache.garbageCollect=[];cache.font=font;}
ctx.font=font;var longest=0;var ilen=arrayOfThings.length;var i,j,jlen,thing,nestedThing;for(i=0;i<ilen;i++){thing=arrayOfThings[i];if(thing!==undefined&&thing!==null&&helpers$1.isArray(thing)!==true){longest=helpers$1.measureText(ctx,data,gc,longest,thing);}else if(helpers$1.isArray(thing)){for(j=0,jlen=thing.length;j<jlen;j++){nestedThing=thing[j];if(nestedThing!==undefined&&nestedThing!==null&&!helpers$1.isArray(nestedThing)){longest=helpers$1.measureText(ctx,data,gc,longest,nestedThing);}}}}
var gcLen=gc.length / 2;if(gcLen>arrayOfThings.length){for(i=0;i<gcLen;i++){delete data[gc[i]];}
gc.splice(0,gcLen);}
return longest;};helpers$1.measureText=function(ctx,data,gc,longest,string){var textWidth=data[string];if(!textWidth){textWidth=data[string]=ctx.measureText(string).width;gc.push(string);}
if(textWidth>longest){longest=textWidth;}
return longest;};helpers$1.numberOfLabelLines=function(arrayOfThings){var numberOfLines=1;helpers$1.each(arrayOfThings,function(thing){if(helpers$1.isArray(thing)){if(thing.length>numberOfLines){numberOfLines=thing.length;}}});return numberOfLines;};helpers$1.color=!chartjsColor?function(value){console.error('Color.js not found!');return value;}:function(value){if(value instanceof CanvasGradient){value=core_defaults.global.defaultColor;}
return chartjsColor(value);};helpers$1.getHoverColor=function(colorValue){return(colorValue instanceof CanvasPattern||colorValue instanceof CanvasGradient)?colorValue:helpers$1.color(colorValue).saturate(0.5).darken(0.1).rgbString();};};function abstract(){throw new Error('This method is not implemented: either no adapter can '+'be found or an incomplete integration was provided.');}
function DateAdapter(options){this.options=options||{};}
helpers$1.extend(DateAdapter.prototype,{formats:abstract,parse:abstract,format:abstract,add:abstract,diff:abstract,startOf:abstract,endOf:abstract,_create:function(value){return value;}});DateAdapter.override=function(members){helpers$1.extend(DateAdapter.prototype,members);};var _date=DateAdapter;var core_adapters={_date:_date};var core_ticks={formatters:{values:function(value){return helpers$1.isArray(value)?value:''+value;},linear:function(tickValue,index,ticks){var delta=ticks.length>3?ticks[2]-ticks[1]:ticks[1]-ticks[0];if(Math.abs(delta)>1){if(tickValue!==Math.floor(tickValue)){delta=tickValue-Math.floor(tickValue);}}
var logDelta=helpers$1.log10(Math.abs(delta));var tickString='';if(tickValue!==0){var maxTick=Math.max(Math.abs(ticks[0]),Math.abs(ticks[ticks.length-1]));if(maxTick<1e-4){var logTick=helpers$1.log10(Math.abs(tickValue));var numExponential=Math.floor(logTick)-Math.floor(logDelta);numExponential=Math.max(Math.min(numExponential,20),0);tickString=tickValue.toExponential(numExponential);}else{var numDecimal=-1*Math.floor(logDelta);numDecimal=Math.max(Math.min(numDecimal,20),0);tickString=tickValue.toFixed(numDecimal);}}else{tickString='0';}
return tickString;},logarithmic:function(tickValue,index,ticks){var remain=tickValue /(Math.pow(10,Math.floor(helpers$1.log10(tickValue))));if(tickValue===0){return'0';}else if(remain===1||remain===2||remain===5||index===0||index===ticks.length-1){return tickValue.toExponential();}
return'';}}};var isArray=helpers$1.isArray;var isNullOrUndef=helpers$1.isNullOrUndef;var valueOrDefault$a=helpers$1.valueOrDefault;var valueAtIndexOrDefault=helpers$1.valueAtIndexOrDefault;core_defaults._set('scale',{display:true,position:'left',offset:false,gridLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,drawBorder:true,drawOnChartArea:true,drawTicks:true,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:'rgba(0,0,0,0.25)',zeroLineBorderDash:[],zeroLineBorderDashOffset:0.0,offsetGridLines:false,borderDash:[],borderDashOffset:0.0},scaleLabel:{display:false,labelString:'',padding:{top:4,bottom:4}},ticks:{beginAtZero:false,minRotation:0,maxRotation:50,mirror:false,padding:0,reverse:false,display:true,autoSkip:true,autoSkipPadding:0,labelOffset:0,callback:core_ticks.formatters.values,minor:{},major:{}}});function sample(arr,numItems){var result=[];var increment=arr.length / numItems;var i=0;var len=arr.length;for(;i<len;i+=increment){result.push(arr[Math.floor(i)]);}
return result;}
function getPixelForGridLine(scale,index,offsetGridLines){var length=scale.getTicks().length;var validIndex=Math.min(index,length-1);var lineValue=scale.getPixelForTick(validIndex);var start=scale._startPixel;var end=scale._endPixel;var epsilon=1e-6;var offset;if(offsetGridLines){if(length===1){offset=Math.max(lineValue-start,end-lineValue);}else if(index===0){offset=(scale.getPixelForTick(1)-lineValue)/ 2;}else{offset=(lineValue-scale.getPixelForTick(validIndex-1))/ 2;}
lineValue+=validIndex<index?offset:-offset;if(lineValue<start-epsilon||lineValue>end+epsilon){return;}}
return lineValue;}
function garbageCollect(caches,length){helpers$1.each(caches,function(cache){var gc=cache.gc;var gcLen=gc.length / 2;var i;if(gcLen>length){for(i=0;i<gcLen;++i){delete cache.data[gc[i]];}
gc.splice(0,gcLen);}});}
function computeLabelSizes(ctx,tickFonts,ticks,caches){var length=ticks.length;var widths=[];var heights=[];var offsets=[];var widestLabelSize=0;var highestLabelSize=0;var i,j,jlen,label,tickFont,fontString,cache,lineHeight,width,height,nestedLabel,widest,highest;for(i=0;i<length;++i){label=ticks[i].label;tickFont=ticks[i].major?tickFonts.major:tickFonts.minor;ctx.font=fontString=tickFont.string;cache=caches[fontString]=caches[fontString]||{data:{},gc:[]};lineHeight=tickFont.lineHeight;width=height=0;if(!isNullOrUndef(label)&&!isArray(label)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,label);height=lineHeight;}else if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){nestedLabel=label[j];if(!isNullOrUndef(nestedLabel)&&!isArray(nestedLabel)){width=helpers$1.measureText(ctx,cache.data,cache.gc,width,nestedLabel);height+=lineHeight;}}}
widths.push(width);heights.push(height);offsets.push(lineHeight / 2);widestLabelSize=Math.max(width,widestLabelSize);highestLabelSize=Math.max(height,highestLabelSize);}
garbageCollect(caches,length);widest=widths.indexOf(widestLabelSize);highest=heights.indexOf(highestLabelSize);function valueAt(idx){return{width:widths[idx]||0,height:heights[idx]||0,offset:offsets[idx]||0};}
return{first:valueAt(0),last:valueAt(length-1),widest:valueAt(widest),highest:valueAt(highest)};}
function getTickMarkLength(options){return options.drawTicks?options.tickMarkLength:0;}
function getScaleLabelHeight(options){var font,padding;if(!options.display){return 0;}
font=helpers$1.options._parseFont(options);padding=helpers$1.options.toPadding(options.padding);return font.lineHeight+padding.height;}
function parseFontOptions(options,nestedOpts){return helpers$1.extend(helpers$1.options._parseFont({fontFamily:valueOrDefault$a(nestedOpts.fontFamily,options.fontFamily),fontSize:valueOrDefault$a(nestedOpts.fontSize,options.fontSize),fontStyle:valueOrDefault$a(nestedOpts.fontStyle,options.fontStyle),lineHeight:valueOrDefault$a(nestedOpts.lineHeight,options.lineHeight)}),{color:helpers$1.options.resolve([nestedOpts.fontColor,options.fontColor,core_defaults.global.defaultFontColor])});}
function parseTickFontOptions(options){var minor=parseFontOptions(options,options.minor);var major=options.major.enabled?parseFontOptions(options,options.major):minor;return{minor:minor,major:major};}
function nonSkipped(ticksToFilter){var filtered=[];var item,index,len;for(index=0,len=ticksToFilter.length;index<len;++index){item=ticksToFilter[index];if(typeof item._index!=='undefined'){filtered.push(item);}}
return filtered;}
function getEvenSpacing(arr){var len=arr.length;var i,diff;if(len<2){return false;}
for(diff=arr[0],i=1;i<len;++i){if(arr[i]-arr[i-1]!==diff){return false;}}
return diff;}
function calculateSpacing(majorIndices,ticks,axisLength,ticksLimit){var evenMajorSpacing=getEvenSpacing(majorIndices);var spacing=(ticks.length-1)/ ticksLimit;var factors,factor,i,ilen;if(!evenMajorSpacing){return Math.max(spacing,1);}
factors=helpers$1.math._factorize(evenMajorSpacing);for(i=0,ilen=factors.length-1;i<ilen;i++){factor=factors[i];if(factor>spacing){return factor;}}
return Math.max(spacing,1);}
function getMajorIndices(ticks){var result=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;i++){if(ticks[i].major){result.push(i);}}
return result;}
function skipMajors(ticks,majorIndices,spacing){var count=0;var next=majorIndices[0];var i,tick;spacing=Math.ceil(spacing);for(i=0;i<ticks.length;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=majorIndices[count*spacing];}else{delete tick.label;}}}
function skip(ticks,spacing,majorStart,majorEnd){var start=valueOrDefault$a(majorStart,0);var end=Math.min(valueOrDefault$a(majorEnd,ticks.length),ticks.length);var count=0;var length,i,tick,next;spacing=Math.ceil(spacing);if(majorEnd){length=majorEnd-majorStart;spacing=length / Math.floor(length / spacing);}
next=start;while(next<0){count++;next=Math.round(start+count*spacing);}
for(i=Math.max(start,0);i<end;i++){tick=ticks[i];if(i===next){tick._index=i;count++;next=Math.round(start+count*spacing);}else{delete tick.label;}}}
var Scale=core_element.extend({zeroLineIndex:0,getPadding:function(){var me=this;return{left:me.paddingLeft||0,top:me.paddingTop||0,right:me.paddingRight||0,bottom:me.paddingBottom||0};},getTicks:function(){return this._ticks;},_getLabels:function(){var data=this.chart.data;return this.options.labels||(this.isHorizontal()?data.xLabels:data.yLabels)||data.labels||[];},mergeTicksOptions:function(){},beforeUpdate:function(){helpers$1.callback(this.options.beforeUpdate,[this]);},update:function(maxWidth,maxHeight,margins){var me=this;var tickOpts=me.options.ticks;var sampleSize=tickOpts.sampleSize;var i,ilen,labels,ticks,samplingEnabled;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=helpers$1.extend({left:0,right:0,top:0,bottom:0},margins);me._ticks=null;me.ticks=null;me._labelSizes=null;me._maxLabelLines=0;me.longestLabelWidth=0;me.longestTextCache=me.longestTextCache||{};me._gridLineItems=null;me._labelItems=null;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeDataLimits();me.determineDataLimits();me.afterDataLimits();me.beforeBuildTicks();ticks=me.buildTicks()||[];ticks=me.afterBuildTicks(ticks)||ticks;if((!ticks||!ticks.length)&&me.ticks){ticks=[];for(i=0,ilen=me.ticks.length;i<ilen;++i){ticks.push({value:me.ticks[i],major:false});}}
me._ticks=ticks;samplingEnabled=sampleSize<ticks.length;labels=me._convertTicksToLabels(samplingEnabled?sample(ticks,sampleSize):ticks);me._configure();me.beforeCalculateTickRotation();me.calculateTickRotation();me.afterCalculateTickRotation();me.beforeFit();me.fit();me.afterFit();me._ticksToDraw=tickOpts.display&&(tickOpts.autoSkip||tickOpts.source==='auto')?me._autoSkip(ticks):ticks;if(samplingEnabled){labels=me._convertTicksToLabels(me._ticksToDraw);}
me.ticks=labels;me.afterUpdate();return me.minSize;},_configure:function(){var me=this;var reversePixels=me.options.ticks.reverse;var startPixel,endPixel;if(me.isHorizontal()){startPixel=me.left;endPixel=me.right;}else{startPixel=me.top;endPixel=me.bottom;reversePixels=!reversePixels;}
me._startPixel=startPixel;me._endPixel=endPixel;me._reversePixels=reversePixels;me._length=endPixel-startPixel;},afterUpdate:function(){helpers$1.callback(this.options.afterUpdate,[this]);},beforeSetDimensions:function(){helpers$1.callback(this.options.beforeSetDimensions,[this]);},setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;},afterSetDimensions:function(){helpers$1.callback(this.options.afterSetDimensions,[this]);},beforeDataLimits:function(){helpers$1.callback(this.options.beforeDataLimits,[this]);},determineDataLimits:helpers$1.noop,afterDataLimits:function(){helpers$1.callback(this.options.afterDataLimits,[this]);},beforeBuildTicks:function(){helpers$1.callback(this.options.beforeBuildTicks,[this]);},buildTicks:helpers$1.noop,afterBuildTicks:function(ticks){var me=this;if(isArray(ticks)&&ticks.length){return helpers$1.callback(me.options.afterBuildTicks,[me,ticks]);}
me.ticks=helpers$1.callback(me.options.afterBuildTicks,[me,me.ticks])||me.ticks;return ticks;},beforeTickToLabelConversion:function(){helpers$1.callback(this.options.beforeTickToLabelConversion,[this]);},convertTicksToLabels:function(){var me=this;var tickOpts=me.options.ticks;me.ticks=me.ticks.map(tickOpts.userCallback||tickOpts.callback,this);},afterTickToLabelConversion:function(){helpers$1.callback(this.options.afterTickToLabelConversion,[this]);},beforeCalculateTickRotation:function(){helpers$1.callback(this.options.beforeCalculateTickRotation,[this]);},calculateTickRotation:function(){var me=this;var options=me.options;var tickOpts=options.ticks;var numTicks=me.getTicks().length;var minRotation=tickOpts.minRotation||0;var maxRotation=tickOpts.maxRotation;var labelRotation=minRotation;var labelSizes,maxLabelWidth,maxLabelHeight,maxWidth,tickWidth,maxHeight,maxLabelDiagonal;if(!me._isVisible()||!tickOpts.display||minRotation>=maxRotation||numTicks<=1||!me.isHorizontal()){me.labelRotation=minRotation;return;}
labelSizes=me._getLabelSizes();maxLabelWidth=labelSizes.widest.width;maxLabelHeight=labelSizes.highest.height-labelSizes.highest.offset;maxWidth=Math.min(me.maxWidth,me.chart.width-maxLabelWidth);tickWidth=options.offset?me.maxWidth / numTicks:maxWidth /(numTicks-1);if(maxLabelWidth+6>tickWidth){tickWidth=maxWidth /(numTicks-(options.offset?0.5:1));maxHeight=me.maxHeight-getTickMarkLength(options.gridLines)
-tickOpts.padding-getScaleLabelHeight(options.scaleLabel);maxLabelDiagonal=Math.sqrt(maxLabelWidth*maxLabelWidth+maxLabelHeight*maxLabelHeight);labelRotation=helpers$1.toDegrees(Math.min(Math.asin(Math.min((labelSizes.highest.height+6)/ tickWidth,1)),Math.asin(Math.min(maxHeight / maxLabelDiagonal,1))-Math.asin(maxLabelHeight / maxLabelDiagonal)));labelRotation=Math.max(minRotation,Math.min(maxRotation,labelRotation));}
me.labelRotation=labelRotation;},afterCalculateTickRotation:function(){helpers$1.callback(this.options.afterCalculateTickRotation,[this]);},beforeFit:function(){helpers$1.callback(this.options.beforeFit,[this]);},fit:function(){var me=this;var minSize=me.minSize={width:0,height:0};var chart=me.chart;var opts=me.options;var tickOpts=opts.ticks;var scaleLabelOpts=opts.scaleLabel;var gridLineOpts=opts.gridLines;var display=me._isVisible();var isBottom=opts.position==='bottom';var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;}else if(display){minSize.width=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(!isHorizontal){minSize.height=me.maxHeight;}else if(display){minSize.height=getTickMarkLength(gridLineOpts)+getScaleLabelHeight(scaleLabelOpts);}
if(tickOpts.display&&display){var tickFonts=parseTickFontOptions(tickOpts);var labelSizes=me._getLabelSizes();var firstLabelSize=labelSizes.first;var lastLabelSize=labelSizes.last;var widestLabelSize=labelSizes.widest;var highestLabelSize=labelSizes.highest;var lineSpace=tickFonts.minor.lineHeight*0.4;var tickPadding=tickOpts.padding;if(isHorizontal){var isRotated=me.labelRotation!==0;var angleRadians=helpers$1.toRadians(me.labelRotation);var cosRotation=Math.cos(angleRadians);var sinRotation=Math.sin(angleRadians);var labelHeight=sinRotation*widestLabelSize.width
+cosRotation*(highestLabelSize.height-(isRotated?highestLabelSize.offset:0))
+(isRotated?0:lineSpace);minSize.height=Math.min(me.maxHeight,minSize.height+labelHeight+tickPadding);var offsetLeft=me.getPixelForTick(0)-me.left;var offsetRight=me.right-me.getPixelForTick(me.getTicks().length-1);var paddingLeft,paddingRight;if(isRotated){paddingLeft=isBottom?cosRotation*firstLabelSize.width+sinRotation*firstLabelSize.offset:sinRotation*(firstLabelSize.height-firstLabelSize.offset);paddingRight=isBottom?sinRotation*(lastLabelSize.height-lastLabelSize.offset):cosRotation*lastLabelSize.width+sinRotation*lastLabelSize.offset;}else{paddingLeft=firstLabelSize.width / 2;paddingRight=lastLabelSize.width / 2;}
me.paddingLeft=Math.max((paddingLeft-offsetLeft)*me.width /(me.width-offsetLeft),0)+3;me.paddingRight=Math.max((paddingRight-offsetRight)*me.width /(me.width-offsetRight),0)+3;}else{var labelWidth=tickOpts.mirror?0:widestLabelSize.width+tickPadding+lineSpace;minSize.width=Math.min(me.maxWidth,minSize.width+labelWidth);me.paddingTop=firstLabelSize.height / 2;me.paddingBottom=lastLabelSize.height / 2;}}
me.handleMargins();if(isHorizontal){me.width=me._length=chart.width-me.margins.left-me.margins.right;me.height=minSize.height;}else{me.width=minSize.width;me.height=me._length=chart.height-me.margins.top-me.margins.bottom;}},handleMargins:function(){var me=this;if(me.margins){me.margins.left=Math.max(me.paddingLeft,me.margins.left);me.margins.top=Math.max(me.paddingTop,me.margins.top);me.margins.right=Math.max(me.paddingRight,me.margins.right);me.margins.bottom=Math.max(me.paddingBottom,me.margins.bottom);}},afterFit:function(){helpers$1.callback(this.options.afterFit,[this]);},isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},isFullWidth:function(){return this.options.fullWidth;},getRightValue:function(rawValue){if(isNullOrUndef(rawValue)){return NaN;}
if((typeof rawValue==='number'||rawValue instanceof Number)&&!isFinite(rawValue)){return NaN;}
if(rawValue){if(this.isHorizontal()){if(rawValue.x!==undefined){return this.getRightValue(rawValue.x);}}else if(rawValue.y!==undefined){return this.getRightValue(rawValue.y);}}
return rawValue;},_convertTicksToLabels:function(ticks){var me=this;var labels,i,ilen;me.ticks=ticks.map(function(tick){return tick.value;});me.beforeTickToLabelConversion();labels=me.convertTicksToLabels(ticks)||me.ticks;me.afterTickToLabelConversion();for(i=0,ilen=ticks.length;i<ilen;++i){ticks[i].label=labels[i];}
return labels;},_getLabelSizes:function(){var me=this;var labelSizes=me._labelSizes;if(!labelSizes){me._labelSizes=labelSizes=computeLabelSizes(me.ctx,parseTickFontOptions(me.options.ticks),me.getTicks(),me.longestTextCache);me.longestLabelWidth=labelSizes.widest.width;}
return labelSizes;},_parseValue:function(value){var start,end,min,max;if(isArray(value)){start=+this.getRightValue(value[0]);end=+this.getRightValue(value[1]);min=Math.min(start,end);max=Math.max(start,end);}else{value=+this.getRightValue(value);start=undefined;end=value;min=value;max=value;}
return{min:min,max:max,start:start,end:end};},_getScaleLabel:function(rawValue){var v=this._parseValue(rawValue);if(v.start!==undefined){return'['+v.start+', '+v.end+']';}
return+this.getRightValue(rawValue);},getLabelForIndex:helpers$1.noop,getPixelForValue:helpers$1.noop,getValueForPixel:helpers$1.noop,getPixelForTick:function(index){var me=this;var offset=me.options.offset;var numTicks=me._ticks.length;var tickWidth=1 / Math.max(numTicks-(offset?0:1),1);return index<0||index>numTicks-1?null:me.getPixelForDecimal(index*tickWidth+(offset?tickWidth / 2:0));},getPixelForDecimal:function(decimal){var me=this;if(me._reversePixels){decimal=1-decimal;}
return me._startPixel+decimal*me._length;},getDecimalForPixel:function(pixel){var decimal=(pixel-this._startPixel)/ this._length;return this._reversePixels?1-decimal:decimal;},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue());},getBaseValue:function(){var me=this;var min=me.min;var max=me.max;return me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0;},_autoSkip:function(ticks){var me=this;var tickOpts=me.options.ticks;var axisLength=me._length;var ticksLimit=tickOpts.maxTicksLimit||axisLength / me._tickSize()+1;var majorIndices=tickOpts.major.enabled?getMajorIndices(ticks):[];var numMajorIndices=majorIndices.length;var first=majorIndices[0];var last=majorIndices[numMajorIndices-1];var i,ilen,spacing,avgMajorSpacing;if(numMajorIndices>ticksLimit){skipMajors(ticks,majorIndices,numMajorIndices / ticksLimit);return nonSkipped(ticks);}
spacing=calculateSpacing(majorIndices,ticks,axisLength,ticksLimit);if(numMajorIndices>0){for(i=0,ilen=numMajorIndices-1;i<ilen;i++){skip(ticks,spacing,majorIndices[i],majorIndices[i+1]);}
avgMajorSpacing=numMajorIndices>1?(last-first)/(numMajorIndices-1):null;skip(ticks,spacing,helpers$1.isNullOrUndef(avgMajorSpacing)?0:first-avgMajorSpacing,first);skip(ticks,spacing,last,helpers$1.isNullOrUndef(avgMajorSpacing)?ticks.length:last+avgMajorSpacing);return nonSkipped(ticks);}
skip(ticks,spacing);return nonSkipped(ticks);},_tickSize:function(){var me=this;var optionTicks=me.options.ticks;var rot=helpers$1.toRadians(me.labelRotation);var cos=Math.abs(Math.cos(rot));var sin=Math.abs(Math.sin(rot));var labelSizes=me._getLabelSizes();var padding=optionTicks.autoSkipPadding||0;var w=labelSizes?labelSizes.widest.width+padding:0;var h=labelSizes?labelSizes.highest.height+padding:0;return me.isHorizontal()?h*cos>w*sin?w / cos:h / sin:h*sin<w*cos?h / cos:w / sin;},_isVisible:function(){var me=this;var chart=me.chart;var display=me.options.display;var i,ilen,meta;if(display!=='auto'){return!!display;}
for(i=0,ilen=chart.data.datasets.length;i<ilen;++i){if(chart.isDatasetVisible(i)){meta=chart.getDatasetMeta(i);if(meta.xAxisID===me.id||meta.yAxisID===me.id){return true;}}}
return false;},_computeGridLineItems:function(chartArea){var me=this;var chart=me.chart;var options=me.options;var gridLines=options.gridLines;var position=options.position;var offsetGridLines=gridLines.offsetGridLines;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var ticksLength=ticks.length+(offsetGridLines?1:0);var tl=getTickMarkLength(gridLines);var items=[];var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var axisHalfWidth=axisWidth / 2;var alignPixel=helpers$1._alignPixel;var alignBorderValue=function(pixel){return alignPixel(chart,pixel,axisWidth);};var borderValue,i,tick,lineValue,alignedLineValue;var tx1,ty1,tx2,ty2,x1,y1,x2,y2,lineWidth,lineColor,borderDash,borderDashOffset;if(position==='top'){borderValue=alignBorderValue(me.bottom);ty1=me.bottom-tl;ty2=borderValue-axisHalfWidth;y1=alignBorderValue(chartArea.top)+axisHalfWidth;y2=chartArea.bottom;}else if(position==='bottom'){borderValue=alignBorderValue(me.top);y1=chartArea.top;y2=alignBorderValue(chartArea.bottom)-axisHalfWidth;ty1=borderValue+axisHalfWidth;ty2=me.top+tl;}else if(position==='left'){borderValue=alignBorderValue(me.right);tx1=me.right-tl;tx2=borderValue-axisHalfWidth;x1=alignBorderValue(chartArea.left)+axisHalfWidth;x2=chartArea.right;}else{borderValue=alignBorderValue(me.left);x1=chartArea.left;x2=alignBorderValue(chartArea.right)-axisHalfWidth;tx1=borderValue+axisHalfWidth;tx2=me.left+tl;}
for(i=0;i<ticksLength;++i){tick=ticks[i]||{};if(isNullOrUndef(tick.label)&&i<ticks.length){continue;}
if(i===me.zeroLineIndex&&options.offset===offsetGridLines){lineWidth=gridLines.zeroLineWidth;lineColor=gridLines.zeroLineColor;borderDash=gridLines.zeroLineBorderDash||[];borderDashOffset=gridLines.zeroLineBorderDashOffset||0.0;}else{lineWidth=valueAtIndexOrDefault(gridLines.lineWidth,i,1);lineColor=valueAtIndexOrDefault(gridLines.color,i,'rgba(0,0,0,0.1)');borderDash=gridLines.borderDash||[];borderDashOffset=gridLines.borderDashOffset||0.0;}
lineValue=getPixelForGridLine(me,tick._index||i,offsetGridLines);if(lineValue===undefined){continue;}
alignedLineValue=alignPixel(chart,lineValue,lineWidth);if(isHorizontal){tx1=tx2=x1=x2=alignedLineValue;}else{ty1=ty2=y1=y2=alignedLineValue;}
items.push({tx1:tx1,ty1:ty1,tx2:tx2,ty2:ty2,x1:x1,y1:y1,x2:x2,y2:y2,width:lineWidth,color:lineColor,borderDash:borderDash,borderDashOffset:borderDashOffset,});}
items.ticksLength=ticksLength;items.borderValue=borderValue;return items;},_computeLabelItems:function(){var me=this;var options=me.options;var optionTicks=options.ticks;var position=options.position;var isMirrored=optionTicks.mirror;var isHorizontal=me.isHorizontal();var ticks=me._ticksToDraw;var fonts=parseTickFontOptions(optionTicks);var tickPadding=optionTicks.padding;var tl=getTickMarkLength(options.gridLines);var rotation=-helpers$1.toRadians(me.labelRotation);var items=[];var i,ilen,tick,label,x,y,textAlign,pixel,font,lineHeight,lineCount,textOffset;if(position==='top'){y=me.bottom-tl-tickPadding;textAlign=!rotation?'center':'left';}else if(position==='bottom'){y=me.top+tl+tickPadding;textAlign=!rotation?'center':'right';}else if(position==='left'){x=me.right-(isMirrored?0:tl)-tickPadding;textAlign=isMirrored?'left':'right';}else{x=me.left+(isMirrored?0:tl)+tickPadding;textAlign=isMirrored?'right':'left';}
for(i=0,ilen=ticks.length;i<ilen;++i){tick=ticks[i];label=tick.label;if(isNullOrUndef(label)){continue;}
pixel=me.getPixelForTick(tick._index||i)+optionTicks.labelOffset;font=tick.major?fonts.major:fonts.minor;lineHeight=font.lineHeight;lineCount=isArray(label)?label.length:1;if(isHorizontal){x=pixel;textOffset=position==='top'?((!rotation?0.5:1)-lineCount)*lineHeight:(!rotation?0.5:0)*lineHeight;}else{y=pixel;textOffset=(1-lineCount)*lineHeight / 2;}
items.push({x:x,y:y,rotation:rotation,label:label,font:font,textOffset:textOffset,textAlign:textAlign});}
return items;},_drawGrid:function(chartArea){var me=this;var gridLines=me.options.gridLines;if(!gridLines.display){return;}
var ctx=me.ctx;var chart=me.chart;var alignPixel=helpers$1._alignPixel;var axisWidth=gridLines.drawBorder?valueAtIndexOrDefault(gridLines.lineWidth,0,0):0;var items=me._gridLineItems||(me._gridLineItems=me._computeGridLineItems(chartArea));var width,color,i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];width=item.width;color=item.color;if(width&&color){ctx.save();ctx.lineWidth=width;ctx.strokeStyle=color;if(ctx.setLineDash){ctx.setLineDash(item.borderDash);ctx.lineDashOffset=item.borderDashOffset;}
ctx.beginPath();if(gridLines.drawTicks){ctx.moveTo(item.tx1,item.ty1);ctx.lineTo(item.tx2,item.ty2);}
if(gridLines.drawOnChartArea){ctx.moveTo(item.x1,item.y1);ctx.lineTo(item.x2,item.y2);}
ctx.stroke();ctx.restore();}}
if(axisWidth){var firstLineWidth=axisWidth;var lastLineWidth=valueAtIndexOrDefault(gridLines.lineWidth,items.ticksLength-1,1);var borderValue=items.borderValue;var x1,x2,y1,y2;if(me.isHorizontal()){x1=alignPixel(chart,me.left,firstLineWidth)-firstLineWidth / 2;x2=alignPixel(chart,me.right,lastLineWidth)+lastLineWidth / 2;y1=y2=borderValue;}else{y1=alignPixel(chart,me.top,firstLineWidth)-firstLineWidth / 2;y2=alignPixel(chart,me.bottom,lastLineWidth)+lastLineWidth / 2;x1=x2=borderValue;}
ctx.lineWidth=axisWidth;ctx.strokeStyle=valueAtIndexOrDefault(gridLines.color,0);ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();}},_drawLabels:function(){var me=this;var optionTicks=me.options.ticks;if(!optionTicks.display){return;}
var ctx=me.ctx;var items=me._labelItems||(me._labelItems=me._computeLabelItems());var i,j,ilen,jlen,item,tickFont,label,y;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];tickFont=item.font;ctx.save();ctx.translate(item.x,item.y);ctx.rotate(item.rotation);ctx.font=tickFont.string;ctx.fillStyle=tickFont.color;ctx.textBaseline='middle';ctx.textAlign=item.textAlign;label=item.label;y=item.textOffset;if(isArray(label)){for(j=0,jlen=label.length;j<jlen;++j){ctx.fillText(''+label[j],0,y);y+=tickFont.lineHeight;}}else{ctx.fillText(label,0,y);}
ctx.restore();}},_drawTitle:function(){var me=this;var ctx=me.ctx;var options=me.options;var scaleLabel=options.scaleLabel;if(!scaleLabel.display){return;}
var scaleLabelFontColor=valueOrDefault$a(scaleLabel.fontColor,core_defaults.global.defaultFontColor);var scaleLabelFont=helpers$1.options._parseFont(scaleLabel);var scaleLabelPadding=helpers$1.options.toPadding(scaleLabel.padding);var halfLineHeight=scaleLabelFont.lineHeight / 2;var position=options.position;var rotation=0;var scaleLabelX,scaleLabelY;if(me.isHorizontal()){scaleLabelX=me.left+me.width / 2;scaleLabelY=position==='bottom'?me.bottom-halfLineHeight-scaleLabelPadding.bottom:me.top+halfLineHeight+scaleLabelPadding.top;}else{var isLeft=position==='left';scaleLabelX=isLeft?me.left+halfLineHeight+scaleLabelPadding.top:me.right-halfLineHeight-scaleLabelPadding.top;scaleLabelY=me.top+me.height / 2;rotation=isLeft?-0.5*Math.PI:0.5*Math.PI;}
ctx.save();ctx.translate(scaleLabelX,scaleLabelY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';ctx.fillStyle=scaleLabelFontColor;ctx.font=scaleLabelFont.string;ctx.fillText(scaleLabel.labelString,0,0);ctx.restore();},draw:function(chartArea){var me=this;if(!me._isVisible()){return;}
me._drawGrid(chartArea);me._drawTitle();me._drawLabels();},_layers:function(){var me=this;var opts=me.options;var tz=opts.ticks&&opts.ticks.z||0;var gz=opts.gridLines&&opts.gridLines.z||0;if(!me._isVisible()||tz===gz||me.draw!==me._draw){return[{z:tz,draw:function(){me.draw.apply(me,arguments);}}];}
return[{z:gz,draw:function(){me._drawGrid.apply(me,arguments);me._drawTitle.apply(me,arguments);}},{z:tz,draw:function(){me._drawLabels.apply(me,arguments);}}];},_getMatchingVisibleMetas:function(type){var me=this;var isHorizontal=me.isHorizontal();return me.chart._getSortedVisibleDatasetMetas().filter(function(meta){return(!type||meta.type===type)&&(isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id);});}});Scale.prototype._draw=Scale.prototype.draw;var core_scale=Scale;var isNullOrUndef$1=helpers$1.isNullOrUndef;var defaultConfig={position:'bottom'};var scale_category=core_scale.extend({determineDataLimits:function(){var me=this;var labels=me._getLabels();var ticksOpts=me.options.ticks;var min=ticksOpts.min;var max=ticksOpts.max;var minIndex=0;var maxIndex=labels.length-1;var findIndex;if(min!==undefined){findIndex=labels.indexOf(min);if(findIndex>=0){minIndex=findIndex;}}
if(max!==undefined){findIndex=labels.indexOf(max);if(findIndex>=0){maxIndex=findIndex;}}
me.minIndex=minIndex;me.maxIndex=maxIndex;me.min=labels[minIndex];me.max=labels[maxIndex];},buildTicks:function(){var me=this;var labels=me._getLabels();var minIndex=me.minIndex;var maxIndex=me.maxIndex;me.ticks=(minIndex===0&&maxIndex===labels.length-1)?labels:labels.slice(minIndex,maxIndex+1);},getLabelForIndex:function(index,datasetIndex){var me=this;var chart=me.chart;if(chart.getDatasetMeta(datasetIndex).controller._getValueScaleId()===me.id){return me.getRightValue(chart.data.datasets[datasetIndex].data[index]);}
return me._getLabels()[index];},_configure:function(){var me=this;var offset=me.options.offset;var ticks=me.ticks;core_scale.prototype._configure.call(me);if(!me.isHorizontal()){me._reversePixels=!me._reversePixels;}
if(!ticks){return;}
me._startValue=me.minIndex-(offset?0.5:0);me._valueRange=Math.max(ticks.length-(offset?0:1),1);},getPixelForValue:function(value,index,datasetIndex){var me=this;var valueCategory,labels,idx;if(!isNullOrUndef$1(index)&&!isNullOrUndef$1(datasetIndex)){value=me.chart.data.datasets[datasetIndex].data[index];}
if(!isNullOrUndef$1(value)){valueCategory=me.isHorizontal()?value.x:value.y;}
if(valueCategory!==undefined||(value!==undefined&&isNaN(index))){labels=me._getLabels();value=helpers$1.valueOrDefault(valueCategory,value);idx=labels.indexOf(value);index=idx!==-1?idx:index;if(isNaN(index)){index=value;}}
return me.getPixelForDecimal((index-me._startValue)/ me._valueRange);},getPixelForTick:function(index){var ticks=this.ticks;return index<0||index>ticks.length-1?null:this.getPixelForValue(ticks[index],index+this.minIndex);},getValueForPixel:function(pixel){var me=this;var value=Math.round(me._startValue+me.getDecimalForPixel(pixel)*me._valueRange);return Math.min(Math.max(value,0),me.ticks.length-1);},getBasePixel:function(){return this.bottom;}});var _defaults=defaultConfig;scale_category._defaults=_defaults;var noop=helpers$1.noop;var isNullOrUndef$2=helpers$1.isNullOrUndef;function generateTicks(generationOptions,dataRange){var ticks=[];var MIN_SPACING=1e-14;var stepSize=generationOptions.stepSize;var unit=stepSize||1;var maxNumSpaces=generationOptions.maxTicks-1;var min=generationOptions.min;var max=generationOptions.max;var precision=generationOptions.precision;var rmin=dataRange.min;var rmax=dataRange.max;var spacing=helpers$1.niceNum((rmax-rmin)/ maxNumSpaces / unit)*unit;var factor,niceMin,niceMax,numSpaces;if(spacing<MIN_SPACING&&isNullOrUndef$2(min)&&isNullOrUndef$2(max)){return[rmin,rmax];}
numSpaces=Math.ceil(rmax / spacing)-Math.floor(rmin / spacing);if(numSpaces>maxNumSpaces){spacing=helpers$1.niceNum(numSpaces*spacing / maxNumSpaces / unit)*unit;}
if(stepSize||isNullOrUndef$2(precision)){factor=Math.pow(10,helpers$1._decimalPlaces(spacing));}else{factor=Math.pow(10,precision);spacing=Math.ceil(spacing*factor)/ factor;}
niceMin=Math.floor(rmin / spacing)*spacing;niceMax=Math.ceil(rmax / spacing)*spacing;if(stepSize){if(!isNullOrUndef$2(min)&&helpers$1.almostWhole(min / spacing,spacing / 1000)){niceMin=min;}
if(!isNullOrUndef$2(max)&&helpers$1.almostWhole(max / spacing,spacing / 1000)){niceMax=max;}}
numSpaces=(niceMax-niceMin)/ spacing;if(helpers$1.almostEquals(numSpaces,Math.round(numSpaces),spacing / 1000)){numSpaces=Math.round(numSpaces);}else{numSpaces=Math.ceil(numSpaces);}
niceMin=Math.round(niceMin*factor)/ factor;niceMax=Math.round(niceMax*factor)/ factor;ticks.push(isNullOrUndef$2(min)?niceMin:min);for(var j=1;j<numSpaces;++j){ticks.push(Math.round((niceMin+j*spacing)*factor)/ factor);}
ticks.push(isNullOrUndef$2(max)?niceMax:max);return ticks;}
var scale_linearbase=core_scale.extend({getRightValue:function(value){if(typeof value==='string'){return+value;}
return core_scale.prototype.getRightValue.call(this,value);},handleTickRangeOptions:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;if(tickOpts.beginAtZero){var minSign=helpers$1.sign(me.min);var maxSign=helpers$1.sign(me.max);if(minSign<0&&maxSign<0){me.max=0;}else if(minSign>0&&maxSign>0){me.min=0;}}
var setMin=tickOpts.min!==undefined||tickOpts.suggestedMin!==undefined;var setMax=tickOpts.max!==undefined||tickOpts.suggestedMax!==undefined;if(tickOpts.min!==undefined){me.min=tickOpts.min;}else if(tickOpts.suggestedMin!==undefined){if(me.min===null){me.min=tickOpts.suggestedMin;}else{me.min=Math.min(me.min,tickOpts.suggestedMin);}}
if(tickOpts.max!==undefined){me.max=tickOpts.max;}else if(tickOpts.suggestedMax!==undefined){if(me.max===null){me.max=tickOpts.suggestedMax;}else{me.max=Math.max(me.max,tickOpts.suggestedMax);}}
if(setMin!==setMax){if(me.min>=me.max){if(setMin){me.max=me.min+1;}else{me.min=me.max-1;}}}
if(me.min===me.max){me.max++;if(!tickOpts.beginAtZero){me.min--;}}},getTickLimit:function(){var me=this;var tickOpts=me.options.ticks;var stepSize=tickOpts.stepSize;var maxTicksLimit=tickOpts.maxTicksLimit;var maxTicks;if(stepSize){maxTicks=Math.ceil(me.max / stepSize)-Math.floor(me.min / stepSize)+1;}else{maxTicks=me._computeTickLimit();maxTicksLimit=maxTicksLimit||11;}
if(maxTicksLimit){maxTicks=Math.min(maxTicksLimit,maxTicks);}
return maxTicks;},_computeTickLimit:function(){return Number.POSITIVE_INFINITY;},handleDirectionalChanges:noop,buildTicks:function(){var me=this;var opts=me.options;var tickOpts=opts.ticks;var maxTicks=me.getTickLimit();maxTicks=Math.max(2,maxTicks);var numericGeneratorOptions={maxTicks:maxTicks,min:tickOpts.min,max:tickOpts.max,precision:tickOpts.precision,stepSize:helpers$1.valueOrDefault(tickOpts.fixedStepSize,tickOpts.stepSize)};var ticks=me.ticks=generateTicks(numericGeneratorOptions,me);me.handleDirectionalChanges();me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){ticks.reverse();me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}},convertTicksToLabels:function(){var me=this;me.ticksAsNumbers=me.ticks.slice();me.zeroLineIndex=me.ticks.indexOf(0);core_scale.prototype.convertTicksToLabels.call(me);},_configure:function(){var me=this;var ticks=me.getTicks();var start=me.min;var end=me.max;var offset;core_scale.prototype._configure.call(me);if(me.options.offset&&ticks.length){offset=(end-start)/ Math.max(ticks.length-1,1)/ 2;start-=offset;end+=offset;}
me._startValue=start;me._endValue=end;me._valueRange=end-start;}});var defaultConfig$1={position:'left',ticks:{callback:core_ticks.formatters.linear}};var DEFAULT_MIN=0;var DEFAULT_MAX=1;function getOrCreateStack(stacks,stacked,meta){var key=[meta.type,stacked===undefined&&meta.stack===undefined?meta.index:'',meta.stack].join('.');if(stacks[key]===undefined){stacks[key]={pos:[],neg:[]};}
return stacks[key];}
function stackData(scale,stacks,meta,data){var opts=scale.options;var stacked=opts.stacked;var stack=getOrCreateStack(stacks,stacked,meta);var pos=stack.pos;var neg=stack.neg;var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
pos[i]=pos[i]||0;neg[i]=neg[i]||0;if(opts.relativePoints){pos[i]=100;}else if(value.min<0||value.max<0){neg[i]+=value.min;}else{pos[i]+=value.max;}}}
function updateMinMax(scale,meta,data){var ilen=data.length;var i,value;for(i=0;i<ilen;++i){value=scale._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden){continue;}
scale.min=Math.min(scale.min,value.min);scale.max=Math.max(scale.max,value.max);}}
var scale_linear=scale_linearbase.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var metasets=me._getMatchingVisibleMetas();var hasStacks=opts.stacked;var stacks={};var ilen=metasets.length;var i,meta,data,values;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;if(hasStacks===undefined){for(i=0;!hasStacks&&i<ilen;++i){meta=metasets[i];hasStacks=meta.stack!==undefined;}}
for(i=0;i<ilen;++i){meta=metasets[i];data=datasets[meta.index].data;if(hasStacks){stackData(me,stacks,meta,data);}else{updateMinMax(me,meta,data);}}
helpers$1.each(stacks,function(stackValues){values=stackValues.pos.concat(stackValues.neg);me.min=Math.min(me.min,helpers$1.min(values));me.max=Math.max(me.max,helpers$1.max(values));});me.min=helpers$1.isFinite(me.min)&&!isNaN(me.min)?me.min:DEFAULT_MIN;me.max=helpers$1.isFinite(me.max)&&!isNaN(me.max)?me.max:DEFAULT_MAX;me.handleTickRangeOptions();},_computeTickLimit:function(){var me=this;var tickFont;if(me.isHorizontal()){return Math.ceil(me.width / 40);}
tickFont=helpers$1.options._parseFont(me.options.ticks);return Math.ceil(me.height / tickFont.lineHeight);},handleDirectionalChanges:function(){if(!this.isHorizontal()){this.ticks.reverse();}},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForValue:function(value){var me=this;return me.getPixelForDecimal((+me.getRightValue(value)-me._startValue)/ me._valueRange);},getValueForPixel:function(pixel){return this._startValue+this.getDecimalForPixel(pixel)*this._valueRange;},getPixelForTick:function(index){var ticks=this.ticksAsNumbers;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);}});var _defaults$1=defaultConfig$1;scale_linear._defaults=_defaults$1;var valueOrDefault$b=helpers$1.valueOrDefault;var log10=helpers$1.math.log10;function generateTicks$1(generationOptions,dataRange){var ticks=[];var tickVal=valueOrDefault$b(generationOptions.min,Math.pow(10,Math.floor(log10(dataRange.min))));var endExp=Math.floor(log10(dataRange.max));var endSignificand=Math.ceil(dataRange.max / Math.pow(10,endExp));var exp,significand;if(tickVal===0){exp=Math.floor(log10(dataRange.minNotZero));significand=Math.floor(dataRange.minNotZero / Math.pow(10,exp));ticks.push(tickVal);tickVal=significand*Math.pow(10,exp);}else{exp=Math.floor(log10(tickVal));significand=Math.floor(tickVal / Math.pow(10,exp));}
var precision=exp<0?Math.pow(10,Math.abs(exp)):1;do{ticks.push(tickVal);++significand;if(significand===10){significand=1;++exp;precision=exp>=0?1:precision;}
tickVal=Math.round(significand*Math.pow(10,exp)*precision)/ precision;}while(exp<endExp||(exp===endExp&&significand<endSignificand));var lastTick=valueOrDefault$b(generationOptions.max,tickVal);ticks.push(lastTick);return ticks;}
var defaultConfig$2={position:'left',ticks:{callback:core_ticks.formatters.logarithmic}};function nonNegativeOrDefault(value,defaultValue){return helpers$1.isFinite(value)&&value>=0?value:defaultValue;}
var scale_logarithmic=core_scale.extend({determineDataLimits:function(){var me=this;var opts=me.options;var chart=me.chart;var datasets=chart.data.datasets;var isHorizontal=me.isHorizontal();function IDMatches(meta){return isHorizontal?meta.xAxisID===me.id:meta.yAxisID===me.id;}
var datasetIndex,meta,value,data,i,ilen;me.min=Number.POSITIVE_INFINITY;me.max=Number.NEGATIVE_INFINITY;me.minNotZero=Number.POSITIVE_INFINITY;var hasStacks=opts.stacked;if(hasStacks===undefined){for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)&&meta.stack!==undefined){hasStacks=true;break;}}}
if(opts.stacked||hasStacks){var valuesPerStack={};for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);var key=[meta.type,((opts.stacked===undefined&&meta.stack===undefined)?datasetIndex:''),meta.stack].join('.');if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){if(valuesPerStack[key]===undefined){valuesPerStack[key]=[];}
data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){var values=valuesPerStack[key];value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
values[i]=values[i]||0;values[i]+=value.max;}}}
helpers$1.each(valuesPerStack,function(valuesForType){if(valuesForType.length>0){var minVal=helpers$1.min(valuesForType);var maxVal=helpers$1.max(valuesForType);me.min=Math.min(me.min,minVal);me.max=Math.max(me.max,maxVal);}});}else{for(datasetIndex=0;datasetIndex<datasets.length;datasetIndex++){meta=chart.getDatasetMeta(datasetIndex);if(chart.isDatasetVisible(datasetIndex)&&IDMatches(meta)){data=datasets[datasetIndex].data;for(i=0,ilen=data.length;i<ilen;i++){value=me._parseValue(data[i]);if(isNaN(value.min)||isNaN(value.max)||meta.data[i].hidden||value.min<0||value.max<0){continue;}
me.min=Math.min(value.min,me.min);me.max=Math.max(value.max,me.max);if(value.min!==0){me.minNotZero=Math.min(value.min,me.minNotZero);}}}}}
me.min=helpers$1.isFinite(me.min)?me.min:null;me.max=helpers$1.isFinite(me.max)?me.max:null;me.minNotZero=helpers$1.isFinite(me.minNotZero)?me.minNotZero:null;this.handleTickRangeOptions();},handleTickRangeOptions:function(){var me=this;var tickOpts=me.options.ticks;var DEFAULT_MIN=1;var DEFAULT_MAX=10;me.min=nonNegativeOrDefault(tickOpts.min,me.min);me.max=nonNegativeOrDefault(tickOpts.max,me.max);if(me.min===me.max){if(me.min!==0&&me.min!==null){me.min=Math.pow(10,Math.floor(log10(me.min))-1);me.max=Math.pow(10,Math.floor(log10(me.max))+1);}else{me.min=DEFAULT_MIN;me.max=DEFAULT_MAX;}}
if(me.min===null){me.min=Math.pow(10,Math.floor(log10(me.max))-1);}
if(me.max===null){me.max=me.min!==0?Math.pow(10,Math.floor(log10(me.min))+1):DEFAULT_MAX;}
if(me.minNotZero===null){if(me.min>0){me.minNotZero=me.min;}else if(me.max<1){me.minNotZero=Math.pow(10,Math.floor(log10(me.max)));}else{me.minNotZero=DEFAULT_MIN;}}},buildTicks:function(){var me=this;var tickOpts=me.options.ticks;var reverse=!me.isHorizontal();var generationOptions={min:nonNegativeOrDefault(tickOpts.min),max:nonNegativeOrDefault(tickOpts.max)};var ticks=me.ticks=generateTicks$1(generationOptions,me);me.max=helpers$1.max(ticks);me.min=helpers$1.min(ticks);if(tickOpts.reverse){reverse=!reverse;me.start=me.max;me.end=me.min;}else{me.start=me.min;me.end=me.max;}
if(reverse){ticks.reverse();}},convertTicksToLabels:function(){this.tickValues=this.ticks.slice();core_scale.prototype.convertTicksToLabels.call(this);},getLabelForIndex:function(index,datasetIndex){return this._getScaleLabel(this.chart.data.datasets[datasetIndex].data[index]);},getPixelForTick:function(index){var ticks=this.tickValues;if(index<0||index>ticks.length-1){return null;}
return this.getPixelForValue(ticks[index]);},_getFirstTickValue:function(value){var exp=Math.floor(log10(value));var significand=Math.floor(value / Math.pow(10,exp));return significand*Math.pow(10,exp);},_configure:function(){var me=this;var start=me.min;var offset=0;core_scale.prototype._configure.call(me);if(start===0){start=me._getFirstTickValue(me.minNotZero);offset=valueOrDefault$b(me.options.ticks.fontSize,core_defaults.global.defaultFontSize)/ me._length;}
me._startValue=log10(start);me._valueOffset=offset;me._valueRange=(log10(me.max)-log10(start))/(1-offset);},getPixelForValue:function(value){var me=this;var decimal=0;value=+me.getRightValue(value);if(value>me.min&&value>0){decimal=(log10(value)-me._startValue)/ me._valueRange+me._valueOffset;}
return me.getPixelForDecimal(decimal);},getValueForPixel:function(pixel){var me=this;var decimal=me.getDecimalForPixel(pixel);return decimal===0&&me.min===0?0:Math.pow(10,me._startValue+(decimal-me._valueOffset)*me._valueRange);}});var _defaults$2=defaultConfig$2;scale_logarithmic._defaults=_defaults$2;var valueOrDefault$c=helpers$1.valueOrDefault;var valueAtIndexOrDefault$1=helpers$1.valueAtIndexOrDefault;var resolve$4=helpers$1.options.resolve;var defaultConfig$3={display:true,animate:true,position:'chartArea',angleLines:{display:true,color:'rgba(0,0,0,0.1)',lineWidth:1,borderDash:[],borderDashOffset:0.0},gridLines:{circular:false},ticks:{showLabelBackdrop:true,backdropColor:'rgba(255,255,255,0.75)',backdropPaddingY:2,backdropPaddingX:2,callback:core_ticks.formatters.linear},pointLabels:{display:true,fontSize:10,callback:function(label){return label;}}};function getTickBackdropHeight(opts){var tickOpts=opts.ticks;if(tickOpts.display&&opts.display){return valueOrDefault$c(tickOpts.fontSize,core_defaults.global.defaultFontSize)+tickOpts.backdropPaddingY*2;}
return 0;}
function measureLabelSize(ctx,lineHeight,label){if(helpers$1.isArray(label)){return{w:helpers$1.longestText(ctx,ctx.font,label),h:label.length*lineHeight};}
return{w:ctx.measureText(label).width,h:lineHeight};}
function determineLimits(angle,pos,size,min,max){if(angle===min||angle===max){return{start:pos-(size / 2),end:pos+(size / 2)};}else if(angle<min||angle>max){return{start:pos-size,end:pos};}
return{start:pos,end:pos+size};}
function fitWithPointLabels(scale){var plFont=helpers$1.options._parseFont(scale.options.pointLabels);var furthestLimits={l:0,r:scale.width,t:0,b:scale.height-scale.paddingTop};var furthestAngles={};var i,textSize,pointPosition;scale.ctx.font=plFont.string;scale._pointLabelSizes=[];var valueCount=scale.chart.data.labels.length;for(i=0;i<valueCount;i++){pointPosition=scale.getPointPosition(i,scale.drawingArea+5);textSize=measureLabelSize(scale.ctx,plFont.lineHeight,scale.pointLabels[i]);scale._pointLabelSizes[i]=textSize;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians)%360;var hLimits=determineLimits(angle,pointPosition.x,textSize.w,0,180);var vLimits=determineLimits(angle,pointPosition.y,textSize.h,90,270);if(hLimits.start<furthestLimits.l){furthestLimits.l=hLimits.start;furthestAngles.l=angleRadians;}
if(hLimits.end>furthestLimits.r){furthestLimits.r=hLimits.end;furthestAngles.r=angleRadians;}
if(vLimits.start<furthestLimits.t){furthestLimits.t=vLimits.start;furthestAngles.t=angleRadians;}
if(vLimits.end>furthestLimits.b){furthestLimits.b=vLimits.end;furthestAngles.b=angleRadians;}}
scale.setReductions(scale.drawingArea,furthestLimits,furthestAngles);}
function getTextAlignForAngle(angle){if(angle===0||angle===180){return'center';}else if(angle<180){return'left';}
return'right';}
function fillText(ctx,text,position,lineHeight){var y=position.y+lineHeight / 2;var i,ilen;if(helpers$1.isArray(text)){for(i=0,ilen=text.length;i<ilen;++i){ctx.fillText(text[i],position.x,y);y+=lineHeight;}}else{ctx.fillText(text,position.x,y);}}
function adjustPointPositionForLabelHeight(angle,textSize,position){if(angle===90||angle===270){position.y-=(textSize.h / 2);}else if(angle>270||angle<90){position.y-=textSize.h;}}
function drawPointLabels(scale){var ctx=scale.ctx;var opts=scale.options;var pointLabelOpts=opts.pointLabels;var tickBackdropHeight=getTickBackdropHeight(opts);var outerDistance=scale.getDistanceFromCenterForValue(opts.ticks.reverse?scale.min:scale.max);var plFont=helpers$1.options._parseFont(pointLabelOpts);ctx.save();ctx.font=plFont.string;ctx.textBaseline='middle';for(var i=scale.chart.data.labels.length-1;i>=0;i--){var extra=(i===0?tickBackdropHeight / 2:0);var pointLabelPosition=scale.getPointPosition(i,outerDistance+extra+5);var pointLabelFontColor=valueAtIndexOrDefault$1(pointLabelOpts.fontColor,i,core_defaults.global.defaultFontColor);ctx.fillStyle=pointLabelFontColor;var angleRadians=scale.getIndexAngle(i);var angle=helpers$1.toDegrees(angleRadians);ctx.textAlign=getTextAlignForAngle(angle);adjustPointPositionForLabelHeight(angle,scale._pointLabelSizes[i],pointLabelPosition);fillText(ctx,scale.pointLabels[i],pointLabelPosition,plFont.lineHeight);}
ctx.restore();}
function drawRadiusLine(scale,gridLineOpts,radius,index){var ctx=scale.ctx;var circular=gridLineOpts.circular;var valueCount=scale.chart.data.labels.length;var lineColor=valueAtIndexOrDefault$1(gridLineOpts.color,index-1);var lineWidth=valueAtIndexOrDefault$1(gridLineOpts.lineWidth,index-1);var pointPosition;if((!circular&&!valueCount)||!lineColor||!lineWidth){return;}
ctx.save();ctx.strokeStyle=lineColor;ctx.lineWidth=lineWidth;if(ctx.setLineDash){ctx.setLineDash(gridLineOpts.borderDash||[]);ctx.lineDashOffset=gridLineOpts.borderDashOffset||0.0;}
ctx.beginPath();if(circular){ctx.arc(scale.xCenter,scale.yCenter,radius,0,Math.PI*2);}else{pointPosition=scale.getPointPosition(0,radius);ctx.moveTo(pointPosition.x,pointPosition.y);for(var i=1;i<valueCount;i++){pointPosition=scale.getPointPosition(i,radius);ctx.lineTo(pointPosition.x,pointPosition.y);}}
ctx.closePath();ctx.stroke();ctx.restore();}
function numberOrZero(param){return helpers$1.isNumber(param)?param:0;}
var scale_radialLinear=scale_linearbase.extend({setDimensions:function(){var me=this;me.width=me.maxWidth;me.height=me.maxHeight;me.paddingTop=getTickBackdropHeight(me.options)/ 2;me.xCenter=Math.floor(me.width / 2);me.yCenter=Math.floor((me.height-me.paddingTop)/ 2);me.drawingArea=Math.min(me.height-me.paddingTop,me.width)/ 2;},determineDataLimits:function(){var me=this;var chart=me.chart;var min=Number.POSITIVE_INFINITY;var max=Number.NEGATIVE_INFINITY;helpers$1.each(chart.data.datasets,function(dataset,datasetIndex){if(chart.isDatasetVisible(datasetIndex)){var meta=chart.getDatasetMeta(datasetIndex);helpers$1.each(dataset.data,function(rawValue,index){var value=+me.getRightValue(rawValue);if(isNaN(value)||meta.data[index].hidden){return;}
min=Math.min(value,min);max=Math.max(value,max);});}});me.min=(min===Number.POSITIVE_INFINITY?0:min);me.max=(max===Number.NEGATIVE_INFINITY?0:max);me.handleTickRangeOptions();},_computeTickLimit:function(){return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));},convertTicksToLabels:function(){var me=this;scale_linearbase.prototype.convertTicksToLabels.call(me);me.pointLabels=me.chart.data.labels.map(function(){var label=helpers$1.callback(me.options.pointLabels.callback,arguments,me);return label||label===0?label:'';});},getLabelForIndex:function(index,datasetIndex){return+this.getRightValue(this.chart.data.datasets[datasetIndex].data[index]);},fit:function(){var me=this;var opts=me.options;if(opts.display&&opts.pointLabels.display){fitWithPointLabels(me);}else{me.setCenterPoint(0,0,0,0);}},setReductions:function(largestPossibleRadius,furthestLimits,furthestAngles){var me=this;var radiusReductionLeft=furthestLimits.l / Math.sin(furthestAngles.l);var radiusReductionRight=Math.max(furthestLimits.r-me.width,0)/ Math.sin(furthestAngles.r);var radiusReductionTop=-furthestLimits.t / Math.cos(furthestAngles.t);var radiusReductionBottom=-Math.max(furthestLimits.b-(me.height-me.paddingTop),0)/ Math.cos(furthestAngles.b);radiusReductionLeft=numberOrZero(radiusReductionLeft);radiusReductionRight=numberOrZero(radiusReductionRight);radiusReductionTop=numberOrZero(radiusReductionTop);radiusReductionBottom=numberOrZero(radiusReductionBottom);me.drawingArea=Math.min(Math.floor(largestPossibleRadius-(radiusReductionLeft+radiusReductionRight)/ 2),Math.floor(largestPossibleRadius-(radiusReductionTop+radiusReductionBottom)/ 2));me.setCenterPoint(radiusReductionLeft,radiusReductionRight,radiusReductionTop,radiusReductionBottom);},setCenterPoint:function(leftMovement,rightMovement,topMovement,bottomMovement){var me=this;var maxRight=me.width-rightMovement-me.drawingArea;var maxLeft=leftMovement+me.drawingArea;var maxTop=topMovement+me.drawingArea;var maxBottom=(me.height-me.paddingTop)-bottomMovement-me.drawingArea;me.xCenter=Math.floor(((maxLeft+maxRight)/ 2)+me.left);me.yCenter=Math.floor(((maxTop+maxBottom)/ 2)+me.top+me.paddingTop);},getIndexAngle:function(index){var chart=this.chart;var angleMultiplier=360 / chart.data.labels.length;var options=chart.options||{};var startAngle=options.startAngle||0;var angle=(index*angleMultiplier+startAngle)%360;return(angle<0?angle+360:angle)*Math.PI*2 / 360;},getDistanceFromCenterForValue:function(value){var me=this;if(helpers$1.isNullOrUndef(value)){return NaN;}
var scalingFactor=me.drawingArea /(me.max-me.min);if(me.options.ticks.reverse){return(me.max-value)*scalingFactor;}
return(value-me.min)*scalingFactor;},getPointPosition:function(index,distanceFromCenter){var me=this;var thisAngle=me.getIndexAngle(index)-(Math.PI / 2);return{x:Math.cos(thisAngle)*distanceFromCenter+me.xCenter,y:Math.sin(thisAngle)*distanceFromCenter+me.yCenter};},getPointPositionForValue:function(index,value){return this.getPointPosition(index,this.getDistanceFromCenterForValue(value));},getBasePosition:function(index){var me=this;var min=me.min;var max=me.max;return me.getPointPositionForValue(index||0,me.beginAtZero?0:min<0&&max<0?max:min>0&&max>0?min:0);},_drawGrid:function(){var me=this;var ctx=me.ctx;var opts=me.options;var gridLineOpts=opts.gridLines;var angleLineOpts=opts.angleLines;var lineWidth=valueOrDefault$c(angleLineOpts.lineWidth,gridLineOpts.lineWidth);var lineColor=valueOrDefault$c(angleLineOpts.color,gridLineOpts.color);var i,offset,position;if(opts.pointLabels.display){drawPointLabels(me);}
if(gridLineOpts.display){helpers$1.each(me.ticks,function(label,index){if(index!==0){offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);drawRadiusLine(me,gridLineOpts,offset,index);}});}
if(angleLineOpts.display&&lineWidth&&lineColor){ctx.save();ctx.lineWidth=lineWidth;ctx.strokeStyle=lineColor;if(ctx.setLineDash){ctx.setLineDash(resolve$4([angleLineOpts.borderDash,gridLineOpts.borderDash,[]]));ctx.lineDashOffset=resolve$4([angleLineOpts.borderDashOffset,gridLineOpts.borderDashOffset,0.0]);}
for(i=me.chart.data.labels.length-1;i>=0;i--){offset=me.getDistanceFromCenterForValue(opts.ticks.reverse?me.min:me.max);position=me.getPointPosition(i,offset);ctx.beginPath();ctx.moveTo(me.xCenter,me.yCenter);ctx.lineTo(position.x,position.y);ctx.stroke();}
ctx.restore();}},_drawLabels:function(){var me=this;var ctx=me.ctx;var opts=me.options;var tickOpts=opts.ticks;if(!tickOpts.display){return;}
var startAngle=me.getIndexAngle(0);var tickFont=helpers$1.options._parseFont(tickOpts);var tickFontColor=valueOrDefault$c(tickOpts.fontColor,core_defaults.global.defaultFontColor);var offset,width;ctx.save();ctx.font=tickFont.string;ctx.translate(me.xCenter,me.yCenter);ctx.rotate(startAngle);ctx.textAlign='center';ctx.textBaseline='middle';helpers$1.each(me.ticks,function(label,index){if(index===0&&!tickOpts.reverse){return;}
offset=me.getDistanceFromCenterForValue(me.ticksAsNumbers[index]);if(tickOpts.showLabelBackdrop){width=ctx.measureText(label).width;ctx.fillStyle=tickOpts.backdropColor;ctx.fillRect(-width / 2-tickOpts.backdropPaddingX,-offset-tickFont.size / 2-tickOpts.backdropPaddingY,width+tickOpts.backdropPaddingX*2,tickFont.size+tickOpts.backdropPaddingY*2);}
ctx.fillStyle=tickFontColor;ctx.fillText(label,0,-offset);});ctx.restore();},_drawTitle:helpers$1.noop});var _defaults$3=defaultConfig$3;scale_radialLinear._defaults=_defaults$3;var deprecated$1=helpers$1._deprecated;var resolve$5=helpers$1.options.resolve;var valueOrDefault$d=helpers$1.valueOrDefault;var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;var INTERVALS={millisecond:{common:true,size:1,steps:1000},second:{common:true,size:1000,steps:60},minute:{common:true,size:60000,steps:60},hour:{common:true,size:3600000,steps:24},day:{common:true,size:86400000,steps:30},week:{common:false,size:604800000,steps:4},month:{common:true,size:2.628e9,steps:12},quarter:{common:false,size:7.884e9,steps:4},year:{common:true,size:3.154e10}};var UNITS=Object.keys(INTERVALS);function sorter(a,b){return a-b;}
function arrayUnique(items){var hash={};var out=[];var i,ilen,item;for(i=0,ilen=items.length;i<ilen;++i){item=items[i];if(!hash[item]){hash[item]=true;out.push(item);}}
return out;}
function getMin(options){return helpers$1.valueOrDefault(options.time.min,options.ticks.min);}
function getMax(options){return helpers$1.valueOrDefault(options.time.max,options.ticks.max);}
function buildLookupTable(timestamps,min,max,distribution){if(distribution==='linear'||!timestamps.length){return[{time:min,pos:0},{time:max,pos:1}];}
var table=[];var items=[min];var i,ilen,prev,curr,next;for(i=0,ilen=timestamps.length;i<ilen;++i){curr=timestamps[i];if(curr>min&&curr<max){items.push(curr);}}
items.push(max);for(i=0,ilen=items.length;i<ilen;++i){next=items[i+1];prev=items[i-1];curr=items[i];if(prev===undefined||next===undefined||Math.round((next+prev)/ 2)!==curr){table.push({time:curr,pos:i /(ilen-1)});}}
return table;}
function lookup(table,key,value){var lo=0;var hi=table.length-1;var mid,i0,i1;while(lo>=0&&lo<=hi){mid=(lo+hi)>>1;i0=table[mid-1]||null;i1=table[mid];if(!i0){return{lo:null,hi:i1};}else if(i1[key]<value){lo=mid+1;}else if(i0[key]>value){hi=mid-1;}else{return{lo:i0,hi:i1};}}
return{lo:i1,hi:null};}
function interpolate$1(table,skey,sval,tkey){var range=lookup(table,skey,sval);var prev=!range.lo?table[0]:!range.hi?table[table.length-2]:range.lo;var next=!range.lo?table[1]:!range.hi?table[table.length-1]:range.hi;var span=next[skey]-prev[skey];var ratio=span?(sval-prev[skey])/ span:0;var offset=(next[tkey]-prev[tkey])*ratio;return prev[tkey]+offset;}
function toTimestamp(scale,input){var adapter=scale._adapter;var options=scale.options.time;var parser=options.parser;var format=parser||options.format;var value=input;if(typeof parser==='function'){value=parser(value);}
if(!helpers$1.isFinite(value)){value=typeof format==='string'?adapter.parse(value,format):adapter.parse(value);}
if(value!==null){return+value;}
if(!parser&&typeof format==='function'){value=format(input);if(!helpers$1.isFinite(value)){value=adapter.parse(value);}}
return value;}
function parse(scale,input){if(helpers$1.isNullOrUndef(input)){return null;}
var options=scale.options.time;var value=toTimestamp(scale,scale.getRightValue(input));if(value===null){return value;}
if(options.round){value=+scale._adapter.startOf(value,options.round);}
return value;}
function determineUnitForAutoTicks(minUnit,min,max,capacity){var ilen=UNITS.length;var i,interval,factor;for(i=UNITS.indexOf(minUnit);i<ilen-1;++i){interval=INTERVALS[UNITS[i]];factor=interval.steps?interval.steps:MAX_INTEGER;if(interval.common&&Math.ceil((max-min)/(factor*interval.size))<=capacity){return UNITS[i];}}
return UNITS[ilen-1];}
function determineUnitForFormatting(scale,numTicks,minUnit,min,max){var i,unit;for(i=UNITS.length-1;i>=UNITS.indexOf(minUnit);i--){unit=UNITS[i];if(INTERVALS[unit].common&&scale._adapter.diff(max,min,unit)>=numTicks-1){return unit;}}
return UNITS[minUnit?UNITS.indexOf(minUnit):0];}
function determineMajorUnit(unit){for(var i=UNITS.indexOf(unit)+1,ilen=UNITS.length;i<ilen;++i){if(INTERVALS[UNITS[i]].common){return UNITS[i];}}}
function generate(scale,min,max,capacity){var adapter=scale._adapter;var options=scale.options;var timeOpts=options.time;var minor=timeOpts.unit||determineUnitForAutoTicks(timeOpts.minUnit,min,max,capacity);var stepSize=resolve$5([timeOpts.stepSize,timeOpts.unitStepSize,1]);var weekday=minor==='week'?timeOpts.isoWeekday:false;var first=min;var ticks=[];var time;if(weekday){first=+adapter.startOf(first,'isoWeek',weekday);}
first=+adapter.startOf(first,weekday?'day':minor);if(adapter.diff(max,min,minor)>100000*stepSize){throw min+' and '+max+' are too far apart with stepSize of '+stepSize+' '+minor;}
for(time=first;time<max;time=+adapter.add(time,stepSize,minor)){ticks.push(time);}
if(time===max||options.bounds==='ticks'){ticks.push(time);}
return ticks;}
function computeOffsets(table,ticks,min,max,options){var start=0;var end=0;var first,last;if(options.offset&&ticks.length){first=interpolate$1(table,'time',ticks[0],'pos');if(ticks.length===1){start=1-first;}else{start=(interpolate$1(table,'time',ticks[1],'pos')-first)/ 2;}
last=interpolate$1(table,'time',ticks[ticks.length-1],'pos');if(ticks.length===1){end=last;}else{end=(last-interpolate$1(table,'time',ticks[ticks.length-2],'pos'))/ 2;}}
return{start:start,end:end,factor:1 /(start+1+end)};}
function setMajorTicks(scale,ticks,map,majorUnit){var adapter=scale._adapter;var first=+adapter.startOf(ticks[0].value,majorUnit);var last=ticks[ticks.length-1].value;var major,index;for(major=first;major<=last;major=+adapter.add(major,1,majorUnit)){index=map[major];if(index>=0){ticks[index].major=true;}}
return ticks;}
function ticksFromTimestamps(scale,values,majorUnit){var ticks=[];var map={};var ilen=values.length;var i,value;for(i=0;i<ilen;++i){value=values[i];map[value]=i;ticks.push({value:value,major:false});}
return(ilen===0||!majorUnit)?ticks:setMajorTicks(scale,ticks,map,majorUnit);}
var defaultConfig$4={position:'bottom',distribution:'linear',bounds:'data',adapters:{},time:{parser:false,unit:false,round:false,displayFormat:false,isoWeekday:false,minUnit:'millisecond',displayFormats:{}},ticks:{autoSkip:false,source:'auto',major:{enabled:false}}};var scale_time=core_scale.extend({initialize:function(){this.mergeTicksOptions();core_scale.prototype.initialize.call(this);},update:function(){var me=this;var options=me.options;var time=options.time||(options.time={});var adapter=me._adapter=new core_adapters._date(options.adapters.date);deprecated$1('time scale',time.format,'time.format','time.parser');deprecated$1('time scale',time.min,'time.min','ticks.min');deprecated$1('time scale',time.max,'time.max','ticks.max');helpers$1.mergeIf(time.displayFormats,adapter.formats());return core_scale.prototype.update.apply(me,arguments);},getRightValue:function(rawValue){if(rawValue&&rawValue.t!==undefined){rawValue=rawValue.t;}
return core_scale.prototype.getRightValue.call(this,rawValue);},determineDataLimits:function(){var me=this;var chart=me.chart;var adapter=me._adapter;var options=me.options;var unit=options.time.unit||'day';var min=MAX_INTEGER;var max=MIN_INTEGER;var timestamps=[];var datasets=[];var labels=[];var i,j,ilen,jlen,data,timestamp,labelsAdded;var dataLabels=me._getLabels();for(i=0,ilen=dataLabels.length;i<ilen;++i){labels.push(parse(me,dataLabels[i]));}
for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){if(chart.isDatasetVisible(i)){data=chart.data.datasets[i].data;if(helpers$1.isObject(data[0])){datasets[i]=[];for(j=0,jlen=data.length;j<jlen;++j){timestamp=parse(me,data[j]);timestamps.push(timestamp);datasets[i][j]=timestamp;}}else{datasets[i]=labels.slice(0);if(!labelsAdded){timestamps=timestamps.concat(labels);labelsAdded=true;}}}else{datasets[i]=[];}}
if(labels.length){min=Math.min(min,labels[0]);max=Math.max(max,labels[labels.length-1]);}
if(timestamps.length){timestamps=ilen>1?arrayUnique(timestamps).sort(sorter):timestamps.sort(sorter);min=Math.min(min,timestamps[0]);max=Math.max(max,timestamps[timestamps.length-1]);}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;min=min===MAX_INTEGER?+adapter.startOf(Date.now(),unit):min;max=max===MIN_INTEGER?+adapter.endOf(Date.now(),unit)+1:max;me.min=Math.min(min,max);me.max=Math.max(min+1,max);me._table=[];me._timestamps={data:timestamps,datasets:datasets,labels:labels};},buildTicks:function(){var me=this;var min=me.min;var max=me.max;var options=me.options;var tickOpts=options.ticks;var timeOpts=options.time;var timestamps=me._timestamps;var ticks=[];var capacity=me.getLabelCapacity(min);var source=tickOpts.source;var distribution=options.distribution;var i,ilen,timestamp;if(source==='data'||(source==='auto'&&distribution==='series')){timestamps=timestamps.data;}else if(source==='labels'){timestamps=timestamps.labels;}else{timestamps=generate(me,min,max,capacity);}
if(options.bounds==='ticks'&&timestamps.length){min=timestamps[0];max=timestamps[timestamps.length-1];}
min=parse(me,getMin(options))||min;max=parse(me,getMax(options))||max;for(i=0,ilen=timestamps.length;i<ilen;++i){timestamp=timestamps[i];if(timestamp>=min&&timestamp<=max){ticks.push(timestamp);}}
me.min=min;me.max=max;me._unit=timeOpts.unit||(tickOpts.autoSkip?determineUnitForAutoTicks(timeOpts.minUnit,me.min,me.max,capacity):determineUnitForFormatting(me,ticks.length,timeOpts.minUnit,me.min,me.max));me._majorUnit=!tickOpts.major.enabled||me._unit==='year'?undefined:determineMajorUnit(me._unit);me._table=buildLookupTable(me._timestamps.data,min,max,distribution);me._offsets=computeOffsets(me._table,ticks,min,max,options);if(tickOpts.reverse){ticks.reverse();}
return ticksFromTimestamps(me,ticks,me._majorUnit);},getLabelForIndex:function(index,datasetIndex){var me=this;var adapter=me._adapter;var data=me.chart.data;var timeOpts=me.options.time;var label=data.labels&&index<data.labels.length?data.labels[index]:'';var value=data.datasets[datasetIndex].data[index];if(helpers$1.isObject(value)){label=me.getRightValue(value);}
if(timeOpts.tooltipFormat){return adapter.format(toTimestamp(me,label),timeOpts.tooltipFormat);}
if(typeof label==='string'){return label;}
return adapter.format(toTimestamp(me,label),timeOpts.displayFormats.datetime);},tickFormatFunction:function(time,index,ticks,format){var me=this;var adapter=me._adapter;var options=me.options;var formats=options.time.displayFormats;var minorFormat=formats[me._unit];var majorUnit=me._majorUnit;var majorFormat=formats[majorUnit];var tick=ticks[index];var tickOpts=options.ticks;var major=majorUnit&&majorFormat&&tick&&tick.major;var label=adapter.format(time,format?format:major?majorFormat:minorFormat);var nestedTickOpts=major?tickOpts.major:tickOpts.minor;var formatter=resolve$5([nestedTickOpts.callback,nestedTickOpts.userCallback,tickOpts.callback,tickOpts.userCallback]);return formatter?formatter(label,index,ticks):label;},convertTicksToLabels:function(ticks){var labels=[];var i,ilen;for(i=0,ilen=ticks.length;i<ilen;++i){labels.push(this.tickFormatFunction(ticks[i].value,i,ticks));}
return labels;},getPixelForOffset:function(time){var me=this;var offsets=me._offsets;var pos=interpolate$1(me._table,'time',time,'pos');return me.getPixelForDecimal((offsets.start+pos)*offsets.factor);},getPixelForValue:function(value,index,datasetIndex){var me=this;var time=null;if(index!==undefined&&datasetIndex!==undefined){time=me._timestamps.datasets[datasetIndex][index];}
if(time===null){time=parse(me,value);}
if(time!==null){return me.getPixelForOffset(time);}},getPixelForTick:function(index){var ticks=this.getTicks();return index>=0&&index<ticks.length?this.getPixelForOffset(ticks[index].value):null;},getValueForPixel:function(pixel){var me=this;var offsets=me._offsets;var pos=me.getDecimalForPixel(pixel)/ offsets.factor-offsets.end;var time=interpolate$1(me._table,'pos',pos,'time');return me._adapter._create(time);},_getLabelSize:function(label){var me=this;var ticksOpts=me.options.ticks;var tickLabelWidth=me.ctx.measureText(label).width;var angle=helpers$1.toRadians(me.isHorizontal()?ticksOpts.maxRotation:ticksOpts.minRotation);var cosRotation=Math.cos(angle);var sinRotation=Math.sin(angle);var tickFontSize=valueOrDefault$d(ticksOpts.fontSize,core_defaults.global.defaultFontSize);return{w:(tickLabelWidth*cosRotation)+(tickFontSize*sinRotation),h:(tickLabelWidth*sinRotation)+(tickFontSize*cosRotation)};},getLabelWidth:function(label){return this._getLabelSize(label).w;},getLabelCapacity:function(exampleTime){var me=this;var timeOpts=me.options.time;var displayFormats=timeOpts.displayFormats;var format=displayFormats[timeOpts.unit]||displayFormats.millisecond;var exampleLabel=me.tickFormatFunction(exampleTime,0,ticksFromTimestamps(me,[exampleTime],me._majorUnit),format);var size=me._getLabelSize(exampleLabel);var capacity=Math.floor(me.isHorizontal()?me.width / size.w:me.height / size.h);if(me.options.offset){capacity--;}
return capacity>0?capacity:1;}});var _defaults$4=defaultConfig$4;scale_time._defaults=_defaults$4;var scales={category:scale_category,linear:scale_linear,logarithmic:scale_logarithmic,radialLinear:scale_radialLinear,time:scale_time};var FORMATS={datetime:'MMM D, YYYY, h:mm:ss a',millisecond:'h:mm:ss.SSS a',second:'h:mm:ss a',minute:'h:mm a',hour:'hA',day:'MMM D',week:'ll',month:'MMM YYYY',quarter:'[Q]Q - YYYY',year:'YYYY'};core_adapters._date.override(typeof moment==='function'?{_id:'moment',formats:function(){return FORMATS;},parse:function(value,format){if(typeof value==='string'&&typeof format==='string'){value=moment(value,format);}else if(!(value instanceof moment)){value=moment(value);}
return value.isValid()?value.valueOf():null;},format:function(time,format){return moment(time).format(format);},add:function(time,amount,unit){return moment(time).add(amount,unit).valueOf();},diff:function(max,min,unit){return moment(max).diff(moment(min),unit);},startOf:function(time,unit,weekday){time=moment(time);if(unit==='isoWeek'){return time.isoWeekday(weekday).valueOf();}
return time.startOf(unit).valueOf();},endOf:function(time,unit){return moment(time).endOf(unit).valueOf();},_create:function(time){return moment(time);},}:{});core_defaults._set('global',{plugins:{filler:{propagate:true}}});var mappers={dataset:function(source){var index=source.fill;var chart=source.chart;var meta=chart.getDatasetMeta(index);var visible=meta&&chart.isDatasetVisible(index);var points=(visible&&meta.dataset._children)||[];var length=points.length||0;return!length?null:function(point,i){return(i<length&&points[i]._view)||null;};},boundary:function(source){var boundary=source.boundary;var x=boundary?boundary.x:null;var y=boundary?boundary.y:null;if(helpers$1.isArray(boundary)){return function(point,i){return boundary[i];};}
return function(point){return{x:x===null?point.x:x,y:y===null?point.y:y,};};}};function decodeFill(el,index,count){var model=el._model||{};var fill=model.fill;var target;if(fill===undefined){fill=!!model.backgroundColor;}
if(fill===false||fill===null){return false;}
if(fill===true){return'origin';}
target=parseFloat(fill,10);if(isFinite(target)&&Math.floor(target)===target){if(fill[0]==='-'||fill[0]==='+'){target=index+target;}
if(target===index||target<0||target>=count){return false;}
return target;}
switch(fill){case'bottom':return'start';case'top':return'end';case'zero':return'origin';case'origin':case'start':case'end':return fill;default:return false;}}
function computeLinearBoundary(source){var model=source.el._model||{};var scale=source.el._scale||{};var fill=source.fill;var target=null;var horizontal;if(isFinite(fill)){return null;}
if(fill==='start'){target=model.scaleBottom===undefined?scale.bottom:model.scaleBottom;}else if(fill==='end'){target=model.scaleTop===undefined?scale.top:model.scaleTop;}else if(model.scaleZero!==undefined){target=model.scaleZero;}else if(scale.getBasePixel){target=scale.getBasePixel();}
if(target!==undefined&&target!==null){if(target.x!==undefined&&target.y!==undefined){return target;}
if(helpers$1.isFinite(target)){horizontal=scale.isHorizontal();return{x:horizontal?target:null,y:horizontal?null:target};}}
return null;}
function computeCircularBoundary(source){var scale=source.el._scale;var options=scale.options;var length=scale.chart.data.labels.length;var fill=source.fill;var target=[];var start,end,center,i,point;if(!length){return null;}
start=options.ticks.reverse?scale.max:scale.min;end=options.ticks.reverse?scale.min:scale.max;center=scale.getPointPositionForValue(0,start);for(i=0;i<length;++i){point=fill==='start'||fill==='end'?scale.getPointPositionForValue(i,fill==='start'?start:end):scale.getBasePosition(i);if(options.gridLines.circular){point.cx=center.x;point.cy=center.y;point.angle=scale.getIndexAngle(i)-Math.PI / 2;}
target.push(point);}
return target;}
function computeBoundary(source){var scale=source.el._scale||{};if(scale.getPointPositionForValue){return computeCircularBoundary(source);}
return computeLinearBoundary(source);}
function resolveTarget(sources,index,propagate){var source=sources[index];var fill=source.fill;var visited=[index];var target;if(!propagate){return fill;}
while(fill!==false&&visited.indexOf(fill)===-1){if(!isFinite(fill)){return fill;}
target=sources[fill];if(!target){return false;}
if(target.visible){return fill;}
visited.push(fill);fill=target.fill;}
return false;}
function createMapper(source){var fill=source.fill;var type='dataset';if(fill===false){return null;}
if(!isFinite(fill)){type='boundary';}
return mappers[type](source);}
function isDrawable(point){return point&&!point.skip;}
function drawArea(ctx,curve0,curve1,len0,len1){var i,cx,cy,r;if(!len0||!len1){return;}
ctx.moveTo(curve0[0].x,curve0[0].y);for(i=1;i<len0;++i){helpers$1.canvas.lineTo(ctx,curve0[i-1],curve0[i]);}
if(curve1[0].angle!==undefined){cx=curve1[0].cx;cy=curve1[0].cy;r=Math.sqrt(Math.pow(curve1[0].x-cx,2)+Math.pow(curve1[0].y-cy,2));for(i=len1-1;i>0;--i){ctx.arc(cx,cy,r,curve1[i].angle,curve1[i-1].angle,true);}
return;}
ctx.lineTo(curve1[len1-1].x,curve1[len1-1].y);for(i=len1-1;i>0;--i){helpers$1.canvas.lineTo(ctx,curve1[i],curve1[i-1],true);}}
function doFill(ctx,points,mapper,view,color,loop){var count=points.length;var span=view.spanGaps;var curve0=[];var curve1=[];var len0=0;var len1=0;var i,ilen,index,p0,p1,d0,d1,loopOffset;ctx.beginPath();for(i=0,ilen=count;i<ilen;++i){index=i%count;p0=points[index]._view;p1=mapper(p0,index,view);d0=isDrawable(p0);d1=isDrawable(p1);if(loop&&loopOffset===undefined&&d0){loopOffset=i+1;ilen=count+loopOffset;}
if(d0&&d1){len0=curve0.push(p0);len1=curve1.push(p1);}else if(len0&&len1){if(!span){drawArea(ctx,curve0,curve1,len0,len1);len0=len1=0;curve0=[];curve1=[];}else{if(d0){curve0.push(p0);}
if(d1){curve1.push(p1);}}}}
drawArea(ctx,curve0,curve1,len0,len1);ctx.closePath();ctx.fillStyle=color;ctx.fill();}
var plugin_filler={id:'filler',afterDatasetsUpdate:function(chart,options){var count=(chart.data.datasets||[]).length;var propagate=options.propagate;var sources=[];var meta,i,el,source;for(i=0;i<count;++i){meta=chart.getDatasetMeta(i);el=meta.dataset;source=null;if(el&&el._model&&el instanceof elements.Line){source={visible:chart.isDatasetVisible(i),fill:decodeFill(el,i,count),chart:chart,el:el};}
meta.$filler=source;sources.push(source);}
for(i=0;i<count;++i){source=sources[i];if(!source){continue;}
source.fill=resolveTarget(sources,i,propagate);source.boundary=computeBoundary(source);source.mapper=createMapper(source);}},beforeDatasetsDraw:function(chart){var metasets=chart._getSortedVisibleDatasetMetas();var ctx=chart.ctx;var meta,i,el,view,points,mapper,color;for(i=metasets.length-1;i>=0;--i){meta=metasets[i].$filler;if(!meta||!meta.visible){continue;}
el=meta.el;view=el._view;points=el._children||[];mapper=meta.mapper;color=view.backgroundColor||core_defaults.global.defaultColor;if(mapper&&color&&points.length){helpers$1.canvas.clipArea(ctx,chart.chartArea);doFill(ctx,points,mapper,view,color,el._loop);helpers$1.canvas.unclipArea(ctx);}}}};var getRtlHelper$1=helpers$1.rtl.getRtlAdapter;var noop$1=helpers$1.noop;var valueOrDefault$e=helpers$1.valueOrDefault;core_defaults._set('global',{legend:{display:true,position:'top',align:'center',fullWidth:true,reverse:false,weight:1000,onClick:function(e,legendItem){var index=legendItem.datasetIndex;var ci=this.chart;var meta=ci.getDatasetMeta(index);meta.hidden=meta.hidden===null?!ci.data.datasets[index].hidden:null;ci.update();},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(chart){var datasets=chart.data.datasets;var options=chart.options.legend||{};var usePointStyle=options.labels&&options.labels.usePointStyle;return chart._getSortedDatasetMetas().map(function(meta){var style=meta.controller.getStyle(usePointStyle?0:undefined);return{text:datasets[meta.index].label,fillStyle:style.backgroundColor,hidden:!chart.isDatasetVisible(meta.index),lineCap:style.borderCapStyle,lineDash:style.borderDash,lineDashOffset:style.borderDashOffset,lineJoin:style.borderJoinStyle,lineWidth:style.borderWidth,strokeStyle:style.borderColor,pointStyle:style.pointStyle,rotation:style.rotation,datasetIndex:meta.index};},this);}}},legendCallback:function(chart){var list=document.createElement('ul');var datasets=chart.data.datasets;var i,ilen,listItem,listItemSpan;list.setAttribute('class',chart.id+'-legend');for(i=0,ilen=datasets.length;i<ilen;i++){listItem=list.appendChild(document.createElement('li'));listItemSpan=listItem.appendChild(document.createElement('span'));listItemSpan.style.backgroundColor=datasets[i].backgroundColor;if(datasets[i].label){listItem.appendChild(document.createTextNode(datasets[i].label));}}
return list.outerHTML;}});function getBoxWidth(labelOpts,fontSize){return labelOpts.usePointStyle&&labelOpts.boxWidth>fontSize?fontSize:labelOpts.boxWidth;}
var Legend=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];me._hoveredItem=null;me.doughnutMode=false;},beforeUpdate:noop$1,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$1,beforeSetDimensions:noop$1,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$1,beforeBuildLabels:noop$1,buildLabels:function(){var me=this;var labelOpts=me.options.labels||{};var legendItems=helpers$1.callback(labelOpts.generateLabels,[me.chart],me)||[];if(labelOpts.filter){legendItems=legendItems.filter(function(item){return labelOpts.filter(item,me.chart.data);});}
if(me.options.reverse){legendItems.reverse();}
me.legendItems=legendItems;},afterBuildLabels:noop$1,beforeFit:noop$1,fit:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var display=opts.display;var ctx=me.ctx;var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var hitboxes=me.legendHitBoxes=[];var minSize=me.minSize;var isHorizontal=me.isHorizontal();if(isHorizontal){minSize.width=me.maxWidth;minSize.height=display?10:0;}else{minSize.width=display?10:0;minSize.height=me.maxHeight;}
if(!display){me.width=minSize.width=me.height=minSize.height=0;return;}
ctx.font=labelFont.string;if(isHorizontal){var lineWidths=me.lineWidths=[0];var totalHeight=0;ctx.textAlign='left';ctx.textBaseline='middle';helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var width=boxWidth+(fontSize / 2)+ctx.measureText(legendItem.text).width;if(i===0||lineWidths[lineWidths.length-1]+width+2*labelOpts.padding>minSize.width){totalHeight+=fontSize+labelOpts.padding;lineWidths[lineWidths.length-(i>0?0:1)]=0;}
hitboxes[i]={left:0,top:0,width:width,height:fontSize};lineWidths[lineWidths.length-1]+=width+labelOpts.padding;});minSize.height+=totalHeight;}else{var vPadding=labelOpts.padding;var columnWidths=me.columnWidths=[];var columnHeights=me.columnHeights=[];var totalWidth=labelOpts.padding;var currentColWidth=0;var currentColHeight=0;helpers$1.each(me.legendItems,function(legendItem,i){var boxWidth=getBoxWidth(labelOpts,fontSize);var itemWidth=boxWidth+(fontSize / 2)+ctx.measureText(legendItem.text).width;if(i>0&&currentColHeight+fontSize+2*vPadding>minSize.height){totalWidth+=currentColWidth+labelOpts.padding;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);currentColWidth=0;currentColHeight=0;}
currentColWidth=Math.max(currentColWidth,itemWidth);currentColHeight+=fontSize+vPadding;hitboxes[i]={left:0,top:0,width:itemWidth,height:fontSize};});totalWidth+=currentColWidth;columnWidths.push(currentColWidth);columnHeights.push(currentColHeight);minSize.width+=totalWidth;}
me.width=minSize.width;me.height=minSize.height;},afterFit:noop$1,isHorizontal:function(){return this.options.position==='top'||this.options.position==='bottom';},draw:function(){var me=this;var opts=me.options;var labelOpts=opts.labels;var globalDefaults=core_defaults.global;var defaultColor=globalDefaults.defaultColor;var lineDefault=globalDefaults.elements.line;var legendHeight=me.height;var columnHeights=me.columnHeights;var legendWidth=me.width;var lineWidths=me.lineWidths;if(!opts.display){return;}
var rtlHelper=getRtlHelper$1(opts.rtl,me.left,me.minSize.width);var ctx=me.ctx;var fontColor=valueOrDefault$e(labelOpts.fontColor,globalDefaults.defaultFontColor);var labelFont=helpers$1.options._parseFont(labelOpts);var fontSize=labelFont.size;var cursor;ctx.textAlign=rtlHelper.textAlign('left');ctx.textBaseline='middle';ctx.lineWidth=0.5;ctx.strokeStyle=fontColor;ctx.fillStyle=fontColor;ctx.font=labelFont.string;var boxWidth=getBoxWidth(labelOpts,fontSize);var hitboxes=me.legendHitBoxes;var drawLegendBox=function(x,y,legendItem){if(isNaN(boxWidth)||boxWidth<=0){return;}
ctx.save();var lineWidth=valueOrDefault$e(legendItem.lineWidth,lineDefault.borderWidth);ctx.fillStyle=valueOrDefault$e(legendItem.fillStyle,defaultColor);ctx.lineCap=valueOrDefault$e(legendItem.lineCap,lineDefault.borderCapStyle);ctx.lineDashOffset=valueOrDefault$e(legendItem.lineDashOffset,lineDefault.borderDashOffset);ctx.lineJoin=valueOrDefault$e(legendItem.lineJoin,lineDefault.borderJoinStyle);ctx.lineWidth=lineWidth;ctx.strokeStyle=valueOrDefault$e(legendItem.strokeStyle,defaultColor);if(ctx.setLineDash){ctx.setLineDash(valueOrDefault$e(legendItem.lineDash,lineDefault.borderDash));}
if(labelOpts&&labelOpts.usePointStyle){var radius=boxWidth*Math.SQRT2 / 2;var centerX=rtlHelper.xPlus(x,boxWidth / 2);var centerY=y+fontSize / 2;helpers$1.canvas.drawPoint(ctx,legendItem.pointStyle,radius,centerX,centerY,legendItem.rotation);}else{ctx.fillRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);if(lineWidth!==0){ctx.strokeRect(rtlHelper.leftForLtr(x,boxWidth),y,boxWidth,fontSize);}}
ctx.restore();};var fillText=function(x,y,legendItem,textWidth){var halfFontSize=fontSize / 2;var xLeft=rtlHelper.xPlus(x,boxWidth+halfFontSize);var yMiddle=y+halfFontSize;ctx.fillText(legendItem.text,xLeft,yMiddle);if(legendItem.hidden){ctx.beginPath();ctx.lineWidth=2;ctx.moveTo(xLeft,yMiddle);ctx.lineTo(rtlHelper.xPlus(xLeft,textWidth),yMiddle);ctx.stroke();}};var alignmentOffset=function(dimension,blockSize){switch(opts.align){case'start':return labelOpts.padding;case'end':return dimension-blockSize;default:return(dimension-blockSize+labelOpts.padding)/ 2;}};var isHorizontal=me.isHorizontal();if(isHorizontal){cursor={x:me.left+alignmentOffset(legendWidth,lineWidths[0]),y:me.top+labelOpts.padding,line:0};}else{cursor={x:me.left+labelOpts.padding,y:me.top+alignmentOffset(legendHeight,columnHeights[0]),line:0};}
helpers$1.rtl.overrideTextDirection(me.ctx,opts.textDirection);var itemHeight=fontSize+labelOpts.padding;helpers$1.each(me.legendItems,function(legendItem,i){var textWidth=ctx.measureText(legendItem.text).width;var width=boxWidth+(fontSize / 2)+textWidth;var x=cursor.x;var y=cursor.y;rtlHelper.setWidth(me.minSize.width);if(isHorizontal){if(i>0&&x+width+labelOpts.padding>me.left+me.minSize.width){y=cursor.y+=itemHeight;cursor.line++;x=cursor.x=me.left+alignmentOffset(legendWidth,lineWidths[cursor.line]);}}else if(i>0&&y+itemHeight>me.top+me.minSize.height){x=cursor.x=x+me.columnWidths[cursor.line]+labelOpts.padding;cursor.line++;y=cursor.y=me.top+alignmentOffset(legendHeight,columnHeights[cursor.line]);}
var realX=rtlHelper.x(x);drawLegendBox(realX,y,legendItem);hitboxes[i].left=rtlHelper.leftForLtr(realX,hitboxes[i].width);hitboxes[i].top=y;fillText(realX,y,legendItem,textWidth);if(isHorizontal){cursor.x+=width+labelOpts.padding;}else{cursor.y+=itemHeight;}});helpers$1.rtl.restoreTextDirection(me.ctx,opts.textDirection);},_getLegendItemAt:function(x,y){var me=this;var i,hitBox,lh;if(x>=me.left&&x<=me.right&&y>=me.top&&y<=me.bottom){lh=me.legendHitBoxes;for(i=0;i<lh.length;++i){hitBox=lh[i];if(x>=hitBox.left&&x<=hitBox.left+hitBox.width&&y>=hitBox.top&&y<=hitBox.top+hitBox.height){return me.legendItems[i];}}}
return null;},handleEvent:function(e){var me=this;var opts=me.options;var type=e.type==='mouseup'?'click':e.type;var hoveredItem;if(type==='mousemove'){if(!opts.onHover&&!opts.onLeave){return;}}else if(type==='click'){if(!opts.onClick){return;}}else{return;}
hoveredItem=me._getLegendItemAt(e.x,e.y);if(type==='click'){if(hoveredItem&&opts.onClick){opts.onClick.call(me,e.native,hoveredItem);}}else{if(opts.onLeave&&hoveredItem!==me._hoveredItem){if(me._hoveredItem){opts.onLeave.call(me,e.native,me._hoveredItem);}
me._hoveredItem=hoveredItem;}
if(opts.onHover&&hoveredItem){opts.onHover.call(me,e.native,hoveredItem);}}}});function createNewLegendAndAttach(chart,legendOpts){var legend=new Legend({ctx:chart.ctx,options:legendOpts,chart:chart});core_layouts.configure(chart,legend,legendOpts);core_layouts.addBox(chart,legend);chart.legend=legend;}
var plugin_legend={id:'legend',_element:Legend,beforeInit:function(chart){var legendOpts=chart.options.legend;if(legendOpts){createNewLegendAndAttach(chart,legendOpts);}},beforeUpdate:function(chart){var legendOpts=chart.options.legend;var legend=chart.legend;if(legendOpts){helpers$1.mergeIf(legendOpts,core_defaults.global.legend);if(legend){core_layouts.configure(chart,legend,legendOpts);legend.options=legendOpts;}else{createNewLegendAndAttach(chart,legendOpts);}}else if(legend){core_layouts.removeBox(chart,legend);delete chart.legend;}},afterEvent:function(chart,e){var legend=chart.legend;if(legend){legend.handleEvent(e);}}};var noop$2=helpers$1.noop;core_defaults._set('global',{title:{display:false,fontStyle:'bold',fullWidth:true,padding:10,position:'top',text:'',weight:2000}});var Title=core_element.extend({initialize:function(config){var me=this;helpers$1.extend(me,config);me.legendHitBoxes=[];},beforeUpdate:noop$2,update:function(maxWidth,maxHeight,margins){var me=this;me.beforeUpdate();me.maxWidth=maxWidth;me.maxHeight=maxHeight;me.margins=margins;me.beforeSetDimensions();me.setDimensions();me.afterSetDimensions();me.beforeBuildLabels();me.buildLabels();me.afterBuildLabels();me.beforeFit();me.fit();me.afterFit();me.afterUpdate();return me.minSize;},afterUpdate:noop$2,beforeSetDimensions:noop$2,setDimensions:function(){var me=this;if(me.isHorizontal()){me.width=me.maxWidth;me.left=0;me.right=me.width;}else{me.height=me.maxHeight;me.top=0;me.bottom=me.height;}
me.paddingLeft=0;me.paddingTop=0;me.paddingRight=0;me.paddingBottom=0;me.minSize={width:0,height:0};},afterSetDimensions:noop$2,beforeBuildLabels:noop$2,buildLabels:noop$2,afterBuildLabels:noop$2,beforeFit:noop$2,fit:function(){var me=this;var opts=me.options;var minSize=me.minSize={};var isHorizontal=me.isHorizontal();var lineCount,textSize;if(!opts.display){me.width=minSize.width=me.height=minSize.height=0;return;}
lineCount=helpers$1.isArray(opts.text)?opts.text.length:1;textSize=lineCount*helpers$1.options._parseFont(opts).lineHeight+opts.padding*2;me.width=minSize.width=isHorizontal?me.maxWidth:textSize;me.height=minSize.height=isHorizontal?textSize:me.maxHeight;},afterFit:noop$2,isHorizontal:function(){var pos=this.options.position;return pos==='top'||pos==='bottom';},draw:function(){var me=this;var ctx=me.ctx;var opts=me.options;if(!opts.display){return;}
var fontOpts=helpers$1.options._parseFont(opts);var lineHeight=fontOpts.lineHeight;var offset=lineHeight / 2+opts.padding;var rotation=0;var top=me.top;var left=me.left;var bottom=me.bottom;var right=me.right;var maxWidth,titleX,titleY;ctx.fillStyle=helpers$1.valueOrDefault(opts.fontColor,core_defaults.global.defaultFontColor);ctx.font=fontOpts.string;if(me.isHorizontal()){titleX=left+((right-left)/ 2);titleY=top+offset;maxWidth=right-left;}else{titleX=opts.position==='left'?left+offset:right-offset;titleY=top+((bottom-top)/ 2);maxWidth=bottom-top;rotation=Math.PI*(opts.position==='left'?-0.5:0.5);}
ctx.save();ctx.translate(titleX,titleY);ctx.rotate(rotation);ctx.textAlign='center';ctx.textBaseline='middle';var text=opts.text;if(helpers$1.isArray(text)){var y=0;for(var i=0;i<text.length;++i){ctx.fillText(text[i],0,y,maxWidth);y+=lineHeight;}}else{ctx.fillText(text,0,0,maxWidth);}
ctx.restore();}});function createNewTitleBlockAndAttach(chart,titleOpts){var title=new Title({ctx:chart.ctx,options:titleOpts,chart:chart});core_layouts.configure(chart,title,titleOpts);core_layouts.addBox(chart,title);chart.titleBlock=title;}
var plugin_title={id:'title',_element:Title,beforeInit:function(chart){var titleOpts=chart.options.title;if(titleOpts){createNewTitleBlockAndAttach(chart,titleOpts);}},beforeUpdate:function(chart){var titleOpts=chart.options.title;var titleBlock=chart.titleBlock;if(titleOpts){helpers$1.mergeIf(titleOpts,core_defaults.global.title);if(titleBlock){core_layouts.configure(chart,titleBlock,titleOpts);titleBlock.options=titleOpts;}else{createNewTitleBlockAndAttach(chart,titleOpts);}}else if(titleBlock){core_layouts.removeBox(chart,titleBlock);delete chart.titleBlock;}}};var plugins={};var filler=plugin_filler;var legend=plugin_legend;var title=plugin_title;plugins.filler=filler;plugins.legend=legend;plugins.title=title;core_controller.helpers=helpers$1;core_helpers();core_controller._adapters=core_adapters;core_controller.Animation=core_animation;core_controller.animationService=core_animations;core_controller.controllers=controllers;core_controller.DatasetController=core_datasetController;core_controller.defaults=core_defaults;core_controller.Element=core_element;core_controller.elements=elements;core_controller.Interaction=core_interaction;core_controller.layouts=core_layouts;core_controller.platform=platform;core_controller.plugins=core_plugins;core_controller.Scale=core_scale;core_controller.scaleService=core_scaleService;core_controller.Ticks=core_ticks;core_controller.Tooltip=core_tooltip;core_controller.helpers.each(scales,function(scale,type){core_controller.scaleService.registerScaleType(type,scale,scale._defaults);});for(var k in plugins){if(plugins.hasOwnProperty(k)){core_controller.plugins.register(plugins[k]);}}
core_controller.platform.initialize();var src=core_controller;if(typeof window!=='undefined'){window.Chart2=core_controller;}
core_controller.Chart2=core_controller;core_controller.Legend=plugins.legend._element;core_controller.Title=plugins.title._element;core_controller.pluginService=core_controller.plugins;core_controller.PluginBase=core_controller.Element.extend({});core_controller.canvasHelpers=core_controller.helpers.canvas;core_controller.layoutService=core_controller.layouts;core_controller.LinearScaleBase=scale_linearbase;core_controller.helpers.each(['Bar','Bubble','Doughnut','Line','PolarArea','Radar','Scatter'],function(klass){core_controller[klass]=function(ctx,cfg){return new core_controller(ctx,core_controller.helpers.merge(cfg||{},{type:klass.charAt(0).toLowerCase()+klass.slice(1)}));};});return src;})));
/* End of File include/javascript/chartjs/Chart_2_9_4.js */

/*!
 * chartjs-plugin-datalabels v1.0.0
 * https://chartjs-plugin-datalabels.netlify.app
 * (c) 2017-2021 chartjs-plugin-datalabels contributors
 * Released under the MIT license
 */
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory(require('Chart_2_9_4.js')):typeof define==='function'&&define.amd?define(['Chart_2_9_4.js'],factory):(global=typeof globalThis!=='undefined'?globalThis:global||self,global.ChartDataLabelsV1=factory(window.Chart2));}(this,(function(Chart2){'use strict';function _interopDefaultLegacy(e){return e&&typeof e==='object'&&'default'in e?e:{'default':e};}
var Chart__default=_interopDefaultLegacy(Chart2);var helpers$4=Chart__default['default'].helpers;var devicePixelRatio=(function(){if(typeof window!=='undefined'){if(window.devicePixelRatio){return window.devicePixelRatio;}
var screen=window.screen;if(screen){return(screen.deviceXDPI||1)/(screen.logicalXDPI||1);}}
return 1;}());var utils={toTextLines:function(inputs){var lines=[];var input;inputs=[].concat(inputs);while(inputs.length){input=inputs.pop();if(typeof input==='string'){lines.unshift.apply(lines,input.split('\n'));}else if(Array.isArray(input)){inputs.push.apply(inputs,input);}else if(!helpers$4.isNullOrUndef(inputs)){lines.unshift(''+input);}}
return lines;},toFontString:function(font){if(!font||helpers$4.isNullOrUndef(font.size)||helpers$4.isNullOrUndef(font.family)){return null;}
return(font.style?font.style+' ':'')
+(font.weight?font.weight+' ':'')
+font.size+'px '
+font.family;},textSize:function(ctx,lines,font){var items=[].concat(lines);var ilen=items.length;var prev=ctx.font;var width=0;var i;ctx.font=font.string;for(i=0;i<ilen;++i){width=Math.max(ctx.measureText(items[i]).width,width);}
ctx.font=prev;return{height:ilen*font.lineHeight,width:width};},parseFont:function(value){var global=Chart__default['default'].defaults.global;var size=helpers$4.valueOrDefault(value.size,global.defaultFontSize);var font={family:helpers$4.valueOrDefault(value.family,global.defaultFontFamily),lineHeight:helpers$4.options.toLineHeight(value.lineHeight,size),size:size,style:helpers$4.valueOrDefault(value.style,global.defaultFontStyle),weight:helpers$4.valueOrDefault(value.weight,null),string:''};font.string=utils.toFontString(font);return font;},bound:function(min,value,max){return Math.max(min,Math.min(value,max));},arrayDiff:function(a0,a1){var prev=a0.slice();var updates=[];var i,j,ilen,v;for(i=0,ilen=a1.length;i<ilen;++i){v=a1[i];j=prev.indexOf(v);if(j===-1){updates.push([v,1]);}else{prev.splice(j,1);}}
for(i=0,ilen=prev.length;i<ilen;++i){updates.push([prev[i],-1]);}
return updates;},rasterize:function(v){return Math.round(v*devicePixelRatio)/ devicePixelRatio;}};function orient(point,origin){if(!origin){origin={x:0,y:0}}
var x0=origin.x;var y0=origin.y;if(x0===null){return{x:0,y:-1};}
if(y0===null){return{x:1,y:0};}
var dx=point.x-x0;var dy=point.y-y0;var ln=Math.sqrt(dx*dx+dy*dy);return{x:ln?dx / ln:0,y:ln?dy / ln:-1};}
function aligned(x,y,vx,vy,align){switch(align){case'center':vx=vy=0;break;case'bottom':vx=0;vy=1;break;case'right':vx=1;vy=0;break;case'left':vx=-1;vy=0;break;case'top':vx=0;vy=-1;break;case'start':vx=-vx;vy=-vy;break;case'end':break;default:align*=(Math.PI / 180);vx=Math.cos(align);vy=Math.sin(align);break;}
return{x:x,y:y,vx:vx,vy:vy};}
var R_INSIDE=0;var R_LEFT=1;var R_RIGHT=2;var R_BOTTOM=4;var R_TOP=8;function region(x,y,rect){var res=R_INSIDE;if(x<rect.left){res|=R_LEFT;}else if(x>rect.right){res|=R_RIGHT;}
if(y<rect.top){res|=R_TOP;}else if(y>rect.bottom){res|=R_BOTTOM;}
return res;}
function clipped(segment,area){var x0=segment.x0;var y0=segment.y0;var x1=segment.x1;var y1=segment.y1;var r0=region(x0,y0,area);var r1=region(x1,y1,area);var r,x,y;while(true){if(!(r0|r1)||(r0&r1)){break;}
r=r0||r1;if(r&R_TOP){x=x0+(x1-x0)*(area.top-y0)/(y1-y0);y=area.top;}else if(r&R_BOTTOM){x=x0+(x1-x0)*(area.bottom-y0)/(y1-y0);y=area.bottom;}else if(r&R_RIGHT){y=y0+(y1-y0)*(area.right-x0)/(x1-x0);x=area.right;}else if(r&R_LEFT){y=y0+(y1-y0)*(area.left-x0)/(x1-x0);x=area.left;}
if(r===r0){x0=x;y0=y;r0=region(x0,y0,area);}else{x1=x;y1=y;r1=region(x1,y1,area);}}
return{x0:x0,x1:x1,y0:y0,y1:y1};}
function compute$1(range,config){var anchor=config.anchor;var segment=range;var x,y;if(config.clamp){segment=clipped(segment,config.area);}
if(anchor==='start'){x=segment.x0;y=segment.y0;}else if(anchor==='end'){x=segment.x1;y=segment.y1;}else{x=(segment.x0+segment.x1)/ 2;y=(segment.y0+segment.y1)/ 2;}
return aligned(x,y,range.vx,range.vy,config.align);}
var positioners={arc:function(vm,config){var angle=(vm.startAngle+vm.endAngle)/ 2;var vx=Math.cos(angle);var vy=Math.sin(angle);var r0=vm.innerRadius;var r1=vm.outerRadius;return compute$1({x0:vm.x+vx*r0,y0:vm.y+vy*r0,x1:vm.x+vx*r1,y1:vm.y+vy*r1,vx:vx,vy:vy},config);},point:function(vm,config){var v=orient(vm,config.origin);var rx=v.x*vm.radius;var ry=v.y*vm.radius;return compute$1({x0:vm.x-rx,y0:vm.y-ry,x1:vm.x+rx,y1:vm.y+ry,vx:v.x,vy:v.y},config);},rect:function(vm,config){var v=orient(vm,config.origin);var x=vm.x;var y=vm.y;var sx=0;var sy=0;if(vm.horizontal){x=Math.min(vm.x,vm.base);sx=Math.abs(vm.base-vm.x);}else{y=Math.min(vm.y,vm.base);sy=Math.abs(vm.base-vm.y);}
return compute$1({x0:x,y0:y+sy,x1:x+sx,y1:y,vx:v.x,vy:v.y},config);},fallback:function(vm,config){var v=orient(vm,config.origin);return compute$1({x0:vm.x,y0:vm.y,x1:vm.x,y1:vm.y,vx:v.x,vy:v.y},config);}};var helpers$3=Chart__default['default'].helpers;var rasterize=utils.rasterize;function boundingRects(model){var borderWidth=model.borderWidth||0;var padding=model.padding;var th=model.size.height;var tw=model.size.width;var tx=-tw / 2;var ty=-th / 2;return{frame:{x:tx-padding.left-borderWidth,y:ty-padding.top-borderWidth,w:tw+padding.width+borderWidth*2,h:th+padding.height+borderWidth*2},text:{x:tx,y:ty,w:tw,h:th}};}
function getScaleOrigin(el){var horizontal=el._model.horizontal;var scale=el._scale||(horizontal&&el._xScale)||el._yScale;if(!scale){return null;}
if(scale.xCenter!==undefined&&scale.yCenter!==undefined){return{x:scale.xCenter,y:scale.yCenter};}
var pixel=scale.getBasePixel();return horizontal?{x:pixel,y:null}:{x:null,y:pixel};}
function getPositioner(el){if(el instanceof Chart__default['default'].elements.Arc){return positioners.arc;}
if(el instanceof Chart__default['default'].elements.Point){return positioners.point;}
if(el instanceof Chart__default['default'].elements.Rectangle){return positioners.rect;}
return positioners.fallback;}
function drawFrame(ctx,rect,model){var bgColor=model.backgroundColor;var borderColor=model.borderColor;var borderWidth=model.borderWidth;if(!bgColor&&(!borderColor||!borderWidth)){return;}
ctx.beginPath();helpers$3.canvas.roundedRect(ctx,rasterize(rect.x)+borderWidth / 2,rasterize(rect.y)+borderWidth / 2,rasterize(rect.w)-borderWidth,rasterize(rect.h)-borderWidth,model.borderRadius);ctx.closePath();if(bgColor){ctx.fillStyle=bgColor;ctx.fill();}
if(borderColor&&borderWidth){ctx.strokeStyle=borderColor;ctx.lineWidth=borderWidth;ctx.lineJoin='miter';ctx.stroke();}}
function textGeometry(rect,align,font){var h=font.lineHeight;var w=rect.w;var x=rect.x;var y=rect.y+h / 2;if(align==='center'){x+=w / 2;}else if(align==='end'||align==='right'){x+=w;}
return{h:h,w:w,x:x,y:y};}
function drawTextLine(ctx,text,cfg){var shadow=ctx.shadowBlur;var stroked=cfg.stroked;var x=rasterize(cfg.x);var y=rasterize(cfg.y);var w=rasterize(cfg.w);if(stroked){ctx.strokeText(text,x,y,w);}
if(cfg.filled){if(shadow&&stroked){ctx.shadowBlur=0;}
ctx.fillText(text,x,y,w);if(shadow&&stroked){ctx.shadowBlur=shadow;}}}
function drawText(ctx,lines,rect,model){var align=model.textAlign;var color=model.color;var filled=!!color;var font=model.font;var ilen=lines.length;var strokeColor=model.textStrokeColor;var strokeWidth=model.textStrokeWidth;var stroked=strokeColor&&strokeWidth;var i;if(!ilen||(!filled&&!stroked)){return;}
rect=textGeometry(rect,align,font);ctx.font=font.string;ctx.textAlign=align;ctx.textBaseline='middle';ctx.shadowBlur=model.textShadowBlur;ctx.shadowColor=model.textShadowColor;if(filled){ctx.fillStyle=color;}
if(stroked){ctx.lineJoin='round';ctx.lineWidth=strokeWidth;ctx.strokeStyle=strokeColor;}
for(i=0,ilen=lines.length;i<ilen;++i){drawTextLine(ctx,lines[i],{stroked:stroked,filled:filled,w:rect.w,x:rect.x,y:rect.y+rect.h*i});}}
var Label=function(config,ctx,el,index){var me=this;me._config=config;me._index=index;me._model=null;me._rects=null;me._ctx=ctx;me._el=el;};helpers$3.extend(Label.prototype,{_modelize:function(display,lines,config,context){var me=this;var index=me._index;var resolve=helpers$3.options.resolve;var font=utils.parseFont(resolve([config.font,{}],context,index));var color=resolve([config.color,Chart__default['default'].defaults.global.defaultFontColor],context,index);return{align:resolve([config.align,'center'],context,index),anchor:resolve([config.anchor,'center'],context,index),area:context.chart.chartArea,backgroundColor:resolve([config.backgroundColor,null],context,index),borderColor:resolve([config.borderColor,null],context,index),borderRadius:resolve([config.borderRadius,0],context,index),borderWidth:resolve([config.borderWidth,0],context,index),clamp:resolve([config.clamp,false],context,index),clip:resolve([config.clip,false],context,index),color:color,display:display,font:font,lines:lines,offset:resolve([config.offset,0],context,index),opacity:resolve([config.opacity,1],context,index),origin:getScaleOrigin(me._el),padding:helpers$3.options.toPadding(resolve([config.padding,0],context,index)),positioner:getPositioner(me._el),rotation:resolve([config.rotation,0],context,index)*(Math.PI / 180),size:utils.textSize(me._ctx,lines,font),textAlign:resolve([config.textAlign,'start'],context,index),textShadowBlur:resolve([config.textShadowBlur,0],context,index),textShadowColor:resolve([config.textShadowColor,color],context,index),textStrokeColor:resolve([config.textStrokeColor,color],context,index),textStrokeWidth:resolve([config.textStrokeWidth,0],context,index)};},update:function(context){var me=this;var model=null;var rects=null;var index=me._index;var config=me._config;var value,label,lines;var display=helpers$3.options.resolve([config.display,true],context,index);if(display){value=context.dataset.data[index];label=helpers$3.valueOrDefault(helpers$3.callback(config.formatter,[value,context]),value);lines=helpers$3.isNullOrUndef(label)?[]:utils.toTextLines(label);if(lines.length){model=me._modelize(display,lines,config,context);rects=boundingRects(model);}}
me._model=model;me._rects=rects;},geometry:function(){return this._rects?this._rects.frame:{};},rotation:function(){return this._model?this._model.rotation:0;},visible:function(){return this._model&&this._model.opacity;},model:function(){return this._model;},draw:function(chart,center){var me=this;var ctx=chart.ctx;var model=me._model;var rects=me._rects;var area;if(!this.visible()){return;}
ctx.save();if(model.clip){area=model.area;ctx.beginPath();ctx.rect(area.left,area.top,area.right-area.left,area.bottom-area.top);ctx.clip();}
ctx.globalAlpha=utils.bound(0,model.opacity,1);ctx.translate(rasterize(center.x),rasterize(center.y));ctx.rotate(model.rotation);drawFrame(ctx,rects.frame,model);drawText(ctx,model.lines,rects.text,model);ctx.restore();}});var helpers$2=Chart__default['default'].helpers;var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991;var MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(point,center,angle){var cos=Math.cos(angle);var sin=Math.sin(angle);var cx=center.x;var cy=center.y;return{x:cx+cos*(point.x-cx)-sin*(point.y-cy),y:cy+sin*(point.x-cx)+cos*(point.y-cy)};}
function projected(points,axis){var min=MAX_INTEGER;var max=MIN_INTEGER;var origin=axis.origin;var i,pt,vx,vy,dp;for(i=0;i<points.length;++i){pt=points[i];vx=pt.x-origin.x;vy=pt.y-origin.y;dp=axis.vx*vx+axis.vy*vy;min=Math.min(min,dp);max=Math.max(max,dp);}
return{min:min,max:max};}
function toAxis(p0,p1){var vx=p1.x-p0.x;var vy=p1.y-p0.y;var ln=Math.sqrt(vx*vx+vy*vy);return{vx:(p1.x-p0.x)/ ln,vy:(p1.y-p0.y)/ ln,origin:p0,ln:ln};}
var HitBox=function(){this._rotation=0;this._rect={x:0,y:0,w:0,h:0};};helpers$2.extend(HitBox.prototype,{center:function(){var r=this._rect;return{x:r.x+r.w / 2,y:r.y+r.h / 2};},update:function(center,rect,rotation){this._rotation=rotation;this._rect={x:rect.x+center.x,y:rect.y+center.y,w:rect.w,h:rect.h};},contains:function(point){var me=this;var margin=1;var rect=me._rect;point=rotated(point,me.center(),-me._rotation);return!(point.x<rect.x-margin||point.y<rect.y-margin||point.x>rect.x+rect.w+margin*2||point.y>rect.y+rect.h+margin*2);},intersects:function(other){var r0=this._points();var r1=other._points();var axes=[toAxis(r0[0],r0[1]),toAxis(r0[0],r0[3])];var i,pr0,pr1;if(this._rotation!==other._rotation){axes.push(toAxis(r1[0],r1[1]),toAxis(r1[0],r1[3]));}
for(i=0;i<axes.length;++i){pr0=projected(r0,axes[i]);pr1=projected(r1,axes[i]);if(pr0.max<pr1.min||pr1.max<pr0.min){return false;}}
return true;},_points:function(){var me=this;var rect=me._rect;var angle=me._rotation;var center=me.center();return[rotated({x:rect.x,y:rect.y},center,angle),rotated({x:rect.x+rect.w,y:rect.y},center,angle),rotated({x:rect.x+rect.w,y:rect.y+rect.h},center,angle),rotated({x:rect.x,y:rect.y+rect.h},center,angle)];}});function coordinates(view,model,geometry){var point=model.positioner(view,model);var vx=point.vx;var vy=point.vy;if(!vx&&!vy){return{x:point.x,y:point.y};}
var w=geometry.w;var h=geometry.h;var rotation=model.rotation;var dx=Math.abs(w / 2*Math.cos(rotation))+Math.abs(h / 2*Math.sin(rotation));var dy=Math.abs(w / 2*Math.sin(rotation))+Math.abs(h / 2*Math.cos(rotation));var vs=1 / Math.max(Math.abs(vx),Math.abs(vy));dx*=vx*vs;dy*=vy*vs;dx+=model.offset*vx;dy+=model.offset*vy;return{x:point.x+dx,y:point.y+dy};}
function collide(labels,collider){var i,j,s0,s1;for(i=labels.length-1;i>=0;--i){s0=labels[i].$layout;for(j=i-1;j>=0&&s0._visible;--j){s1=labels[j].$layout;if(s1._visible&&s0._box.intersects(s1._box)){collider(s0,s1);}}}
return labels;}
function compute(labels){var i,ilen,label,state,geometry,center;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];state=label.$layout;if(state._visible){geometry=label.geometry();center=coordinates(label._el._model,label.model(),geometry);state._box.update(center,geometry,label.rotation());}}
return collide(labels,function(s0,s1){var h0=s0._hidable;var h1=s1._hidable;if((h0&&h1)||h1){s1._visible=false;}else if(h0){s0._visible=false;}});}
var layout={prepare:function(datasets){var labels=[];var i,j,ilen,jlen,label;for(i=0,ilen=datasets.length;i<ilen;++i){for(j=0,jlen=datasets[i].length;j<jlen;++j){label=datasets[i][j];labels.push(label);label.$layout={_box:new HitBox(),_hidable:false,_visible:true,_set:i,_idx:j};}}
labels.sort(function(a,b){var sa=a.$layout;var sb=b.$layout;return sa._idx===sb._idx?sb._set-sa._set:sb._idx-sa._idx;});this.update(labels);return labels;},update:function(labels){var dirty=false;var i,ilen,label,model,state;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];model=label.model();state=label.$layout;state._hidable=model&&model.display==='auto';state._visible=label.visible();dirty|=state._hidable;}
if(dirty){compute(labels);}},lookup:function(labels,point){var i,state;for(i=labels.length-1;i>=0;--i){state=labels[i].$layout;if(state&&state._visible&&state._box.contains(point)){return labels[i];}}
return null;},draw:function(chart,labels){var i,ilen,label,state,geometry,center;for(i=0,ilen=labels.length;i<ilen;++i){label=labels[i];state=label.$layout;if(state._visible){geometry=label.geometry();center=coordinates(label._el._view,label.model(),geometry);state._box.update(center,geometry,label.rotation());label.draw(chart,center);}}}};var helpers$1=Chart__default['default'].helpers;var formatter=function(value){if(helpers$1.isNullOrUndef(value)){return null;}
var label=value;var keys,klen,k;if(helpers$1.isObject(value)){if(!helpers$1.isNullOrUndef(value.label)){label=value.label;}else if(!helpers$1.isNullOrUndef(value.r)){label=value.r;}else{label='';keys=Object.keys(value);for(k=0,klen=keys.length;k<klen;++k){label+=(k!==0?', ':'')+keys[k]+': '+value[keys[k]];}}}
return''+label;};var defaults={align:'center',anchor:'center',backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:false,clip:false,color:undefined,display:true,font:{family:undefined,lineHeight:1.2,size:undefined,style:undefined,weight:null},formatter:formatter,labels:undefined,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:'start',textStrokeColor:undefined,textStrokeWidth:0,textShadowBlur:0,textShadowColor:undefined};var helpers=Chart__default['default'].helpers;var EXPANDO_KEY='$datalabels';var DEFAULT_KEY='$default';function configure(dataset,options){var override=dataset.datalabels;var listeners={};var configs=[];var labels,keys;if(override===false){return null;}
if(override===true){override={};}
options=helpers.merge({},[options,override]);labels=options.labels||{};keys=Object.keys(labels);delete options.labels;if(keys.length){keys.forEach(function(key){if(labels[key]){configs.push(helpers.merge({},[options,labels[key],{_key:key}]));}});}else{configs.push(options);}
listeners=configs.reduce(function(target,config){helpers.each(config.listeners||{},function(fn,event){target[event]=target[event]||{};target[event][config._key||DEFAULT_KEY]=fn;});delete config.listeners;return target;},{});return{labels:configs,listeners:listeners};}
function dispatchEvent(chart,listeners,label){if(!listeners){return;}
var context=label.$context;var groups=label.$groups;var callback;if(!listeners[groups._set]){return;}
callback=listeners[groups._set][groups._key];if(!callback){return;}
if(helpers.callback(callback,[context])===true){chart[EXPANDO_KEY]._dirty=true;label.update(context);}}
function dispatchMoveEvents(chart,listeners,previous,label){var enter,leave;if(!previous&&!label){return;}
if(!previous){enter=true;}else if(!label){leave=true;}else if(previous!==label){leave=enter=true;}
if(leave){dispatchEvent(chart,listeners.leave,previous);}
if(enter){dispatchEvent(chart,listeners.enter,label);}}
function handleMoveEvents(chart,event){var expando=chart[EXPANDO_KEY];var listeners=expando._listeners;var previous,label;if(!listeners.enter&&!listeners.leave){return;}
if(event.type==='mousemove'){label=layout.lookup(expando._labels,event);}else if(event.type!=='mouseout'){return;}
previous=expando._hovered;expando._hovered=label;dispatchMoveEvents(chart,listeners,previous,label);}
function handleClickEvents(chart,event){var expando=chart[EXPANDO_KEY];var handlers=expando._listeners.click;var label=handlers&&layout.lookup(expando._labels,event);if(label){dispatchEvent(chart,handlers,label);}}
function invalidate(chart){if(chart.animating){return;}
var animations=Chart__default['default'].animationService.animations;for(var i=0,ilen=animations.length;i<ilen;++i){if(animations[i].chart===chart){return;}}
chart.render({duration:1,lazy:true});}
Chart__default['default'].defaults.global.plugins.datalabels=defaults;var plugin={id:'datalabels',beforeInit:function(chart){chart[EXPANDO_KEY]={_actives:[]};},beforeUpdate:function(chart){var expando=chart[EXPANDO_KEY];expando._listened=false;expando._listeners={};expando._datasets=[];expando._labels=[];},afterDatasetUpdate:function(chart,args,options){var datasetIndex=args.index;var expando=chart[EXPANDO_KEY];var labels=expando._datasets[datasetIndex]=[];var visible=chart.isDatasetVisible(datasetIndex);var dataset=chart.data.datasets[datasetIndex];var config=configure(dataset,options);var elements=args.meta.data||[];var ctx=chart.ctx;var i,j,ilen,jlen,cfg,key,el,label;ctx.save();for(i=0,ilen=elements.length;i<ilen;++i){el=elements[i];el[EXPANDO_KEY]=[];if(visible&&el&&!el.hidden&&!el._model.skip){for(j=0,jlen=config.labels.length;j<jlen;++j){cfg=config.labels[j];key=cfg._key;label=new Label(cfg,ctx,el,i);label.$groups={_set:datasetIndex,_key:key||DEFAULT_KEY};label.$context={active:false,chart:chart,dataIndex:i,dataset:dataset,datasetIndex:datasetIndex};label.update(label.$context);el[EXPANDO_KEY].push(label);labels.push(label);}}}
ctx.restore();helpers.merge(expando._listeners,config.listeners,{merger:function(event,target,source){target[event]=target[event]||{};target[event][args.index]=source[event];expando._listened=true;}});},afterUpdate:function(chart,options){chart[EXPANDO_KEY]._labels=layout.prepare(chart[EXPANDO_KEY]._datasets,options);},afterDatasetsDraw:function(chart){layout.draw(chart,chart[EXPANDO_KEY]._labels);},beforeEvent:function(chart,event){if(chart[EXPANDO_KEY]._listened){switch(event.type){case'mousemove':case'mouseout':handleMoveEvents(chart,event);break;case'click':handleClickEvents(chart,event);break;}}},afterEvent:function(chart){var expando=chart[EXPANDO_KEY];var previous=expando._actives;var actives=expando._actives=chart.lastActive||[];var updates=utils.arrayDiff(previous,actives);var i,ilen,j,jlen,update,label,labels;for(i=0,ilen=updates.length;i<ilen;++i){update=updates[i];if(update[1]){labels=update[0][EXPANDO_KEY]||[];for(j=0,jlen=labels.length;j<jlen;++j){label=labels[j];label.$context.active=(update[1]===1);label.update(label.$context);}}}
if(expando._dirty||updates.length){layout.update(expando._labels);invalidate(chart);}
delete expando._dirty;}};return plugin;})));
/* End of File include/javascript/chartjs/chartjs-plugin-datalabels-v1.js */

/*!
 * Chart.Funnel.js
 * A funnel plugin for Chart.js(http://chartjs.org/)
 * Version: 1.0.2
 *
 * Copyright 2016 Jone Casaper
 * Released under the MIT license
 * https://github.com/xch89820/Chart.Funnel.js/blob/master/LICENSE.md
 */
(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.Chart2||(g.Chart2={})).Funnel=f()}})(function(){var define,module,exports;return(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){},{}],2:[function(require,module,exports){"use strict";var Chart2=require(1);Chart2=typeof(Chart2)==='function'?Chart2:window.Chart2;require(4)(Chart2);require(3)(Chart2);module.exports=Chart2;},{"1":1,"3":3,"4":4}],3:[function(require,module,exports){"use strict";module.exports=function(Chart2){var helpers=Chart2.helpers;Chart2.defaults.funnel={hover:{mode:"label"},sort:'asc',gap:2,bottomWidth:null,topWidth:0,keep:'auto',elements:{borderWidth:0},tooltips:{callbacks:{title:function(tooltipItem,data){return'';},label:function(tooltipItem,data){return data.labels[tooltipItem.index]+': '+data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];}}},legendCallback:function(chart){var text=[];text.push('<ul class="'+chart.id+'-legend">');var data=chart.data;var datasets=data.datasets;var labels=data.labels;if(datasets.length){for(var i=0;i<datasets[0].data.length;++i){text.push('<li><span style="background-color:'+datasets[0].backgroundColor[i]+'"></span>');if(labels[i]){text.push(labels[i]);}
text.push('</li>');}}
text.push('</ul>');return text.join("");},legend:{labels:{generateLabels:function(chart){var data=chart.data;if(data.labels.length&&data.datasets.length){return data.labels.map(function(label,i){var meta=chart.getDatasetMeta(0);var ds=data.datasets[0];var trap=meta.data[i];var custom=trap.custom||{};var getValueAtIndexOrDefault=helpers.getValueAtIndexOrDefault;var trapeziumOpts=chart.options.elements.trapezium;var fill=custom.backgroundColor?custom.backgroundColor:getValueAtIndexOrDefault(ds.backgroundColor,i,trapeziumOpts.backgroundColor);var stroke=custom.borderColor?custom.borderColor:getValueAtIndexOrDefault(ds.borderColor,i,trapeziumOpts.borderColor);var bw=custom.borderWidth?custom.borderWidth:getValueAtIndexOrDefault(ds.borderWidth,i,trapeziumOpts.borderWidth);return{text:label,fillStyle:fill,strokeStyle:stroke,lineWidth:bw,hidden:isNaN(ds.data[i])||meta.data[i].hidden,index:i,_index:trap._index};});}else{return[];}}},onClick:function(e,legendItem){var index=legendItem.index;var chart=this.chart;var i,ilen,meta;for(i=0,ilen=(chart.data.datasets||[]).length;i<ilen;++i){meta=chart.getDatasetMeta(i);meta.data[index].hidden=!meta.data[index].hidden;}
chart.update();}}};Chart2.controllers.funnel=Chart2.DatasetController.extend({dataElementType:Chart2.elements.Trapezium,linkScales:helpers.noop,update:function update(reset){var me=this;var chart=me.chart,chartArea=chart.chartArea,opts=chart.options,meta=me.getMeta(),elements=meta.data,borderWidth=opts.elements.borderWidth||0,availableWidth=chartArea.right-chartArea.left-borderWidth*2,availableHeight=chartArea.bottom-chartArea.top-borderWidth*2;var bottomWidth=availableWidth,topWidth=(opts.topWidth<availableWidth?opts.topWidth:availableWidth)||0;if(opts.bottomWidth){bottomWidth=opts.bottomWidth<availableWidth?opts.bottomWidth:availableWidth;}
var sort=opts.sort,dataset=me.getDataset(),valAndLabels=[],visiableNum=0,dMax=0;helpers.each(dataset.data,function(val,index){var backgroundColor=helpers.getValueAtIndexOrDefault(dataset.backgroundColor,index),hidden=elements[index].hidden;valAndLabels.push({hidden:hidden,orgIndex:index,val:val,backgroundColor:backgroundColor,borderColor:helpers.getValueAtIndexOrDefault(dataset.borderColor,index,backgroundColor),label:helpers.getValueAtIndexOrDefault(dataset.label,index,chart.data.labels[index])});if(!elements[index].hidden){visiableNum++;dMax=val>dMax?val:dMax;}});var dwRatio=bottomWidth / dMax;var sortedDataAndLabels=valAndLabels;var _viewIndex=0;helpers.each(sortedDataAndLabels,function(dal,index){dal._viewIndex=!dal.hidden?_viewIndex++:-1;});var gap=opts.gap||0,elHeight=(availableHeight-((visiableNum-1)*gap))/ visiableNum;me.topWidth=topWidth;me.dwRatio=dwRatio;me.elHeight=elHeight;me.sortedDataAndLabels=sortedDataAndLabels;helpers.each(elements,function(trapezium,index){me.updateElement(trapezium,index,reset);},me);},updateElement:function updateElement(trapezium,index,reset){var me=this,chart=me.chart,chartArea=chart.chartArea,opts=chart.options,sort=opts.sort,dwRatio=me.dwRatio,elHeight=me.elHeight,gap=opts.gap||0,borderWidth=opts.elements.borderWidth||0;var x,y,x1,x2,elementType='isosceles',elementData=me.sortedDataAndLabels[index],upperWidth,bottomWidth,viewIndex=elementData._viewIndex<0?index:elementData._viewIndex,base=chartArea.top+(viewIndex+1)*(elHeight+gap)-gap;if(sort==='asc'){var previousElement=helpers.findPreviousWhere(me.sortedDataAndLabels,function(el){return!el.hidden;},index);upperWidth=previousElement?previousElement.val*dwRatio:me.topWidth;bottomWidth=elementData.val*dwRatio;}else{var nextElement=helpers.findNextWhere(me.sortedDataAndLabels,function(el){return!el.hidden;},index);upperWidth=elementData.val*dwRatio;bottomWidth=nextElement?nextElement.val*dwRatio:me.topWidth;}
let corners=trapezium.getCorners();let topY=_.max(_.pluck(corners,1));let bottomY=_.min(_.pluck(corners,1));y=(topY+bottomY)/ 2;if(opts.keep==='left'){elementType='scalene';x1=chartArea.left+upperWidth / 2;x2=chartArea.left+bottomWidth / 2;}else if(opts.keep==='right'){elementType='scalene';x1=chartArea.right-upperWidth/ 2;x2=chartArea.right-bottomWidth / 2;}else{x=(chartArea.left+chartArea.right)/ 2;}
helpers.extend(trapezium,{_datasetIndex:me.index,_index:elementData.orgIndex,_model:{type:elementType,y:y,base:base>chartArea.bottom?chartArea.bottom:base,x:x,x1:x1,x2:x2,upperWidth:(reset||!!elementData.hidden)?0:upperWidth,bottomWidth:(reset||!!elementData.hidden)?0:bottomWidth,borderWidth:borderWidth,backgroundColor:elementData&&elementData.backgroundColor,borderColor:elementData&&elementData.borderColor,label:elementData&&elementData.label}});trapezium.pivot();},removeHoverStyle:function(trapezium){Chart2.DatasetController.prototype.removeHoverStyle.call(this,trapezium,this.chart.options.elements.trapezium);}});};},{}],4:[function(require,module,exports){"use strict";Chart2.Tooltip.positioners.custom=function getTooltipPosition(elements,eventPosition){return{x:eventPosition.x,y:eventPosition.y};};module.exports=function(Chart2){var helpers=Chart2.helpers,globalOpts=Chart2.defaults.global;globalOpts.elements.trapezium={backgroundColor:globalOpts.defaultColor,borderWidth:0,borderColor:globalOpts.defaultColor,borderSkipped:'bottom',type:'isosceles'};var pointInPolygon=function(point,vs){var x=point[0],y=point[1];var inside=false;for(var i=0,j=vs.length-1;i<vs.length;j=i++){var xi=vs[i][0],yi=vs[i][1];var xj=vs[j][0],yj=vs[j][1];var intersect=((yi>y)!=(yj>y))&&(x<(xj-xi)*(y-yi)/(yj-yi)+xi);if(intersect)inside=!inside;}
return inside;};var calculatedHeight;var calculatedWidth;var contextChartWidth;var calculatedCenter
var r=0.3;Chart2.elements.Trapezium=Chart2.Element.extend({pointsTrapezoid:function(d,w){var y0=d._bottom,y1=d._top,w0=w / 2-r*y0,w1=w / 2-r*y1,c=calculatedCenter;return((c-w0)+','+y0+' '+
(c-w1)+','+y1+' '+
(c+w1)+','+y1+' '+
(c+w0)+','+y0);},calcScales:function(data,self){var areaTrapezoid=function(h,w){return h*(w-h*r);};var heightTrapezoid=function(a,b){var x=b / r / 2;return Math.abs(Math.sqrt(a / r+x*x))-x;};var funnelTotal=0;for(var i=0;i<data.length;i++){if(self._chart.getDatasetMeta(0).data[i].hidden===false){funnelTotal+=data[i];}}
var funnelArea=areaTrapezoid(calculatedHeight,calculatedWidth),funnelShift=0,funnelMinHeight=4,_base=calculatedWidth-2*r*calculatedHeight,_bottom=calculatedHeight;var res=[];for(var i=0;i<data.length;i++){var value=data[i];var pointValue=data[i];var _height=funnelTotal>0?heightTrapezoid(funnelArea*pointValue / funnelTotal,_base):0;var point={};point._base=_base;point._bottom=_bottom;point._top=point._bottom-_height;if(pointValue!==0){_base+=2*r*_height;_bottom-=_height;}
res.push({_top:point._top,_bottom:point._bottom,});};return res;},getCorners:function(){var vm=this._view;var topOffset=this._getTopOffset();calculatedHeight=this._chart.height-topOffset;calculatedWidth=this._chart.width-40;contextChartWidth=this._chart.width;calculatedCenter=contextChartWidth / 2;var initialVals=[];var allValues=this._chart.data.datasets[0].data;for(var i=0;i<allValues.length;i++){if(this._chart.getDatasetMeta(0).data[i].hidden===false){initialVals.push(allValues[i]);}else{initialVals.push(0);}}
var data=Chart2.elements.Trapezium.prototype.calcScales(initialVals,this);var d=data[this._index];var poligon=Chart2.elements.Trapezium.prototype.pointsTrapezoid(d,calculatedWidth);var finalCoordinates=this._formatCoordinates(poligon);finalCoordinates=this._addTopOffset(finalCoordinates,topOffset);if(initialVals[this._index]===0){return[[0,0],[0,0],[0,0],[0,0],];}
finalCoordinates[0][1]-=2;finalCoordinates[3][1]-=2;return finalCoordinates;},_formatCoordinates:function(poligon){var coordinates=poligon.split(" ");var finalCoordinates=[];for(var i=0;i<coordinates.length;i++){var c=coordinates[i];c=c.split(",");c[0]=parseFloat(c[0]);c[1]=parseFloat(c[1]);finalCoordinates.push(c);}
return finalCoordinates;},_getTopOffset:function(){var topOffset=0;for(var i=0;i<this._chart.boxes.length;i++){var box=this._chart.boxes[i];if(box.position==="top"){topOffset+=box.height;}}
return topOffset;},_addTopOffset:function(poligon,topOffset){poligon[0][1]=parseFloat(poligon[0][1])+topOffset;poligon[1][1]=parseFloat(poligon[1][1])+topOffset;poligon[2][1]=parseFloat(poligon[2][1])+topOffset;poligon[3][1]=parseFloat(poligon[3][1])+topOffset;return poligon;},getCornersBackup:function(){var vm=this._view;var globalOptionTrapeziumElements=globalOpts.elements.trapezium;var corners=[],type=vm.type||globalOptionTrapeziumElements.type,top=vm.y,borderWidth=vm.borderWidth||globalOptionTrapeziumElements.borderWidth,upHalfWidth=vm.upperWidth / 2,botHalfWidth=vm.bottomWidth / 2,halfStroke=borderWidth / 2;halfStroke=halfStroke<0?0:halfStroke;if(type=='isosceles'){var x=vm.x;corners=[[x-botHalfWidth+halfStroke,vm.base],[x-upHalfWidth+halfStroke,top+halfStroke],[x+upHalfWidth-halfStroke,top+halfStroke],[x+botHalfWidth-halfStroke,vm.base]];}else if(type=='scalene'){var x1=vm.x1,x2=vm.x2;corners=[[x2-botHalfWidth+halfStroke,vm.base],[x1-upHalfWidth+halfStroke,top+halfStroke],[x1+upHalfWidth-halfStroke,top+halfStroke],[x2+botHalfWidth-halfStroke,vm.base]];}
return corners;},draw:function(){var ctx=this._chart.ctx;var vm=this._view;var globalOptionTrapeziumElements=globalOpts.elements.trapezium;var corners=this.getCorners();this._cornersCache=corners;ctx.beginPath();ctx.fillStyle=vm.backgroundColor||globalOptionTrapeziumElements.backgroundColor;ctx.strokeStyle=vm.borderColor||globalOptionTrapeziumElements.borderColor;ctx.lineWidth=vm.borderWidth||globalOptionTrapeziumElements.borderWidth;var borders=['bottom','left','top','right'];var startCorner=borders.indexOf(vm.borderSkipped||globalOptionTrapeziumElements.borderSkipped,0);if(startCorner===-1)
startCorner=0;function cornerAt(index){return corners[(startCorner+index)%4];}
ctx.moveTo.apply(ctx,cornerAt(0));for(var i=1;i<4;i++)
ctx.lineTo.apply(ctx,cornerAt(i));ctx.fill();if(vm.borderWidth){ctx.stroke();}},height:function(){var vm=this._view;if(!vm){return 0;}
return vm.base-vm.y;},inRange:function(mouseX,mouseY){var vm=this._view;if(!vm){return false;}
var corners=this._cornersCache?this._cornersCache:this.getCorners();return pointInPolygon([mouseX,mouseY],corners);},inLabelRange:function(mouseX){var x,vm=this._view;if(!vm){return false;}
if(vm.type=='scalene'){if(vm.x1>vm.x2){return mouseX>=vm.x2-vm.bottomWidth / 2&&mouseX<=vm.x1+vm.upperWidth / 2;}else{return mouseX<=vm.x2+vm.bottomWidth / 2&&mouseX>=vm.x1-vm.upperWidth / 2;}}
var maxWidth=Math.max(vm.upperWidth,vm.bottomWidth);return mouseX>=vm.x-maxWidth / 2&&mouseX<=vm.x+maxWidth / 2;},getCenterPoint:function(){var vm=this._view;return{x:vm.x,y:vm.y};},tooltipPosition:function(){var vm=this._view;return{x:vm.x||vm.x2,y:vm.base-(vm.base-vm.y)/2};}});};},{}]},{},[2])(2)});
/* End of File include/javascript/chartjs/chart.funnel.js */

;// https://d3js.org Version 4.13.0. Copyright 2018 Mike Bostock.
(function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.d3sugar=t.d3sugar||{})})(this,function(t){"use strict";function n(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return 1===t.length&&(t=function(t){return function(e,r){return n(t(e),r)}}(t)),{left:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(null==r&&(r=0),null==i&&(i=n.length);r<i;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function r(t,n){return[t,n]}function i(t){return null===t?NaN:+t}function o(t,n){var e,r,o=t.length,u=0,a=-1,c=0,s=0;if(null==n)for(;++a<o;)isNaN(e=i(t[a]))||(s+=(r=e-c)*(e-(c+=r/++u)));else for(;++a<o;)isNaN(e=i(n(t[a],a,t)))||(s+=(r=e-c)*(e-(c+=r/++u)));if(u>1)return s/(u-1)}function u(t,n){var e=o(t,n);return e?Math.sqrt(e):e}function a(t,n){var e,r,i,o=t.length,u=-1;if(null==n){for(;++u<o;)if(null!=(e=t[u])&&e>=e)for(r=i=e;++u<o;)null!=(e=t[u])&&(r>e&&(r=e),i<e&&(i=e))}else for(;++u<o;)if(null!=(e=n(t[u],u,t))&&e>=e)for(r=i=e;++u<o;)null!=(e=n(t[u],u,t))&&(r>e&&(r=e),i<e&&(i=e));return[r,i]}function c(t){return function(){return t}}function s(t){return t}function f(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}function l(t,n,e){var r,i,o,u,a=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=h(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(t=Math.floor(t*u),n=Math.ceil(n*u),o=new Array(i=Math.ceil(t-n+1));++a<i;)o[a]=(t-a)/u;return r&&o.reverse(),o}function h(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Qu?10:o>=Ju?5:o>=Gu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Qu?10:o>=Ju?5:o>=Gu?2:1)}function d(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Qu?i*=10:o>=Ju?i*=5:o>=Gu&&(i*=2),n<t?-i:i}function p(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function _(t,n,e){if(null==e&&(e=i),r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,o=(r-1)*n,u=Math.floor(o),a=+e(t[u],u,t);return a+(+e(t[u+1],u+1,t)-a)*(o-u)}}function y(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&r>e&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&r>e&&(r=e);return r}function v(t){if(!(i=t.length))return[];for(var n=-1,e=y(t,g),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r}function g(t){return t.length}function m(t){return t}function x(t){return"translate("+(t+.5)+",0)"}function b(t){return"translate(0,"+(t+.5)+")"}function w(){return!this.__axis}function M(t,n){function e(e){var h=null==i?n.ticks?n.ticks.apply(n,r):n.domain():i,d=null==o?n.tickFormat?n.tickFormat.apply(n,r):m:o,p=Math.max(u,0)+c,_=n.range(),y=+_[0]+.5,v=+_[_.length-1]+.5,g=(n.bandwidth?function(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}:function(t){return function(n){return+t(n)}})(n.copy()),x=e.selection?e.selection():e,b=x.selectAll(".domain").data([null]),M=x.selectAll(".tick").data(h,n).order(),T=M.exit(),k=M.enter().append("g").attr("class","tick"),C=M.select("line"),N=M.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),M=M.merge(k),C=C.merge(k.append("line").attr("stroke","#000").attr(f+"2",s*u)),N=N.merge(k.append("text").attr("fill","#000").attr(f,s*p).attr("dy",t===ta?"0em":t===ea?"0.71em":"0.32em")),e!==x&&(b=b.transition(e),M=M.transition(e),C=C.transition(e),N=N.transition(e),T=T.transition(e).attr("opacity",ia).attr("transform",function(t){return isFinite(t=g(t))?l(t):this.getAttribute("transform")}),k.attr("opacity",ia).attr("transform",function(t){var n=this.parentNode.__axis;return l(n&&isFinite(n=n(t))?n:g(t))})),T.remove(),b.attr("d",t===ra||t==na?"M"+s*a+","+y+"H0.5V"+v+"H"+s*a:"M"+y+","+s*a+"V0.5H"+v+"V"+s*a),M.attr("opacity",1).attr("transform",function(t){return l(g(t))}),C.attr(f+"2",s*u),N.attr(f,s*p).text(d),x.filter(w).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===na?"start":t===ra?"end":"middle"),x.each(function(){this.__axis=g})}var r=[],i=null,o=null,u=6,a=6,c=3,s=t===ta||t===ra?-1:1,f=t===ra||t===na?"x":"y",l=t===ta||t===ea?x:b;return e.scale=function(t){return arguments.length?(n=t,e):n},e.ticks=function(){return r=Ku.call(arguments),e},e.tickArguments=function(t){return arguments.length?(r=null==t?[]:Ku.call(t),e):r.slice()},e.tickValues=function(t){return arguments.length?(i=null==t?null:Ku.call(t),e):i&&i.slice()},e.tickFormat=function(t){return arguments.length?(o=t,e):o},e.tickSize=function(t){return arguments.length?(u=a=+t,e):u},e.tickSizeInner=function(t){return arguments.length?(u=+t,e):u},e.tickSizeOuter=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(c=+t,e):c},e}function T(){}function k(t,n){var e=new T;if(t instanceof T)t.each(function(t,n){e.set(n,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var u in t)e.set(u,t[u]);return e}function C(){return{}}function N(t,n,e){t[n]=e}function A(){return k()}function S(t,n,e){t.set(n,e)}function E(){}function z(t,n){var e=new E;if(t instanceof E)t.each(function(t){e.add(t)});else if(t){var r=-1,i=t.length;if(null==n)for(;++r<i;)e.add(t[r]);else for(;++r<i;)e.add(n(t[r],r,t))}return e}function P(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function U(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function L(){}function D(t){var n;return t=(t+"").trim().toLowerCase(),(n=sa.exec(t))?(n=parseInt(n[1],16),new I(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1)):(n=fa.exec(t))?R(parseInt(n[1],16)):(n=la.exec(t))?new I(n[1],n[2],n[3],1):(n=ha.exec(t))?new I(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=da.exec(t))?q(n[1],n[2],n[3],n[4]):(n=pa.exec(t))?q(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_a.exec(t))?Y(n[1],n[2]/100,n[3]/100,1):(n=ya.exec(t))?Y(n[1],n[2]/100,n[3]/100,n[4]):va.hasOwnProperty(t)?R(va[t]):"transparent"===t?new I(NaN,NaN,NaN,0):null}function R(t){return new I(t>>16&255,t>>8&255,255&t,1)}function q(t,n,e,r){return r<=0&&(t=n=e=NaN),new I(t,n,e,r)}function O(t){return t instanceof L||(t=D(t)),t?(t=t.rgb(),new I(t.r,t.g,t.b,t.opacity)):new I}function F(t,n,e,r){return 1===arguments.length?O(t):new I(t,n,e,null==r?1:r)}function I(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Y(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new H(t,n,e,r)}function B(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof H)return new H(t.h,t.s,t.l,t.opacity);if(t instanceof L||(t=D(t)),!t)return new H;if(t instanceof H)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new H(u,a,c,t.opacity)}(t):new H(t,n,e,null==r?1:r)}function H(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function X(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function j(t){if(t instanceof $)return new $(t.l,t.a,t.b,t.opacity);if(t instanceof K){var n=t.h*ga;return new $(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}t instanceof I||(t=O(t));var e=J(t.r),r=J(t.g),i=J(t.b),o=W((.4124564*e+.3575761*r+.1804375*i)/xa),u=W((.2126729*e+.7151522*r+.072175*i)/ba);return new $(116*u-16,500*(o-u),200*(u-W((.0193339*e+.119192*r+.9503041*i)/wa)),t.opacity)}function V(t,n,e,r){return 1===arguments.length?j(t):new $(t,n,e,null==r?1:r)}function $(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function W(t){return t>Ca?Math.pow(t,1/3):t/ka+Ma}function Z(t){return t>Ta?t*t*t:ka*(t-Ma)}function Q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function J(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function G(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof K)return new K(t.h,t.c,t.l,t.opacity);t instanceof $||(t=j(t));var n=Math.atan2(t.b,t.a)*ma;return new K(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new K(t,n,e,null==r?1:r)}function K(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function tt(t,n,e,r){return 1===arguments.length?function(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);t instanceof I||(t=O(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Pa*r+Ea*n-za*e)/(Pa+Ea-za),o=r-i,u=(Sa*(e-i)-Na*o)/Aa,a=Math.sqrt(u*u+o*o)/(Sa*i*(1-i)),c=a?Math.atan2(u,o)*ma-120:NaN;return new nt(c<0?c+360:c,a,i,t.opacity)}(t):new nt(t,n,e,null==r?1:r)}function nt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function et(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new rt(r)}function rt(t){this._=t}function it(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=Ua,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}function ot(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Da.hasOwnProperty(n)?{space:Da[n],local:t}:t}function ut(t){var n=ot(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===La&&n.documentElement.namespaceURI===La?n.createElement(t):n.createElementNS(e,t)}})(n)}function at(){}function ct(t){return null==t?at:function(){return this.querySelector(t)}}function st(){return[]}function ft(t){return null==t?st:function(){return this.querySelectorAll(t)}}function lt(t){return new Array(t.length)}function ht(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function dt(t,n,e,r,i,o){for(var u,a=0,c=n.length,s=o.length;a<s;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new ht(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function pt(t,n,e,r,i,o,u){var a,c,s,f={},l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=s=Ia+u.call(c,c.__data__,a,n),s in f?i[a]=c:f[s]=c);for(a=0;a<h;++a)(c=f[s=Ia+u.call(t,o[a],a,o)])?(r[a]=c,c.__data__=o[a],f[s]=null):e[a]=new ht(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&f[d[a]]===c&&(i[a]=c)}function _t(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function yt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vt(t,n){return t.style.getPropertyValue(n)||yt(t).getComputedStyle(t,null).getPropertyValue(n)}function gt(t){return t.trim().split(/^|\s+/)}function mt(t){return t.classList||new xt(t)}function xt(t){this._node=t,this._names=gt(t.getAttribute("class")||"")}function bt(t,n){for(var e=mt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function wt(t,n){for(var e=mt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Mt(){this.textContent=""}function Tt(){this.innerHTML=""}function kt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Nt(){return null}function At(){var t=this.parentNode;t&&t.removeChild(this)}function St(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Et(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function zt(t,n,e){return t=Pt(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function Pt(n,e,r){return function(i){var o=t.event;t.event=i;try{n.call(this,this.__data__,e,r)}finally{t.event=o}}}function Ut(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function Lt(t,n,e){var r=Ya.hasOwnProperty(t.type)?zt:Pt;return function(i,o,u){var a,c=this.__on,s=r(n,o,u);if(c)for(var f=0,l=c.length;f<l;++f)if((a=c[f]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=e),void(a.value=n);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:n,listener:s,capture:e},c?c.push(a):this.__on=[a]}}function Dt(n,e,r,i){var o=t.event;n.sourceEvent=t.event,t.event=n;try{return e.apply(r,i)}finally{t.event=o}}function Rt(t,n,e){var r=yt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function qt(t,n){this._groups=t,this._parents=n}function Ot(){return new qt([[document.documentElement]],Ba)}function Ft(t){return"string"==typeof t?new qt([[document.querySelector(t)]],[document.documentElement]):new qt([[t]],Ba)}function It(){return new Yt}function Yt(){this._="@"+(++Ha).toString(36)}function Bt(){for(var n,e=t.event;n=e.sourceEvent;)e=n;return e}function Ht(t,n){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var i=t.getBoundingClientRect();return[n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop]}function Xt(t){var n=Bt();return n.changedTouches&&(n=n.changedTouches[0]),Ht(t,n)}function jt(t,n,e){arguments.length<3&&(e=n,n=Bt().changedTouches);for(var r,i=0,o=n?n.length:0;i<o;++i)if((r=n[i]).identifier===e)return Ht(t,r);return null}function Vt(){t.event.stopImmediatePropagation()}function $t(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Wt(t){var n=t.document.documentElement,e=Ft(t).on("dragstart.drag",$t,!0);"onselectstart"in n?e.on("selectstart.drag",$t,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Zt(t,n){var e=t.document.documentElement,r=Ft(t).on("dragstart.drag",null);n&&(r.on("click.drag",$t,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Qt(t){return function(){return t}}function Jt(t,n,e,r,i,o,u,a,c,s){this.target=t,this.type=n,this.subject=e,this.identifier=r,this.active=i,this.x=o,this.y=u,this.dx=a,this.dy=c,this._=s}function Gt(){return!t.event.button}function Kt(){return this.parentNode}function tn(n){return null==n?{x:t.event.x,y:t.event.y}:n}function nn(){return"ontouchstart"in this}function en(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}function rn(t){function n(t,n){function e(){if(s)return Va;if(f)return f=!1,ja;var n,e,r=a;if(t.charCodeAt(r)===$a){for(;a++<u&&t.charCodeAt(a)!==$a||t.charCodeAt(++a)===$a;);return(n=a)>=u?s=!0:(e=t.charCodeAt(a++))===Wa?f=!0:e===Za&&(f=!0,t.charCodeAt(a)===Wa&&++a),t.slice(r+1,n-1).replace(/""/g,'"')}for(;a<u;){if((e=t.charCodeAt(n=a++))===Wa)f=!0;else if(e===Za)f=!0,t.charCodeAt(a)===Wa&&++a;else if(e!==o)continue;return t.slice(r,n)}return s=!0,t.slice(r,u)}var r,i=[],u=t.length,a=0,c=0,s=u<=0,f=!1;for(t.charCodeAt(u-1)===Wa&&--u,t.charCodeAt(u-1)===Za&&--u;(r=e())!==Va;){for(var l=[];r!==ja&&r!==Va;)l.push(r),r=e();n&&null==(l=n(l,c++))||i.push(l)}return i}function e(n){return n.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,e){var r,i,o=n(t,function(t,n){if(r)return r(t,n-1);i=t,r=e?function(t,n){var e=en(t);return function(r,i){return n(e(r),i,t)}}(t,e):en(t)});return o.columns=i||[],o},parseRows:n,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(r).join(t)].concat(n.map(function(n){return e.map(function(t){return r(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(e).join("\n")}}}function on(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function un(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function an(t){return(1-Math.cos(sc*t))/2}function cn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function sn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function fn(t){return(t=+t)<lc?xc*t*t:t<dc?xc*(t-=hc)*t+pc:t<yc?xc*(t-=_c)*t+vc:xc*(t-=gc)*t+mc}function ln(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function hn(t){return(t=ln(Math.abs(t)))?t[1]:NaN}function dn(t,n){var e=ln(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function pn(t){return new _n(t)}function _n(t){if(!(n=Sc.exec(t)))throw new Error("invalid format: "+t);var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",o=n[4]||"",u=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),f=n[9]||"";"n"===f?(c=!0,f="g"):Ac[f]||(f=""),(u||"0"===e&&"="===r)&&(u=!0,e="0",r="="),this.fill=e,this.align=r,this.sign=i,this.symbol=o,this.zero=u,this.width=a,this.comma=c,this.precision=s,this.type=f}function yn(t){return t}function vn(t){function n(t){function n(t){var n,r,u,f=y,x=v;if("c"===_)x=g(t)+x,t="";else{var b=(t=+t)<0;if(t=g(Math.abs(t),p),b&&0==+t&&(b=!1),f=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+f,x=("s"===_?zc[8+Xa/3]:"")+x+(b&&"("===s?")":""),m)for(n=-1,r=t.length;++n<r;)if(48>(u=t.charCodeAt(n))||u>57){x=(46===u?i+t.slice(n+1):t.slice(n))+x,t=t.slice(0,n);break}}d&&!l&&(t=e(t,1/0));var w=f.length+t.length+x.length,M=w<h?new Array(h-w+1).join(a):"";switch(d&&l&&(t=e(M+t,M.length?h-x.length:1/0),M=""),c){case"<":t=f+t+x+M;break;case"=":t=f+M+t+x;break;case"^":t=M.slice(0,w=M.length>>1)+f+t+x+M.slice(w);break;default:t=M+f+t+x}return o(t)}var a=(t=pn(t)).fill,c=t.align,s=t.sign,f=t.symbol,l=t.zero,h=t.width,d=t.comma,p=t.precision,_=t.type,y="$"===f?r[0]:"#"===f&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",v="$"===f?r[1]:/[%p]/.test(_)?u:"",g=Ac[_],m=!_||/[defgprs%]/.test(_);return p=null==p?_?6:12:/[gprs]/.test(_)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),n.toString=function(){return t+""},n}var e=t.grouping&&t.thousands?function(t,n){return function(e,r){for(var i=e.length,o=[],u=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(e.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[u=(u+1)%t.length];return o.reverse().join(n)}}(t.grouping,t.thousands):yn,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}(t.numerals):yn,u=t.percent||"%";return{format:n,formatPrefix:function(t,e){var r=n((t=pn(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(hn(e)/3))),o=Math.pow(10,-i),u=zc[8+i/3];return function(t){return r(o*t)+u}}}}function gn(n){return Ec=vn(n),t.format=Ec.format,t.formatPrefix=Ec.formatPrefix,Ec}function mn(t){return Math.max(0,-hn(Math.abs(t)))}function xn(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hn(n)/3)))-hn(Math.abs(t)))}function bn(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,hn(n)-hn(t))+1}function wn(t,n){return t.parent===n.parent?1:2}function Mn(t,n){return t+n.x}function Tn(t,n){return Math.max(t,n.y)}function kn(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Cn(t,n){var e,r,i,o,u,a=new En(t),c=+t.value&&(a.value=t.value),s=[a];for(null==n&&(n=Nn);e=s.pop();)if(c&&(e.value=+e.data.value),(i=n(e.data))&&(u=i.length))for(e.children=new Array(u),o=u-1;o>=0;--o)s.push(r=e.children[o]=new En(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Sn)}function Nn(t){return t.children}function An(t){t.data=t.data.data}function Sn(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function En(t){this.data=t,this.depth=this.height=0,this.parent=null}function zn(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Pc.call(t))).length,o=[];r<i;)n=t[r],e&&Un(e,n)?++r:(e=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Dn(t[0],t[1]);case 3:return Rn(t[0],t[1],t[2])}}(o=function(t,n){var e,r;if(Ln(n,t))return[n];for(e=0;e<t.length;++e)if(Pn(n,t[e])&&Ln(Dn(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Pn(Dn(t[e],t[r]),n)&&Pn(Dn(t[e],n),t[r])&&Pn(Dn(t[r],n),t[e])&&Ln(Rn(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}(o,n)),r=0);return e}function Pn(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function Un(t,n){var e=t.r-n.r+1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function Ln(t,n){for(var e=0;e<n.length;++e)if(!Un(t,n[e]))return!1;return!0}function Dn(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,s=u-r,f=a-i,l=Math.sqrt(c*c+s*s);return{x:(e+o+c/l*f)/2,y:(r+u+s/l*f)/2,r:(l+i+a)/2}}function Rn(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,s=e.x,f=e.y,l=e.r,h=r-u,d=r-s,p=i-a,_=i-f,y=c-o,v=l-o,g=r*r+i*i-o*o,m=g-u*u-a*a+c*c,x=g-s*s-f*f+l*l,b=d*p-h*_,w=(p*x-_*m)/(2*b)-r,M=(_*y-p*v)/b,T=(d*m-h*x)/(2*b)-i,k=(h*v-d*y)/b,C=M*M+k*k-1,N=2*(o+w*M+T*k),A=w*w+T*T-o*o,S=-(C?(N+Math.sqrt(N*N-4*C*A))/(2*C):A/N);return{x:r+w+M*S,y:i+T+k*S,r:S}}function qn(t,n,e){var r=t.x,i=t.y,o=n.r+e.r,u=t.r+e.r,a=n.x-r,c=n.y-i,s=a*a+c*c;if(s){var f=.5+((u*=u)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(u+s)-(u-=s)*u-o*o))/(2*s);e.x=r+f*a+l*c,e.y=i+f*c-l*a}else e.x=r+u,e.y=i}function On(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return i*i-1e-6>e*e+r*r}function Fn(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function In(t){this._=t,this.next=null,this.previous=null}function Yn(t){if(!(i=t.length))return 0;var n,e,r,i,o,u,a,c,s,f,l;if(n=t[0],n.x=0,n.y=0,!(i>1))return n.r;if(e=t[1],n.x=-e.r,e.x=n.r,e.y=0,!(i>2))return n.r+e.r;qn(e,n,r=t[2]),n=new In(n),e=new In(e),r=new In(r),n.next=r.previous=e,e.next=n.previous=r,r.next=e.previous=n;t:for(a=3;a<i;++a){qn(n._,e._,r=t[a]),r=new In(r),c=e.next,s=n.previous,f=e._.r,l=n._.r;do{if(f<=l){if(On(c._,r._)){e=c,n.next=e,e.previous=n,--a;continue t}f+=c._.r,c=c.next}else{if(On(s._,r._)){(n=s).next=e,e.previous=n,--a;continue t}l+=s._.r,s=s.previous}}while(c!==s.next);for(r.previous=n,r.next=e,n.next=e.previous=e=r,o=Fn(n);(r=r.next)!==e;)(u=Fn(r))<o&&(n=r,o=u);e=n.next}for(n=[e._],r=e;(r=r.next)!==e;)n.push(r._);for(r=zn(n),a=0;a<i;++a)n=t[a],n.x-=r.x,n.y-=r.y;return r.r}function Bn(t){if("function"!=typeof t)throw new Error;return t}function Hn(){return 0}function Xn(t){return function(){return t}}function jn(t){return Math.sqrt(t.value)}function Vn(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function $n(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=Yn(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function Wn(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}function Zn(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Qn(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*s}function Jn(t){return t.id}function Gn(t){return t.parentId}function Kn(t,n){return t.parent===n.parent?1:2}function te(t){var n=t.children;return n?n[0]:t.t}function ne(t){var n=t.children;return n?n[n.length-1]:t.t}function ee(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function re(t,n,e){return t.a.parent===n.parent?t.a:e}function ie(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function oe(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,s=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*s}function ue(t,n,e,r,i,o){for(var u,a,c,s,f,l,h,d,p,_,y,v=[],g=n.children,m=0,x=0,b=g.length,w=n.value;m<b;){c=i-e,s=o-r;do{f=g[x++].value}while(!f&&x<b);for(l=h=f,y=f*f*(_=Math.max(s/c,c/s)/(w*t)),p=Math.max(h/y,y/l);x<b;++x){if(f+=a=g[x].value,a<l&&(l=a),a>h&&(h=a),y=f*f*_,(d=Math.max(h/y,y/l))>p){f-=a;break}p=d}v.push(u={value:f,dice:c<s,children:g.slice(m,x)}),u.dice?Qn(u,e,r,i,w?r+=s*f/w:o):oe(u,e,r,w?e+=c*f/w:i,o),w-=f,m=x}return v}function ae(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}function ce(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return ae((e-r/n)*n,u,i,o,a)}}function se(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return ae((e-r/n)*n,i,o,u,a)}}function fe(t){return function(){return t}}function le(t,n){return function(e){return t+e*n}}function he(t,n){var e=n-t;return e?le(t,e>180||e<-180?e-360*Math.round(e/360):e):fe(isNaN(t)?n:t)}function de(t){return 1==(t=+t)?pe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):fe(isNaN(n)?e:n)}}function pe(t,n){var e=n-t;return e?le(t,e):fe(isNaN(t)?n:t)}function _e(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=F(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}function ye(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=be(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}function ve(t,n){var e=new Date;return t=+t,n-=t,function(r){return e.setTime(t+n*r),e}}function ge(t,n){return t=+t,n-=t,function(e){return t+n*e}}function me(t,n){var e,r={},i={};null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={});for(e in n)e in t?r[e]=be(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}function xe(t,n){var e,r,i,o=Vc.lastIndex=$c.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Vc.exec(t))&&(r=$c.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:ge(e,r)})),o=$c.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})}function be(t,n){var e,r=typeof n;return null==n||"boolean"===r?fe(n):("number"===r?ge:"string"===r?(e=D(n))?(n=e,Hc):xe:n instanceof D?Hc:n instanceof Date?ve:Array.isArray(n)?ye:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?me:ge)(t,n)}function we(t,n){return t=+t,n-=t,function(e){return Math.round(t+n*e)}}function Me(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Wc,skewX:Math.atan(c)*Wc,scaleX:u,scaleY:a}}function Te(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:ge(t,i)},{i:c-2,x:ge(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:ge(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:ge(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:ge(t,e)},{i:a-2,x:ge(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}function ke(t){return((t=Math.exp(t))+1/t)/2}function Ce(t,n){var e,r,i=t[0],o=t[1],u=t[2],a=n[0],c=n[1],s=n[2],f=a-i,l=c-o,h=f*f+l*l;if(h<ns)r=Math.log(s/u)/Gc,e=function(t){return[i+t*f,o+t*l,u*Math.exp(Gc*t*r)]};else{var d=Math.sqrt(h),p=(s*s-u*u+ts*h)/(2*u*Kc*d),_=(s*s-u*u-ts*h)/(2*s*Kc*d),y=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(_*_+1)-_);r=(v-y)/Gc,e=function(t){var n=t*r,e=ke(y),a=u/(Kc*d)*(e*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(Gc*n+y)-function(t){return((t=Math.exp(t))-1/t)/2}(y));return[i+a*f,o+a*l,u*e/ke(Gc*n+y)]}}return e.duration=1e3*r,e}function Ne(t){return function(n,e){var r=t((n=B(n)).h,(e=B(e)).h),i=pe(n.s,e.s),o=pe(n.l,e.l),u=pe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function Ae(t){return function(n,e){var r=t((n=G(n)).h,(e=G(e)).h),i=pe(n.c,e.c),o=pe(n.l,e.l),u=pe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}function Se(t){return function n(e){function r(n,r){var i=t((n=tt(n)).h,(r=tt(r)).h),o=pe(n.s,r.s),u=pe(n.l,r.l),a=pe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}function Ee(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ze(){return new Ee}function Pe(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function Ue(t,n){return t[0]-n[0]||t[1]-n[1]}function Le(t){for(var n=t.length,e=[0,1],r=2,i=2;i<n;++i){for(;r>1&&Pe(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function De(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Re(t){if(!t._start)try{(function(t){for(;t._start=t._waiting&&t._active<t._size;){var n=t._ended+t._active,e=t._tasks[n],r=e.length-1,i=e[r];e[r]=function(t,n){return function(e,r){t._tasks[n]&&(--t._active,++t._ended,t._tasks[n]=null,null==t._error&&(null!=e?qe(t,e):(t._data[n]=r,t._waiting?Re(t):Oe(t))))}}(t,n),--t._waiting,++t._active,e=i.apply(null,e),t._tasks[n]&&(t._tasks[n]=e||hs)}})(t)}catch(n){if(t._tasks[t._ended+t._active-1])qe(t,n);else if(!t._data)throw n}}function qe(t,n){var e,r=t._tasks.length;for(t._error=n,t._data=void 0,t._waiting=NaN;--r>=0;)if((e=t._tasks[r])&&(t._tasks[r]=null,e.abort))try{e.abort()}catch(n){}t._active=NaN,Oe(t)}function Oe(t){if(!t._active&&t._call){var n=t._data;t._data=void 0,t._call(t._error,n)}}function Fe(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new De(t)}function Ie(){return Math.random()}function Ye(t,n){function e(t){var n,e=s.status;if(!e&&function(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}(s)||e>=200&&e<300||304===e){if(o)try{n=o.call(r,s)}catch(t){return void a.call("error",r,t)}else n=s;a.call("load",r,n)}else a.call("error",r,t)}var r,i,o,u,a=et("beforesend","progress","load","error"),c=k(),s=new XMLHttpRequest,f=null,l=null,h=0;if("undefined"==typeof XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=s.ontimeout=e:s.onreadystatechange=function(t){s.readyState>3&&e(t)},s.onprogress=function(t){a.call("progress",r,t)},r={header:function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==n?c.remove(t):c.set(t,n+""),r)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",r):i},responseType:function(t){return arguments.length?(u=t,r):u},timeout:function(t){return arguments.length?(h=+t,r):h},user:function(t){return arguments.length<1?f:(f=null==t?null:t+"",r)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",r)},response:function(t){return o=t,r},get:function(t,n){return r.send("GET",t,n)},post:function(t,n){return r.send("POST",t,n)},send:function(n,e,o){return s.open(n,t,!0,f,l),null==i||c.has("accept")||c.set("accept",i+",*/*"),s.setRequestHeader&&c.each(function(t,n){s.setRequestHeader(n,t)}),null!=i&&s.overrideMimeType&&s.overrideMimeType(i),null!=u&&(s.responseType=u),h>0&&(s.timeout=h),null==o&&"function"==typeof e&&(o=e,e=null),null!=o&&1===o.length&&(o=function(t){return function(n,e){t(null==n?e:null)}}(o)),null!=o&&r.on("error",o).on("load",function(t){o(null,t)}),a.call("beforesend",r,s),s.send(null==e?null:e),r},abort:function(){return s.abort(),r},on:function(){var t=a.on.apply(a,arguments);return t===a?r:t}},null!=n){if("function"!=typeof n)throw new Error("invalid callback: "+n);return r.get(n)}return r}function Be(t,n){return function(e,r){var i=Ye(e).mimeType(t).response(n);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function He(t,n){return function(e,r,i){arguments.length<3&&(i=r,r=null);var o=Ye(e).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,n){return function(e){return t(e.responseText,n)}}(n,r=t)):r},o.row(r),i?o.get(i):o}}function Xe(t){function n(n){var o=n+"",u=e.get(o);if(!u){if(i!==As)return i;e.set(o,u=r.push(n))}return t[(u-1)%t.length]}var e=k(),r=[],i=As;return t=null==t?[]:Ns.call(t),n.domain=function(t){if(!arguments.length)return r.slice();r=[],e=k();for(var i,o,u=-1,a=t.length;++u<a;)e.has(o=(i=t[u])+"")||e.set(o,r.push(i));return n},n.range=function(e){return arguments.length?(t=Ns.call(e),n):t.slice()},n.unknown=function(t){return arguments.length?(i=t,n):i},n.copy=function(){return Xe().domain(r).range(t).unknown(i)},n}function je(){function t(){var t=i().length,r=u[1]<u[0],h=u[r-0],d=u[1-r];n=(d-h)/Math.max(1,t-c+2*s),a&&(n=Math.floor(n)),h+=(d-h-n*(t-c))*l,e=n*(1-c),a&&(h=Math.round(h),e=Math.round(e));var p=f(t).map(function(t){return h+n*t});return o(r?p.reverse():p)}var n,e,r=Xe().unknown(void 0),i=r.domain,o=r.range,u=[0,1],a=!1,c=0,s=0,l=.5;return delete r.unknown,r.domain=function(n){return arguments.length?(i(n),t()):i()},r.range=function(n){return arguments.length?(u=[+n[0],+n[1]],t()):u.slice()},r.rangeRound=function(n){return u=[+n[0],+n[1]],a=!0,t()},r.bandwidth=function(){return e},r.step=function(){return n},r.round=function(n){return arguments.length?(a=!!n,t()):a},r.padding=function(n){return arguments.length?(c=s=Math.max(0,Math.min(1,n)),t()):c},r.paddingInner=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),t()):c},r.paddingOuter=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),t()):s},r.align=function(n){return arguments.length?(l=Math.max(0,Math.min(1,n)),t()):l},r.copy=function(){return je().domain(i()).range(u).round(a).paddingInner(c).paddingOuter(s).align(l)},t()}function Ve(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ve(n())},t}function $e(t){return function(){return t}}function We(t){return+t}function Ze(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:$e(n)}function Qe(t,n,e,r){var i=t[0],o=t[1],u=n[0],a=n[1];return o<i?(i=e(o,i),u=r(a,u)):(i=e(i,o),u=r(u,a)),function(t){return u(i(t))}}function Je(t,n,e,r){var i=Math.min(t.length,n.length)-1,o=new Array(i),u=new Array(i),a=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<i;)o[a]=e(t[a],t[a+1]),u[a]=r(n[a],n[a+1]);return function(n){var e=ju(t,n,1,i)-1;return u[e](o[e](n))}}function Ge(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ke(t,n){function e(){return i=Math.min(a.length,c.length)>2?Je:Qe,o=u=null,r}function r(n){return(o||(o=i(a,c,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=n?0:t>=e?1:r(t)}}}(t):t,s)))(+n)}var i,o,u,a=Ss,c=Ss,s=be,f=!1;return r.invert=function(t){return(u||(u=i(c,a,Ze,f?function(t){return function(n,e){var r=t(n=+n,e=+e);return function(t){return t<=0?n:t>=1?e:r(t)}}}(n):n)))(+t)},r.domain=function(t){return arguments.length?(a=Cs.call(t,We),e()):a.slice()},r.range=function(t){return arguments.length?(c=Ns.call(t),e()):c.slice()},r.rangeRound=function(t){return c=Ns.call(t),s=we,e()},r.clamp=function(t){return arguments.length?(f=!!t,e()):f},r.interpolate=function(t){return arguments.length?(s=t,e()):s},e()}function tr(n){var e=n.domain;return n.ticks=function(t){var n=e();return l(n[0],n[n.length-1],null==t?10:t)},n.tickFormat=function(n,r){return function(n,e,r){var i,o=n[0],u=n[n.length-1],a=d(o,u,null==e?10:e);switch((r=pn(null==r?",f":r)).type){case"s":var c=Math.max(Math.abs(o),Math.abs(u));return null!=r.precision||isNaN(i=xn(a,c))||(r.precision=i),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=bn(a,Math.max(Math.abs(o),Math.abs(u))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=mn(a))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(e(),n,r)},n.nice=function(t){null==t&&(t=10);var r,i=e(),o=0,u=i.length-1,a=i[o],c=i[u];return c<a&&(r=a,a=c,c=r,r=o,o=u,u=r),(r=h(a,c,t))>0?r=h(a=Math.floor(a/r)*r,c=Math.ceil(c/r)*r,t):r<0&&(r=h(a=Math.ceil(a*r)/r,c=Math.floor(c*r)/r,t)),r>0?(i[o]=Math.floor(a/r)*r,i[u]=Math.ceil(c/r)*r,e(i)):r<0&&(i[o]=Math.ceil(a*r)/r,i[u]=Math.floor(c*r)/r,e(i)),n},n}function nr(){var t=Ke(Ze,ge);return t.copy=function(){return Ge(t,nr())},tr(t)}function er(){function t(t){return+t}var n=[0,1];return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=Cs.call(e,We),t):n.slice()},t.copy=function(){return er().domain(n)},tr(t)}function rr(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t}function ir(t,n){return(n=Math.log(n/t))?function(e){return Math.log(e/t)/n}:$e(n)}function or(t,n){return t<0?function(e){return-Math.pow(-n,e)*Math.pow(-t,1-e)}:function(e){return Math.pow(n,e)*Math.pow(t,1-e)}}function ur(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ar(t){return 10===t?ur:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}function cr(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}function sr(t){return function(n){return-t(-n)}}function fr(){function n(){return o=cr(i),u=ar(i),r()[0]<0&&(o=sr(o),u=sr(u)),e}var e=Ke(ir,or).domain([1,10]),r=e.domain,i=10,o=cr(10),u=ar(10);return e.base=function(t){return arguments.length?(i=+t,n()):i},e.domain=function(t){return arguments.length?(r(t),n()):r()},e.ticks=function(t){var n,e=r(),a=e[0],c=e[e.length-1];(n=c<a)&&(d=a,a=c,c=d);var s,f,h,d=o(a),p=o(c),_=null==t?10:+t,y=[];if(!(i%1)&&p-d<_){if(d=Math.round(d)-1,p=Math.round(p)+1,a>0){for(;d<p;++d)for(f=1,s=u(d);f<i;++f)if(!((h=s*f)<a)){if(h>c)break;y.push(h)}}else for(;d<p;++d)for(f=i-1,s=u(d);f>=1;--f)if(!((h=s*f)<a)){if(h>c)break;y.push(h)}}else y=l(d,p,Math.min(p-d,_)).map(u);return n?y.reverse():y},e.tickFormat=function(n,r){if(null==r&&(r=10===i?".0e":","),"function"!=typeof r&&(r=t.format(r)),n===1/0)return r;null==n&&(n=10);var a=Math.max(1,i*n/e.ticks().length);return function(t){var n=t/u(Math.round(o(t)));return n*i<i-.5&&(n*=i),n<=a?r(t):""}},e.nice=function(){return r(rr(r(),{floor:function(t){return u(Math.floor(o(t)))},ceil:function(t){return u(Math.ceil(o(t)))}}))},e.copy=function(){return Ge(e,fr().base(i))},e}function lr(t,n){return t<0?-Math.pow(-t,n):Math.pow(t,n)}function hr(){var t=1,n=Ke(function(n,e){return(e=lr(e,t)-(n=lr(n,t)))?function(r){return(lr(r,t)-n)/e}:$e(e)},function(n,e){return e=lr(e,t)-(n=lr(n,t)),function(r){return lr(n+e*r,1/t)}}),e=n.domain;return n.exponent=function(n){return arguments.length?(t=+n,e(e())):t},n.copy=function(){return Ge(n,hr().exponent(t))},tr(n)}function dr(){function t(){var t=0,n=Math.max(1,i.length);for(o=new Array(n-1);++t<n;)o[t-1]=_(r,t/n);return e}function e(t){if(!isNaN(t=+t))return i[ju(o,t)]}var r=[],i=[],o=[];return e.invertExtent=function(t){var n=i.indexOf(t);return n<0?[NaN,NaN]:[n>0?o[n-1]:r[0],n<o.length?o[n]:r[r.length-1]]},e.domain=function(e){if(!arguments.length)return r.slice();r=[];for(var i,o=0,u=e.length;o<u;++o)null==(i=e[o])||isNaN(i=+i)||r.push(i);return r.sort(n),t()},e.range=function(n){return arguments.length?(i=Ns.call(n),t()):i.slice()},e.quantiles=function(){return o.slice()},e.copy=function(){return dr().domain(r).range(i)},e}function pr(){function t(t){if(t<=t)return u[ju(o,t,0,i)]}function n(){var n=-1;for(o=new Array(i);++n<i;)o[n]=((n+1)*r-(n-i)*e)/(i+1);return t}var e=0,r=1,i=1,o=[.5],u=[0,1];return t.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n()):[e,r]},t.range=function(t){return arguments.length?(i=(u=Ns.call(t)).length-1,n()):u.slice()},t.invertExtent=function(t){var n=u.indexOf(t);return n<0?[NaN,NaN]:n<1?[e,o[0]]:n>=i?[o[i-1],r]:[o[n-1],o[n]]},t.copy=function(){return pr().domain([e,r]).range(u)},tr(t)}function _r(){function t(t){if(t<=t)return e[ju(n,t,0,r)]}var n=[.5],e=[0,1],r=1;return t.domain=function(i){return arguments.length?(n=Ns.call(i),r=Math.min(n.length,e.length-1),t):n.slice()},t.range=function(i){return arguments.length?(e=Ns.call(i),r=Math.min(n.length,e.length-1),t):e.slice()},t.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},t.copy=function(){return _r().domain(n).range(e)},t}function yr(t,n,e,r){function i(n){return t(n=new Date(+n)),n}return i.floor=i,i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return yr(function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););})},e&&(i.count=function(n,r){return Es.setTime(+n),zs.setTime(+r),t(Es),t(zs),Math.floor(e(Es,zs))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}function vr(t){return yr(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/Ds})}function gr(t){return yr(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/Ds})}function mr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function br(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function wr(t){function n(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,s=t.length;for(e instanceof Date||(e=new Date(+e));++a<s;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Lf[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function e(t,n){return function(e){var i,o,u=br(1900);if(r(u,t,e+="",0)!=e.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(o=(i=xr(br(u.y))).getUTCDay())>4||0===o?yf.ceil(i):yf(i),i=df.offset(i,7*(u.V-1)),u.y=i.getUTCFullYear(),u.m=i.getUTCMonth(),u.d=i.getUTCDate()+(u.w+6)%7):(i=(o=(i=n(br(u.y))).getDay())>4||0===o?js.ceil(i):js(i),i=Bs.offset(i,7*(u.V-1)),u.y=i.getFullYear(),u.m=i.getMonth(),u.d=i.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),o="Z"in u?xr(br(u.y)).getUTCDay():n(br(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(o+5)%7:u.w+7*u.U-(o+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,xr(u)):n(u)}}function r(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=T[i in Lf?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,u=t.time,a=t.periods,c=t.days,s=t.shortDays,f=t.months,l=t.shortMonths,h=kr(a),d=Cr(a),p=kr(c),_=Cr(c),y=kr(s),v=Cr(s),g=kr(f),m=Cr(f),x=kr(l),b=Cr(l),w={a:function(t){return s[t.getDay()]},A:function(t){return c[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return f[t.getMonth()]},c:null,d:Vr,e:Vr,f:Jr,H:$r,I:Wr,j:Zr,L:Qr,m:Gr,M:Kr,p:function(t){return a[+(t.getHours()>=12)]},Q:Ni,s:Ai,S:ti,u:ni,U:ei,V:ri,w:ii,W:oi,x:null,X:null,y:ui,Y:ai,Z:ci,"%":Ci},M={a:function(t){return s[t.getUTCDay()]},A:function(t){return c[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return f[t.getUTCMonth()]},c:null,d:si,e:si,f:pi,H:fi,I:li,j:hi,L:di,m:_i,M:yi,p:function(t){return a[+(t.getUTCHours()>=12)]},Q:Ni,s:Ai,S:vi,u:gi,U:mi,V:xi,w:bi,W:wi,x:null,X:null,y:Mi,Y:Ti,Z:ki,"%":Ci},T={a:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1},A:function(t,n,e){var r=p.exec(n.slice(e));return r?(t.w=_[r[0].toLowerCase()],e+r[0].length):-1},b:function(t,n,e){var r=x.exec(n.slice(e));return r?(t.m=b[r[0].toLowerCase()],e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=m[r[0].toLowerCase()],e+r[0].length):-1},c:function(t,n,e){return r(t,i,n,e)},d:Rr,e:Rr,f:Br,H:Or,I:Or,j:qr,L:Yr,m:Dr,M:Fr,p:function(t,n,e){var r=h.exec(n.slice(e));return r?(t.p=d[r[0].toLowerCase()],e+r[0].length):-1},Q:Xr,s:jr,S:Ir,u:Ar,U:Sr,V:Er,w:Nr,W:zr,x:function(t,n,e){return r(t,o,n,e)},X:function(t,n,e){return r(t,u,n,e)},y:Ur,Y:Pr,Z:Lr,"%":Hr};return w.x=n(o,w),w.X=n(u,w),w.c=n(i,w),M.x=n(o,M),M.X=n(u,M),M.c=n(i,M),{format:function(t){var e=n(t+="",w);return e.toString=function(){return t},e},parse:function(t){var n=e(t+="",mr);return n.toString=function(){return t},n},utcFormat:function(t){var e=n(t+="",M);return e.toString=function(){return t},e},utcParse:function(t){var n=e(t,xr);return n.toString=function(){return t},n}}}function Mr(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function Tr(t){return t.replace(qf,"\\$&")}function kr(t){return new RegExp("^(?:"+t.map(Tr).join("|")+")","i")}function Cr(t){for(var n={},e=-1,r=t.length;++e<r;)n[t[e].toLowerCase()]=e;return n}function Nr(t,n,e){var r=Df.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ar(t,n,e){var r=Df.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Sr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Er(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function zr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Pr(t,n,e){var r=Df.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Ur(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Lr(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Dr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Rr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function qr(t,n,e){var r=Df.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Or(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Fr(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Ir(t,n,e){var r=Df.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Yr(t,n,e){var r=Df.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Br(t,n,e){var r=Df.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Hr(t,n,e){var r=Rf.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Xr(t,n,e){var r=Df.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function jr(t,n,e){var r=Df.exec(n.slice(e));return r?(t.Q=1e3*+r[0],e+r[0].length):-1}function Vr(t,n){return Mr(t.getDate(),n,2)}function $r(t,n){return Mr(t.getHours(),n,2)}function Wr(t,n){return Mr(t.getHours()%12||12,n,2)}function Zr(t,n){return Mr(1+Bs.count(af(t),t),n,3)}function Qr(t,n){return Mr(t.getMilliseconds(),n,3)}function Jr(t,n){return Qr(t,n)+"000"}function Gr(t,n){return Mr(t.getMonth()+1,n,2)}function Kr(t,n){return Mr(t.getMinutes(),n,2)}function ti(t,n){return Mr(t.getSeconds(),n,2)}function ni(t){var n=t.getDay();return 0===n?7:n}function ei(t,n){return Mr(Xs.count(af(t),t),n,2)}function ri(t,n){var e=t.getDay();return t=e>=4||0===e?Ws(t):Ws.ceil(t),Mr(Ws.count(af(t),t)+(4===af(t).getDay()),n,2)}function ii(t){return t.getDay()}function oi(t,n){return Mr(js.count(af(t),t),n,2)}function ui(t,n){return Mr(t.getFullYear()%100,n,2)}function ai(t,n){return Mr(t.getFullYear()%1e4,n,4)}function ci(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Mr(n/60|0,"0",2)+Mr(n%60,"0",2)}function si(t,n){return Mr(t.getUTCDate(),n,2)}function fi(t,n){return Mr(t.getUTCHours(),n,2)}function li(t,n){return Mr(t.getUTCHours()%12||12,n,2)}function hi(t,n){return Mr(1+df.count(zf(t),t),n,3)}function di(t,n){return Mr(t.getUTCMilliseconds(),n,3)}function pi(t,n){return di(t,n)+"000"}function _i(t,n){return Mr(t.getUTCMonth()+1,n,2)}function yi(t,n){return Mr(t.getUTCMinutes(),n,2)}function vi(t,n){return Mr(t.getUTCSeconds(),n,2)}function gi(t){var n=t.getUTCDay();return 0===n?7:n}function mi(t,n){return Mr(_f.count(zf(t),t),n,2)}function xi(t,n){var e=t.getUTCDay();return t=e>=4||0===e?mf(t):mf.ceil(t),Mr(mf.count(zf(t),t)+(4===zf(t).getUTCDay()),n,2)}function bi(t){return t.getUTCDay()}function wi(t,n){return Mr(yf.count(zf(t),t),n,2)}function Mi(t,n){return Mr(t.getUTCFullYear()%100,n,2)}function Ti(t,n){return Mr(t.getUTCFullYear()%1e4,n,4)}function ki(){return"+0000"}function Ci(){return"%"}function Ni(t){return+t}function Ai(t){return Math.floor(+t/1e3)}function Si(n){return Pf=wr(n),t.timeFormat=Pf.format,t.timeParse=Pf.parse,t.utcFormat=Pf.utcFormat,t.utcParse=Pf.utcParse,Pf}function Ei(t){return new Date(t)}function zi(t){return t instanceof Date?+t:+new Date(+t)}function Pi(t,n,r,i,o,u,a,c,s){function f(e){return(a(e)<e?y:u(e)<e?v:o(e)<e?g:i(e)<e?m:n(e)<e?r(e)<e?x:b:t(e)<e?w:M)(e)}function l(n,r,i,o){if(null==n&&(n=10),"number"==typeof n){var u=Math.abs(i-r)/n,a=e(function(t){return t[2]}).right(T,u);a===T.length?(o=d(r/$f,i/$f,n),n=t):a?(o=(a=T[u/T[a-1][2]<T[a][2]/u?a-1:a])[1],n=a[0]):(o=Math.max(d(r,i,n),1),n=c)}return null==o?n:n.every(o)}var h=Ke(Ze,ge),p=h.invert,_=h.domain,y=s(".%L"),v=s(":%S"),g=s("%I:%M"),m=s("%I %p"),x=s("%a %d"),b=s("%b %d"),w=s("%B"),M=s("%Y"),T=[[a,1,Yf],[a,5,5*Yf],[a,15,15*Yf],[a,30,30*Yf],[u,1,Bf],[u,5,5*Bf],[u,15,15*Bf],[u,30,30*Bf],[o,1,Hf],[o,3,3*Hf],[o,6,6*Hf],[o,12,12*Hf],[i,1,Xf],[i,2,2*Xf],[r,1,jf],[n,1,Vf],[n,3,3*Vf],[t,1,$f]];return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?_(Cs.call(t,zi)):_().map(Ei)},h.ticks=function(t,n){var e,r=_(),i=r[0],o=r[r.length-1],u=o<i;return u&&(e=i,i=o,o=e),e=l(t,i,o,n),e=e?e.range(i,o+1):[],u?e.reverse():e},h.tickFormat=function(t,n){return null==n?f:s(n)},h.nice=function(t,n){var e=_();return(t=l(t,e[0],e[e.length-1],n))?_(rr(e,t)):h},h.copy=function(){return Ge(h,Pi(t,n,r,i,o,u,a,c,s))},h}function Ui(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Li(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}function Di(t){function n(n){var o=(n-e)/(r-e);return t(i?Math.max(0,Math.min(1,o)):o)}var e=0,r=1,i=!1;return n.domain=function(t){return arguments.length?(e=+t[0],r=+t[1],n):[e,r]},n.clamp=function(t){return arguments.length?(i=!!t,n):i},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return Di(t).domain([e,r]).clamp(i)},tr(n)}function Ri(t){return function(){return t}}function qi(t){return t>=1?_l:t<=-1?-_l:Math.asin(t)}function Oi(t){return t.innerRadius}function Fi(t){return t.outerRadius}function Ii(t){return t.startAngle}function Yi(t){return t.endAngle}function Bi(t){return t&&t.padAngle}function Hi(t,n,e,r,i,o,u){var a=t-e,c=n-r,s=(u?o:-o)/hl(a*a+c*c),f=s*c,l=-s*a,h=t+f,d=n+l,p=e+f,_=r+l,y=(h+p)/2,v=(d+_)/2,g=p-h,m=_-d,x=g*g+m*m,b=i-o,w=h*_-p*d,M=(m<0?-1:1)*hl(sl(0,b*b*x-w*w)),T=(w*m-g*M)/x,k=(-w*g-m*M)/x,C=(w*m+g*M)/x,N=(-w*g+m*M)/x,A=T-y,S=k-v,E=C-y,z=N-v;return A*A+S*S>E*E+z*z&&(T=C,k=N),{cx:T,cy:k,x01:-f,y01:-l,x11:T*(i/b-1),y11:k*(i/b-1)}}function Xi(t){this._context=t}function ji(t){return new Xi(t)}function Vi(t){return t[0]}function $i(t){return t[1]}function Wi(){function t(t){var a,c,s,f=t.length,l=!1;for(null==i&&(u=o(s=ze())),a=0;a<=f;++a)!(a<f&&r(c=t[a],a,t))===l&&((l=!l)?u.lineStart():u.lineEnd()),l&&u.point(+n(c,a,t),+e(c,a,t));if(s)return u=null,s+""||null}var n=Vi,e=$i,r=Ri(!0),i=null,o=ji,u=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.defined=function(n){return arguments.length?(r="function"==typeof n?n:Ri(!!n),t):r},t.curve=function(n){return arguments.length?(o=n,null!=i&&(u=o(i)),t):o},t.context=function(n){return arguments.length?(null==n?i=u=null:u=o(i=n),t):i},t}function Zi(){function t(t){var n,f,l,h,d,p=t.length,_=!1,y=new Array(p),v=new Array(p);for(null==a&&(s=c(d=ze())),n=0;n<=p;++n){if(!(n<p&&u(h=t[n],n,t))===_)if(_=!_)f=n,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),l=n-1;l>=f;--l)s.point(y[l],v[l]);s.lineEnd(),s.areaEnd()}_&&(y[n]=+e(h,n,t),v[n]=+i(h,n,t),s.point(r?+r(h,n,t):y[n],o?+o(h,n,t):v[n]))}if(d)return s=null,d+""||null}function n(){return Wi().defined(u).curve(c).context(a)}var e=Vi,r=null,i=Ri(0),o=$i,u=Ri(!0),a=null,c=ji,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),r=null,t):e},t.x0=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.x1=function(n){return arguments.length?(r=null==n?null:"function"==typeof n?n:Ri(+n),t):r},t.y=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),o=null,t):i},t.y0=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.y1=function(n){return arguments.length?(o=null==n?null:"function"==typeof n?n:Ri(+n),t):o},t.lineX0=t.lineY0=function(){return n().x(e).y(i)},t.lineY1=function(){return n().x(e).y(o)},t.lineX1=function(){return n().x(r).y(i)},t.defined=function(n){return arguments.length?(u="function"==typeof n?n:Ri(!!n),t):u},t.curve=function(n){return arguments.length?(c=n,null!=a&&(s=c(a)),t):c},t.context=function(n){return arguments.length?(null==n?a=s=null:s=c(a=n),t):a},t}function Qi(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function Ji(t){return t}function Gi(t){this._curve=t}function Ki(t){function n(n){return new Gi(t(n))}return n._curve=t,n}function to(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Ki(t)):n()._curve},t}function no(){return to(Wi().curve(vl))}function eo(){var t=Zi().curve(vl),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return to(e())},delete t.lineX0,t.lineEndAngle=function(){return to(r())},delete t.lineX1,t.lineInnerRadius=function(){return to(i())},delete t.lineY0,t.lineOuterRadius=function(){return to(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Ki(t)):n()._curve},t}function ro(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]}function io(t){return t.source}function oo(t){return t.target}function uo(t){function n(){var n,a=gl.call(arguments),c=e.apply(this,a),s=r.apply(this,a);if(u||(u=n=ze()),t(u,+i.apply(this,(a[0]=c,a)),+o.apply(this,a),+i.apply(this,(a[0]=s,a)),+o.apply(this,a)),n)return u=null,n+""||null}var e=io,r=oo,i=Vi,o=$i,u=null;return n.source=function(t){return arguments.length?(e=t,n):e},n.target=function(t){return arguments.length?(r=t,n):r},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Ri(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:Ri(+t),n):o},n.context=function(t){return arguments.length?(u=null==t?null:t,n):u},n}function ao(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function co(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function so(t,n,e,r,i){var o=ro(n,e),u=ro(n,e=(e+i)/2),a=ro(r,e),c=ro(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function fo(){}function lo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function ho(t){this._context=t}function po(t){this._context=t}function _o(t){this._context=t}function yo(t,n){this._basis=new ho(t),this._beta=n}function vo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function go(t,n){this._context=t,this._k=(1-n)/6}function mo(t,n){this._context=t,this._k=(1-n)/6}function xo(t,n){this._context=t,this._k=(1-n)/6}function bo(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>dl){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>dl){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/f,u=(u*s+t._y1*t._l23_2a-e*t._l12_2a)/f}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function wo(t,n){this._context=t,this._alpha=n}function Mo(t,n){this._context=t,this._alpha=n}function To(t,n){this._context=t,this._alpha=n}function ko(t){this._context=t}function Co(t){return t<0?-1:1}function No(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Co(o)+Co(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function Ao(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function So(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Eo(t){this._context=t}function zo(t){this._context=new Po(t)}function Po(t){this._context=t}function Uo(t){this._context=t}function Lo(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function Do(t,n){this._context=t,this._t=n}function Ro(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}function qo(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e}function Oo(t,n){return t[n]}function Fo(t){var n=t.map(Io);return qo(t).sort(function(t,e){return n[t]-n[e]})}function Io(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}function Yo(){return Ql||(Kl(Bo),Ql=Gl.now()+Jl)}function Bo(){Ql=0}function Ho(){this._call=this._time=this._next=null}function Xo(t,n,e){var r=new Ho;return r.restart(t,n,e),r}function jo(){Yo(),++jl;for(var t,n=Hl;n;)(t=Ql-n._time)>=0&&n._call.call(null,t),n=n._next;--jl}function Vo(){Ql=(Zl=Gl.now())+Jl,jl=Vl=0;try{jo()}finally{jl=0,function(){var t,n,e=Hl,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Hl=n);Xl=t,Wo(r)}(),Ql=0}}function $o(){var t=Gl.now(),n=t-Zl;n>Wl&&(Jl-=n,Zl=t)}function Wo(t){if(!jl){Vl&&(Vl=clearTimeout(Vl));t-Ql>24?(t<1/0&&(Vl=setTimeout(Vo,t-Gl.now()-Jl)),$l&&($l=clearInterval($l))):($l||(Zl=Gl.now(),$l=setInterval($o,Wl)),jl=1,Kl(Vo))}}function Zo(t,n,e){var r=new Ho;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}function Qo(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};(function(t,n,e){function r(c){var s,f,l,h;if(e.state!==rh)return o();for(s in a)if((h=a[s]).name===e.name){if(h.state===oh)return Zo(r);h.state===uh?(h.state=ch,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete a[s]):+s<n&&(h.state=ch,h.timer.stop(),delete a[s])}if(Zo(function(){e.state===oh&&(e.state=uh,e.timer.restart(i,e.delay,e.time),i(c))}),e.state=ih,e.on.call("start",t,t.__data__,e.index,e.group),e.state===ih){for(e.state=oh,u=new Array(l=e.tween.length),s=0,f=-1;s<l;++s)(h=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(u[++f]=h);u.length=f+1}}function i(n){for(var r=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(o),e.state=ah,1),i=-1,a=u.length;++i<a;)u[i].call(null,r);e.state===ah&&(e.on.call("end",t,t.__data__,e.index,e.group),o())}function o(){e.state=ch,e.timer.stop(),delete a[n];for(var r in a)return;delete t.__transition}var u,a=t.__transition;a[n]=e,e.timer=Xo(function(t){e.state=rh,e.timer.restart(r,e.delay,e.time),e.delay<=t&&r(t-e.delay)},0,e.time)})(t,e,{name:n,index:r,group:i,on:th,tween:nh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:eh})}function Jo(t,n){var e=Ko(t,n);if(e.state>eh)throw new Error("too late; already scheduled");return e}function Go(t,n){var e=Ko(t,n);if(e.state>ih)throw new Error("too late; already started");return e}function Ko(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function tu(t,n){var e,r,i,o=t.__transition,u=!0;if(o){n=null==n?null:n+"";for(i in o)(e=o[i]).name===n?(r=e.state>ih&&e.state<ah,e.state=ch,e.timer.stop(),r&&e.on.call("interrupt",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}}function nu(t,n,e){var r=t._id;return t.each(function(){var t=Go(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Ko(t,r).value[n]}}function eu(t,n){var e;return("number"==typeof n?ge:n instanceof D?Hc:(e=D(n))?(n=e,Hc):xe)(t,n)}function ru(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function iu(t){return Ot().transition(t)}function ou(){return++fh}function uu(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return hh.time=Yo(),hh;return e}function au(t){return function(){return t}}function cu(t){return t[0]}function su(t){return t[1]}function fu(){this._=null}function lu(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function hu(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function du(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function pu(t){for(;t.L;)t=t.L;return t}function _u(t,n,e,r){var i=[null,null],o=gh.push(i)-1;return i.left=t,i.right=n,e&&vu(i,t,n,e),r&&vu(i,n,t,r),yh[t.index].halfedges.push(o),yh[n.index].halfedges.push(o),i}function yu(t,n,e){var r=[n,e];return r.left=t,r}function vu(t,n,e,r){t[0]||t[1]?t.left===e?t[1]=r:t[0]=r:(t[0]=r,t.left=n,t.right=e)}function gu(t,n,e,r,i){var o,u=t[0],a=t[1],c=u[0],s=u[1],f=0,l=1,h=a[0]-c,d=a[1]-s;if(o=n-c,h||!(o>0)){if(o/=h,h<0){if(o<f)return;o<l&&(l=o)}else if(h>0){if(o>l)return;o>f&&(f=o)}if(o=r-c,h||!(o<0)){if(o/=h,h<0){if(o>l)return;o>f&&(f=o)}else if(h>0){if(o<f)return;o<l&&(l=o)}if(o=e-s,d||!(o>0)){if(o/=d,d<0){if(o<f)return;o<l&&(l=o)}else if(d>0){if(o>l)return;o>f&&(f=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(o>l)return;o>f&&(f=o)}else if(d>0){if(o<f)return;o<l&&(l=o)}return!(f>0||l<1)||(f>0&&(t[0]=[c+f*h,s+f*d]),l<1&&(t[1]=[c+l*h,s+l*d]),!0)}}}}}function mu(t,n,e,r,i){var o=t[1];if(o)return!0;var u,a,c=t[0],s=t.left,f=t.right,l=s[0],h=s[1],d=f[0],p=f[1],_=(l+d)/2,y=(h+p)/2;if(p===h){if(_<n||_>=r)return;if(l>d){if(c){if(c[1]>=i)return}else c=[_,e];o=[_,i]}else{if(c){if(c[1]<e)return}else c=[_,i];o=[_,e]}}else if(u=(l-d)/(p-h),a=y-u*_,u<-1||u>1)if(l>d){if(c){if(c[1]>=i)return}else c=[(e-a)/u,e];o=[(i-a)/u,i]}else{if(c){if(c[1]<e)return}else c=[(i-a)/u,i];o=[(e-a)/u,e]}else if(h<p){if(c){if(c[0]>=r)return}else c=[n,u*n+a];o=[r,u*r+a]}else{if(c){if(c[0]<n)return}else c=[r,u*r+a];o=[n,u*n+a]}return t[0]=c,t[1]=o,!0}function xu(t,n){var e=t.site,r=n.left,i=n.right;return e===i&&(i=r,r=e),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(e===r?(r=n[1],i=n[0]):(r=n[0],i=n[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function bu(t,n){return n[+(n.left!==t.site)]}function wu(t,n){return n[+(n.left===t.site)]}function Mu(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var u=i[0],a=i[1],c=r[0]-u,s=r[1]-a,f=o[0]-u,l=o[1]-a,h=2*(c*l-s*f);if(!(h>=-wh)){var d=c*c+s*s,p=f*f+l*l,_=(l*d-s*p)/h,y=(c*p-f*d)/h,v=mh.pop()||new function(){lu(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=_+u,v.y=(v.cy=y+a)+Math.sqrt(_*_+y*y),t.circle=v;for(var g=null,m=vh._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){g=m.P;break}m=m.L}else{if(!m.R){g=m;break}m=m.R}vh.insert(g,v),g||(ph=v)}}}}function Tu(t){var n=t.circle;n&&(n.P||(ph=n.N),vh.remove(n),mh.push(n),lu(n),t.circle=null)}function ku(t){var n=xh.pop()||new function(){lu(this),this.edge=this.site=this.circle=null};return n.site=t,n}function Cu(t){Tu(t),_h.remove(t),xh.push(t),lu(t)}function Nu(t){var n=t.circle,e=n.x,r=n.cy,i=[e,r],o=t.P,u=t.N,a=[t];Cu(t);for(var c=o;c.circle&&Math.abs(e-c.circle.x)<bh&&Math.abs(r-c.circle.cy)<bh;)o=c.P,a.unshift(c),Cu(c),c=o;a.unshift(c),Tu(c);for(var s=u;s.circle&&Math.abs(e-s.circle.x)<bh&&Math.abs(r-s.circle.cy)<bh;)u=s.N,a.push(s),Cu(s),s=u;a.push(s),Tu(s);var f,l=a.length;for(f=1;f<l;++f)s=a[f],c=a[f-1],vu(s.edge,c.site,s.site,i);c=a[0],(s=a[l-1]).edge=_u(c.site,s.site,null,i),Mu(c),Mu(s)}function Au(t){for(var n,e,r,i,o=t[0],u=t[1],a=_h._;a;)if((r=Su(a,u)-o)>bh)a=a.L;else{if(!((i=o-function(t,n){var e=t.N;if(e)return Su(e,n);var r=t.site;return r[1]===n?r[0]:1/0}(a,u))>bh)){r>-bh?(n=a.P,e=a):i>-bh?(n=a,e=a.N):n=e=a;break}if(!a.R){n=a;break}a=a.R}(function(t){yh[t.index]={site:t,halfedges:[]}})(t);var c=ku(t);if(_h.insert(n,c),n||e){if(n===e)return Tu(n),e=ku(n.site),_h.insert(c,e),c.edge=e.edge=_u(n.site,c.site),Mu(n),void Mu(e);if(e){Tu(n),Tu(e);var s=n.site,f=s[0],l=s[1],h=t[0]-f,d=t[1]-l,p=e.site,_=p[0]-f,y=p[1]-l,v=2*(h*y-d*_),g=h*h+d*d,m=_*_+y*y,x=[(y*g-d*m)/v+f,(h*m-_*g)/v+l];vu(e.edge,s,p,x),c.edge=_u(s,t,null,x),e.edge=_u(t,p,null,x),Mu(n),Mu(e)}else c.edge=_u(n.site,c.site)}}function Su(t,n){var e=t.site,r=e[0],i=e[1],o=i-n;if(!o)return r;var u=t.P;if(!u)return-1/0;var a=(e=u.site)[0],c=e[1],s=c-n;if(!s)return a;var f=a-r,l=1/o-1/s,h=f/s;return l?(-h+Math.sqrt(h*h-2*l*(f*f/(-2*s)-c+s/2+i-o/2)))/l+r:(r+a)/2}function Eu(t,n,e){return(t[0]-e[0])*(n[1]-t[1])-(t[0]-n[0])*(e[1]-t[1])}function zu(t,n){return n[1]-t[1]||n[0]-t[0]}function Pu(t,n){var e,r,i,o=t.sort(zu).pop();for(gh=[],yh=new Array(t.length),_h=new fu,vh=new fu;;)if(i=ph,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===e&&o[1]===r||(Au(o),e=o[0],r=o[1]),o=t.pop();else{if(!i)break;Nu(i.arc)}if(function(){for(var t,n,e,r,i=0,o=yh.length;i<o;++i)if((t=yh[i])&&(r=(n=t.halfedges).length)){var u=new Array(r),a=new Array(r);for(e=0;e<r;++e)u[e]=e,a[e]=xu(t,gh[n[e]]);for(u.sort(function(t,n){return a[n]-a[t]}),e=0;e<r;++e)a[e]=n[u[e]];for(e=0;e<r;++e)n[e]=a[e]}}(),n){var u=+n[0][0],a=+n[0][1],c=+n[1][0],s=+n[1][1];(function(t,n,e,r){for(var i,o=gh.length;o--;)mu(i=gh[o],t,n,e,r)&&gu(i,t,n,e,r)&&(Math.abs(i[0][0]-i[1][0])>bh||Math.abs(i[0][1]-i[1][1])>bh)||delete gh[o]})(u,a,c,s),function(t,n,e,r){var i,o,u,a,c,s,f,l,h,d,p,_,y=yh.length,v=!0;for(i=0;i<y;++i)if(o=yh[i]){for(u=o.site,a=(c=o.halfedges).length;a--;)gh[c[a]]||c.splice(a,1);for(a=0,s=c.length;a<s;)p=(d=wu(o,gh[c[a]]))[0],_=d[1],l=(f=bu(o,gh[c[++a%s]]))[0],h=f[1],(Math.abs(p-l)>bh||Math.abs(_-h)>bh)&&(c.splice(a,0,gh.push(yu(u,d,Math.abs(p-t)<bh&&r-_>bh?[t,Math.abs(l-t)<bh?h:r]:Math.abs(_-r)<bh&&e-p>bh?[Math.abs(h-r)<bh?l:e,r]:Math.abs(p-e)<bh&&_-n>bh?[e,Math.abs(l-e)<bh?h:n]:Math.abs(_-n)<bh&&p-t>bh?[Math.abs(h-n)<bh?l:t,n]:null))-1),++s);s&&(v=!1)}if(v){var g,m,x,b=1/0;for(i=0,v=null;i<y;++i)(o=yh[i])&&(x=(g=(u=o.site)[0]-t)*g+(m=u[1]-n)*m)<b&&(b=x,v=o);if(v){var w=[t,n],M=[t,r],T=[e,r],k=[e,n];v.halfedges.push(gh.push(yu(u=v.site,w,M))-1,gh.push(yu(u,M,T))-1,gh.push(yu(u,T,k))-1,gh.push(yu(u,k,w))-1)}}for(i=0;i<y;++i)(o=yh[i])&&(o.halfedges.length||delete yh[i])}(u,a,c,s)}this.edges=gh,this.cells=yh,_h=vh=gh=yh=null}function Uu(t){return function(){return t}}function Lu(t,n,e){this.k=t,this.x=n,this.y=e}function Du(t){return t.__zoom||Mh}function Ru(){t.event.stopImmediatePropagation()}function qu(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Ou(){return!t.event.button}function Fu(){var t,n,e=this;return e instanceof SVGElement?(t=(e=e.ownerSVGElement||e).width.baseVal.value,n=e.height.baseVal.value):(t=e.clientWidth,n=e.clientHeight),[[0,0],[t,n]]}function Iu(){return this.__zoom||Mh}function Yu(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function Bu(){return"ontouchstart"in this}function Hu(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var Xu=e(n),ju=Xu.right,Vu=Xu.left,$u=Array.prototype,Wu=$u.slice,Zu=$u.map,Qu=Math.sqrt(50),Ju=Math.sqrt(10),Gu=Math.sqrt(2),Ku=Array.prototype.slice,ta=1,na=2,ea=3,ra=4,ia=1e-6;T.prototype=k.prototype={constructor:T,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,n){return this["$"+t]=n,this},remove:function(t){var n="$"+t;return n in this&&delete this[n]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)"$"===n[0]&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)"$"===n[0]&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)"$"===n[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var n in this)"$"===n[0]&&t(this[n],n.slice(1),this)}};var oa=k.prototype;E.prototype=z.prototype={constructor:E,has:oa.has,add:function(t){return t+="",this["$"+t]=t,this},remove:oa.remove,clear:oa.clear,values:oa.keys,size:oa.size,empty:oa.empty,each:oa.each};var ua="\\s*([+-]?\\d+)\\s*",aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ca="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sa=/^#([0-9a-f]{3})$/,fa=/^#([0-9a-f]{6})$/,la=new RegExp("^rgb\\("+[ua,ua,ua]+"\\)$"),ha=new RegExp("^rgb\\("+[ca,ca,ca]+"\\)$"),da=new RegExp("^rgba\\("+[ua,ua,ua,aa]+"\\)$"),pa=new RegExp("^rgba\\("+[ca,ca,ca,aa]+"\\)$"),_a=new RegExp("^hsl\\("+[aa,ca,ca]+"\\)$"),ya=new RegExp("^hsla\\("+[aa,ca,ca,aa]+"\\)$"),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P(L,D,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),P(I,F,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new I(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),P(H,B,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new H(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new H(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new I(X(t>=240?t-240:t+120,i,r),X(t,i,r),X(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var ga=Math.PI/180,ma=180/Math.PI,xa=.95047,ba=1,wa=1.08883,Ma=4/29,Ta=6/29,ka=3*Ta*Ta,Ca=Ta*Ta*Ta;P($,V,U(L,{brighter:function(t){return new $(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new $(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return t=ba*Z(t),n=xa*Z(n),e=wa*Z(e),new I(Q(3.2404542*n-1.5371385*t-.4985314*e),Q(-.969266*n+1.8760108*t+.041556*e),Q(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}})),P(K,G,U(L,{brighter:function(t){return new K(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new K(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return j(this).rgb()}}));var Na=-.29227,Aa=-.90649,Sa=1.97294,Ea=Sa*Aa,za=1.78277*Sa,Pa=1.78277*Na- -.14861*Aa;P(nt,tt,U(L,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ga,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new I(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Na*r+Aa*i)),255*(n+e*(Sa*r)),this.opacity)}}));var Ua={value:function(){}};rt.prototype=et.prototype={constructor:rt,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}(t+"",r),o=-1,u=i.length;{if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=it(r[e],t.name,n);else if(null==n)for(e in r)r[e]=it(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e}},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new rt(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var La="http://www.w3.org/1999/xhtml",Da={svg:"http://www.w3.org/2000/svg",xhtml:La,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ra=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var qa=document.documentElement;if(!qa.matches){var Oa=qa.webkitMatchesSelector||qa.msMatchesSelector||qa.mozMatchesSelector||qa.oMatchesSelector;Ra=function(t){return function(){return Oa.call(this,t)}}}}var Fa=Ra;ht.prototype={constructor:ht,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ia="$";xt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ya={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||(Ya={mouseenter:"mouseover",mouseleave:"mouseout"})}var Ba=[null];qt.prototype=Ot.prototype={constructor:qt,select:function(t){"function"!=typeof t&&(t=ct(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,s=r[i]=new Array(c),f=0;f<c;++f)(o=a[f])&&(u=t.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),s[f]=u);return new qt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=ft(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,s=0;s<c;++s)(u=a[s])&&(r.push(t.call(u,u.__data__,s,a)),i.push(u));return new qt(r,i)},filter:function(t){"function"!=typeof t&&(t=Fa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new qt(r,this._parents)},data:function(t,n){if(!t)return d=new Array(this.size()),s=-1,this.each(function(t){d[++s]=t}),d;var e=n?pt:dt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),s=0;s<o;++s){var f=r[s],l=i[s],h=l.length,d=t.call(f,f&&f.__data__,s,r),p=d.length,_=a[s]=new Array(p),y=u[s]=new Array(p);e(f,l,_,y,c[s]=new Array(h),d,n);for(var v,g,m=0,x=0;m<p;++m)if(v=_[m]){for(m>=x&&(x=m+1);!(g=y[x])&&++x<p;);v._next=g||null}}return u=new qt(u,r),u._enter=a,u._exit=c,u},enter:function(){return new qt(this._enter||this._groups.map(lt),this._parents)},exit:function(){return new qt(this._exit||this._groups.map(lt),this._parents)},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new qt(u,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=_t);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,s=i[o]=new Array(c),f=0;f<c;++f)(u=a[f])&&(s[f]=u);s.sort(n)}return new qt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=ot(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):vt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=gt(t+"");if(arguments.length<2){for(var r=mt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?bt:wt)(this,t)}}:n?function(t){return function(){bt(this,t)}}:function(t){return function(){wt(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?Mt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Tt:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(kt)},lower:function(){return this.each(Ct)},append:function(t){var n="function"==typeof t?t:ut(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:ut(t),r=null==n?Nt:"function"==typeof n?n:ct(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(At)},clone:function(t){return this.select(t?Et:St)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}})}(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?Lt:Ut,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,s=0,f=a.length;s<f;++s)for(r=0,c=a[s];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return Rt(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return Rt(this,t,n)}})(t,n))}};var Ha=0;Yt.prototype=It.prototype={constructor:Yt,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Jt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Xa,ja={},Va={},$a=34,Wa=10,Za=13,Qa=rn(","),Ja=Qa.parse,Ga=Qa.parseRows,Ka=Qa.format,tc=Qa.formatRows,nc=rn("\t"),ec=nc.parse,rc=nc.parseRows,ic=nc.format,oc=nc.formatRows,uc=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),ac=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),cc=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),sc=Math.PI,fc=sc/2,lc=4/11,hc=6/11,dc=8/11,pc=.75,_c=9/11,yc=10/11,vc=.9375,gc=21/22,mc=63/64,xc=1/lc/lc,bc=function t(n){function e(t){return t*t*((n+1)*t-n)}return n=+n,e.overshoot=t,e}(1.70158),wc=function t(n){function e(t){return--t*t*((n+1)*t+n)+1}return n=+n,e.overshoot=t,e}(1.70158),Mc=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),Tc=2*Math.PI,kc=function t(n,e){function r(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Cc=function t(n,e){function r(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/e)}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Nc=function t(n,e){function r(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/e):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/e))/2}var i=Math.asin(1/(n=Math.max(1,n)))*(e/=Tc);return r.amplitude=function(n){return t(n,e*Tc)},r.period=function(e){return t(n,e)},r}(1,.3),Ac={"":function(t,n){t:for(var e,r=(t=t.toPrecision(n)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=e=i;break;case"0":0===o&&(o=i),e=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t},"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return dn(100*t,n)},r:dn,s:function(t,n){var e=ln(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Xa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ln(t,Math.max(0,n+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Sc=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;pn.prototype=_n.prototype,_n.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Ec,zc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];gn({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),En.prototype=Cn.prototype={constructor:En,count:function(){return this.eachAfter(kn)},each:function(t){var n,e,r,i,o=this,u=[o];do{for(n=u.reverse(),u=[];o=n.pop();)if(t(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r])}while(u.length);return this},eachAfter:function(t){for(var n,e,r,i=this,o=[i],u=[];i=o.pop();)if(u.push(i),n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e]);for(;i=u.pop();)t(i);return this},eachBefore:function(t){for(var n,e,r=this,i=[r];r=i.pop();)if(t(r),n=r.children)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},sum:function(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})},sort:function(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function(){return Cn(this).eachBefore(An)}};var Pc=Array.prototype.slice,Uc="$",Lc={depth:-1},Dc={};ie.prototype=Object.create(En.prototype);var Rc,qc,Oc,Fc,Ic=(1+Math.sqrt(5))/2,Yc=function t(n){function e(t,e,r,i,o){ue(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ic),Bc=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,s,f,l=-1,h=u.length,d=t.value;++l<h;){for(c=(a=u[l]).children,s=a.value=0,f=c.length;s<f;++s)a.value+=c[s].value;a.dice?Qn(a,e,r,i,r+=(o-r)*a.value/d):oe(a,e,r,e+=(i-e)*a.value/d,o),d-=a.value}else t._squarify=u=ue(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ic),Hc=function t(n){function e(t,n){var e=r((t=F(t)).r,(n=F(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),u=pe(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}var r=de(n);return e.gamma=t,e}(1),Xc=_e(ce),jc=_e(se),Vc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$c=new RegExp(Vc.source,"g"),Wc=180/Math.PI,Zc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qc=Te(function(t){return"none"===t?Zc:(Rc||(Rc=document.createElement("DIV"),qc=document.documentElement,Oc=document.defaultView),Rc.style.transform=t,t=Oc.getComputedStyle(qc.appendChild(Rc),null).getPropertyValue("transform"),qc.removeChild(Rc),t=t.slice(7,-1).split(","),Me(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Jc=Te(function(t){return null==t?Zc:(Fc||(Fc=document.createElementNS("http://www.w3.org/2000/svg","g")),Fc.setAttribute("transform",t),(t=Fc.transform.baseVal.consolidate())?(t=t.matrix,Me(t.a,t.b,t.c,t.d,t.e,t.f)):Zc)},", ",")",")"),Gc=Math.SQRT2,Kc=2,ts=4,ns=1e-12,es=Ne(he),rs=Ne(pe),is=Ae(he),os=Ae(pe),us=Se(he),as=Se(pe),cs=Math.PI,ss=2*cs,fs=ss-1e-6;Ee.prototype=ze.prototype={constructor:Ee,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,s=o-t,f=u-n,l=s*s+f*f;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(f*a-c*s)>1e-6&&i){var h=e-o,d=r-u,p=a*a+c*c,_=h*h+d*d,y=Math.sqrt(p),v=Math.sqrt(l),g=i*Math.tan((cs-Math.acos((p+l-_)/(2*y*v)))/2),m=g/v,x=g/y;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*s)+","+(n+m*f)),this._+="A"+i+","+i+",0,0,"+ +(f*h>s*d)+","+(this._x1=t+x*a)+","+(this._y1=n+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,s=n+a,f=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+s:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+c+","+s),e&&(l<0&&(l=l%ss+ss),l>fs?this._+="A"+e+","+e+",0,1,"+f+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+f+","+(this._x1=c)+","+(this._y1=s):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=cs)+","+f+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var ls=[].slice,hs={};De.prototype=Fe.prototype={constructor:De,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var n=ls.call(arguments,1);return n.push(t),++this._waiting,this._tasks.push(n),Re(this),this},abort:function(){return null==this._error&&qe(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(n,e){t.apply(null,[n].concat(e))},Oe(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Oe(this),this}};var ds=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Ie),ps=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Ie),_s=function t(n){function e(){var t=ps.source(n).apply(this,arguments);return function(){return Math.exp(t())}}return e.source=t,e}(Ie),ys=function t(n){function e(t){return function(){for(var e=0,r=0;r<t;++r)e+=n();return e}}return e.source=t,e}(Ie),vs=function t(n){function e(t){var e=ys.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Ie),gs=function t(n){function e(t){return function(){return-Math.log(1-n())/t}}return e.source=t,e}(Ie),ms=Be("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),xs=Be("application/json",function(t){return JSON.parse(t.responseText)}),bs=Be("text/plain",function(t){return t.responseText}),ws=Be("application/xml",function(t){var n=t.responseXML;if(!n)throw new Error("parse error");return n}),Ms=He("text/csv",Ja),Ts=He("text/tab-separated-values",ec),ks=Array.prototype,Cs=ks.map,Ns=ks.slice,As={name:"implicit"},Ss=[0,1],Es=new Date,zs=new Date,Ps=yr(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Ps.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?yr(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t}):Ps:null};var Us=Ps.range,Ls=6e4,Ds=6048e5,Rs=yr(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()}),qs=Rs.range,Os=yr(function(t){t.setTime(Math.floor(t/Ls)*Ls)},function(t,n){t.setTime(+t+n*Ls)},function(t,n){return(n-t)/Ls},function(t){return t.getMinutes()}),Fs=Os.range,Is=yr(function(t){var n=t.getTimezoneOffset()*Ls%36e5;n<0&&(n+=36e5),t.setTime(36e5*Math.floor((+t-n)/36e5)+n)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()}),Ys=Is.range,Bs=yr(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/864e5},function(t){return t.getDate()-1}),Hs=Bs.range,Xs=vr(0),js=vr(1),Vs=vr(2),$s=vr(3),Ws=vr(4),Zs=vr(5),Qs=vr(6),Js=Xs.range,Gs=js.range,Ks=Vs.range,tf=$s.range,nf=Ws.range,ef=Zs.range,rf=Qs.range,of=yr(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),uf=of.range,af=yr(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});af.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yr(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)}):null};var cf=af.range,sf=yr(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Ls)},function(t,n){return(n-t)/Ls},function(t){return t.getUTCMinutes()}),ff=sf.range,lf=yr(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),hf=lf.range,df=yr(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/864e5},function(t){return t.getUTCDate()-1}),pf=df.range,_f=gr(0),yf=gr(1),vf=gr(2),gf=gr(3),mf=gr(4),xf=gr(5),bf=gr(6),wf=_f.range,Mf=yf.range,Tf=vf.range,kf=gf.range,Cf=mf.range,Nf=xf.range,Af=bf.range,Sf=yr(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ef=Sf.range,zf=yr(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?yr(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)}):null};var Pf,Uf=zf.range,Lf={"-":"",_:" ",0:"0"},Df=/^\s*\d+/,Rf=/^%/,qf=/[\\^$*+?|[\]().{}]/g;Si({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Of="%Y-%m-%dT%H:%M:%S.%LZ",Ff=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(Of),If=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:t.utcParse(Of),Yf=1e3,Bf=60*Yf,Hf=60*Bf,Xf=24*Hf,jf=7*Xf,Vf=30*Xf,$f=365*Xf,Wf=Ui("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Zf=Ui("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Qf=Ui("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Jf=Ui("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Gf=as(tt(300,.5,0),tt(-240,.5,1)),Kf=as(tt(-100,.75,.35),tt(80,1.5,.8)),tl=as(tt(260,.75,.35),tt(80,1.5,.8)),nl=tt(),el=Li(Ui("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),rl=Li(Ui("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),il=Li(Ui("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ol=Li(Ui("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ul=Math.abs,al=Math.atan2,cl=Math.cos,sl=Math.max,fl=Math.min,ll=Math.sin,hl=Math.sqrt,dl=1e-12,pl=Math.PI,_l=pl/2,yl=2*pl;Xi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var vl=Ki(ji);Gi.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var gl=Array.prototype.slice,ml={draw:function(t,n){var e=Math.sqrt(n/pl);t.moveTo(e,0),t.arc(0,0,e,0,yl)}},xl={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},bl=Math.sqrt(1/3),wl=2*bl,Ml={draw:function(t,n){var e=Math.sqrt(n/wl),r=e*bl;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},Tl=Math.sin(pl/10)/Math.sin(7*pl/10),kl=Math.sin(yl/10)*Tl,Cl=-Math.cos(yl/10)*Tl,Nl={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=kl*e,i=Cl*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=yl*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},Al={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},Sl=Math.sqrt(3),El={draw:function(t,n){var e=-Math.sqrt(n/(3*Sl));t.moveTo(0,2*e),t.lineTo(-Sl*e,-e),t.lineTo(Sl*e,-e),t.closePath()}},zl=Math.sqrt(3)/2,Pl=1/Math.sqrt(12),Ul=3*(Pl/2+1),Ll={draw:function(t,n){var e=Math.sqrt(n/Ul),r=e/2,i=e*Pl,o=r,u=e*Pl+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-zl*i,zl*r+-.5*i),t.lineTo(-.5*o-zl*u,zl*o+-.5*u),t.lineTo(-.5*a-zl*c,zl*a+-.5*c),t.lineTo(-.5*r+zl*i,-.5*i-zl*r),t.lineTo(-.5*o+zl*u,-.5*u-zl*o),t.lineTo(-.5*a+zl*c,-.5*c-zl*a),t.closePath()}},Dl=[ml,xl,Ml,Al,Nl,El,Ll];ho.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},po.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},_o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:lo(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}},yo.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Rl=function t(n){function e(t){return 1===n?new ho(t):new yo(t,n)}return e.beta=function(n){return t(+n)},e}(.85);go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vo(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var ql=function t(n){function e(t){return new go(t,n)}return e.tension=function(n){return t(+n)},e}(0);mo.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ol=function t(n){function e(t){return new mo(t,n)}return e.tension=function(n){return t(+n)},e}(0);xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vo(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Fl=function t(n){function e(t){return new xo(t,n)}return e.tension=function(n){return t(+n)},e}(0);wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Il=function t(n){function e(t){return n?new wo(t,n):new go(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);Mo.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Yl=function t(n){function e(t){return n?new Mo(t,n):new mo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);To.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bo(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Bl=function t(n){function e(t){return n?new To(t,n):new xo(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);ko.prototype={areaStart:fo,areaEnd:fo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}},Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:So(this,this._t0,Ao(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,t!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,So(this,Ao(this,e=No(this,t,n)),e);break;default:So(this,this._t0,e=No(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(zo.prototype=Object.create(Eo.prototype)).point=function(t,n){Eo.prototype.point.call(this,n,t)},Po.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},Uo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=Lo(t),i=Lo(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},Do.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var Hl,Xl,jl=0,Vl=0,$l=0,Wl=1e3,Zl=0,Ql=0,Jl=0,Gl="object"==typeof performance&&performance.now?performance:Date,Kl="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};Ho.prototype=Xo.prototype={constructor:Ho,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Yo():+e)+(null==n?0:+n),this._next||Xl===this||(Xl?Xl._next=this:Hl=this,Xl=this),this._call=t,this._time=e,Wo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wo())}};var th=et("start","end","interrupt"),nh=[],eh=0,rh=1,ih=2,oh=3,uh=4,ah=5,ch=6,sh=Ot.prototype.constructor,fh=0,lh=Ot.prototype;ru.prototype=iu.prototype={constructor:ru,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ct(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,s=r[u],f=s.length,l=o[u]=new Array(f),h=0;h<f;++h)(a=s[h])&&(c=t.call(a,a.__data__,h,s))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Qo(l[h],n,e,h,l,Ko(a,e)));return new ru(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=ft(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,s=r[a],f=s.length,l=0;l<f;++l)if(c=s[l]){for(var h,d=t.call(c,c.__data__,l,s),p=Ko(c,e),_=0,y=d.length;_<y;++_)(h=d[_])&&Qo(h,n,e,_,d,p);o.push(d),u.push(c)}return new ru(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=Fa(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],s=0;s<a;++s)(o=u[s])&&t.call(o,o.__data__,s,u)&&c.push(o);return new ru(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,s=n[a],f=e[a],l=s.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=s[d]||f[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new ru(u,this._parents,this._name,this._id)},selection:function(){return new sh(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=ou(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)if(u=a[s]){var f=Ko(u,n);Qo(u,t,e,s,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ru(r,this._parents,t,e)},call:lh.call,nodes:lh.nodes,node:lh.node,size:lh.size,empty:lh.empty,each:lh.each,on:function(t,n){var e=this._id;return arguments.length<2?Ko(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})}(n)?Jo:Go;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}(e,t,n))},attr:function(t,n){var e=ot(t),r="transform"===e?Jc:eu;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttributeNS(t.space,t.local))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttributeNS(t.space,t.local)}}:function(t,n,e){var r,i,o;return function(){var u,a=e(this);if(null!=a)return(u=this.getAttribute(t))===a?null:u===r&&a===i?o:o=n(r=u,i=a);this.removeAttribute(t)}})(e,r,nu(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===r?i:i=n(r=o,e)}}:function(t,n,e){var r,i;return function(){var o=this.getAttribute(t);return o===e?null:o===r?i:i=n(r=o,e)}})(e,r,n+""))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=ot(t);return this.tween(e,(r.local?function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttributeNS(t.space,t.local,r(n))}}return e._value=n,e}:function(t,n){function e(){var e=this,r=n.apply(e,arguments);return r&&function(n){e.setAttribute(t,r(n))}}return e._value=n,e})(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Qc:eu;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=vt(this,t),u=(this.style.removeProperty(t),vt(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof n?function(t,n,e){var r,i,o;return function(){var u=vt(this,t),a=e(this);return null==a&&(this.style.removeProperty(t),a=vt(this,t)),u===a?null:u===r&&a===i?o:o=n(r=u,i=a)}}(t,r,nu(this,"style."+t,n)):function(t,n,e){var r,i;return function(){var o=vt(this,t);return o===e?null:o===r?i:i=n(r=o,e)}}(t,r,n+""),e)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){function r(){var r=this,i=n.apply(r,arguments);return i&&function(n){r.style.setProperty(t,i(n),e)}}return r._value=n,r}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(nu(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Ko(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=Go(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Go(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=a;break}c===s&&i.push(a)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Jo(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Jo(this,t).delay=n}})(n,t)):Ko(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Go(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Go(this,t).duration=n}})(n,t)):Ko(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Go(this,t).ease=n}}(n,t)):Ko(this.node(),n).ease}};var hh={time:null,delay:0,duration:250,ease:un};Ot.prototype.interrupt=function(t){return this.each(function(){tu(this,t)})},Ot.prototype.transition=function(t){var n,e;t instanceof ru?(n=t._id,t=t._name):(n=ou(),(e=hh).time=Yo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,s=0;s<c;++s)(u=a[s])&&Qo(u,t,n,s,a,e||uu(u,n));return new ru(r,this._parents,t,n)};var dh=[null];fu.prototype={constructor:fu,insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=pu(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)e===(r=e.U).L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(hu(this,e),e=(t=e).U),e.C=!1,r.C=!0,du(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(du(this,e),e=(t=e).U),e.C=!1,r.C=!0,hu(this,r)),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,u=t.R;if(e=o?u?pu(u):o:u,i?i.L===t?i.L=e:i.R=e:this._=e,o&&u?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==u?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=u,u.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((n=i.R).C&&(n.C=!1,i.C=!0,hu(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,du(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,hu(this,i),t=this._;break}}else if((n=i.L).C&&(n.C=!1,i.C=!0,du(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,hu(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,du(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var ph,_h,yh,vh,gh,mh=[],xh=[],bh=1e-6,wh=1e-12;Pu.prototype={constructor:Pu,polygons:function(){var t=this.edges;return this.cells.map(function(n){var e=n.halfedges.map(function(e){return bu(n,t[e])});return e.data=n.site.data,e})},triangles:function(){var t=[],n=this.edges;return this.cells.forEach(function(e,r){if(o=(i=e.halfedges).length)for(var i,o,u,a=e.site,c=-1,s=n[i[o-1]],f=s.left===a?s.right:s.left;++c<o;)u=f,f=(s=n[i[c]]).left===a?s.right:s.left,u&&f&&r<u.index&&r<f.index&&Eu(a,u,f)<0&&t.push([a.data,u.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,n,e){for(var r,i,o=this,u=o._found||0,a=o.cells.length;!(i=o.cells[u]);)if(++u>=a)return null;var c=t-i.site[0],s=n-i.site[1],f=c*c+s*s;do{i=o.cells[r=u],u=null,i.halfedges.forEach(function(e){var r=o.edges[e],a=r.left;if(a!==i.site&&a||(a=r.right)){var c=t-a[0],s=n-a[1],l=c*c+s*s;l<f&&(f=l,u=a.index)}})}while(null!==u);return o._found=r,null==e||f<=e*e?i.site:null}},Lu.prototype={constructor:Lu,scale:function(t){return 1===t?this:new Lu(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Lu(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Mh=new Lu(1,0,0);Du.prototype=Lu.prototype,t.version="4.13.0",t.bisect=ju,t.bisectRight=ju,t.bisectLeft=Vu,t.ascending=n,t.bisector=e,t.cross=function(t,n,e){var i,o,u,a,c=t.length,s=n.length,f=new Array(c*s);for(null==e&&(e=r),i=u=0;i<c;++i)for(a=t[i],o=0;o<s;++o,++u)f[u]=e(a,n[o]);return f},t.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},t.deviation=u,t.extent=a,t.histogram=function(){function t(t){var i,o,u=t.length,a=new Array(u);for(i=0;i<u;++i)a[i]=n(t[i],i,t);var c=e(a),s=c[0],l=c[1],h=r(a,s,l);Array.isArray(h)||(h=d(s,l,h),h=f(Math.ceil(s/h)*h,Math.floor(l/h)*h,h));for(var p=h.length;h[0]<=s;)h.shift(),--p;for(;h[p-1]>l;)h.pop(),--p;var _,y=new Array(p+1);for(i=0;i<=p;++i)(_=y[i]=[]).x0=i>0?h[i-1]:s,_.x1=i<p?h[i]:l;for(i=0;i<u;++i)s<=(o=a[i])&&o<=l&&y[ju(h,o,0,p)].push(t[i]);return y}var n=s,e=a,r=p;return t.value=function(e){return arguments.length?(n="function"==typeof e?e:c(e),t):n},t.domain=function(n){return arguments.length?(e="function"==typeof n?n:c([n[0],n[1]]),t):e},t.thresholds=function(n){return arguments.length?(r="function"==typeof n?n:Array.isArray(n)?c(Wu.call(n)):c(n),t):r},t},t.thresholdFreedmanDiaconis=function(t,e,r){return t=Zu.call(t,i).sort(n),Math.ceil((r-e)/(2*(_(t,.75)-_(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,n,e){return Math.ceil((e-n)/(3.5*u(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=p,t.max=function(t,n){var e,r,i=t.length,o=-1;if(null==n){for(;++o<i;)if(null!=(e=t[o])&&e>=e)for(r=e;++o<i;)null!=(e=t[o])&&e>r&&(r=e)}else for(;++o<i;)if(null!=(e=n(t[o],o,t))&&e>=e)for(r=e;++o<i;)null!=(e=n(t[o],o,t))&&e>r&&(r=e);return r},t.mean=function(t,n){var e,r=t.length,o=r,u=-1,a=0;if(null==n)for(;++u<r;)isNaN(e=i(t[u]))?--o:a+=e;else for(;++u<r;)isNaN(e=i(n(t[u],u,t)))?--o:a+=e;if(o)return a/o},t.median=function(t,e){var r,o=t.length,u=-1,a=[];if(null==e)for(;++u<o;)isNaN(r=i(t[u]))||a.push(r);else for(;++u<o;)isNaN(r=i(e(t[u],u,t)))||a.push(r);return _(a.sort(n),.5)},t.merge=function(t){for(var n,e,r,i=t.length,o=-1,u=0;++o<i;)u+=t[o].length;for(e=new Array(u);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--u]=r[n];return e},t.min=y,t.pairs=function(t,n){null==n&&(n=r);for(var e=0,i=t.length-1,o=t[0],u=new Array(i<0?0:i);e<i;)u[e]=n(o,o=t[++e]);return u},t.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},t.quantile=_,t.range=f,t.scan=function(t,e){if(r=t.length){var r,i,o=0,u=0,a=t[u];for(null==e&&(e=n);++o<r;)(e(i=t[o],a)<0||0!==e(a,a))&&(a=i,u=o);return 0===e(a,a)?u:void 0}},t.shuffle=function(t,n,e){for(var r,i,o=(null==e?t.length:e)-(n=null==n?0:+n);o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},t.sum=function(t,n){var e,r=t.length,i=-1,o=0;if(null==n)for(;++i<r;)(e=+t[i])&&(o+=e);else for(;++i<r;)(e=+n(t[i],i,t))&&(o+=e);return o},t.ticks=l,t.tickIncrement=h,t.tickStep=d,t.transpose=v,t.variance=o,t.zip=function(){return v(arguments)},t.axisTop=function(t){return M(ta,t)},t.axisRight=function(t){return M(na,t)},t.axisBottom=function(t){return M(ea,t)},t.axisLeft=function(t){return M(ra,t)},t.nest=function(){function t(n,i,u,a){if(i>=o.length)return null!=e&&n.sort(e),null!=r?r(n):n;for(var c,s,f,l=-1,h=n.length,d=o[i++],p=k(),_=u();++l<h;)(f=p.get(c=d(s=n[l])+""))?f.push(s):p.set(c,[s]);return p.each(function(n,e){a(_,e,t(n,i,u,a))}),_}function n(t,e){if(++e>o.length)return t;var i,a=u[e-1];return null!=r&&e>=o.length?i=t.entries():(i=[],t.each(function(t,r){i.push({key:r,values:n(t,e)})})),null!=a?i.sort(function(t,n){return a(t.key,n.key)}):i}var e,r,i,o=[],u=[];return i={object:function(n){return t(n,0,C,N)},map:function(n){return t(n,0,A,S)},entries:function(e){return n(t(e,0,A,S),0)},key:function(t){return o.push(t),i},sortKeys:function(t){return u[o.length-1]=t,i},sortValues:function(t){return e=t,i},rollup:function(t){return r=t,i}}},t.set=z,t.map=k,t.keys=function(t){var n=[];for(var e in t)n.push(e);return n},t.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},t.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},t.color=D,t.rgb=F,t.hsl=B,t.lab=V,t.hcl=G,t.cubehelix=tt,t.dispatch=et,t.drag=function(){function n(t){t.on("mousedown.drag",e).filter(y).on("touchstart.drag",o).on("touchmove.drag",u).on("touchend.drag touchcancel.drag",a).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(){if(!h&&d.apply(this,arguments)){var n=c("mouse",p.apply(this,arguments),Xt,this,arguments);n&&(Ft(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),Wt(t.event.view),Vt(),l=!1,s=t.event.clientX,f=t.event.clientY,n("start"))}}function r(){if($t(),!l){var n=t.event.clientX-s,e=t.event.clientY-f;l=n*n+e*e>x}v.mouse("drag")}function i(){Ft(t.event.view).on("mousemove.drag mouseup.drag",null),Zt(t.event.view,l),$t(),v.mouse("end")}function o(){if(d.apply(this,arguments)){var n,e,r=t.event.changedTouches,i=p.apply(this,arguments),o=r.length;for(n=0;n<o;++n)(e=c(r[n].identifier,i,jt,this,arguments))&&(Vt(),e("start"))}}function u(){var n,e,r=t.event.changedTouches,i=r.length;for(n=0;n<i;++n)(e=v[r[n].identifier])&&($t(),e("drag"))}function a(){var n,e,r=t.event.changedTouches,i=r.length;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),n=0;n<i;++n)(e=v[r[n].identifier])&&(Vt(),e("end"))}function c(e,r,i,o,u){var a,c,s,f=i(r,e),l=g.copy();if(Dt(new Jt(n,"beforestart",a,e,m,f[0],f[1],0,0,l),function(){return null!=(t.event.subject=a=_.apply(o,u))&&(c=a.x-f[0]||0,s=a.y-f[1]||0,!0)}))return function t(h){var d,p=f;switch(h){case"start":v[e]=t,d=m++;break;case"end":delete v[e],--m;case"drag":f=i(r,e),d=m}Dt(new Jt(n,h,a,e,d,f[0]+c,f[1]+s,f[0]-p[0],f[1]-p[1],l),l.apply,l,[h,o,u])}}var s,f,l,h,d=Gt,p=Kt,_=tn,y=nn,v={},g=et("start","drag","end"),m=0,x=0;return n.filter=function(t){return arguments.length?(d="function"==typeof t?t:Qt(!!t),n):d},n.container=function(t){return arguments.length?(p="function"==typeof t?t:Qt(t),n):p},n.subject=function(t){return arguments.length?(_="function"==typeof t?t:Qt(t),n):_},n.touchable=function(t){return arguments.length?(y="function"==typeof t?t:Qt(!!t),n):y},n.on=function(){var t=g.on.apply(g,arguments);return t===g?n:t},n.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,n):Math.sqrt(x)},n},t.dragDisable=Wt,t.dragEnable=Zt,t.dsvFormat=rn,t.csvParse=Ja,t.csvParseRows=Ga,t.csvFormat=Ka,t.csvFormatRows=tc,t.tsvParse=ec,t.tsvParseRows=rc,t.tsvFormat=ic,t.tsvFormatRows=oc,t.easeLinear=function(t){return+t},t.easeQuad=on,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=on,t.easeCubic=un,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=un,t.easePoly=cc,t.easePolyIn=uc,t.easePolyOut=ac,t.easePolyInOut=cc,t.easeSin=an,t.easeSinIn=function(t){return 1-Math.cos(t*fc)},t.easeSinOut=function(t){return Math.sin(t*fc)},t.easeSinInOut=an,t.easeExp=cn,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=cn,t.easeCircle=sn,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=sn,t.easeBounce=fn,t.easeBounceIn=function(t){return 1-fn(1-t)},t.easeBounceOut=fn,t.easeBounceInOut=function(t){return((t*=2)<=1?1-fn(1-t):fn(t-1)+1)/2},t.easeBack=Mc,t.easeBackIn=bc,t.easeBackOut=wc,t.easeBackInOut=Mc,t.easeElastic=Cc,t.easeElasticIn=kc,t.easeElasticOut=Cc,t.easeElasticInOut=Nc,t.formatDefaultLocale=gn,t.formatLocale=vn,t.formatSpecifier=pn,t.precisionFixed=mn,t.precisionPrefix=xn,t.precisionRound=bn,t.cluster=function(){function t(t){var o,u=0;t.eachAfter(function(t){var e=t.children;e?(t.x=function(t){return t.reduce(Mn,0)/t.length}(e),t.y=function(t){return 1+t.reduce(Tn,0)}(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var a=function(t){for(var n;n=t.children;)t=n[0];return t}(t),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(t),s=a.x-n(a,c)/2,f=c.x+n(c,a)/2;return t.eachAfter(i?function(n){n.x=(n.x-t.x)*e,n.y=(t.y-n.y)*r}:function(n){n.x=(n.x-s)/(f-s)*e,n.y=(1-(t.y?n.y/t.y:1))*r})}var n=wn,e=1,r=1,i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(n){return arguments.length?(i=!1,e=+n[0],r=+n[1],t):i?null:[e,r]},t.nodeSize=function(n){return arguments.length?(i=!0,e=+n[0],r=+n[1],t):i?[e,r]:null},t},t.hierarchy=Cn,t.pack=function(){function t(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Vn(n)).eachAfter($n(i,.5)).eachBefore(Wn(1)):t.eachBefore(Vn(jn)).eachAfter($n(Hn,1)).eachAfter($n(i,t.r/Math.min(e,r))).eachBefore(Wn(Math.min(e,r)/(2*t.r))),t}var n=null,e=1,r=1,i=Hn;return t.radius=function(e){return arguments.length?(n=function(t){return null==t?null:Bn(t)}(e),t):n},t.size=function(n){return arguments.length?(e=+n[0],r=+n[1],t):[e,r]},t.padding=function(n){return arguments.length?(i="function"==typeof n?n:Xn(+n),t):i},t},t.packSiblings=function(t){return Yn(t),t},t.packEnclose=zn,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=e/o,t.eachBefore(function(t,n){return function(e){e.children&&Qn(e,e.x0,t*(e.depth+1)/n,e.x1,t*(e.depth+2)/n);var i=e.x0,o=e.y0,u=e.x1-r,a=e.y1-r;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),e.x0=i,e.y0=o,e.x1=u,e.y1=a}}(e,o)),i&&t.eachBefore(Zn),t}var n=1,e=1,r=0,i=!1;return t.round=function(n){return arguments.length?(i=!!n,t):i},t.size=function(r){return arguments.length?(n=+r[0],e=+r[1],t):[n,e]},t.padding=function(n){return arguments.length?(r=+n,t):r},t},t.stratify=function(){function t(t){var r,i,o,u,a,c,s,f=t.length,l=new Array(f),h={};for(i=0;i<f;++i)r=t[i],a=l[i]=new En(r),null!=(c=n(r,i,t))&&(c+="")&&(h[s=Uc+(a.id=c)]=s in h?Dc:a);for(i=0;i<f;++i)if(a=l[i],null!=(c=e(t[i],i,t))&&(c+="")){if(!(u=h[Uc+c]))throw new Error("missing: "+c);if(u===Dc)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Lc,o.eachBefore(function(t){t.depth=t.parent.depth+1,--f}).eachBefore(Sn),o.parent=null,f>0)throw new Error("cycle");return o}var n=Jn,e=Gn;return t.id=function(e){return arguments.length?(n=Bn(e),t):n},t.parentId=function(n){return arguments.length?(e=Bn(n),t):e},t},t.tree=function(){function t(t){var c=function(t){for(var n,e,r,i,o,u=new ie(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new ie(r[i],i)),e.parent=n;return(u.parent=new ie(null,0)).children=[u],u}(t);if(c.eachAfter(n),c.parent.m=-c.z,c.eachBefore(e),a)t.eachBefore(r);else{var s=t,f=t,l=t;t.eachBefore(function(t){t.x<s.x&&(s=t),t.x>f.x&&(f=t),t.depth>l.depth&&(l=t)});var h=s===f?1:i(s,f)/2,d=h-s.x,p=o/(f.x+h+d),_=u/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+d)*p,t.y=t.depth*_})}return t}function n(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n){(function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)})(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,n,e){if(n){for(var r,o=t,u=t,a=n,c=o.parent.children[0],s=o.m,f=u.m,l=a.m,h=c.m;a=ne(a),o=te(o),a&&o;)c=te(c),(u=ne(u)).a=t,(r=a.z+l-o.z-s+i(a._,o._))>0&&(ee(re(a,t,e),t,r),s+=r,f+=r),l+=a.m,s+=o.m,h+=c.m,f+=u.m;a&&!ne(u)&&(u.t=a,u.m+=l-f),o&&!te(c)&&(c.t=o,c.m+=s-h,e=t)}return e}(t,r,t.parent.A||e[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*u}var i=Kn,o=1,u=1,a=null;return t.separation=function(n){return arguments.length?(i=n,t):i},t.size=function(n){return arguments.length?(a=!1,o=+n[0],u=+n[1],t):a?null:[o,u]},t.nodeSize=function(n){return arguments.length?(a=!0,o=+n[0],u=+n[1],t):a?[o,u]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(n),u=[0],r&&t.eachBefore(Zn),t}function n(t){var n=u[t.depth],r=t.x0+n,i=t.y0+n,o=t.x1-n,h=t.y1-n;o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=h,t.children&&(n=u[t.depth+1]=a(t)/2,r+=l(t)-n,i+=c(t)-n,o-=s(t)-n,h-=f(t)-n,o<r&&(r=o=(r+o)/2),h<i&&(i=h=(i+h)/2),e(t,r,i,o,h))}var e=Yc,r=!1,i=1,o=1,u=[0],a=Hn,c=Hn,s=Hn,f=Hn,l=Hn;return t.round=function(n){return arguments.length?(r=!!n,t):r},t.size=function(n){return arguments.length?(i=+n[0],o=+n[1],t):[i,o]},t.tile=function(n){return arguments.length?(e=Bn(n),t):e},t.padding=function(n){return arguments.length?t.paddingInner(n).paddingOuter(n):t.paddingInner()},t.paddingInner=function(n){return arguments.length?(a="function"==typeof n?n:Xn(+n),t):a},t.paddingOuter=function(n){return arguments.length?t.paddingTop(n).paddingRight(n).paddingBottom(n).paddingLeft(n):t.paddingTop()},t.paddingTop=function(n){return arguments.length?(c="function"==typeof n?n:Xn(+n),t):c},t.paddingRight=function(n){return arguments.length?(s="function"==typeof n?n:Xn(+n),t):s},t.paddingBottom=function(n){return arguments.length?(f="function"==typeof n?n:Xn(+n),t):f},t.paddingLeft=function(n){return arguments.length?(l="function"==typeof n?n:Xn(+n),t):l},t},t.treemapBinary=function(t,n,e,r,i){function o(t,n,e,r,i,u,a){if(t>=n-1){var s=c[t];return s.x0=r,s.y0=i,s.x1=u,void(s.y1=a)}for(var l=f[t],h=e/2+l,d=t+1,p=n-1;d<p;){var _=d+p>>>1;f[_]<h?d=_+1:p=_}h-f[d-1]<f[d]-h&&t+1<d&&--d;var y=f[d]-l,v=e-y;if(u-r>a-i){var g=(r*v+u*y)/e;o(t,d,y,r,i,g,a),o(d,n,v,g,i,u,a)}else{var m=(i*v+a*y)/e;o(t,d,y,r,i,u,m),o(d,n,v,r,m,u,a)}}var u,a,c=t.children,s=c.length,f=new Array(s+1);for(f[0]=a=u=0;u<s;++u)f[u+1]=a+=c[u].value;o(0,s,t.value,n,e,r,i)},t.treemapDice=Qn,t.treemapSlice=oe,t.treemapSliceDice=function(t,n,e,r,i){(1&t.depth?oe:Qn)(t,n,e,r,i)},t.treemapSquarify=Yc,t.treemapResquarify=Bc,t.interpolate=be,t.interpolateArray=ye,t.interpolateBasis=ce,t.interpolateBasisClosed=se,t.interpolateDate=ve,t.interpolateNumber=ge,t.interpolateObject=me,t.interpolateRound=we,t.interpolateString=xe,t.interpolateTransformCss=Qc,t.interpolateTransformSvg=Jc,t.interpolateZoom=Ce,t.interpolateRgb=Hc,t.interpolateRgbBasis=Xc,t.interpolateRgbBasisClosed=jc,t.interpolateHsl=es,t.interpolateHslLong=rs,t.interpolateLab=function(t,n){var e=pe((t=V(t)).l,(n=V(n)).l),r=pe(t.a,n.a),i=pe(t.b,n.b),o=pe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}},t.interpolateHcl=is,t.interpolateHclLong=os,t.interpolateCubehelix=us,t.interpolateCubehelixLong=as,t.quantize=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},t.path=ze,t.polygonArea=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return c*=3,[o/c,u/c]},t.polygonHull=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(Ue),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=Le(r),u=Le(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],s=[];for(n=o.length-1;n>=0;--n)s.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)s.push(t[r[u[n]][2]]);return s},t.polygonContains=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],s=o[1],f=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=s>a&&u<(c-e)*(a-r)/(s-r)+e&&(f=!f),c=e,s=r;return f},t.polygonLength=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.sqrt(n*n+e*e);return c},t.queue=Fe,t.randomUniform=ds,t.randomNormal=ps,t.randomLogNormal=_s,t.randomBates=vs,t.randomIrwinHall=ys,t.randomExponential=gs,t.request=Ye,t.html=ms,t.json=xs,t.text=bs,t.xml=ws,t.csv=Ms,t.tsv=Ts,t.scaleBand=je,t.scalePoint=function(){return Ve(je().paddingInner(1))},t.scaleIdentity=er,t.scaleLinear=nr,t.scaleLog=fr,t.scaleOrdinal=Xe,t.scaleImplicit=As,t.scalePow=hr,t.scaleSqrt=function(){return hr().exponent(.5)},t.scaleQuantile=dr,t.scaleQuantize=pr,t.scaleThreshold=_r,t.scaleTime=function(){return Pi(af,of,Xs,Bs,Is,Os,Rs,Ps,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return Pi(zf,Sf,_f,df,lf,sf,Rs,Ps,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.schemeCategory10=Wf,t.schemeCategory20b=Zf,t.schemeCategory20c=Qf,t.schemeCategory20=Jf,t.interpolateCubehelixDefault=Gf,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return nl.h=360*t-100,nl.s=1.5-1.5*n,nl.l=.8-.9*n,nl+""},t.interpolateWarm=Kf,t.interpolateCool=tl,t.interpolateViridis=el,t.interpolateMagma=rl,t.interpolateInferno=il,t.interpolatePlasma=ol,t.scaleSequential=Di,t.create=function(t){return Ft(ut(t).call(document.documentElement))},t.creator=ut,t.local=It,t.matcher=Fa,t.mouse=Xt,t.namespace=ot,t.namespaces=Da,t.clientPoint=Ht,t.select=Ft,t.selectAll=function(t){return"string"==typeof t?new qt([document.querySelectorAll(t)],[document.documentElement]):new qt([null==t?[]:t],Ba)},t.selection=Ot,t.selector=ct,t.selectorAll=ft,t.style=vt,t.touch=jt,t.touches=function(t,n){null==n&&(n=Bt().touches);for(var e=0,r=n?n.length:0,i=new Array(r);e<r;++e)i[e]=Ht(t,n[e]);return i},t.window=yt,t.customEvent=Dt,t.arc=function(){function t(){var t,s,f=+n.apply(this,arguments),l=+e.apply(this,arguments),h=o.apply(this,arguments)-_l,d=u.apply(this,arguments)-_l,p=ul(d-h),_=d>h;if(c||(c=t=ze()),l<f&&(s=l,l=f,f=s),l>dl)if(p>yl-dl)c.moveTo(l*cl(h),l*ll(h)),c.arc(0,0,l,h,d,!_),f>dl&&(c.moveTo(f*cl(d),f*ll(d)),c.arc(0,0,f,d,h,_));else{var y,v,g=h,m=d,x=h,b=d,w=p,M=p,T=a.apply(this,arguments)/2,k=T>dl&&(i?+i.apply(this,arguments):hl(f*f+l*l)),C=fl(ul(l-f)/2,+r.apply(this,arguments)),N=C,A=C;if(k>dl){var S=qi(k/f*ll(T)),E=qi(k/l*ll(T));(w-=2*S)>dl?(S*=_?1:-1,x+=S,b-=S):(w=0,x=b=(h+d)/2),(M-=2*E)>dl?(E*=_?1:-1,g+=E,m-=E):(M=0,g=m=(h+d)/2)}var z=l*cl(g),P=l*ll(g),U=f*cl(b),L=f*ll(b);if(C>dl){var D=l*cl(m),R=l*ll(m),q=f*cl(x),O=f*ll(x);if(p<pl){var F=w>dl?function(t,n,e,r,i,o,u,a){var c=e-t,s=r-n,f=u-i,l=a-o,h=(f*(n-o)-l*(t-i))/(l*c-f*s);return[t+h*c,n+h*s]}(z,P,q,O,D,R,U,L):[U,L],I=z-F[0],Y=P-F[1],B=D-F[0],H=R-F[1],X=1/ll(function(t){return t>1?0:t<-1?pl:Math.acos(t)}((I*B+Y*H)/(hl(I*I+Y*Y)*hl(B*B+H*H)))/2),j=hl(F[0]*F[0]+F[1]*F[1]);N=fl(C,(f-j)/(X-1)),A=fl(C,(l-j)/(X+1))}}M>dl?A>dl?(y=Hi(q,O,z,P,l,A,_),v=Hi(D,R,U,L,l,A,_),c.moveTo(y.cx+y.x01,y.cy+y.y01),A<C?c.arc(y.cx,y.cy,A,al(y.y01,y.x01),al(v.y01,v.x01),!_):(c.arc(y.cx,y.cy,A,al(y.y01,y.x01),al(y.y11,y.x11),!_),c.arc(0,0,l,al(y.cy+y.y11,y.cx+y.x11),al(v.cy+v.y11,v.cx+v.x11),!_),c.arc(v.cx,v.cy,A,al(v.y11,v.x11),al(v.y01,v.x01),!_))):(c.moveTo(z,P),c.arc(0,0,l,g,m,!_)):c.moveTo(z,P),f>dl&&w>dl?N>dl?(y=Hi(U,L,D,R,f,-N,_),v=Hi(z,P,q,O,f,-N,_),c.lineTo(y.cx+y.x01,y.cy+y.y01),N<C?c.arc(y.cx,y.cy,N,al(y.y01,y.x01),al(v.y01,v.x01),!_):(c.arc(y.cx,y.cy,N,al(y.y01,y.x01),al(y.y11,y.x11),!_),c.arc(0,0,f,al(y.cy+y.y11,y.cx+y.x11),al(v.cy+v.y11,v.cx+v.x11),_),c.arc(v.cx,v.cy,N,al(v.y11,v.x11),al(v.y01,v.x01),!_))):c.arc(0,0,f,b,x,_):c.lineTo(U,L)}else c.moveTo(0,0);if(c.closePath(),t)return c=null,t+""||null}var n=Oi,e=Fi,r=Ri(0),i=null,o=Ii,u=Yi,a=Bi,c=null;return t.centroid=function(){var t=(+n.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-pl/2;return[cl(r)*t,ll(r)*t]},t.innerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.outerRadius=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.cornerRadius=function(n){return arguments.length?(r="function"==typeof n?n:Ri(+n),t):r},t.padRadius=function(n){return arguments.length?(i=null==n?null:"function"==typeof n?n:Ri(+n),t):i},t.startAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ri(+n),t):o},t.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ri(+n),t):u},t.padAngle=function(n){return arguments.length?(a="function"==typeof n?n:Ri(+n),t):a},t.context=function(n){return arguments.length?(c=null==n?null:n,t):c},t},t.area=Zi,t.line=Wi,t.pie=function(){function t(t){var a,c,s,f,l,h=t.length,d=0,p=new Array(h),_=new Array(h),y=+i.apply(this,arguments),v=Math.min(yl,Math.max(-yl,o.apply(this,arguments)-y)),g=Math.min(Math.abs(v)/h,u.apply(this,arguments)),m=g*(v<0?-1:1);for(a=0;a<h;++a)(l=_[p[a]=a]=+n(t[a],a,t))>0&&(d+=l);for(null!=e?p.sort(function(t,n){return e(_[t],_[n])}):null!=r&&p.sort(function(n,e){return r(t[n],t[e])}),a=0,s=d?(v-h*m)/d:0;a<h;++a,y=f)c=p[a],f=y+((l=_[c])>0?l*s:0)+m,_[c]={data:t[c],index:a,value:l,startAngle:y,endAngle:f,padAngle:g};return _}var n=Ji,e=Qi,r=null,i=Ri(0),o=Ri(yl),u=Ri(0);return t.value=function(e){return arguments.length?(n="function"==typeof e?e:Ri(+e),t):n},t.sortValues=function(n){return arguments.length?(e=n,r=null,t):e},t.sort=function(n){return arguments.length?(r=n,e=null,t):r},t.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.endAngle=function(n){return arguments.length?(o="function"==typeof n?n:Ri(+n),t):o},t.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Ri(+n),t):u},t},t.areaRadial=eo,t.radialArea=eo,t.lineRadial=no,t.radialLine=no,t.pointRadial=ro,t.linkHorizontal=function(){return uo(ao)},t.linkVertical=function(){return uo(co)},t.linkRadial=function(){var t=uo(so);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=ze()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}var n=Ri(ml),e=Ri(64),r=null;return t.type=function(e){return arguments.length?(n="function"==typeof e?e:Ri(e),t):n},t.size=function(n){return arguments.length?(e="function"==typeof n?n:Ri(+n),t):e},t.context=function(n){return arguments.length?(r=null==n?null:n,t):r},t},t.symbols=Dl,t.symbolCircle=ml,t.symbolCross=xl,t.symbolDiamond=Ml,t.symbolSquare=Al,t.symbolStar=Nl,t.symbolTriangle=El,t.symbolWye=Ll,t.curveBasisClosed=function(t){return new po(t)},t.curveBasisOpen=function(t){return new _o(t)},t.curveBasis=function(t){return new ho(t)},t.curveBundle=Rl,t.curveCardinalClosed=Ol,t.curveCardinalOpen=Fl,t.curveCardinal=ql,t.curveCatmullRomClosed=Yl,t.curveCatmullRomOpen=Bl,t.curveCatmullRom=Il,t.curveLinearClosed=function(t){return new ko(t)},t.curveLinear=ji,t.curveMonotoneX=function(t){return new Eo(t)},t.curveMonotoneY=function(t){return new zo(t)},t.curveNatural=function(t){return new Uo(t)},t.curveStep=function(t){return new Do(t,.5)},t.curveStepAfter=function(t){return new Do(t,1)},t.curveStepBefore=function(t){return new Do(t,0)},t.stack=function(){function t(t){var o,u,a=n.apply(this,arguments),c=t.length,s=a.length,f=new Array(s);for(o=0;o<s;++o){for(var l,h=a[o],d=f[o]=new Array(c),p=0;p<c;++p)d[p]=l=[0,+i(t[p],h,p,t)],l.data=t[p];d.key=h}for(o=0,u=e(f);o<s;++o)f[u[o]].index=o;return r(f,u),f}var n=Ri([]),e=qo,r=Ro,i=Oo;return t.keys=function(e){return arguments.length?(n="function"==typeof e?e:Ri(gl.call(e)),t):n},t.value=function(n){return arguments.length?(i="function"==typeof n?n:Ri(+n),t):i},t.order=function(n){return arguments.length?(e=null==n?qo:"function"==typeof n?n:Ri(gl.call(n)),t):e},t.offset=function(n){return arguments.length?(r=null==n?Ro:n,t):r},t},t.stackOffsetExpand=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}Ro(t,n)}},t.stackOffsetDiverging=function(t,n){if((a=t.length)>1)for(var e,r,i,o,u,a,c=0,s=t[n[0]].length;c<s;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):r[0]=o},t.stackOffsetNone=Ro,t.stackOffsetSilhouette=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}Ro(t,n)}},t.stackOffsetWiggle=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,s=0;a<i;++a){for(var f=t[n[a]],l=f[u][1]||0,h=(l-(f[u-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[u][1]||0)-(p[u-1][1]||0)}c+=l,s+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=s/c)}e[u-1][1]+=e[u-1][0]=o,Ro(t,n)}},t.stackOrderAscending=Fo,t.stackOrderDescending=function(t){return Fo(t).reverse()},t.stackOrderInsideOut=function(t){var n,e,r=t.length,i=t.map(Io),o=qo(t).sort(function(t,n){return i[n]-i[t]}),u=0,a=0,c=[],s=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],s.push(e));return s.reverse().concat(c)},t.stackOrderNone=qo,t.stackOrderReverse=function(t){return qo(t).reverse()},t.timeInterval=yr,t.timeMillisecond=Ps,t.timeMilliseconds=Us,t.utcMillisecond=Ps,t.utcMilliseconds=Us,t.timeSecond=Rs,t.timeSeconds=qs,t.utcSecond=Rs,t.utcSeconds=qs,t.timeMinute=Os,t.timeMinutes=Fs,t.timeHour=Is,t.timeHours=Ys,t.timeDay=Bs,t.timeDays=Hs,t.timeWeek=Xs,t.timeWeeks=Js,t.timeSunday=Xs,t.timeSundays=Js,t.timeMonday=js,t.timeMondays=Gs,t.timeTuesday=Vs,t.timeTuesdays=Ks,t.timeWednesday=$s,t.timeWednesdays=tf,t.timeThursday=Ws,t.timeThursdays=nf,t.timeFriday=Zs,t.timeFridays=ef,t.timeSaturday=Qs,t.timeSaturdays=rf,t.timeMonth=of,t.timeMonths=uf,t.timeYear=af,t.timeYears=cf,t.utcMinute=sf,t.utcMinutes=ff,t.utcHour=lf,t.utcHours=hf,t.utcDay=df,t.utcDays=pf,t.utcWeek=_f,t.utcWeeks=wf,t.utcSunday=_f,t.utcSundays=wf,t.utcMonday=yf,t.utcMondays=Mf,t.utcTuesday=vf,t.utcTuesdays=Tf,t.utcWednesday=gf,t.utcWednesdays=kf,t.utcThursday=mf,t.utcThursdays=Cf,t.utcFriday=xf,t.utcFridays=Nf,t.utcSaturday=bf,t.utcSaturdays=Af,t.utcMonth=Sf,t.utcMonths=Ef,t.utcYear=zf,t.utcYears=Uf,t.timeFormatDefaultLocale=Si,t.timeFormatLocale=wr,t.isoFormat=Ff,t.isoParse=If,t.now=Yo,t.timer=Xo,t.timerFlush=jo,t.timeout=Zo,t.interval=function(t,n,e){var r=new Ho,i=n;return null==n?(r.restart(t,n,e),r):(n=+n,e=null==e?Yo():+e,r.restart(function o(u){u+=i,r.restart(o,i+=n,e),t(u)},n,e),r)},t.transition=iu,t.active=function(t,n){var e,r,i=t.__transition;if(i){n=null==n?null:n+"";for(r in i)if((e=i[r]).state>rh&&e.name===n)return new ru([[t]],dh,n,+r)}return null},t.interrupt=tu,t.voronoi=function(){function t(t){return new Pu(t.map(function(r,i){var o=[Math.round(n(r,i,t)/bh)*bh,Math.round(e(r,i,t)/bh)*bh];return o.index=i,o.data=r,o}),r)}var n=cu,e=su,r=null;return t.polygons=function(n){return t(n).polygons()},t.links=function(n){return t(n).links()},t.triangles=function(n){return t(n).triangles()},t.x=function(e){return arguments.length?(n="function"==typeof e?e:au(+e),t):n},t.y=function(n){return arguments.length?(e="function"==typeof n?n:au(+n),t):e},t.extent=function(n){return arguments.length?(r=null==n?null:[[+n[0][0],+n[0][1]],[+n[1][0],+n[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(n){return arguments.length?(r=null==n?null:[[0,0],[+n[0],+n[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function n(t){t.property("__zoom",Iu).on("wheel.zoom",c).on("mousedown.zoom",s).on("dblclick.zoom",f).filter(x).on("touchstart.zoom",l).on("touchmove.zoom",h).on("touchend.zoom touchcancel.zoom",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function e(t,n){return(n=Math.max(b[0],Math.min(b[1],n)))===t.k?t:new Lu(n,t.x,t.y)}function r(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new Lu(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,n,e){t.on("start.zoom",function(){u(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){u(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=u(this,t),o=v.apply(this,t),a=e||i(o),c=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),s=this.__zoom,f="function"==typeof n?n.apply(this,t):n,l=T(s.invert(a).concat(c/s.k),f.invert(a).concat(c/f.k));return function(t){if(1===t)t=f;else{var n=l(t),e=c/n[2];t=new Lu(e,a[0]-n[0]*e,a[1]-n[1]*e)}r.zoom(null,t)}})}function u(t,n){for(var e,r=0,i=k.length;r<i;++r)if((e=k[r]).that===t)return e;return new a(t,n)}function a(t,n){this.that=t,this.args=n,this.index=-1,this.active=0,this.extent=v.apply(t,n)}function c(){if(y.apply(this,arguments)){var t=u(this,arguments),n=this.__zoom,i=Math.max(b[0],Math.min(b[1],n.k*Math.pow(2,m.apply(this,arguments)))),o=Xt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=n.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(n.k===i)return;t.mouse=[o,n.invert(o)],tu(this),t.start()}qu(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},A),t.zoom("mouse",g(r(e(n,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function s(){if(!_&&y.apply(this,arguments)){var n=u(this,arguments),e=Ft(t.event.view).on("mousemove.zoom",function(){if(qu(),!n.moved){var e=t.event.clientX-o,i=t.event.clientY-a;n.moved=e*e+i*i>S}n.zoom("mouse",g(r(n.that.__zoom,n.mouse[0]=Xt(n.that),n.mouse[1]),n.extent,w))},!0).on("mouseup.zoom",function(){e.on("mousemove.zoom mouseup.zoom",null),Zt(t.event.view,n.moved),qu(),n.end()},!0),i=Xt(this),o=t.event.clientX,a=t.event.clientY;Wt(t.event.view),Ru(),n.mouse=[i,this.__zoom.invert(i)],tu(this),n.start()}}function f(){if(y.apply(this,arguments)){var i=this.__zoom,u=Xt(this),a=i.invert(u),c=i.k*(t.event.shiftKey?.5:2),s=g(r(e(i,c),u,a),v.apply(this,arguments),w);qu(),M>0?Ft(this).transition().duration(M).call(o,s,u):Ft(this).call(n.transform,s)}}function l(){if(y.apply(this,arguments)){var n,e,r,i,o=u(this,arguments),a=t.event.changedTouches,c=a.length;for(Ru(),e=0;e<c;++e)i=[i=jt(this,a,(r=a[e]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,n=!0);if(p&&(p=clearTimeout(p),!o.touch1))return o.end(),void((i=Ft(this).on("dblclick.zoom"))&&i.apply(this,arguments));n&&(p=setTimeout(function(){p=null},N),tu(this),o.start())}}function h(){var n,i,o,a,c=u(this,arguments),s=t.event.changedTouches,f=s.length;for(qu(),p&&(p=clearTimeout(p)),n=0;n<f;++n)o=jt(this,s,(i=s[n]).identifier),c.touch0&&c.touch0[2]===i.identifier?c.touch0[0]=o:c.touch1&&c.touch1[2]===i.identifier&&(c.touch1[0]=o);if(i=c.that.__zoom,c.touch1){var l=c.touch0[0],h=c.touch0[1],d=c.touch1[0],_=c.touch1[1],y=(y=d[0]-l[0])*y+(y=d[1]-l[1])*y,v=(v=_[0]-h[0])*v+(v=_[1]-h[1])*v;i=e(i,Math.sqrt(y/v)),o=[(l[0]+d[0])/2,(l[1]+d[1])/2],a=[(h[0]+_[0])/2,(h[1]+_[1])/2]}else{if(!c.touch0)return;o=c.touch0[0],a=c.touch0[1]}c.zoom("touch",g(r(i,o,a),c.extent,w))}function d(){var n,e,r=u(this,arguments),i=t.event.changedTouches,o=i.length;for(Ru(),_&&clearTimeout(_),_=setTimeout(function(){_=null},N),n=0;n<o;++n)e=i[n],r.touch0&&r.touch0[2]===e.identifier?delete r.touch0:r.touch1&&r.touch1[2]===e.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var p,_,y=Ou,v=Fu,g=Hu,m=Yu,x=Bu,b=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],M=250,T=Ce,k=[],C=et("start","zoom","end"),N=500,A=150,S=0;return n.transform=function(t,n){var e=t.selection?t.selection():t;e.property("__zoom",Iu),t!==e?o(t,n):e.interrupt().each(function(){u(this,arguments).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},n.scaleBy=function(t,e){n.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},n.scaleTo=function(t,o){n.transform(t,function(){var t=v.apply(this,arguments),n=this.__zoom,u=i(t),a=n.invert(u),c="function"==typeof o?o.apply(this,arguments):o;return g(r(e(n,c),u,a),t,w)})},n.translateBy=function(t,e,r){n.transform(t,function(){return g(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof r?r.apply(this,arguments):r),v.apply(this,arguments),w)})},n.translateTo=function(t,e,r){n.transform(t,function(){var t=v.apply(this,arguments),n=this.__zoom,o=i(t);return g(Mh.translate(o[0],o[1]).scale(n.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},a.prototype={start:function(){return 1==++this.active&&(this.index=k.push(this)-1,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(k.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Dt(new function(t,n,e){this.target=t,this.type=n,this.transform=e}(n,t,this.that.__zoom),C.apply,C,[t,this.that,this.args])}},n.wheelDelta=function(t){return arguments.length?(m="function"==typeof t?t:Uu(+t),n):m},n.filter=function(t){return arguments.length?(y="function"==typeof t?t:Uu(!!t),n):y},n.touchable=function(t){return arguments.length?(x="function"==typeof t?t:Uu(!!t),n):x},n.extent=function(t){return arguments.length?(v="function"==typeof t?t:Uu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):v},n.scaleExtent=function(t){return arguments.length?(b[0]=+t[0],b[1]=+t[1],n):[b[0],b[1]]},n.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],n):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},n.constrain=function(t){return arguments.length?(g=t,n):g},n.duration=function(t){return arguments.length?(M=+t,n):M},n.interpolate=function(t){return arguments.length?(T=t,n):T},n.on=function(){var t=C.on.apply(C,arguments);return t===C?n:t},n.clickDistance=function(t){return arguments.length?(S=(t=+t)*t,n):Math.sqrt(S)},n},t.zoomTransform=Du,t.zoomIdentity=Mh,Object.defineProperty(t,"__esModule",{value:!0})});
/* End of File include/javascript/d3-sugar/d3-sugar.min.js */

/**
 * @deprecated Since 11.3.0 - use chart.js instead
 */

/*
Copyright 2018 SugarCRM, Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@sugarcrm/d3-sugar")):"function"==typeof define&&define.amd?define(["exports","@sugarcrm/d3-sugar"],e):e(t.sucrose={},t.d3sugar)})(this,function(t,Pt){"use strict";function i(e,n,r){return function(){var t=r.apply(n,arguments);return t===n?e:t}}Pt=Pt&&Pt.hasOwnProperty("default")?Pt.default:Pt;var zt={identity:function(t){return t},functor:function t(e){return"function"==typeof e?e:function(){return e}},isFunction:function(t){var e;return t&&"[object Function]"=={}.toString.call(t)},rebind:function(t,e){for(var n=1,r=arguments.length,a;++n<r;)t[a=arguments[n]]=i(t,e,e[a]);return t},optionsFunc:function(t){return t&&Pt.map(t).each(function(t,e){var n=this[e],r=zt.toNative(t);zt.isFunction(n)&&(Array.isArray(r)?n.apply(r):n(r))}.bind(this)),this},windowSize:function(){var t={};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight):"CSS1Compat"===document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):(t.width=640,t.height=480),t},windowResize:function(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0)},windowUnResize:function(t){window.detachEvent?window.detachEvent("onresize",t):window.removeEventListener&&window.removeEventListener("resize",t,!0)},resizeOnPrint:function(e){var t;window.matchMedia?window.matchMedia("print").addListener(function(t){t.matches&&e()}):window.attachEvent?window.attachEvent("onbeforeprint",e):window.onbeforeprint=e},unResizeOnPrint:function(e){var t;window.matchMedia?window.matchMedia("print").removeListener(function(t){t.matches&&e()}):window.detachEvent?window.detachEvent("onbeforeprint",e):window.onbeforeprint=null},getColor:function(n){return arguments.length?Array.isArray(n)?function(t,e){return t.color||n[e%n.length]}:"[object String]"===Object.prototype.toString.call(n)?function(t){return t.color||"#"+n.replace("#","")}:n:zt.defaultColor()},defaultColor:function(){var n=Pt.scaleOrdinal(Pt.schemeCategory20).range();return function(t,e){return t.color||n[e%n.length]}},getTextContrast:function(t,e,n){var r=t,a=Pt.lab(r),i=a.l,o=60<i?a.darker(4+(i-75)/25).l:a.brighter(4+(18-i)/25).l,l=Pt.lab(o,0,0),s=l.toString();return n&&n(a,l),s},customTheme:function(n,r,a){var i;return r=r||function(t){return t.key},a=a||Pt.scaleOrdinal(Pt.schemeCategory20).range(),i=a.length,function(t){var e=r(t);return i||(i=a.length),void 0!==n[e]?"function"==typeof n[e]?n[e]():n[e]:a[--i]}},colorLinearGradient:function(t,e,n,r,a){var i="lg_gradient_"+e,o;return a.select("#"+i).empty()&&("middle"===n.position?zt.createLinearGradient(i,n,a,[{offset:"0%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1},{offset:"20%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"50%","stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"80%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1}]):zt.createLinearGradient(i,n,a,[{offset:"0%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1},{offset:"50%","stop-color":Pt.rgb(r).toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1}])),"url(#"+i+")"},createLinearGradient:function(t,e,n,r){var a="horizontal"===e.orientation?"0%":"100%",i="horizontal"===e.orientation?"100%":"0%",o,l,s=n.append("linearGradient");s.attr("id",t).attr("x1","0%").attr("y1","0%").attr("x2",a).attr("y2",i).attr("spreadMethod","pad");for(var c=0;c<r.length;c+=1)o=r[c],l=s.append("stop"),Object.getOwnPropertyNames(o).forEach(function(t){l.attr(t,o[t])})},colorRadialGradient:function(t,e,n,r,a){var i="rg_gradient_"+e,o;return a.select("#"+i).empty()&&zt.createRadialGradient(i,n,a,[{offset:n.s,"stop-color":Pt.rgb(r).brighter().toString(),"stop-opacity":1},{offset:"100%","stop-color":Pt.rgb(r).darker().toString(),"stop-opacity":1}]),"url(#"+i+")"},createRadialGradient:function(t,e,n,r){var a,i,o;o=n.append("radialGradient").attr("id",t).attr("r",e.r).attr("cx",e.x).attr("cy",e.y).attr("gradientUnits",e.u).attr("spreadMethod","pad");for(var l=0;l<r.length;l+=1)a=r[l],i=o.append("stop"),Object.getOwnPropertyNames(a).forEach(function(t){i.attr(t,a[t])})},roundedRectangle:function(t,e,n,r,a){var i;return"M"+t+","+e+"h"+(n-2*a)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(r-2-2*a)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(2*a-n)+"a"+-a+","+a+" 0 0 1 "+-a+","+-a+"v"+(2*a-r+2)+"a"+a+","+a+" 0 0 1 "+a+","+-a+"z"},dropShadow:function(t,e,n){var r=n||{},a=r.height||"130%",i=r.offset||2,o=r.blur||1,l,s;return e.select("#"+t).empty()&&((l=e.append("filter").attr("id",t).attr("height",a)).append("feOffset").attr("in","SourceGraphic").attr("result","offsetBlur").attr("dx",i).attr("dy",i),l.append("feColorMatrix").attr("in","offsetBlur").attr("result","matrixOut").attr("type","matrix").attr("values","1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 1 0"),l.append("feGaussianBlur").attr("in","matrixOut").attr("result","blurOut").attr("stdDeviation",o),(s=l.append("feMerge")).append("feMergeNode"),s.append("feMergeNode").attr("in","SourceGraphic")),"url(#"+t+")"},createTexture:function(t,e,n,r){var a="#sc-diagonalHatch-"+e,i="#sc-textureMask-"+e;return t.append("pattern").attr("id","sc-diagonalHatch-"+e).attr("patternUnits","userSpaceOnUse").attr("width",8).attr("height",8).append("path").attr("d","M-1,1 l2,-2 M0,8 l8,-8 M7,9 l1,-1").attr("class","texture-line").attr("stroke","#fff").attr("stroke-linecap","square"),t.append("mask").attr("id","sc-textureMask-"+e).attr("x",0).attr("y",0).attr("width","100%").attr("height","100%").append("rect").attr("x",n||0).attr("y",r||-1).attr("width","100%").attr("height","100%").attr("fill","url("+a+")"),i},stringSetLengths:function(t,e,n){var r=[],a=e.select(".tmp-text-strings").select("text");return a.empty()&&(a=e.append("g").attr("class","tmp-text-strings").append("text")),a.classed(n,!0),a.style("display","inline"),t.forEach(function(t){a.text(t),r.push(a.node().getBoundingClientRect().width)}),a.text("").attr("class","tmp-text-strings").style("display","none"),r},stringSetThickness:function(t,e,n){var r=[],a=e.select(".tmp-text-strings").select("text");return a.empty()&&(a=e.append("g").attr("class","tmp-text-strings").append("text")),a.classed(n,!0),a.style("display","inline"),t.forEach(function(t){a.text(t),r.push(a.node().getBoundingClientRect().height)}),a.text("").attr("class","tmp-text-strings").style("display","none"),r},maxStringSetLength:function(t,e,n,r){var a=zt.stringSetLengths(t,e,n,r);return Pt.max(a)},stringEllipsify:function(t,e,n){var r=e.select(".tmp-text-strings").select("text"),a=t,i=0,o=0,l=0;for(r.empty()&&(r=e.append("g").attr("class","tmp-text-strings").append("text")),r.style("display","inline"),r.text("..."),o=r.node().getBoundingClientRect().width,r.text(a),l=i=r.node().getBoundingClientRect().width;n<i&&30<i;)a=a.slice(0,-1),r.text(a),i=r.node().getBoundingClientRect().width+o;return r.text(""),a+(n<l?"...":"")},getTextBBox:function(t,e){var n=t.node().getBoundingClientRect(),r;return{width:e?n.width:parseInt(n.width,10),height:e?n.height:parseInt(n.height,10),top:e?n.top:parseInt(n.top,10),left:e?n.left:parseInt(n.left,10)}},strip:function(t){return t.replace(/(\s|&)/g,"")},isRTLChar:function(t){var e,n;return new RegExp("["+"֑-߿יִ-﷿ﹰ-ﻼ"+"]").test(t)},NaNtoZero:function(t){return zt.isNumeric(t)?t:0},polarToCartesian:function(t,e,n,r){var a=zt.angleToRadians(r),i,o;return[t+n*Math.cos(a),e+n*Math.sin(a)]},angleToRadians:function(t){return t*Math.PI/180},angleToDegrees:function(t){return 180*t/Math.PI},getAbsoluteXY:function(t){var e=document.documentElement,n=t.getBoundingClientRect(),r=e.scrollLeft+document.body.scrollLeft,a=e.scrollTop+document.body.scrollTop,i,o;return{left:n.left+r,top:n.top+a}},translation:function(t,e){return"translate("+t+","+e+")"},isNumeric:function(t){var e=parseFloat(t);return!isNaN(e)&&"number"==typeof e&&isFinite(e)},toNative:function(t){var e;return zt.isNumeric(parseFloat(t))?parseFloat(t):"true"===t||"false"!==t&&t},toBoolean:function(t){var e;return zt.isNumeric(parseFloat(t))?!!parseFloat(t):"true"===t||"false"!==t&&t},round:function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n},countSigFigsAfter:function(t){var e=/^[^\d]*([\d.,\s]+)[^\d]*$/,n=t.toString().match(e)[1].replace(/[,\s]/,"."),r=0;return Math.floor(n)!==parseFloat(n)&&(r=parseFloat(n).toString().split(".").pop().length||0),r},countSigFigsBefore:function(t){return Math.floor(t).toString().replace(/0+$/g,"").length},siDecimal:function(t){return Math.pow(10,Math.floor(Math.log(t)*Math.LOG10E))},siValue:function(t){return zt.isNumeric(t)?zt.siDecimal(t):{y:1e-24,yocto:1e-24,z:1e-21,zepto:1e-21,a:1e-18,atto:1e-18,f:1e-15,femto:1e-15,p:1e-12,pico:1e-12,n:1e-9,nano:1e-9,"µ":1e-6,micro:1e-6,m:.001,milli:.001,k:1e3,kilo:1e3,M:1e6,mega:1e6,G:1e9,giga:1e9,T:1e12,tera:1e12,P:1e15,peta:1e15,E:1e18,exa:1e18,Z:1e21,zetta:1e21,Y:1e24,yotta:1e24}[t]||0;var e},numberFormat:function(t,e,n,r){var a,i,o,l,s,c;return a=parseFloat(t),i="boolean"==typeof n&&n,!zt.isNumeric(a)||0===a&&!i?t.toString():(o=zt.countSigFigsAfter(a),l=zt.isNumeric(e)?Math.floor(e):void 0!==r?r.precision:i?2:null,l=zt.isNumeric(l)?o&&i?l:Math.min(l,o):o,c=i?"$,":",",(s=void 0===r?Pt.format:Pt.formatLocale(r).format)(c+=o?"."+l+"f":"")(a))},numberFormatFixed:function(t,e,n,r){var a,i;return zt.isNumeric(t)?(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:n?2:0,i=n?"$,":",",(a=void 0===r?Pt.format:Pt.formatLocale(r).format)(i+="."+e+"f")(t)):t.toString()},numberFormatSI:function(t,e,n,r){var a,i,o;if(!zt.isNumeric(t))return t;if(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:0,a=void 0===r?Pt.format:Pt.formatLocale(r).format,o=zt.countSigFigsAfter(t),i=n?"$,":",",n&&o&&t<1e3)t=zt.round(t,e),o=zt.countSigFigsAfter(t),1===(e=Math.min(o,e))&&(e=2),i+="."+e+"f";else if(Math.abs(t)<1)i+=0==+t.toFixed(e)?".1s":"."+Math.min(e,o)+"f";else{if(!(Math.abs(t)<1e3)){if(a=void 0===r?Pt.formatPrefix:Pt.formatLocale(r).formatPrefix,0!==e){var l,s=a("."+e+"s",t)(t).split(".").pop().replace(/[^\d]+$/,"").match(/0+$/g);Array.isArray(s)&&(e-=s.pop().length)}return a(i+="."+e+"s",t)(t)}t=zt.round(t,e)}return a(i)(t)},numberFormatSIFixed:function(t,e,n,r,a){var i,o;return zt.isNumeric(t)?(n="boolean"==typeof n&&n,e=zt.isNumeric(e)?e:n?2:0,o=n?"$,":",",(i=void 0===r?Pt.formatPrefix:Pt.formatLocale(r).formatPrefix)(o+="."+e+"s",a=zt.siValue(a))(t)):t.toString()},numberFormatPercent:function(t,e,n){var r,a,i,o;return r=parseFloat(e),a=zt.isNumeric(r)&&0<r?100*t/r:100,o=n&&void 0!==n.precision?n.precision:1,(i=zt.numberFormat(a,o,!1,n))+"%"},daysInMonth:function(t,e){return new Date(e,t+1,0).getDate()},isValidDate:function(t){return!!t&&(t instanceof Date&&!isNaN(t.valueOf()))},parseDatetime:function(t){var e;return zt.isNumeric(Math.floor(t))&&4===t.toString().length?e=new Date(Math.floor(t)+"-1-1 GMT"):parseInt(t,10).toString()===t||parseInt(t,10)===t?e=new Date(parseInt(t,10)):(e=new Date(t),"Z"===t.toString().substr(-1)||-1!==t.toString().indexOf("GMT")||t.toString().match(/\d\d\d\d-\d\d-\d\dT/)||e.setUTCMilliseconds(e.getUTCMilliseconds()-6e4*e.getTimezoneOffset())),zt.isValidDate(e)||(e=t),e},getDateFormat:function(t,r){var e,n;return["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"][t.length?Pt.min(t,function(t){!0===r&&t.setUTCMilliseconds(t.getUTCMilliseconds()+6e4*t.getTimezoneOffset());var e=new Date(t),n;return n=+Pt.timeSecond(t)<+e?1:+Pt.timeMinute(t)<+e?2:+Pt.timeHour(t)<+e?3:+Pt.timeDay(t)<+e?4:+Pt.timeMonth(t)<+e?5:+Pt.timeYear(t)<+e?7:8}):8]},getDateFormatUTC:function(t){var e,n;return["multi","%x, %I:%M:%S.%L %p","%x, %I:%M:%S %p","%x, %I:%M %p","%x, %I %p","%x","%b %d","%B %Y","%Y"][t.length?Pt.min(t,function(t){var e=new Date(t),n;return n=+Pt.utcSecond(t)<+e?1:+Pt.utcMinute(t)<+e?2:+Pt.utcHour(t)<+e?3:+Pt.utcDay(t)<+e?4:+Pt.utcMonth(t)<+e?5:+Pt.utcYear(t)<+e?7:8}):8]},multiFormat:function(t,e){return!1===e?zt.getDateFormat([t]):zt.getDateFormatUTC([t])},dateFormat:function(t,e,n){var r,a,i,o=zt.parseDatetime(t);return zt.isValidDate(o)?(n&&n.hasOwnProperty("utcFormat")?(a=n.utcFormat,i=e?-1!==e.indexOf("%")?e:zt.multiFormat(o):"%Y"):(r=zt.buildLocality(n),a=Pt.timeFormatLocale(r).utcFormat,i=e?-1!==e.indexOf("%")?e:r[e]||zt.multiFormat(o):"%Y"),a(i)(o)):t},buildLocality:function(t,e){var n=t||{},r=!!e,a=function(t){return t.join("|").split("|").map(function(t){return t?isNaN(t)?t:+t:""})},i={decimal:".",thousands:",",grouping:[3],currency:["$",""],precision:2,periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],date:"%b %-d, %Y",time:"%-I:%M:%S %p",dateTime:"%B %-d, %Y at %X GMT%Z",full:"%A, %c",long:"%c",medium:"%x, %X",short:"%-m/%-d/%y, %-I:%M %p",yMMMEd:"%a, %x",yMEd:"%a, %-m/%-d/%Y",yMMMMd:"%B %-d, %Y",yMMMd:"%x",yMd:"%-m/%-d/%Y",yMMMM:"%B %Y",yMMM:"%b %Y",MMMd:"%b %-d",MMMM:"%B",MMM:"%b",y:"%Y"};return Object.getOwnPropertyNames(n).forEach(function(t){var e=n[t];i[t]=r&&Array.isArray(e)?a(e):e}),i},displayNoData:function(t,e,n,r,a){var i=t?[]:[n],o=e.selectAll(".sc-no-data").data(i),l=o.enter().append("text").attr("class","sc-no-data").attr("dy","-.7em").style("text-anchor","middle"),s=e.selectAll(".sc-no-data").merge(l);return o.exit().remove(),!!i.length&&(s.attr("x",r).attr("y",a).text(zt.identity),e.selectAll(".sc-chart-wrap").remove(),!0)}},kt=function(){function r(t,n,r){return t.replace(/>\s+</gm,"><").replace(/{{(\w+)}}/gm,function(t,e){return n[e]||e}).replace(/{{str\s([\w.]+)}}/gm,function(t,e){return r.translate(e)})}return{show:function(t,e,n,r,a,i){var o=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div");return n=n||"s",r=r||5,l.className="tooltip-inner",s.className="tooltip-arrow",l.innerHTML=e,o.style.left=0,o.style.top=-1e3,o.style.opacity=0,o.className=(i||"sc-tooltip")+" tooltip xy-tooltip in",o.appendChild(l),o.appendChild(s),a.appendChild(o),kt.position(a,o,t,n,r),o.style.opacity=1,o},cleanup:function(){for(var t=document.getElementsByClassName("tooltip"),e=[],n=t.length;0<n;)-1!==t[n-=1].className.indexOf("xy-tooltip")&&(e.push(t[n]),t[n].style.transitionDelay="0 !important",t[n].style.opacity=0,t[n].className="sctooltip-pending-removal out");setTimeout(function(){for(var t;e.length;)(t=e.pop()).parentNode.removeChild(t)},500)},position:function(t,r,e,n,a){n=n||"s",a=a||5;var i=t.getBoundingClientRect(),o=[e.clientX-i.left,e.clientY-i.top],l=parseInt(r.offsetWidth,10),s=parseInt(r.offsetHeight,10),c=t.clientWidth,u=t.clientHeight,d=t.scrollLeft,f=t.scrollTop,h=r.className.replace(/ top| right| bottom| left/g,""),p,g;function m(){var t=o[0]-l/2;return t<d&&(t=d),c<t+l&&(t=c-l),t}function v(){var t=o[1]-s/2;return t<f&&(t=f),f+u<t+s&&(t=f-s),t}function y(t){var e=o[0]-l/2-t-5,n;r.getElementsByClassName("tooltip-arrow")[0].style.marginLeft=e+"px"}function b(t){var e=o[1]-s/2-t-5,n;r.getElementsByClassName("tooltip-arrow")[0].style.marginTop=e+"px"}switch(n){case"e":g=v(),p=o[0]-l-a,b(g),p<d?(p=o[0]+a,h+=" right"):h+=" left";break;case"w":g=v(),p=o[0]+a,b(g),c<p+l?(p=o[0]-l-a,h+=" left"):h+=" right";break;case"n":p=m(),g=o[1]+a,y(p),f+u<g+s?(g=o[1]-s-a,h+=" top"):h+=" bottom";break;case"s":p=m(),g=o[1]-s-a,y(p),g<f?(g=o[1]+a,h+=" bottom"):h+=" top"}r.style.left=p+"px",r.style.top=g+"px",r.className=h},single:function(t,e){var n;return r('<div class="tooltip-header">             <b>{{key}}</b>         </div>         <div class="tooltip-grid">             <p><span>{{label}}</span> <span>{{value}}</span></p>'+(void 0!==t.percent&&String(t.percent).length?"<p><span>{{str tooltip.percent}}</span> <span>{{percent}}%</span></p>":"")+"</div>"+(void 0!==t.msg&&t.msg.length?'<div class="tooltip-status"><i>{{msg}}</i></div>':""),t,e)},multi:function(t,e){var n;return r('<div class="tooltip-grid">             <p><span>{{groupName}}</span> <span>{{groupLabel}}</span></p>'+(void 0!==t.seriesName&&String(t.seriesName).length?"<p><span>{{seriesName}}</span> <span>{{seriesLabel}}</span></p>":"")+"<p><span>{{valueName}}</span> <span>{{valueLabel}}</span></p>"+(void 0!==t.percent&&String(t.percent).length?"<p><span>{{str tooltip.percent}}</span> <span>{{percent}}%</span></p>":"")+"</div>"+(void 0!==t.msg&&t.msg.length?'<div class="tooltip-status"><i>{{msg}}</i></div>':""),t,e)}}}(),c=function(){function i(r,a){var t=r?Object.getOwnPropertyNames(r):[];t.length&&t.forEach(function(t){var e=r[t];if("string"==typeof e||e instanceof String)a[t]=e.toString();else{var n=a[t]||(a[t]={});!(n instanceof Object)||n instanceof Date||n instanceof Function||i(e,n)}})}return function(t){var r={legend:{close:"Hide legend",open:"Show legend",noLabel:"undefined"},controls:{close:"Hide controls",open:"Show controls"},tooltip:{amount:"Amount",count:"Count",date:"Date",group:"Group",key:"Key",percent:"Percent"},noData:"No Data Available.",noLabel:"undefined",displayError:"The chart cannot be displayed due to its configuration.",translate:function(t){var e=t.split("."),n=r[e[0]];return"string"==typeof n?n:2===e.length?n[e[1]]:t}};return i(t,r),r}}();function v(){var tt=Pt.scaleLinear(),et=null,nt=!0,rt=!0,at="ltr",it="bottom",ot=!1,lt=!1,st=30,e=!1,ct=!0,ut=!1,dt=null,ft=null,n=4,ht=function(t){return t},pt=8,r,a,i,o,l,gt={top:0,right:0,bottom:0,left:0},mt=0,vt=Pt.axisBottom(),yt;function bt(t){return t.each(function(t){var e=Pt.select(this),d=vt.scale().copy(),f={top:0,right:0,bottom:0,left:0},h=B(),r=Math.abs(h[1]-h[0]);yt=yt||vt.scale();var o="left"===it||"right"===it,p="left"===it||"top"===it?-1:1,n=0,a=0,l=6,i=0,s=0,g=[],c={},u={},m={};mt=0,null!==ft?vt.ticks(ft):o?vt.ticks(Math.ceil(r/48)):vt.ticks(Math.ceil(r/100)),vt.tickFormat(function(t,e,n){return ht(t,e,n,"axis")}),st&&!zt.isNumeric(String(st))&&(st=30),ut&&(nt=!1);var v,y=e.selectAll("g.sc-wrap.sc-axis").data([t]).enter().append("g").attr("class","sc-wrap sc-axis").append("g").attr("class","sc-axis-inner"),b=e.select(".sc-axis-inner").merge(y);b.call(vt);var x=b.selectAll("g.tick"),w=nt?Pt.extent(tt.domain()):[],k=b.selectAll("g.sc-axisMaxMin").data(w),M=k.enter().append("g").attr("class","sc-axisMaxMin");k.exit().remove();var A=b.selectAll("g.sc-axisMaxMin").merge(M);M.append("text").style("opacity",1);var I=A.select("text"),C=b.selectAll("g.tick, g.sc-axisMaxMin").select("text").filter(function(t){return this.getBoundingClientRect().width}),S=et?[et]:[],F=b.selectAll("text.sc-axislabel").data(S),L=F.enter().append("text").attr("class","sc-axislabel");F.exit().remove();var D=b.selectAll("text.sc-axislabel").merge(L);D.text(zt.identity);var T=!1,E=!1,P=!1;if(o?(K(!0),C.style("text-anchor",W(dt||(Y()?"start":"end")))):(K(!1),Z(),X(1)&&(ot&&(K(!1),$(),Z(),$(),X(1)||(T=!0)),!T&&lt&&(K(!1),J(),Z(),J(),X(2)||(E=!0)),T||E||(st||(st=30),K(!0),o||(s=a/Math.sin(st*Math.PI/180)),Q(st),Z(st),Q(st),P=!0))),nt?x.each(function(t,e){var n=Pt.select(this),r=c["key-"+t.toString()],a=!1,i=d(t)===h[0]||d(t)===h[1];i?a=!0:void 0!==r&&(a=o?u.top-r.bottom+1<0||r.top-m.bottom<0:P?r.left-s/2<u.left||r.left+s/2>m.left:E?(r.left-l<u.right||r.right+l>m.left)&&(r.bottom===u.bottom||r.bottom<u.top||r.top>m.bottom):r.left-l<u.right||r.right+l>m.left),n.select("line").classed("extent",i),n.select("text").style("opacity",1-a)}):x.select("line").style("stroke-opacity",function(t){return d(t)===h[0+Y()]?0:null}),x.filter(function(t){return t<1e-10&&-1e-10<t&&d(t)!==h[0]&&d(t)!==h[1]}).select("line").classed("zero",rt),et){var z=o?ct?r/-2:(mt+pt)*p:r/2,N=o?ct?(mt+pt)*p:r/2:(mt+pt)*p;D.attr("x",z).attr("y",N).attr("dy",.355+.355*p+"em").attr("transform",o&&ct?"rotate(-90)":"").style("text-anchor",o&&!ct?W("end"):"middle"),D.each(function(t,e){i+=o?parseInt(this.getBoundingClientRect().width/1.3,10):parseInt(this.getBoundingClientRect().height/1.3,10)}),mt+=i+pt}function _(){return 1<d.range().length?Math.abs(d.range()[1]-d.range()[0]):0}function R(){return 1<d.range().length?Math.max(.25,1-zt.round(d.bandwidth()/_(),2)):0}function B(){return"function"==typeof d.rangeExtent?d.rangeExtent():d.range()}function O(){return ut?d.bandwidth():0}function H(){return ut?d.range()[0]:0}function V(){return H()/G()}function G(){var t=0,e;return ut?t=1<d.range().length?Math.abs(d.range()[1]-d.range()[0]):Pt.max(B())/2:(e=d.ticks(x.size()),t=d(e[e.length-1])-d(e[e.length-2])),t}function W(t){if("rtl"===at){if("start"===t)return"end";if("end"===t)return"start"}return t}function Y(){return"left"!==it&&"bottom"!==it}function q(t){t=t||1,mt=vt.tickPadding()+(o?n:a)*t}function j(){U(),n=Pt.max(g,function(t){return t.width}),a=Pt.max(g,function(t){return t.height})}function U(){g=[],c={},nt&&A.attr("transform",function(t,e){var n;return"translate("+(o?"0,"+d(t):d(t)+",0")+")"}),C.each(function(t,e){var n=this.getBoundingClientRect();0<n.width&&g.push({key:t,width:parseInt(n.width,10),height:parseInt(n.height,10),left:n.left,right:n.right,top:n.top,bottom:n.bottom})}),g.sort(function(t,e){return t.key-e.key}).forEach(function(t,e){t.index=e,c["key-"+t.key.toString()]=t}),u=g[0],m=g[g.length-1]}function X(t){U();for(var e=nt?2:t||1,n=nt?1:0,r=g.length-e;n<r;n+=1)if(g[n].right+l>g[n+t].left)return!0;return!1}function Z(t){var l=t?(t+180)%180:0,s=90<l,c=null,u=null;if(g.forEach(function(t,e){var n=null===c||t.left<=c,r=null===u||t.right>=u,a=0,i=0,o=0;(n||r)&&(o=l?t.width-6:t.width/2,a=d(t.key)+ut*O()/2,!n||l&&!s||(c=t.left,i=Math.abs(h[0]-a),f.left=Math.max(o-i,0)),!r||l&&s||(u=t.right,i=Math.abs(h[1]-a),f.right=Math.max(o-i,0)))}),!ut){var e=gt.right-Math.max(gt.right,f.right);e+=gt.left-Math.max(gt.left,f.left);var n=[h[0],h[1]+e];d.range(n),h=B(),r=Math.abs(h[1]-h[0]),vt.scale(d),b.call(vt)}}function K(){f={top:0,right:0,bottom:0,left:0},d=tt.copy(),h=B(),r=Math.abs(h[1]-h[0]),vt.scale(tt),b.call(vt),C.selectAll("tspan").remove(),C.attr("dy",o?".32em":.355+.355*p+"em").attr("x",o?vt.tickPadding()*p:0).attr("y",o?0:vt.tickPadding()*p).attr("transform","translate(0,0)").style("text-anchor","middle").style("opacity",1),I.text(function(t,e,n){return ht(t,e,n,"maxmin")}),j(),q()}function $(){var f=G();C.each(function(t,e,n){var r=ht(t,e,n,"no-ellipsis"),a=Pt.select(this),i=zt.isValidDate(zt.parseDatetime(r)),o=1===p?.71:-1,l=0,s=(r&&""!==r?i?r:r.replace("/","/ "):[]).split(" "),c=s.length;this.textContent="";var u,d=a.append("tspan").text(s[l]+" ").attr("dy",o+"em").attr("x",0);for(l+=1,o=1;l<c;)for(d=a.append("tspan").text(s[l]+" ").attr("dy",o+"em").attr("x",0),l+=1;l<c;){if(u=d.text(),d.text(u+" "+s[l]),!(this.getBoundingClientRect().width<=f)){d.text(u);break}l+=1}}),j(),q()}function J(){C.attr("transform",function(t,e){var n;return"translate(0,"+c["key-"+t.toString()].index%2*a+")"}),j(),q(2)}function Q(t){var e=(t+180)%180,n=90<e,r=(e-(n?180:0))*p,a=W(n?"end":"start"),i=Math.abs(Math.cos(t*Math.PI/180));C.attr("transform",function(t,e,n){return"translate(0,"+vt.tickPadding()*p+") rotate("+r+")"}).attr("y","0").style("text-anchor",a),j(),q()}yt=tt.copy(),(gt={top:f.top,right:f.right,bottom:f.bottom,left:f.left})[it]=mt,bt.resizeTickLines=function(t){b.selectAll("g.tick, g.sc-axisMaxMin").select("line").attr(o?"x2":"y2",t*p)},bt.labelThickness=function(){return i}}),bt}return bt.axis=vt,zt.rebind(bt,tt,"domain","range"),bt.width=function(t){return arguments.length?bt:mt},bt.height=function(t){return arguments.length?bt:mt},bt.margin=function(t){return arguments.length?(gt=t,bt):gt},bt.ticks=function(t){return arguments.length?(ft=t,bt):ft},bt.axisLabel=function(t){return arguments.length?(et=t,bt):et},bt.showMaxMin=function(t){return arguments.length?(nt=t,bt):nt},bt.highlightZero=function(t){return arguments.length?(rt=t,bt):rt},bt.wrapTicks=function(t){return arguments.length?(ot=t,bt):ot},bt.rotateTicks=function(t){return arguments.length?(st=t,bt):st},bt.staggerTicks=function(t){return arguments.length?(lt=t,bt):lt},bt.reduceXTicks=function(t){return arguments.length?(e=t,bt):e},bt.rotateYLabel=function(t){return arguments.length?(ct=t,bt):ct},bt.axisLabelDistance=function(t){return arguments.length?(pt=t,bt):pt},bt.textAnchor=function(t){return arguments.length?(dt=t,bt):dt},bt.direction=function(t){return arguments.length?(at=t,bt):at},bt.orient=function(t){return arguments.length?(vt="bottom"===(it=t)?Pt.axisBottom():"right"===it?Pt.axisRight():"left"===it?Pt.axisLeft():"top"===it?Pt.axisTop():Pt.axisBottom(),bt):it},bt.scale=function(t){return arguments.length?(tt=t,vt.scale(tt),ut="function"==typeof tt.padding,zt.rebind(bt,tt,"domain","range"),bt):tt},bt.valueFormat=function(t){return arguments.length?(ht=t,bt):ht||vt.tickFormat()},bt.tickFormat=function(t){return arguments.length?(r=t,vt.tickFormat(t),bt):r||vt.tickFormat()},bt.tickValues=function(t){return arguments.length?(a=t,vt.tickValues(t),bt):a},bt.tickSize=function(t){return arguments.length?(i=t,vt.tickSize(t),bt):i},bt.tickPadding=function(t){return arguments.length?(n=t,vt.tickPadding(t),bt):n},bt.tickSizeInner=function(t){return arguments.length?(o=t,vt.tickSizeInner(t),bt):o},bt.tickSizeOuter=function(t){return arguments.length?(l=t,vt.tickSizeOuter(t),bt):l},bt}function r(){var Q={top:0,right:0,bottom:0,left:0},tt=960,et=500,nt=Math.floor(1e4*Math.random()),e=function(t){return(t.series||t).key},rt=function(t,e){return(t.series||t).value},at=function(t,e){return(t.series||t).count},it=function(t){return e(t)},ot=function(t){return rt(t)},lt=function(t){return isNaN(at(t))?"":" ("+at(t)+")"},n=zt.buildLocality(),r="ltr",a=0,st=0,ct=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},ut=zt.colorLinearGradient,dt=ct,ft=!1,ht=function(t,e){return"sc-series sc-series-"+t.seriesIndex},pt=.3,gt=Pt.scaleLinear(),mt=null,vt=[0],yt=!0,bt=75,xt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),wt=0,kt=0,Mt=0;function At(t){return t.each(function(o){var c=tt-Q.left-Q.right,u=et-Q.top-Q.bottom,l=Pt.select(this),m=5,s=5,v=0,d=0,y=0;function t(){wt=B(y),kt=O(),Mt=H(y)}function e(){var n=R(kt,wt),r=0,t=4,a=wt-2*pt*kt,i=kt;o.forEach(function(t,e){t.values.forEach(function(t){t._height=0<d?_(n*t.value/d,a):0,t._height<4?(r+=t._height-4,t._height=4):r<0&&4<t._height+r&&(t._height+=r,r=0),t._base=a,t._bottom=i,t._top=t._bottom-t._height,a+=2*pt*t._height,i-=t._height})});var e=mt||Pt.extent(Pt.merge(o.map(function(t){return t.values.map(function(t){return t._top})})).concat(vt));gt.domain(e).range([kt,0])}d=Pt.sum(o,function(t){return t.value}),t(),e();var n,r=l.selectAll("g.sc-wrap").data([o]).enter().append("g").attr("class","sc-wrap sc-funnel"),a=l.select(".sc-wrap.sc-funnel").merge(r),i=r.append("defs"),f=a.select("defs");if(a.attr("transform",zt.translation(Q.left,Q.top)),ft)var h=zt.createTexture(i,nt);At.gradientFill=function(t,e,n){var r=nt+"-"+e,a=ct(t,e);return ut(t,r,n,a,f)};var p=a.selectAll(".sc-series").data(o,function(t){return t.seriesIndex}),g=p.enter().append("g").attr("class","sc-series");p.exit().remove();var b=a.selectAll(".sc-series").merge(g);g.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",1).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),b.attr("class",function(t){return ht(t,t.seriesIndex)}).attr("fill",function(t){return dt(t,t.seriesIndex)}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active}),b.transition().duration(st).style("stroke-opacity",1).style("fill-opacity",1);var x=b.selectAll("g.sc-slice").data(function(t){return t.values},function(t){return t.seriesIndex});x.exit().remove();var w=x.enter().append("g").attr("class","sc-slice"),k=b.selectAll("g.sc-slice").merge(w);w.append("polygon").attr("class","sc-base"),k.select("polygon.sc-base").attr("points",function(t){return N(t,0,wt)}),ft&&(w.append("polygon").attr("class","sc-texture").style("mask","url("+h+")"),k.select("polygon.sc-texture").attr("points",function(t){return N(t,0,wt)})),w.on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=D(Pt.event,t,e);xt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;xt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),xt.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=D(Pt.event,t,e);xt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=D(Pt.event,t,e);xt.call("elementDblClick",this,n)});var M=b.selectAll(".sc-label-value").data(function(t){return t.values},function(t){return t.seriesIndex});M.exit().remove();var A=M.enter().append("g").attr("class","sc-label-value"),I=b.selectAll("g.sc-label-value").merge(A);I.attr("transform","translate("+Mt+",0)");var C=I.filter(".sc-label-side");function S(){I.selectAll("polyline").remove(),I.selectAll("rect").remove(),I.selectAll("text").remove(),I.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("pointer-events","none").style("stroke-width",0).style("fill-opacity",0),I.append("text").text(it).call(K,"sc-label",.85,"middle",X),I.select(".sc-label").call(E,yt?T:P,V,function(t,e){K(t,"sc-label",e,"middle",X)}),I.append("text").text(ot).call(K,"sc-value",.85,"middle",X),I.select(".sc-value").append("tspan").text(lt),I.call($).call(Y).call(J),I.classed("sc-label-side",function(t){return t.tooTall||t.tooWide})}function F(){var e=0,t=0,n,r,a,i;(C=I.filter(".sc-label-side")).selectAll(".sc-label").remove(),C.selectAll("rect").remove(),C.selectAll("polyline").remove();var o=!1;window.SUGAR&&window.SUGAR.hasOwnProperty("App","utils")&&(o=window.SUGAR.App.utils.isDarkMode());var l=o?"#9ba1a6":"#6f777b";for(C.append("text").text(it).call(K,"sc-label",.85,"start",l),C.select(".sc-label").call(E,yt?T:P,yt?G:z,function(t,e){K(t,"sc-label",e,"start",l)}),C.call($),C.select(".sc-value").style("text-anchor","start").style("fill",l),C.call(q),a=(n=C.nodes()).length-1;0<=a;a-=1)if(t=Pt.select(n[a]).data()[0]){if(!e){t.labelBottom=t.labelTop+t.labelHeight+s,e=t.labelBottom;continue}t.labelTop=Math.max(e,t.labelTop),t.labelBottom=t.labelTop+t.labelHeight+s,e=t.labelBottom}if(e&&e-s>Pt.max(gt.range())){for(r=e=0,i=(n=C.nodes()).length;r<i;r+=1)if(t=Pt.select(n[r]).data()[0]){if(!e){t.labelBottom=kt-1,t.labelTop=t.labelBottom-t.labelHeight,e=t.labelTop;continue}t.labelBottom=Math.min(e,t.labelBottom),t.labelTop=t.labelBottom-t.labelHeight-s,e=t.labelTop}e<0&&C.each(function(t){t.labelTop-=e,t.labelBottom-=e})}e=0,C.call(U)}function L(){S(),F()}function D(t,e,n){return{id:nt,key:it(e),value:rt(e),count:at(e),data:e,series:e.series,seriesIndex:e.series.seriesIndex,e:t}}function T(t,e,n,r){var a=e.text(),i=parseFloat(e.attr("dy")),o,l=a.split(/\s+/).reverse(),s=[],c=0,u=n(t,0),d=Pt.select(e.node().parentNode);for(e.text(null);o=l.pop();)s.push(o),e.text(s.join(" ")),e.node().getBoundingClientRect().width>u&&1<s.length&&(s.pop(),e.text(s.join(" ")),s=[o],(e=d.append("text")).text(o).call(r,1.1*++c+i))}function E(t,n,r,a){t.each(function(t){var e=Pt.select(this);n(t,e,r,a)})}function P(t,e,n,r){var a=e.text(),i=parseFloat(e.attr("dy")),o=n(t);e.text(zt.stringEllipsify(a,l,o)).call(r,i)}function z(t){var e=Math.max(c-u/1.1,bt),n=t._bottom,r,a=e+n*pt,i=Math.abs(t.labelBottom-n),o,l,s=a-(m+i*pt+m+m);return Math.max(s,bt)}function N(t,e,n){var r=t._bottom,a=t._top,i=n/2-pt*r,o=n/2-pt*a,l=Mt;return Mt-i+","+r*e+" "+(Mt-o)+","+a*e+" "+(Mt+o)+","+a*e+" "+(Mt+i)+","+r*e}function _(t,e){var n=e/pt/2;return Math.abs(Math.sqrt(t/pt+n*n))-n}function R(t,e){return t*(e-t*pt)}function B(t){return Math.round(Math.max(Math.min(u/1.1,c-t),40))}function O(){return Math.min(1.1*wt,(wt-wt*pt)/(2*pt))}function H(t){return wt/2+t}function V(t){var e,n;return wt-(t._bottom-t._height/2)*pt*2}function G(t,e){var n,r;return Math.max((c-wt)/2,e)+t._top*pt}function W(t){return Pt.select(t).node().getBoundingClientRect()}function Y(t){t.each(function(t){var e=W(this);t.labelHeight=e.height,t.labelWidth=e.width,t.labelTop=t._bottom-t._height/2-t.labelHeight/2,t.labelBottom=t.labelTop+t.labelHeight+s,t.tooWide=t.labelWidth>V(t),t.tooTall=t.labelHeight>t._height-4})}function q(t){t.each(function(t){var e=W(this);t.labelHeight=e.height,t.labelWidth=e.width,t.labelTop=t._top,t.labelBottom=t.labelTop+t.labelHeight+s})}function j(t){for(var e=t.size(),n=t.nodes(),r=n.length-1;0<=r;--r){var a=Pt.select(n[r]),i=a.data()[0],o=r<e-1?Pt.select(n[r+1]).data()[0]:null,l=r?Pt.select(n[r-1]).data()[0]:null,s=Math.round(i.labelHeight)+.5,c=Math.round(i._bottom-i.labelTop)-.5,u=o?o.labelWidth-(i.labelBottom-o.labelBottom)*pt:0,d=i.labelWidth,f=l&&s<c?l.labelWidth:0,h=Math.round(Math.max(u,d,f))+m,p=Math.round(G(i,y))-v-m,g="0,"+s+" "+h+","+s+" "+(h+Math.abs(s-c)*pt)+","+c+" "+p+","+c;i.labelWidth=h,a.attr("points",g)}}function U(t){var e=(c-wt)/2,i=0;t.each(function(t){var e=t._bottom,n=Math.abs(t.labelBottom+m-e)*pt,r=e*pt,a=t.labelWidth+n+3*m-r;i<=a&&(i=a)}),(i=Math.round(10*i)/10)<=0?y=v=e:0<i&&i<e?(v=e-i,y=e):(v=0,y=i)}function X(t,e,n){var r=t.series||t,a=r.seriesIndex||e,i=dt(r),o="inherit"===i?Pt.select("."+ht(r,a).split(" ").join(".")).style("color"):i;return zt.getTextContrast(o,a)}function Z(t){return zt.isRTLChar(t.slice(-1))?"rtl":"ltr"}function K(t,e,n,r,a){t.attr("x",0).attr("y",0).attr("dy",n+"em").attr("class",e).attr("direction",function(){return"ltr"}).style("pointer-events","none").style("text-anchor",r).style("fill",a)}function $(t){t.each(function(t){var e=Pt.select(this),n,r=.85+(e.selectAll(".sc-label").size()+1)-1+"em";e.select(".sc-value").attr("dy",r)})}function J(t){t.each(function(t,e){var n;Pt.select(this).select(".sc-label-box").attr("x",(t.labelWidth+6)/-2).attr("y",-2).attr("width",t.labelWidth+6).attr("height",t.labelHeight+4).attr("rx",2).attr("ry",2).style("fill-opacity",1)})}L(),t(),e(),L(),t(),e(),L(),t(),e(),k.select(".sc-base").attr("points",function(t){return N(t,1,wt)}),ft&&k.selectAll(".sc-texture").attr("points",function(t){return N(t,1,wt)}).style("fill",X),I.attr("transform",function(t){var e,n;return"translate("+(t.tooTall?0:Mt)+","+(t.tooTall?0:t.labelTop)+")"}),C.attr("transform",function(t){return"translate("+v+","+t.labelTop+")"}),C.append("polyline").attr("class","sc-label-leader").style("fill-opacity",0).style("stroke","#999").style("stroke-width",1).style("stroke-opacity",.5),C.selectAll("polyline").call(j)}),At}return At.dispatch=xt,At.id=function(t){return arguments.length?(nt=t,At):nt},At.color=function(t){return arguments.length?(ct=t,At):ct},At.fill=function(t){return arguments.length?(dt=t,At):dt},At.classes=function(t){return arguments.length?(ht=t,At):ht},At.gradient=function(t){return arguments.length?(ut=t,At):ut},At.margin=function(t){return arguments.length?(Q.top=void 0!==t.top?t.top:Q.top,Q.right=void 0!==t.right?t.right:Q.right,Q.bottom=void 0!==t.bottom?t.bottom:Q.bottom,Q.left=void 0!==t.left?t.left:Q.left,At):Q},At.width=function(t){return arguments.length?(tt=t,At):tt},At.height=function(t){return arguments.length?(et=t,At):et},At.getKey=function(t){return arguments.length?(e=t,At):e},At.getValue=function(t){return arguments.length?(rt=t,At):rt},At.getCount=function(t){return arguments.length?(at=t,At):at},At.fmtKey=function(t){return arguments.length?(it=t,At):it},At.fmtValue=function(t){return arguments.length?(ot=t,At):ot},At.fmtCount=function(t){return arguments.length?(lt=t,At):lt},At.direction=function(t){return arguments.length?(r=t,At):r},At.delay=function(t){return arguments.length?(a=t,At):a},At.duration=function(t){return arguments.length?(st=t,At):st},At.locality=function(t){return arguments.length?(n=zt.buildLocality(t),At):n},At.textureFill=function(t){return arguments.length?(ft=t,At):ft},At.yScale=function(t){return arguments.length?(gt=t,At):gt},At.yDomain=function(t){return arguments.length?(mt=t,At):mt},At.forceY=function(t){return arguments.length?(vt=t,At):vt},At.wrapLabels=function(t){return arguments.length?(yt=t,At):yt},At.minLabelWidth=function(t){return arguments.length?(bt=t,At):bt},At}function o(){var V={top:0,right:0,bottom:0,left:0},G=null,W=null,Y=Math.floor(1e4*Math.random()),e=function(t){return t.key},n=function(t){return zt.isNumeric(t.y)?parseFloat(t.y):null},r=function(t){return t.hasOwnProperty("key")?t.key:t},a=function(t){return zt.isNumeric(t.value)?t.value:n(t)},i=function(t){return zt.isNumeric(t.count)?t.count:t},o=function(t){return r(t)},l=function(t){return a(t)},s=function(t){return(" ("+i(t)+")").replace(" ()","")},c=zt.buildLocality(),u="ltr",d=0,q=0,j=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},U=zt.colorRadialGradient,X=j,Z=function(t,e){return"sc-slice sc-series-"+t.seriesIndex},K=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),$=50,f=!0,J=!0,Q=.01,tt=5,h=5,et=90,nt=0,rt=0,at=0,it=-90,ot=90,lt=10;function st(t){return t.each(function(t){var e=G-V.left-V.right,n=W-V.top-V.bottom,r=Pt.select(this),i=Math.min(e/2,n)/((100+lt)/100),a=ot-it,o=Pt.scaleLinear().range([0,1]).domain([rt,at]),l=function(t){return t*i/100},s,c=r.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-gauge"),u=r.select(".sc-wrap.sc-gauge").merge(c),d=c.append("defs"),f=u.select("defs");c.append("g").attr("class","sc-group");var h=u.select(".sc-group");c.append("g").attr("class","sc-labels");var p=u.select(".sc-labels");c.append("g").attr("class","sc-pointer");var g=u.select(".sc-pointer"),m=c.append("g").attr("class","sc-odometer"),v=u.select(".sc-odometer");u.attr("transform","translate("+(V.left/2+V.right/2+l(lt))+","+(V.top+l(lt))+")"),st.gradientFill=function(t,e){var n=Y+"-"+e,r={x:0,y:0,r:i,s:$/100,u:"userSpaceOnUse"},a=j(t,e);return U(t,n,r,a,f)},h.attr("transform",O);var y=h.selectAll(".sc-series").data(t),b=y.enter().append("g").attr("class","sc-series");y.exit().remove();var x=h.selectAll(".sc-series").merge(b);b.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),x.attr("class",function(t){return Z(t,t.seriesIndex)}).attr("fill",function(t){return X(t,t.seriesIndex)}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active});var w=Pt.arc().innerRadius(l($)).outerRadius(i).startAngle(R).endAngle(B),k=x.selectAll("g.sc-slice").data(function(t){return t.values},function(t){return t.seriesIndex});k.exit().remove();var M=k.enter().append("g").attr("class","sc-slice"),A=x.selectAll("g.sc-slice").merge(M);function I(t,e,n){return{point:e,index:n,e:Pt.event,id:Y}}M.append("path").attr("class","sc-base").attr("d",w).on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=I(Pt.event,t,e);K.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;K.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),K.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=I(Pt.event,t,e);K.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=I(Pt.event,t,e);K.call("elementDblClick",this,n)}),A.select(".sc-base").attr("d",w).style("stroke-opacity",1);var C=[{x:0,y:rt,y0:rt,y1:rt}].concat(t.map(function(t){return t.values[0]}));p.attr("transform",O);var S=p.selectAll("text").data(C),F=S.enter().append("text"),L;if(S.exit().remove(),p.selectAll("text").merge(F).attr("transform",function(t){return"rotate("+_(t.y1)+") translate(0,"+(l(-1.5)-i)+")"}).text(function(t){return t.y1}).style("fill-opacity",H).style("text-anchor","middle").style("font-size",l(.6)+"em"),J){var D=[[Math.round(l(tt)/2),0],[0,-Math.round(l(et))],[-Math.round(l(tt)/2),0],[0,Math.round(l(tt))],[Math.round(l(tt)/2),0]];g.attr("transform",O);var T=g.selectAll("path").data([D]),E=T.enter().append("path").attr("transform","rotate("+it+")");T.exit().remove();var P=g.selectAll("path").merge(E);P.attr("d",Pt.line()),m.append("text").attr("class","sc-odom sc-odomText").attr("x",0).attr("y",0).style("text-anchor","middle").style("stroke","none").style("fill","black"),v.select(".sc-odomText").style("font-size",l(.7)+"em").text(nt),m.insert("path",".sc-odomText").attr("class","sc-odom sc-odomBox").attr("fill","#EFF").attr("stroke","black").attr("stroke-width","2px").attr("opacity",.8),v.call(N)}else g.selectAll("path").remove(),v.select(".sc-odomText").remove(),v.select(".sc-odomBox").remove();function z(t){nt=t,P.transition().duration(q).ease(Pt.easeElastic).attr("transform","rotate("+_(t)+")"),v.select(".sc-odomText").text(nt),v.call(N)}function N(t){var e=t.select(".sc-odomText").node().getBoundingClientRect();t.select(".sc-odomBox").attr("d",zt.roundedRectangle(-e.width/2,-e.height+l(1.5),e.width+l(4),e.height+l(2),l(2))),t.attr("transform","translate("+i+","+(V.top+l(70)+e.height)+")")}function _(t){return it+o(t)*a}function R(t){return zt.angleToRadians(_(t.y0))}function B(t){return zt.angleToRadians(_(t.y1))}function O(){return"translate("+i+","+i+")"}function H(t,e){var n=(B(t)-R(t))/(2*Math.PI);return 0===e||Q<n?1:0}st.setGaugePointer=z}),st}return st.dispatch=K,st.id=function(t){return arguments.length?(Y=t,st):Y},st.color=function(t){return arguments.length?(j=t,st):j},st.fill=function(t){return arguments.length?(X=t,st):X},st.classes=function(t){return arguments.length?(Z=t,st):Z},st.gradient=function(t){return arguments.length?(U=t,st):U},st.margin=function(t){return arguments.length?(V.top=void 0!==t.top?t.top:V.top,V.right=void 0!==t.right?t.right:V.right,V.bottom=void 0!==t.bottom?t.bottom:V.bottom,V.left=void 0!==t.left?t.left:V.left,st):V},st.width=function(t){return arguments.length?(G=t,st):G},st.height=function(t){return arguments.length?(W=t,st):W},st.x=function(t){return arguments.length?(e=t,st):e},st.y=function(t){return arguments.length?(n=zt.functor(t),st):n},st.getKey=function(t){return arguments.length?(r=t,st):r},st.getValue=function(t){return arguments.length?(a=t,st):a},st.getCount=function(t){return arguments.length?(i=t,st):i},st.fmtKey=function(t){return arguments.length?(o=t,st):o},st.fmtValue=function(t){return arguments.length?(l=t,st):l},st.fmtCount=function(t){return arguments.length?(s=t,st):s},st.direction=function(t){return arguments.length?(u=t,st):u},st.delay=function(t){return arguments.length?(d=t,st):d},st.duration=function(t){return arguments.length?(q=t,st):q},st.locality=function(t){return arguments.length?(c=zt.buildLocality(t),st):c},st.showLabels=function(t){return arguments.length?(f=t,st):f},st.labelThreshold=function(t){return arguments.length?(Q=t,st):Q},st.ringWidth=function(t){return arguments.length?($=t,st):$},st.pointerWidth=function(t){return arguments.length?(tt=t,st):tt},st.pointerTailLength=function(t){return arguments.length?(h=t,st):h},st.pointerHeadLength=function(t){return arguments.length?(et=t,st):et},st.setPointer=function(t){return arguments.length?(st.setGaugePointer(t),st):st.setGaugePointer},st.showPointer=function(t){return arguments.length?(J=t,st):J},st.minValue=function(t){return arguments.length?(rt=t,st):rt},st.maxValue=function(t){return arguments.length?(at=t,st):at},st.minAngle=function(t){return arguments.length?(it=t,st):it},st.maxAngle=function(t){return arguments.length?(ot=t,st):ot},st.labelInset=function(t){return arguments.length?(lt=t,st):lt},st}function z(){var q={top:10,right:10,bottom:15,left:10},e=0,j=0,U="right",y="ltr",X="start",Z=6,K=2*Z,$=10,J=12,Q=5,tt=!0,et=!1,nt=!1,rt=!1,at=3,b=!1,x=c(),it=Math.floor(1e4*Math.random()),w=function(t){return 0<t.key.length||!isNaN(parseFloat(t.key))&&zt.isNumeric(t.key)?t.key:x.noLabel},k=function(t){return zt.defaultColor()(t,t.seriesIndex)},M=function(t){return"sc-series sc-series-"+t.seriesIndex},A=Pt.dispatch("legendClick","legendMouseover","legendMouseout","toggleMenu","closeMenu"),ot=0,lt=!1,st=!0,ct=0,ut=function(){};function dt(t){return t.each(function(t){var e=Pt.select(this),C=[],S=0,F=0,L="",D="start"===X,T="rtl"===y,E=J*(D?1:.6),P=$+(D?K+Q:0);if(!t||!t.length||!t.filter(function(t){return!t.values||t.values.length}).length)return dt;var n=t.filter(function(t){return t.hasOwnProperty("seriesIndex")}).length;t.filter(function(t){return!t.hasOwnProperty("seriesIndex")}).map(function(t){t.seriesIndex=n,n+=1}),b=!0,L=t[0].type&&"bar"!==t[0].type?"line":"bar",U=T&&"center"!==U?"left"===U?"right":"left":U;var r,a=e.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-menu"),i=e.select("g.sc-wrap").merge(a);i.attr("transform","translate(0,0)");var o=a.append("defs"),l=i.select("defs");o.append("clipPath").attr("id","sc-edge-clip-"+it).append("rect");var z=i.select("#sc-edge-clip-"+it+" rect");a.append("rect").attr("class","sc-menu-background");var N=i.select(".sc-menu-background"),_=zt.dropShadow("menu_back_"+it,l,{blur:2});a.append("text").attr("class","sc-menu-link");var R=i.select(".sc-menu-link"),s=a.append("g").attr("class","sc-menu-mask"),B=i.select(".sc-menu-mask");s.append("g").attr("class","sc-group");var O=i.select(".sc-group"),c=O.selectAll(".sc-series").data(zt.identity,function(t){return t.seriesIndex});c.exit().remove();var u=c.enter().append("g").attr("class","sc-series").on("mouseover",function(t){A.call("legendMouseover",this,t)}).on("mouseout",function(t){A.call("legendMouseout",this,t)}).on("click",function(t){Pt.event.preventDefault(),Pt.event.stopPropagation(),A.call("legendClick",this,t)}),H=O.selectAll(".sc-series").merge(u);H.attr("class",M).attr("fill",k).attr("stroke",k);var d=u.append("rect").attr("x",(K+Q)/-2).attr("y",(K+E)/-2).attr("width",K+Q).attr("height",K+E).style("fill","#FFE").style("stroke-width",0).style("opacity",.1),V=H.selectAll("rect").merge(d),f=u.selectAll("circle").data(function(t){return"line"===L?[t,t]:[t]});f.exit().remove();var h=f.enter().append("circle").attr("r",Z).style("stroke-width","2px"),G=H.selectAll("circle").merge(h),p=u.selectAll("line").data("line"===L?function(t){return[t]}:[]);p.exit().remove();var g=p.enter().append("line").attr("x0",0).attr("y0",0).attr("y1",0).style("stroke-width","4px"),W=H.selectAll("line").merge(g),m=u.append("text").attr("dx",0),Y=H.selectAll("text").merge(m);function v(){N.style("opacity",.9*ot).style("display",ot?"inline":"none"),O.style("opacity",ot).style("display",ot?"inline":"none"),R.text(1===ot?x.close:x.open)}Y.attr("dy",D?".36em":".71em").text(w),z.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0),N.attr("x",.5).attr("y",.5).attr("width",0).attr("height",0).style("opacity",0).style("pointer-events","all").on("click",function(){Pt.event.stopPropagation()}),R.text(1===ot?x.close:x.open).attr("text-anchor","left"===U?T?"end":"start":T?"start":"end").attr("dy",".36em").attr("dx",0).style("opacity",0).on("click",function(t,e){Pt.event.preventDefault(),Pt.event.stopPropagation(),A.call("toggleMenu",this,t,e)}),H.classed("disabled",function(t){return t.disabled}),dt.calcMaxWidth=function(){return C=[],O.style("display","inline"),Y.each(function(){var t=Pt.select(this).node().getBoundingClientRect().width;C.push(Math.max(Math.floor(t),"line"===L?50:20))}),dt.width(Pt.sum(C)+C.length*P-$),dt.width()},dt.getLineHeight=function(){var t;return O.style("display","inline"),Math.floor(Y.node().getBoundingClientRect().height)},dt.arrange=function(t){function n(t){return C[t]+P}function e(t){return C[t]+P-$}function r(t){return t?1:-1}0===C.length&&this.calcMaxWidth();var a=C.length,i=1,o=a,l=[],s=[],c=t-q.left-q.right,u=j,d=0,f=this.getLineHeight(),h=K+(D?0:f)+E,p=7,g=7,m=7,v=7,y=0,b=0,x,w,k;if(tt){for(;0<o;){for(l=[],x=0;x<a;x+=1)n(x)>(l[x%o]||0)&&(l[x%o]=n(x));if(Pt.sum(l)-$<c)break;o-=1}for(o=o||1,i=Math.ceil(a/o),d=Pt.sum(l)-$,x=0;x<a;x+=1)w=x%o,D?0===w?y=T?d:0:y+=l[w-1]*r(!T):0===w?y=(T?d:0)+(l[w]-$)/2*r(!T):y+=(l[w-1]+l[w])/2*r(!T),b=Math.floor(x/o)*h,s[x]={x:y,y:b}}else if(T)for(y=c,x=0;x<a;x+=1)y-e(x)<0&&(d=Math.max(d,e(x)),y=c,x&&(i+=1)),y-e(x)>d&&(d=y-e(x)),s[x]={x:y,y:(i-1)*(E+K)},y-=n(x);else for(x=y=0;x<a;x+=1)x&&y+e(x)>c&&(y=0,i+=1),y+e(x)>d&&(d=y+e(x)),s[x]={x:y,y:(i-1)*(E+K)},y+=n(x);if(!nt&&(et||i<=at)){switch(ot=0,lt=rt=!1,dt.width(q.left+d+q.right).height(q.top+i*h-E+q.bottom),U){case"left":k=0;break;case"center":k=(t-dt.width())/2;break;case"right":k=0}z.attr("y",0).attr("width",dt.width()).attr("height",dt.height()),N.attr("x",k).attr("width",dt.width()).attr("height",dt.height()).attr("rx",0).attr("ry",0).attr("filter","none").style("display","inline").style("opacity",0),B.attr("clip-path","none").attr("transform",function(){var t,e;return"translate("+(k+q.left+(D?Z*r(!T):0))+","+(q.top+p)+")"}),O.style("opacity",1).style("display","inline"),H.attr("transform",function(t){var e=s[t.seriesIndex];return"translate("+e.x+","+e.y+")"}),V.attr("x",function(t){var e=0;return D?(e=(K+$)/2*r(T),e-=T?n(t.seriesIndex):0):e=n(t.seriesIndex)/-2,e}).attr("width",function(t){return n(t.seriesIndex)}).attr("height",h),G.attr("r",function(t){return"dash"===t.type?0:Z}).attr("transform",function(t,e){var n;return"translate("+(D||"bar"===L?0:3*Z*r(e))+",0)"}),W.attr("x1",function(t){return"dash"===t.type?8*Z:4*Z}).attr("transform",function(t){var e;return"translate("+Z*("dash"===t.type?-4:-2)+",0)"}).style("stroke-dasharray",function(t){return"dash"===t.type?"8, 8":"none"}).style("stroke-dashoffset",-4),Y.attr("dy",D?".36em":".71em").attr("text-anchor",X).attr("transform",function(){var t,e;return"translate("+(D?(Z+Q)*r(!T):0)+","+(D?0:(K+E)/2)+")"})}else lt=rt=!0,dt.width(v+Pt.max(C)+K+Q+g).height(q.top+K+q.top),S=p+K*a+J*(a-1)+m,F=Math.min(u-dt.height(),S),z.attr("x",.5-p-Z).attr("y",.5-p-Z).attr("width",dt.width()).attr("height",F),N.attr("x",.5).attr("y",.5+dt.height()).attr("width",dt.width()).attr("height",F).attr("rx",2).attr("ry",2).attr("filter",_).style("opacity",.9*ot).style("display",ot?"inline":"none"),R.attr("transform",function(){var t,e;return"translate("+("left"===U?.5:.5+dt.width())+","+(q.top+Z)+")"}).style("opacity",1),B.attr("clip-path","url(#sc-edge-clip-"+it+")").attr("transform",function(){var t,e;return"translate("+(v+Z)+","+(dt.height()+p+Z)+")"}),O.style("opacity",ot).style("display",ot?"inline":"none").attr("transform",function(){var t;return"translate("+(T?Pt.max(C)+Z:0)+",0)"}),H.attr("transform",function(t,e){var n;return"translate(0,"+e*(K+J)+")"}),V.attr("x",function(t){var e=(K+$)/2*r(T);return e-=T?n(t.seriesIndex):0}).attr("width",function(t){return n(t.seriesIndex)}).attr("height",K+E),G.attr("r",function(t){return"dash"===t.type?0:"line"===t.type?Z-2:Z}).attr("transform",""),W.attr("x1",16).attr("transform","translate(-8,0)").style("stroke-dasharray",function(t){return"dash"===t.type?"6, 4, 6":"none"}).style("stroke-dashoffset",0),Y.attr("text-anchor","start").attr("dy",".36em").attr("transform",function(){var t;return"translate("+(Z+Q)*r(!T)+",0)"});if(st){var M=F-S,A=function(t){if(t){var e=Pt.zoom().on("zoom",I);N.call(e),O.call(e)}else N.on(".zoom",null),O.on(".zoom",null)},I=function(){var t=Pt.event,e,n=0,r=0,a=0,i="";!t||"click"!==t.type&&"zoom"!==t.type||(e=t.sourceEvent,"zoom"===t.type&&e&&("wheel"===e.type?(n=-e.deltaX,r=-e.deltaY,a=ct+(Math.abs(n)>Math.abs(r)?n:r)):"mousemove"===e.type?(n=e.movementX,r=e.movementY,a=ct+(Math.abs(n)>Math.abs(r)?n:r)):"touchmove"===e.type&&(n=t.transform.x,r=t.transform.y,a=Math.abs(n)>Math.abs(r)?n:r)),ct=Math.min(Math.max(a,M),0),i="translate("+(T?Pt.max(C)+Z:0)+","+ct+")",(0<a||a<M)&&ut(Math.abs(r)>Math.abs(n)?r:0),O.attr("transform",i))};A(lt)}},A.on("toggleMenu",function(){Pt.event.stopPropagation(),ot=1-ot,v()}),A.on("closeMenu",function(){1===ot&&(ot=0,v())})}),dt}return dt.dispatch=A,dt.margin=function(t){return arguments.length?(q.top=void 0!==t.top?t.top:q.top,q.right=void 0!==t.right?t.right:q.right,q.bottom=void 0!==t.bottom?t.bottom:q.bottom,q.left=void 0!==t.left?t.left:q.left,dt):q},dt.width=function(t){return arguments.length?(e=Math.round(t),dt):e},dt.height=function(t){return arguments.length?(j=Math.round(t),dt):j},dt.id=function(t){return arguments.length?(it=t,dt):it},dt.key=function(t){return arguments.length?(w=t,dt):w},dt.color=function(t){return arguments.length?(k=zt.getColor(t),dt):k},dt.classes=function(t){return arguments.length?(M=t,dt):M},dt.align=function(t){return arguments.length?(U=t,dt):U},dt.position=function(t){return arguments.length?(X=t,dt):X},dt.showAll=function(t){return arguments.length?(et=t,dt):et},dt.showMenu=function(t){return arguments.length?(nt=t,dt):nt},dt.collapsed=function(){return rt},dt.rowsCount=function(t){return arguments.length?(at=t,dt):at},dt.spacing=function(t){return arguments.length?(J=t,dt):J},dt.gutter=function(t){return arguments.length?($=t,dt):$},dt.radius=function(t){return arguments.length?(Z=t,dt):Z},dt.strings=function(t){return arguments.length?(x=t,dt):x},dt.equalColumns=function(t){return arguments.length?(tt=t,dt):tt},dt.enabled=function(t){return arguments.length?(b=t,dt):b},dt.direction=function(t){return arguments.length?(y=t,dt):y},dt}function l(){var y=960,b=500,x=null,w=z(),k=z(),M="",A=[],I=[],C=!1,S=!1,F=!1,L="left",D="right",T="ltr",E=c();function P(t){return t.each(function(){var t=Pt.select(this),e=t.select(".sc-chart-wrap"),n=e.select(".sc-title-wrap"),r=e.select(".sc-controls-wrap"),a=e.select(".sc-legend-wrap"),i=x.margin(),o=0,l=0,s=0,c=0,u=0,d={width:0,height:0,top:0,left:0},f=0,h=0,p=0;if(C=C&&M&&0<M.length,n.select(".sc-title").remove(),C&&(n.append("text").attr("class","sc-title").attr("x","rtl"===T?y:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(M),(d=zt.getTextBBox(n.select(".sc-title"),!0)).top-=t.node().getBoundingClientRect().top,f=d.height),S&&(w.id("controls_"+x.id()).strings(E.controls).color(["#444"]).align(L).height(b-f),r.datum(A).call(w),s=w.calcMaxWidth()),F&&(k.id("legend_"+x.id()).strings(E.legend).align(D).height(b-f),a.datum(I).call(k),c=k.calcMaxWidth()),u=y/(s+c),s=Math.floor(s*u),c=Math.floor(c*u),S&&(w.arrange(s),c=y-w.width()),F&&(k.arrange(c),s=y-k.width()),S&&(o="rtl"===T?y-w.width():0,l=C?d.height-i.top+d.top:0-w.margin().top,r.attr("transform",zt.translation(o,l)),h=w.height()-(C?0:w.margin().top)),F){var g=zt.getTextBBox(a.select(".sc-menu-link")),m=y-d.width-6,v=!!(C&&!S&&k.collapsed()&&m>g.width);o="rtl"===T||!k.collapsed()&&"center"===D?0:y-k.width(),v?(l=d.height-k.height()/2-g.height/2,l-=i.top-d.top):l=C?d.height-i.top+d.top:0-k.margin().top,a.attr("transform",zt.translation(o,l)),p=v?k.margin().bottom:k.height()-(C?0:k.margin().top)}P.getHeight=function(){var t;return f+Math.max(h,p,10)}}),P}return P.controls=w,P.legend=k,P.chart=function(t){return arguments.length?(x=t,P):x},P.width=function(t){return arguments.length?(y=t,P):y},P.height=function(t){return arguments.length?(b=t,P):b},P.title=function(t){return arguments.length?(M=t,P):M},P.controlsData=function(t){return arguments.length?(A=t,P):A},P.legendData=function(t){return arguments.length?(I=t,P):I},P.showTitle=function(t){return arguments.length?(C=t,P):C},P.showControls=function(t){return arguments.length?(S=t,P):S},P.showLegend=function(t){return arguments.length?(F=t,P):F},P.alignControls=function(t){return arguments.length?(L=t,P):L},P.alignLegend=function(t){return arguments.length?(D=t,P):D},P.direction=function(t){return arguments.length?(T=t,k.direction(t),w.direction(t),P):T},P.strings=function(t){return arguments.length?(E=c(t),k.strings(E.legend),w.strings(E.controls),P):E},P}function a(){var k=Math.floor(1e5*Math.random()),M=960,A=500,I={top:0,right:0,bottom:0,left:0},C=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},S=zt.colorRadialGradient,F=C,L=function(t,e){return"sc-series sc-series-"+t.seriesIndex},D=Pt.scaleLinear(),T=Pt.scaleLinear(),E=Pt.scaleLinear(),P=function(t){return t.x},z=function(t){return t.y},N=function(t){return t.size||1},_=[],R=[],B=[],O=null,H=null,V=null,G=[1*Math.PI,25*Math.PI],W=function(t,e){return Math.sqrt(E(N(t,e))/Math.PI)},Y=function(t,e){return E(N(t,e))},q=function(t){return t.shape||"circle"},e=zt.buildLocality(),j=!0,U=!0,X=function(t){return!t.notActive},Z=!1,K=.1,n="ltr",$=!1,r=0,J=0,Q=!0,tt=!0,et=!1,nt=Pt.dispatch("elementClick","elementMouseover","elementMouseout","elementMousemove"),rt=!1,at,it,ot,lt,st=!1;function ct(t){return t.each(function(s){var n=M-I.left-I.right,r=A-I.top-I.bottom,e=Pt.select(this),t=Pt.transition("scatter").duration(J).ease(Pt.easeLinear);st=!0;var a=O&&H&&V?[]:Pt.merge(s.map(function(t){return t.values.map(function(t,e){return{x:P(t,e),y:z(t,e),size:N(t,e)}})}));function i(){if(D.domain(O||Pt.extent(a.map(P).concat(_))),T.domain(H||Pt.extent(a.map(z).concat(R))),Z&&s[0])if(-1===K){var t=Math.sqrt(G[1]/Math.PI);D.range([0+t,n-t]),T.range([r-t,0+t])}else K<1?(D.range([(n*K+n)/(2*s[0].values.length),n-n*(1+K)/(2*s[0].values.length)]),T.range([r,0])):(D.range([K,n-K]),T.range([r-K,K]));else D.range([0,n]),T.range([r,0]);rt&&T.nice(),et=D.domain()[0]===D.domain()[1]||T.domain()[0]===T.domain()[1],D.domain()[0]===D.domain()[1]&&(D.domain()[0]?D.domain([D.domain()[0]-.1*D.domain()[0],D.domain()[1]+.1*D.domain()[1]]):D.domain([-1,1])),T.domain()[0]===T.domain()[1]&&(T.domain()[0]?T.domain([T.domain()[0]-.1*T.domain()[0],T.domain()[1]+.1*T.domain()[1]]):T.domain([-1,1])),E.domain(V||Pt.extent(a.map(function(t){return t.size}).concat(B))).range(G),E.domain().length<2&&E.domain([0,E.domain()]),at=at||D,it=it||T,ot=ot||E}ct.resetDimensions=function(t,e){A=e,n=(M=t)-I.left-I.right,r=e-I.top-I.bottom,i()},i();var o,l=e.selectAll("g.sc-wrap.sc-scatter").data([s]).enter().append("g").attr("class","sc-wrap sc-scatter"),c=e.select(".sc-wrap.sc-scatter").merge(l),u=l.append("defs"),d=c.select("defs");l.append("g").attr("class","sc-group");var f=c.select(".sc-group");l.append("g").attr("class","sc-point-paths");var h=c.select(".sc-point-paths");c.classed("sc-single-point",et).attr("transform",zt.translation(I.left,I.top)),u.append("clipPath").attr("id","sc-edge-clip-"+k).append("rect"),u.append("clipPath").attr("id","sc-points-clip-"+k).attr("class","sc-point-clips"),d.select("#sc-edge-clip-"+k+" rect").attr("width",n).attr("height",r),c.attr("clip-path",$?"url(#sc-edge-clip-"+k+")":""),ct.gradientFill=function(t,e){var n=k+"-"+e,r={x:.5,y:.5,r:.5,s:0,u:"objectBoundingBox"},a=C(t,e);return S(t,n,r,a,d)};var p=f.selectAll(".sc-series").data(zt.identity,function(t){return t.seriesIndex}),g=p.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),m=f.selectAll(".sc-series").merge(g),v,y,b;function x(t,e,n,r){var a;return{pointIndex:n,point:e,seriesIndex:r.seriesIndex,series:r,groupIndex:e.group,id:k,e:t}}function w(){if(!U)return!1;if(!0===Q){var n=Pt.merge(s.map(function(t,i){return t.values.map(function(t,e){var n=P(t,e),r=z(t,e),a=t.group;return[D(n)+1e-4*Math.random(),T(r)+1e-4*Math.random(),t,i,a,e]}).filter(function(t,e){return X(t[4],e)})}));n.length<=3&&(n.push([D.range()[0]-20,T.range()[0]-20,null,null,null,null]),n.push([D.range()[1]+20,T.range()[1]+20,null,null,null,null]),n.push([D.range()[0]-20,T.range()[0]+20,null,null,null,null]),n.push([D.range()[1]+20,T.range()[1]-20,null,null,null,null]));try{var t=Pt.voronoi().extent([[-10,-10],[M+10,A+10]]).polygons(n).map(function(t,e){return{data:t,seriesIndex:n[e][3],groupIndex:n[e][4],pointIndex:n[e][5]}}).filter(function(t){return null!==t.seriesIndex})}catch(t){Q=!1,console.warn("Sucrose: [ERROR] D3 Voronoi paths in line chart are disabled due to error.")}}if(Q){if(tt){var e=c.select("#sc-points-clip-"+k).selectAll("circle").data(n),r=e.enter().append("circle"),a=c.select("#sc-points-clip-"+k).selectAll("circle").merge(r);e.exit().remove(),a.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",function(t,e){return t[2]?W(t[2],e):25}),h.attr("clip-path","url(#sc-points-clip-"+k+")")}var i=h.selectAll("path").data(t),o=i.enter().append("path").attr("class",function(t,e){return"sc-path-"+e}),l=h.selectAll("path").merge(o);i.exit().remove(),l.attr("d",function(t){return t?"M"+t.data.join("L")+"Z":null}).on("mouseover",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementMouseover",this,a)}).on("mousemove",function(t){var e=Pt.event;nt.call("elementMousemove",this,e)}).on("mouseout",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementMouseout",this,a)}).on("click",function(t){var e=s[t.seriesIndex],n=t.pointIndex,r=e.values[n];if(st||!e)return 0;var a=x(Pt.event,r,n,e);nt.call("elementClick",this,a)})}else m.selectAll(".sc-point").style("pointer-events","auto").on("mouseover",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementMouseover",this,a)}).on("mousemove",function(t,e){var n=Pt.event;nt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementMouseout",this,a)}).on("click",function(t,e){var n=Pt.select(this.parentNode).datum(),r=n.values[e];if(st||!n)return 0;var a=x(Pt.event,r,e,n);nt.call("elementClick",this,a)});st=!1}m.attr("class",function(t,e){return L(t,t.seriesIndex)}).attr("fill",function(t,e){return F(t,t.seriesIndex)}).attr("stroke",function(t,e){return F(t,t.seriesIndex)}).classed("hover",function(t){return t.hover}),m.transition(t).style("stroke-opacity",1).style("fill-opacity",1),p.exit().transition(t).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),j?(y=(v=m.selectAll("circle.sc-point").data(function(t){return t.values})).enter().append("circle").attr("class",function(t,e){return"sc-point sc-enter sc-point-"+e}).attr("r",W),(b=m.selectAll(".sc-point").merge(y)).filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(0)}),b.transition(t).attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(z(t,e))}).on("end",function(t){Pt.select(this).classed("sc-enter",!1).classed("sc-active",function(t){return"active"===t.active})}),p.exit().transition(t).selectAll(".sc-point").attr("cx",function(t,e){return D(P(t,e))}).attr("cy",function(t,e){return T(0)}).remove()):(y=(v=m.selectAll("path.sc-point").data(function(t){return t.values})).enter().append("path").attr("class",function(t,e){return"sc-point sc-enter sc-point-"+e}).attr("d",Pt.symbol().type(q).size(Y)),(b=m.selectAll(".sc-point").merge(y)).filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("transform",function(t,e){return"translate("+at(P(t,e))+","+T(0)+")"}),b.transition(t).attr("transform",function(t,e){return"translate("+D(P(t,e))+","+T(z(t,e))+")"}).attr("d",Pt.symbol().type(q).size(Y)).on("end",function(t){Pt.select(this).classed("sc-enter",!1).classed("active",function(t){return"active"===t.active})}),p.exit().transition(t).selectAll(".sc-point").attr("transform",function(t,e){return"translate("+D(P(t,e))+","+T(0)+")"}).remove()),clearTimeout(lt),lt=setTimeout(w,300),at=D.copy(),it=T.copy(),ot=E.copy(),nt.on("elementMouseover.point",function(t){U&&e.select(".sc-series-"+t.seriesIndex+" .sc-point-"+t.pointIndex).classed("hover",!0)}),nt.on("elementMouseout.point",function(t){U&&e.select(".sc-series-"+t.seriesIndex+" .sc-point-"+t.pointIndex).classed("hover",!1)})}),ct}return ct.dispatch=nt,ct.id=function(t){return arguments.length?(k=t,ct):k},ct.color=function(t){return arguments.length?(C=t,ct):C},ct.fill=function(t){return arguments.length?(F=t,ct):F},ct.classes=function(t){return arguments.length?(L=t,ct):L},ct.gradient=function(t){return arguments.length?(S=t,ct):S},ct.x=function(t){return arguments.length?(P=zt.functor(t),ct):P},ct.y=function(t){return arguments.length?(z=zt.functor(t),ct):z},ct.z=function(t){return arguments.length?(N=zt.functor(t),ct):N},ct.xScale=function(t){return arguments.length?(D=t,ct):D},ct.yScale=function(t){return arguments.length?(T=t,ct):T},ct.zScale=function(t){return arguments.length?(E=t,ct):E},ct.xDomain=function(t){return arguments.length?(O=t,ct):O},ct.yDomain=function(t){return arguments.length?(H=t,ct):H},ct.zDomain=function(t){return arguments.length?(V=t,ct):V},ct.forceX=function(t){return arguments.length?(_=t,ct):_},ct.forceY=function(t){return arguments.length?(R=t,ct):R},ct.forceZ=function(t){return arguments.length?(B=t,ct):B},ct.size=function(t){return arguments.length?(N=zt.functor(t),ct):N},ct.sizeRange=function(t){return arguments.length?(G=t,ct):G},ct.sizeDomain=function(t){return arguments.length?(V=t,ct):V},ct.forceSize=function(t){return arguments.length?(B=t,ct):B},ct.margin=function(t){if(!arguments.length)return I;for(var e in t)t.hasOwnProperty(e)&&(I[e]=t[e]);return ct},ct.width=function(t){return arguments.length?(M=t,ct):M},ct.height=function(t){return arguments.length?(A=t,ct):A},ct.interactive=function(t){return arguments.length?(U=t,ct):U},ct.pointActive=function(t){return arguments.length?(X=t,ct):X},ct.padData=function(t){return arguments.length?(Z=t,ct):Z},ct.padDataOuter=function(t){return arguments.length?(K=t,ct):K},ct.clipEdge=function(t){return arguments.length?($=t,ct):$},ct.clipVoronoi=function(t){return arguments.length?(tt=t,ct):tt},ct.useVoronoi=function(t){return arguments.length?(!1===(Q=t)&&(tt=!1),ct):Q},ct.circleRadius=function(t){return arguments.length?(W=t,ct):W},ct.clipRadius=function(t){return arguments.length?(W=t,ct):W},ct.shape=function(t){return arguments.length?(q=t,ct):q},ct.onlyCircles=function(t){return arguments.length?(j=t,ct):j},ct.singlePoint=function(t){return arguments.length?(et=t,ct):et},ct.delay=function(t){return arguments.length?(r=t,ct):r},ct.duration=function(t){return arguments.length?(J=t,ct):J},ct.direction=function(t){return arguments.length?(n=t,ct):n},ct.nice=function(t){return arguments.length?(rt=t,ct):rt},ct.locality=function(t){return arguments.length?(e=zt.buildLocality(t),ct):e},ct}function y(){var I=a(),C={top:0,right:0,bottom:0,left:0},S=960,F=500,L=function(t){return t.x},D=function(t){return t.y},T,E,P=function(t,e){return!isNaN(D(t,e))&&null!==D(t,e)},z=function(t){return t&&t.area||!1},N="linear",_=!1,e=0,R=0,B=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},O=null,n=B,H=function(t,e){return"sc-series sc-series-"+t.seriesIndex};function V(t){return t.each(function(t){var e=Pt.select(this),n=S-C.left-C.right,r=F-C.top-C.bottom,a="linear"===N?Pt.curveLinear:"cardinal"===N?Pt.curveCardinal:"monotone"===N?Pt.curveMonotoneX:"basis"===N?Pt.curveBasis:Pt.curveNatural,i=Pt.area().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y0(function(t,e){return E(D(t,e))}).y1(function(t,e){return E(E.domain()[0]<=0?0<=E.domain()[1]?0:E.domain()[1]:E.domain()[0])}),o=Pt.area().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y0(function(t,e){return E(0)}).y1(function(t,e){return E(E.domain()[0]<=0?0<=E.domain()[1]?0:E.domain()[1]:E.domain()[0])}),l=Pt.transition("points").duration(R).ease(Pt.easeLinear),s=I.id();O=function(t,e,n){return zt.colorLinearGradient(t,I.id()+"-"+e,n,B(t,e),d.select("defs"))},T=I.xScale(),E=I.yScale(),V.resetDimensions=function(t,e){F=e,n=(S=t)-C.left-C.right,r=e-C.top-C.bottom,I.resetDimensions(t,e)};var c,u=e.selectAll("g.sc-wrap.sc-line").data([t]).enter().append("g").attr("class","sc-wrap sc-line"),d=e.select(".sc-wrap.sc-line").merge(u),f=u.append("defs");u.append("g").attr("class","sc-group");var h=d.select(".sc-group");u.append("g").attr("class","sc-scatter-wrap");var p=d.select(".sc-scatter-wrap");d.attr("transform",zt.translation(C.left,C.top)),f.append("clipPath").attr("id","sc-edge-clip-"+s).append("rect"),d.select("#sc-edge-clip-"+s+" rect").attr("width",n).attr("height",r),d.attr("clip-path",_?"url(#sc-edge-clip-"+s+")":""),p.attr("clip-path",_?"url(#sc-edge-clip-"+s+")":"");var g=h.selectAll("g.sc-series").data(t,function(t){return t.seriesIndex}),m=g.enter().append("g").attr("class","sc-series").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),v=h.selectAll(".sc-series").merge(m);v.classed("hover",function(t){return t.hover}).attr("class",H).attr("fill",B).attr("stroke",B),v.transition(l).style("stroke-opacity",1).style("fill-opacity",.5),g.exit().transition(l).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.clipEdge(_).width(n).height(r),p.call(I);var y=v.selectAll("path.sc-area").data(function(t){return z(t)?[t]:[]}),b=y.enter().append("path").attr("class","sc-area sc-enter"),x=v.selectAll(".sc-area").merge(b);function w(r){return r.values&&r.values.length?1<r.values.length?[r.values]:[T.domain().map(function(t,e){if(Array.isArray(r.values[0]))return[t,r.values[0][1]];var n=JSON.parse(JSON.stringify(r.values[0]));return n.x=t,n})]:[null];var t}x.filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("d",function(t){return o.apply(this,[t.values])}),x.transition(l).attr("d",function(t){return i.apply(this,[t.values])}).on("end",function(t){Pt.select(this).classed("sc-enter",!1)}),y.exit().remove(),g.exit().transition(l).selectAll(".sc-area").attr("d",function(t){return o.apply(this,[t.values])}).remove();var k,M=v.selectAll("path.sc-line").data(w,function(t){return t.seriesIndex}).enter().append("path").attr("class","sc-line sc-enter"),A=v.selectAll(".sc-line").merge(M);A.filter(function(t){return Pt.select(this).classed("sc-enter")}).attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(0)})),A.transition(l).attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(D(t,e))})).on("end",function(t){Pt.select(this).classed("sc-enter",!1)}),g.exit().transition(l).selectAll(".sc-line").attr("d",Pt.line().curve(a).defined(P).x(function(t,e){return T(L(t,e))}).y(function(t,e){return E(0)})).remove()}),V}return V.dispatch=I.dispatch,V.scatter=I,zt.rebind(V,I,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData","padDataOuter","singlePoint","direction","nice","locality"),V.color=function(t){return arguments.length?(B=t,I.color(B),V):B},V.fill=function(t){return arguments.length?(n=t,I.fill(n),V):n},V.classes=function(t){return arguments.length?(H=t,I.classes(H),V):H},V.gradient=function(t){return arguments.length?(O=t,V):O},V.margin=function(t){if(!arguments.length)return C;for(var e in t)t.hasOwnProperty(e)&&(C[e]=t[e]);return V},V.width=function(t){return arguments.length?(S=t,V):S},V.height=function(t){return arguments.length?(F=t,V):F},V.x=function(t){return arguments.length?(L=t,I.x(t),V):L},V.y=function(t){return arguments.length?(D=t,I.y(t),V):D},V.delay=function(t){return arguments.length?(e=t,V):e},V.duration=function(t){return arguments.length?(R=t,I.duration(t),V):R},V.clipEdge=function(t){return arguments.length?(_=t,V):_},V.interpolate=function(t){return arguments.length?(N=t,V):N},V.defined=function(t){return arguments.length?(P=t,V):P},V.isArea=function(t){return arguments.length?(z=zt.functor(t),V):z},V}function b(){var at={top:0,right:0,bottom:0,left:0},it=960,ot=500,lt=Pt.scaleBand(),st=Pt.scaleLinear(),ct=Math.floor(1e4*Math.random()),ut=function(t){return t.x},dt=function(t){return t.y},ft=function(t,e,n){return n||t},ht=function(t,e){return ft(t.y,e,t.label)},e=zt.buildLocality(),pt=[],gt=[0],mt=!0,n,vt=!1,yt=!1,bt=!0,xt=60,wt="ltr",kt=!1,r=0,a=0,i=null,o=null,Mt=!1,At=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},It=zt.colorLinearGradient,Ct=At,St=!1,l=null,Ft=function(t,e){return"sc-series sc-series-"+t.seriesIndex},Lt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),Dt,Tt;function Et(t){return t.each(function(i){var t=Pt.select(this),f=it-at.left-at.right,h=ot-at.top-at.bottom,e=bt?"width":"height",n=bt?"height":"width",r=bt?"x":"y",a=bt?"y":"x",p=0,g=0,o=0,l=i.length-1,m=!1,v=!1,u=vt,y=!1,b=[],x=0,w=[],k=[],s=[];function d(t){return t?1:-1}function M(t){return t.reverse().filter(function(t,e,n){return-1===n.indexOf(t,e+1)}).reverse()}if(u&&(mt?"top"!==u&&!0!==u||(u="end"):"total"===u?u="top":!0===u&&(u="end"),m=bt,y="total"===u||"top"===u),mt&&(s=[],i[0].values.map(function(t,n){var r=0,a=0;i.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y0=a-(bt?0:e.size),a-=e.size):(e.y0=r+(bt?e.size:0),r+=e.size)}),s[n]={neg:{label:ft(a,n),y:a},pos:{label:ft(r,n),y:r}}})),Et.resetDimensions=function(t,e){ot=e,f=(it=t)-at.left-at.right,h=e-at.top-at.bottom,A()},k=Pt.merge(i.map(function(t){return t.values})),p=i.length,g=i[0].values.length,vt){i.forEach(function(t,e){t.values.forEach(function(t,e){t.label=ht(t)})}),w="total"===u?Pt.merge(s.map(function(t){return[t.neg,t.pos]})):k,b=zt.stringSetLengths(w.map(ht),t,"sc-label-value"),x=zt.stringSetThickness(["Xy"],t,"sc-label-value")[0];var c=Pt.extent(i.map(function(t,e){return t.seriesIndex}));o=c[0],l=c[1]}function A(){var t=t||M(k.map(ut).concat(pt)),e=bt?f:h,n=bt?h:f,r=mt?xt:xt*p+xt,a=xt*(mt?.25:1),i=Math.max(.25,(e-g*r-a)/(2*r));lt.domain(t).range([0,e]).paddingInner(yt?.3:.25).paddingOuter(i);var o=o||Pt.extent(k.map(function(t){var e=t.y0+(bt?0:t.y),n=t.y0+(bt?t.y:0);return mt?0<t.y?e:n:t.y}).concat(gt)),l=bt?[n,0]:[0,n];if(st.domain(o).range(l),vt&&(m=bt&&Pt.max(b)+8>G(),v=m||!bt),y){var s=0,c=n,u=0,d=0;a=bt?m?2:-2:2,w.forEach(function(t,e){var n=v?b[e]:x,r=parseFloat(t.y),a=st(r),i=0;bt&&0<r||!bt&&r<0?(i=a-n)<s&&(d=n,s=i):c<(i=a+n)&&(u=n,c=i)}),bt?st.range([n-(st.domain()[0]<0?u+a+2:0),0<st.domain()[1]?d+a:0]):st.range([st.domain()[0]<0?d+a+4:0,n-(0<st.domain()[1]?u+a:0)])}Mt&&st.nice(),Dt=Dt||lt,Tt=Tt||st}A();var I,C=t.selectAll("g.sc-wrap.sc-multibar").data([i]).enter().append("g").attr("class","sc-wrap sc-multibar"),S=t.select(".sc-wrap.sc-multibar").merge(C),F=C.append("defs"),L=S.select("defs");if(S.attr("transform",zt.translation(at.left,at.top)),kt&&(F.append("clipPath").attr("id","sc-edge-clip-"+ct).append("rect"),L.select("#sc-edge-clip-"+ct+" rect").attr("width",f).attr("height",h)),S.attr("clip-path",kt?"url(#sc-edge-clip-"+ct+")":""),St)var D=zt.createTexture(F,ct);Et.gradientFill=function(t,e,n){var r=ct+"-"+e,a=At(t,e);return It(t,r,n,a,L)};var T=Ct===At,E=S.selectAll(".sc-series").data(zt.identity),P=E.enter().append("g").attr("class",Ft).style("stroke-opacity",1e-6).style("fill-opacity",1e-6);E.exit().remove();var z=S.selectAll(".sc-series").merge(P);z.attr("fill",Ct).attr("class",Ft).classed("hover",function(t){return t.hover}).classed("sc-active",function(t){return"active"===t.active}).classed("sc-inactive",function(t){return"inactive"===t.active}).style("stroke-opacity",1).style("fill-opacity",1),z.on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)});var N=z.selectAll(".sc-bar").data(function(t){return t.values}),_=N.enter().append("g").attr("class","sc-bar");N.exit().remove();var R=z.selectAll(".sc-bar").merge(_);_.append("rect").attr("class","sc-base").style("fill","inherit").attr("x",0).attr("y",0),St&&_.append("rect").attr("class","sc-texture").attr("x",0).attr("y",0).style("mask","url("+D+")"),_.append("rect").attr("class","sc-label-box").attr("x",0).attr("y",0).attr("width",0).attr("height",0).attr("rx",2).attr("ry",2).style("fill","transparent").style("stroke-width",0).style("fill-opacity",0);var B=R.select(".sc-label-box");_.append("text").attr("class","sc-label-value");var O=R.select(".sc-label-value");function H(t,e){var n=Ct(t),r="inherit"===n?Pt.select("."+Ft(t,e).split(" ").join(".")).style("color"):n;return zt.getTextContrast(r,e)}function V(t,e){return Math.max(Math.round(Math.abs(st(dt(t,e))-st(0))),0)}function G(){return lt.bandwidth()/(mt?1:i.length)}function W(t,e){var n;return"translate("+(n=mt?{x:Math.round(lt(ut(t,e))),y:Math.round(st(t.y0))}:{x:Math.round(t.seri*G()+lt(ut(t,e))),y:Math.round(dt(t,e)<0?st(bt?0:dt(t,e)):st(bt?dt(t,e):0))})[r]+","+n[a]+")"}function Y(t,e){var n="total"===u?s[e][dt(t,e)<0?"neg":"pos"]:t;return ht(n)}function q(t,e){var n=this.getBoundingClientRect(),r=Math.floor(n.width),a=Math.floor(n.height);t.labelWidth=t.labelWidth||(m?a:r)+4,t.labelHeight=t.labelHeight||(m?r:a),t.barLength=V(t,e),t.barThickness=G()}function j(t,e){var n="middle",r=dt(t,e)<0;if(v){switch(u){case"start":n=r?"end":"start";break;case"middle":n="middle";break;case"end":n=r?"start":"end";break;case"top":case"total":n=r?"end":"start"}n="rtl"===wt&&"middle"!==n?"start"===n?"end":"start":n}else n="middle";return n}function U(t,e){var n=0,r=dt(t,e)<0?-1:1,a=r<0,i=(4+2*v)*r;if(bt&&!m)n=t.barThickness/2;else switch(u){case"start":n=t.barLength*(a-m)+i;break;case"middle":n=t.barLength*(m?-1:1)/2;break;case"end":n=t.barLength*(!m-a)-i;break;case"top":case"total":n=t.barLength*(!m-a)+2*r}return n}function X(t,e){var n=0,r=dt(t,e)<0?-1:1,a=r<0,i=(t.labelHeight/2+(4+2*m)*!y)*r;if(v)n=t.barThickness/2;else switch(u){case"start":n=t.barLength*(1-a)-i;break;case"middle":n=t.barLength/2;break;case"end":n=t.barLength*(0+a)+i;break;case"top":case"total":n=t.barLength*(0+a)-i}return n}function Z(t,e,n){return y?"#000":H(t,e)}function K(t,e){if(y){if("total"===u&&mt){var n=dt(t,e);return n<0&&s[e].neg.y===t.y0+(bt?n:0)||0<=n&&s[e].pos.y===t.y0+(bt?0:n)?1:0}return 1}var r=t.barLength<(v?t.labelWidth:t.labelHeight)+8,a=t.barThickness<(v?t.labelHeight:t.labelWidth)+4;return r||a?0:1}function $(t,e){return Q(t,e,!0)}function J(t,e){return Q(t,e,!1)}function Q(t,e,n){var r,a,i,o,l,s,c;if(a=(r=0)<=dt(t,e),i=4*d(n)*d(a),o=n===a?0:1,!n^bt)r=(t.barThickness-(v?t.labelHeight:t.labelWidth))/2;else switch(s=t.barLength-(v?t.labelWidth:t.labelHeight),u){case"start":r=s*(0+o)+i;break;case"middle":r=s/2;break;case"end":r=s*(1-o)-i;break;case"top":case"total":l=m===n?t.labelHeight:t.labelWidth,r=t.barLength*(1-o)-l*(0+o)}return r}function tt(t){return m?t.labelHeight:t.labelWidth}function et(t){return m?t.labelWidth:t.labelHeight}function nt(t,e){return y?"#fff":At(t,e)}function rt(t,e,n){return{pointIndex:n,point:e,seriesIndex:e.seriesIndex,series:i[e.seri],groupIndex:e.groupIndex,id:ct,e:t}}R.attr("class",function(t,e){return"sc-bar "+(dt(t,e)<0?"negative":"positive")}).classed("sc-active",function(t){return"active"===t.active}).attr("transform",W).style("display",function(t,e){return 0!==V(t,e)?"inline":"none"}),R.select("rect.sc-base").attr(r,0).attr(n,V).attr(e,G),St&&R.select("rect.sc-texture").attr(r,0).attr(n,V).attr(e,G).style("fill",H),vt?(O.text(Y).attr("transform","rotate("+(0-90*m)+")").each(q),O.attr("dy","0.35em").attr("text-anchor",j).attr("x",U).attr("y",X).style("fill",Z).style("fill-opacity",K),B.attr("x",$).attr("y",J).attr("width",tt).attr("height",et).style("fill",nt).style("fill-opacity",K)):(O.text("").style("fill-opacity",0),R.select("rect.label-box").style("fill-opacity",0)),R.on("mouseover",function(t,e){var n=rt(Pt.event,t,e);Lt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;Lt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){var n=rt(Pt.event,t,e);Lt.call("elementMouseout",this,n)}).on("click",function(t,e){Pt.event.stopPropagation();var n=rt(Pt.event,t,e);Lt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=rt(Pt.event,t,e);Lt.call("elementDblClick",this,n)}),Dt=lt.copy(),Tt=st.copy()}),Et}return Et.dispatch=Lt,Et.color=function(t){return arguments.length?(At=t,Et):At},Et.fill=function(t){return arguments.length?(Ct=t,Et):Ct},Et.classes=function(t){return arguments.length?(Ft=t,Et):Ft},Et.gradient=function(t){return arguments.length?(It=t,Et):It},Et.x=function(t){return arguments.length?(ut=t,Et):ut},Et.y=function(t){return arguments.length?(dt=t,Et):dt},Et.margin=function(t){if(!arguments.length)return at;for(var e in t)t.hasOwnProperty(e)&&(at[e]=t[e]);return Et},Et.width=function(t){return arguments.length?(it=t,Et):it},Et.height=function(t){return arguments.length?(ot=t,Et):ot},Et.xScale=function(t){return arguments.length?(lt=t,Et):lt},Et.yScale=function(t){return arguments.length?(st=t,Et):st},Et.xDomain=function(t){return arguments.length?(i=t,Et):i},Et.yDomain=function(t){return arguments.length?(o=t,Et):o},Et.forceX=function(t){return arguments.length?(pt=t,Et):pt},Et.forceY=function(t){return arguments.length?(gt=t,Et):gt},Et.stacked=function(t){return arguments.length?(mt=t,Et):mt},Et.barColor=function(t){return arguments.length?(l=zt.getColor(t),Et):l},Et.disabled=function(t){return arguments.length?(n=t,Et):n},Et.id=function(t){return arguments.length?(ct=t,Et):ct},Et.delay=function(t){return arguments.length?(r=t,Et):r},Et.duration=function(t){return arguments.length?(a=t,Et):a},Et.clipEdge=function(t){return arguments.length?(kt=t,Et):kt},Et.showValues=function(t){return arguments.length?(vt=isNaN(parseInt(t,10))?t:!!parseInt(t,10),Et):vt},Et.valueFormat=function(t){return arguments.length?(ft=t,Et):ft},Et.withLine=function(t){return arguments.length?(yt=t,Et):yt},Et.vertical=function(t){return arguments.length?(bt=t,Et):bt},Et.baseDimension=function(t){return arguments.length?(xt=t,Et):xt},Et.direction=function(t){return arguments.length?(wt=t,Et):wt},Et.textureFill=function(t){return arguments.length?(St=t,Et):St},Et.nice=function(t){return arguments.length?(Mt=t,Et):Mt},Et.locality=function(t){return arguments.length?(e=zt.buildLocality(t),Et):e},Et}function s(){var j={top:0,right:0,bottom:0,left:0},U=500,X=500,Z=Math.floor(1e4*Math.random()),e=function(t){return(t.series||t).key},K=function(t,e){return(t.series||t).value},$=function(t,e){return(t.series||t).count},J=function(t){return e(t)},n=function(t){return K(t)},r=function(t){return isNaN($(t))?"":" ("+$(t)+")"},a=zt.buildLocality(),Q="ltr",i=0,o=0,tt=function(t,e){return zt.defaultColor()(t.series,t.seriesIndex)},et=zt.colorRadialGradient,nt=tt,rt=!1,at=function(t,e){return"sc-series sc-series-"+t.seriesIndex},it=!0,ot=!0,lt=!0,st=!0,ct=.01,ut=!1,dt=!1,ft=!1,ht=20,pt=5,l=360,s=0,gt=.447,mt=75,vt=250,yt=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove"),bt=function(t,e){var n=t.selectAll(".sc-hole-container").data(e),r;n.enter().append("g").attr("class","sc-hole-container").append("text").text(e).attr("class","sc-pie-hole-value").attr("dy",".35em").attr("text-anchor","middle").style("font-size","50px"),n.exit().remove()},xt=function(t){return t.startAngle*l/360+zt.angleToRadians(s)},wt=function(t){return t.endAngle*(l/360)+zt.angleToRadians(s)},kt=function(t){return null},Mt=Pt.pie().sort(null).value(K);function At(t){return t.each(function(t){var b=U-j.left-j.right,e=X-j.top-j.bottom,s=Pt.select(this),d=[],n=!(!it||!lt);n&&(d=zt.stringSetLengths(t.map(J),s,"sc-label"));var r,a=s.selectAll("g.sc-wrap").data([t]).enter().append("g").attr("class","sc-wrap sc-pie"),i=s.select(".sc-wrap.sc-pie").merge(a),o=a.append("defs"),l=i.select("defs");a.append("g").attr("class","sc-group");var c=i.select(".sc-group");a.append("g").attr("class","sc-hole-wrap");var u=i.select(".sc-hole-wrap");if(i.attr("transform",zt.translation(j.left,j.top)),rt)var f=zt.createTexture(o,Z,-b/2,-e/2);At.gradientFill=function(t,e){var n=Z+"-"+e,r={x:0,y:0,r:T,s:ut?100*gt+"%":"0%",u:"userSpaceOnUse"},a=tt(t,e);return et(t,n,r,a,l)};var h=c.selectAll(".sc-series").data(Mt),p=h.enter().append("g").attr("class","sc-series");h.exit().remove();var g=c.selectAll(".sc-series").merge(p);p.style("stroke","#FFF").style("stroke-width",2).style("stroke-opacity",0).on("mouseover",function(t,e,n){Pt.select(this).classed("hover",!0)}).on("mouseout",function(t,e,n){Pt.select(this).classed("hover",!1)}),g.attr("class",function(t){return at(t.data,t.data.seriesIndex)}).attr("fill",function(t){return nt(t.data,t.data.seriesIndex)}).classed("sc-active",function(t){return"active"===t.data.active}).classed("sc-inactive",function(t){return"inactive"===t.data.active});var m=g.selectAll("g.sc-slice").data(function(n,r){return n.data.values.map(function(t,e){return t.endAngle=n.endAngle,t.padAngle=n.padAngle,t.startAngle=n.startAngle,t.index=r,t})},function(t){return t.seriesIndex});m.exit().remove();var v=m.enter().append("g").attr("class","sc-slice"),y=g.selectAll("g.sc-slice").merge(v);v.append("path").attr("class","sc-base").each(function(t,e){this._current=t}),rt&&v.append("path").attr("class","sc-texture").each(function(t,e){this._current=t}).style("mask","url("+f+")"),v.on("mouseover",function(t,e){Pt.select(this).classed("hover",!0);var n=B(Pt.event,t,e);yt.call("elementMouseover",this,n)}).on("mousemove",function(t,e){var n=Pt.event;yt.call("elementMousemove",this,n)}).on("mouseout",function(t,e){Pt.select(this).classed("hover",!1),yt.call("elementMouseout",this)}).on("click",function(t,e){Pt.event.stopPropagation();var n=B(Pt.event,t,e);yt.call("elementClick",this,n)}).on("dblclick",function(t,e){Pt.event.stopPropagation();var n=B(Pt.event,t,e);yt.call("elementDblClick",this,n)}),v.append("g").attr("class","sc-label").attr("transform","translate(0,0)"),v.select(".sc-label").append("rect").style("fill-opacity",0).style("stroke-opacity",0),v.select(".sc-label").append("text").style("fill-opacity",0),v.append("polyline").attr("class","sc-label-leader").style("stroke-opacity",0);var x=b/2,w=e/2,k=[],M=[],A=0,I=n?5:0,C=ht+pt,S=0;y.select(".sc-base").call(O,x,w),u.call(bt,dt?[dt]:[]),dt&&0<(S=V())&&(I+=S,A-=S/2);var F=b/2,L=e/2;n&&(ht=Math.max(Math.min(Math.min(H())/12,20),10)),kt(At)&&(mt=kt(At),vt=kt(At));var D=Math.min(Math.max(H(),mt),vt),T=D-(n?ht:0),E,P;L+=((Pt.max(M)-Pt.min(M))/2+Pt.min(M))*((D+A)/L)+A/2;var z=(Pt.max(k)-Pt.min(k))/2-Pt.max(k),N;F+=z*(D/F),c.attr("transform","translate("+F+","+L+")"),u.attr("transform","translate("+F+","+L+")"),c.select(f).attr("x",-T/2).attr("y",-T/2);var _=Pt.arc().innerRadius(ut?T*gt:0).outerRadius(T).startAngle(xt).endAngle(wt),R=Pt.arc().innerRadius(0).outerRadius(T).startAngle(xt).endAngle(wt);function B(t,e,n){return{id:Z,key:J(e),value:K(e),count:$(e),data:e,series:e.series,seriesIndex:e.series.seriesIndex,e:t}}function O(t,s,c){var u=[],d=[],f=2*Math.PI,h=0,p=Math.PI/2,g=Math.PI,m=3*Math.PI/2,v=0;function y(t){return(t+v)%f}t.each(function(t,e){var n=0===xt(t)?0:(xt(t)+f)%f,r=0===wt(t)?0:(wt(t)+f)%f,a=Math.round(1e4*Math.sin(n))/1e4,i=Math.round(1e4*Math.sin(r))/1e4,o=Math.round(1e4*Math.cos(n))/1e4,l=Math.round(1e4*Math.cos(r))/1e4;v=r<n?f-n:0,r===n?(n=0,r=f):(n=y(n),r=y(r)),h=y(h),p=y(p),g=y(g),m=y(m),n%f!=0&&r%f!=0||(d.push(c),ut&&d.push(c*gt)),n<=p&&p<=r&&(u.push(s),ut&&u.push(s*gt)),n<=g&&g<=r&&(d.push(-c),ut&&d.push(-c*gt)),n<=m&&m<=r&&(u.push(-s),ut&&u.push(-s*gt)),u.push(s*a),u.push(s*i),ut?(u.push(s*gt*a),u.push(s*gt*i)):u.push(0),d.push(c*o),d.push(c*l),ut?(d.push(c*gt*o),d.push(c*gt*l)):d.push(0)}),k=Pt.extent(u),M=Pt.extent(d),x*=b/(Pt.max(k)-Pt.min(k)),w*=e/(Pt.max(M)-Pt.min(M))}function H(){var c=[x],u=[w+ht],t;return g.select(".sc-base").each(function(t,e){if(G(t)){var n=(xt(t)+wt(t))/2,r=Math.sin(n),a=Math.cos(n),i=x-C-d[e],o=w-I,l=r?i/r:i,s=a?o/a:o;c.push(l),u.push(s)}}),Pt.min(c.concat(u).concat([]),function(t){return Math.abs(t)})}function V(){var t=.3*u.node().getBoundingClientRect().height,e=Math.abs(w*Pt.min(M)),n;return Math.round(t-e)}function G(t){var e=(wt(t)-xt(t))/(2*Math.PI);return ct<e?1:0}function W(t,e){var n=2*Math.PI,r=((xt(t)+wt(t))/2+n)%n;return 0<r&&r<Math.PI?1:-1}function Y(t){ut||(t.innerRadius=0);var n=Pt.interpolate(this._current,t);return this._current=n(0),function(t){var e=n(t);return _(e)}}function q(t){t.innerRadius=0;var e=Pt.interpolate({startAngle:0,endAngle:0},t);return function(t){return _(e(t))}}lt&&(!ut||st?R.innerRadius(D).outerRadius(D):R.outerRadius(T*gt)),y.select(".sc-base").attr("d",_).style("stroke-opacity",function(t){return xt(t)===wt(t)?0:1}),rt&&y.select(".sc-texture").attr("d",_).style("stroke-opacity",function(t){return xt(t)===wt(t)?0:1}).style("fill",function(t,e){var n=t.series||t,r=n.seriesIndex||e,a=nt(n),i="inherit"===a?Pt.select("."+at(n,r).split(" ").join(".")).style("color"):a;return zt.getTextContrast(i,r)}),it?(y.select(".sc-label").attr("transform",function(t){if(ft){t.outerRadius=T+10,t.innerRadius=T+15;var e=(xt(t)+wt(t))/2*(180/Math.PI);return e+=90*W(t,R),"translate("+R.centroid(t)+") rotate("+e+")"}var n=R.centroid(t),r=ot?(ht+pt)*W(t,R):0;return"translate("+[n[0]+r,n[1]]+")"}),y.select(".sc-label text").text(J).attr("dy",".35em").style("fill","#555").style("fill-opacity",G).style("text-anchor",function(t){if(!lt)return"middle";var e=1===W(t,R)?"start":"end";return"rtl"===Q&&(e="start"===e?"end":"start"),e}),y.each(function(t,e){var n,r,a,i,o,l;(d[e]>mt||D===mt)&&(n=(xt(t)+wt(t))/2,r=Math.abs(Math.sin(n)),a=d[t.index],(o=b/2-F+b/2-(i=D*r+ht+pt+a))<0&&(l=zt.stringEllipsify(J(t),s,a+o),Pt.select(this).select("text").text(l)))}),lt?ot&&y.select(".sc-label-leader").attr("points",function(t){if(!G(t))return"0,0 0,0";var e=Pt.arc().innerRadius(T).outerRadius(T).startAngle(xt).endAngle(wt),n=ot?ht*W(t,e):0,r=e.centroid(t),a=R.centroid(t),i;return r+" "+a+" "+[a[0]+n,a[1]]}).style("stroke","#AAA").style("fill","none").style("stroke-opacity",G):y.select(".sc-label").each(function(t){if(G(t)){var e=Pt.select(this),n=e.select("text").node().getBoundingClientRect();e.select("rect").attr("rx",3).attr("ry",3).attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"}).style("fill","#FFF").style("fill-opacity",G)}})):(y.select(".sc-label-leader").style("stroke-opacity",0),y.select(".sc-label rect").style("fill-opacity",0),y.select(".sc-label text").style("fill-opacity",0))}),At}return At.dispatch=yt,At.id=function(t){return arguments.length?(Z=t,At):Z},At.color=function(t){return arguments.length?(tt=t,At):tt},At.fill=function(t){return arguments.length?(nt=t,At):nt},At.classes=function(t){return arguments.length?(at=t,At):at},At.gradient=function(t){return arguments.length?(et=t,At):et},At.margin=function(t){return arguments.length?(j.top=void 0!==t.top?t.top:j.top,j.right=void 0!==t.right?t.right:j.right,j.bottom=void 0!==t.bottom?t.bottom:j.bottom,j.left=void 0!==t.left?t.left:j.left,At):j},At.width=function(t){return arguments.length?(U=t,At):U},At.height=function(t){return arguments.length?(X=t,At):X},At.getKey=function(t){return arguments.length?(e=t,At):e},At.getValue=function(t){return arguments.length?(K=t,At):K},At.getCount=function(t){return arguments.length?($=t,At):$},At.fmtKey=function(t){return arguments.length?(J=t,At):J},At.fmtValue=function(t){return arguments.length?(n=t,At):n},At.fmtCount=function(t){return arguments.length?(r=t,At):r},At.direction=function(t){return arguments.length?(Q=t,At):Q},At.delay=function(t){return arguments.length?(i=t,At):i},At.duration=function(t){return arguments.length?(o=t,At):o},At.locality=function(t){return arguments.length?(a=zt.buildLocality(t),At):a},At.textureFill=function(t){return arguments.length?(rt=t,At):rt},At.showLabels=function(t){return arguments.length?(it=t,At):it},At.labelSunbeamLayout=function(t){return arguments.length?(ft=t,At):ft},At.donutLabelsOutside=function(t){return arguments.length?(st=t,At):st},At.pieLabelsOutside=function(t){return arguments.length?(lt=t,At):lt},At.showLeaders=function(t){return arguments.length?(ot=t,At):ot},At.donut=function(t){return arguments.length?(ut=t,At):ut},At.hole=function(t){return arguments.length?(dt=t,At):dt},At.holeFormat=function(t){return arguments.length?(bt=zt.functor(t),At):bt},At.donutRatio=function(t){return arguments.length?(gt=t,At):gt},At.startAngle=function(t){return arguments.length?(xt=t,At):xt},At.endAngle=function(t){return arguments.length?(wt=t,At):wt},At.labelThreshold=function(t){return arguments.length?(ct=t,At):ct},At.arcDegrees=function(t){return arguments.length?(l=Math.max(Math.min(t,360),1),At):l},At.rotateDegrees=function(t){return arguments.length?(s=t%360,At):s},At.minRadius=function(t){return arguments.length?(mt=t,At):mt},At.maxRadius=function(t){return arguments.length?(vt=t,At):vt},At.fixedRadius=function(t){return arguments.length?(kt=zt.functor(t),At):kt},At}function u(){var S,F={},L,D,T,E,P,z,N;function _(e,n,r,c){var a=e.select("defs"),i=n.select("defs"),l=r.select(".sc-axis-wrap.sc-axis-x"),s=r.select(".sc-bars-wrap"),o,u,d,f,h=0;function t(){if(N){var t=Pt.zoom().on("zoom",P);r.call(t),u.call(t)}else r.on("zoom",null),u.on("zoom",null)}function p(){i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-prev-"+S);var t=i.select("#sc-back-gradient-prev-"+S);i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-back-gradient-more-"+S);var e=i.select("#sc-back-gradient-more-"+S);t.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",0),t.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1),e.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0),e.append("stop").attr("stop-color","#000").attr("stop-opacity","0.3").attr("offset",1),i.append("linearGradient").attr("class","sc-scroll-gradient").attr("id","sc-fore-gradient-prev-"+S);var n=i.select("#sc-fore-gradient-prev-"+S);i.append("linearGradient").attr("class","sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0).attr("id","sc-fore-gradient-more-"+S);var r=i.select("#sc-fore-gradient-more-"+S);n.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",0),n.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",1),r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","0").attr("offset",0),r.append("stop").attr("stop-color","#FFF").attr("stop-opacity","1").attr("offset",1),a.selectAll(".sc-scroll-gradient").attr("gradientUnits","objectBoundingBox").attr("x1",0).attr("y1",0)}function g(){a.selectAll(".sc-scroll-gradient").attr("x2",L?1:0).attr("y2",L?0:1)}function m(){i.append("clipPath").attr("class","sc-scroll-mask").attr("id","sc-edge-clip-"+S).append("rect"),o=a.select(".sc-scroll-mask rect")}function v(){r.attr("clip-path",N?"url(#sc-edge-clip-"+S+")":"")}function y(t,e){o.attr("x",L?2:-F.left).attr("y",L?0:2).attr("width",t+(L?-2:F.left)).attr("height",e+(L?F.bottom:-2))}function b(){n.select(".sc-background-wrap").append("rect").attr("class","sc-scroll-target").attr("fill","transparent"),u=e.select(".sc-scroll-target")}function x(t,e,n,r){u.attr("x",t).attr("y",e).attr("width",n).attr("height",r)}function w(){var t=n.select(".sc-background-wrap").append("g").attr("class","sc-back-shadow-wrap");t.append("rect").attr("class","sc-back-shadow-prev"),t.append("rect").attr("class","sc-back-shadow-more"),d=e.select(".sc-back-shadow-wrap")}function k(){var t=L?"width":"height";d.select("rect.sc-back-shadow-prev").attr("fill",N?"url(#sc-back-gradient-prev-"+S+")":"transparent").attr(t,7),d.select("rect.sc-back-shadow-more").attr("fill",N?"url(#sc-back-gradient-more-"+S+")":"transparent").attr(t,7)}function M(t,e,n,r,a,i){d.select(".sc-back-shadow-prev").attr("x",t).attr("y",e).attr(a,i),d.select(".sc-back-shadow-more").attr("x",t+(L?n-5:1)).attr("y",e+(L?0:r-6)).attr(a,i)}function A(){var t=n.select(".sc-background-wrap").insert("g").attr("class","sc-fore-shadow-wrap");t.append("rect").attr("class","sc-fore-shadow-prev"),t.append("rect").attr("class","sc-fore-shadow-more"),f=e.select(".sc-fore-shadow-wrap")}function I(){var t=L?"width":"height";f.select(".sc-fore-shadow-prev").attr("fill",N?"url(#sc-fore-gradient-prev-"+S+")":"transparent").attr(t,20),f.select(".sc-fore-shadow-more").attr("fill",N?"url(#sc-fore-gradient-more-"+S+")":"transparent").attr(t,20)}function C(t,e,n,r){f.select(".sc-fore-shadow-prev").attr("x",t+(L?1:0)).attr("y",e+(L?0:1)).attr(n,r),f.select(".sc-fore-shadow-more").attr("x",t+(L?E-17:0)).attr("y",e+(L?0:E-19)).attr(n,r)}return p(),m(),b(),w(),A(),_.render=function(){t(),g(),v(),k(),I()},_.resize=function(t,e){var n,r,a,i,o,l,s;h=t,z=e,_.render(),N&&(n=c.labelThickness()+c.tickPadding()/2,r=L?F.left:n,a=F.top,i=D+(L?0:F[c.orient()]-n),o=T+(L?F[c.orient()]-n:0),l=L?"height":"width",s=L?o:i,y(D,T),x(r,a,i,o),M(r,a,D,T,l,s),C(r,a,l,s))},_.pan=function(t){var e=Pt.event,n,r=0,a=0,i=0,o="";return!e||"click"!==e.type&&"zoom"!==e.type?0:(n=e.sourceEvent,"zoom"===e.type&&n&&("wheel"===n.type?(r=-n.deltaX,a=-n.deltaY,i=h+(Math.abs(r)>Math.abs(a)?r:a)):"mousemove"===n.type?(r=n.movementX,a=n.movementY,i=h+(Math.abs(r)>Math.abs(a)?r:a)):"touchmove"===n.type&&(r=e.transform.x,a=e.transform.y,i=Math.abs(r)>Math.abs(a)?r:a)),h=Math.min(Math.max(i,t),-1),o="translate("+(L?h+",0":"0,"+h)+")",(0<i||i<t)&&z(Math.abs(a)>Math.abs(r)?a:0),f.attr("transform",o),s.attr("transform",o),l.select(".sc-wrap.sc-axis").attr("transform",o),h)},_}return _.id=function(t){return arguments.length?(S=t,_):S},_.margin=function(t){return arguments.length?(F.top=void 0!==t.top?t.top:F.top,F.right=void 0!==t.right?t.right:F.right,F.bottom=void 0!==t.bottom?t.bottom:F.bottom,F.left=void 0!==t.left?t.left:F.left,_):F},_.width=function(t){return arguments.length?(D=t,_):D},_.height=function(t){return arguments.length?(T=t,_):T},_.vertical=function(t){return arguments.length?(L=t,_):L},_.minDimension=function(t){return arguments.length?(E=t,_):E},_.panHandler=function(t){return arguments.length?(P=zt.functor(t),_):P},_.enable=function(t){return arguments.length?(N=t,_):N},_}var e={axis:v,funnel:r,gauge:o,headers:l,line:y,menu:z,multibar:b,pie:s,scatter:a,scroller:u};function n(){var E={top:10,right:10,bottom:10,left:10},P=null,z=null,e="ltr",n=0,N=0,_=!0,R={},B=c(),O=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),H=function(t){return t.x},V=function(t){return t.y},G=[0],W=function(t){return t.y},Y=function(t){return t.y},q=function(t,e,n,r,a){var i=n||t;return r?(a=a&&0===a.indexOf("%")?a:"MM",zt.dateFormat(i,a,tt.locality())):i},j=function(t,e,n,r,a){return a=isNaN(a)?2:a,zt.numberFormatSI(n,a,r,tt.locality())},i=function(t,e){var n=t.series.key,r=t.point.x,a;return"<h3>"+n+"</h3><p>"+t.point.y+" on "+r+"</p>"},U=function(t,e,n,r){},X=a(),Z=l(),K=v(),$=v(),J=null,Q=function(t,e,n){var r=i(t,n),a=t.value<0?"n":"s";return kt.show(t.e,r,a,null,e)};function tt(t){return t.each(function(t){var e=this,f=Pt.select(this),n="bubble",r=t&&t.properties||{},a=t&&t.data||[],h=parseInt(f.style("width"),10),p=parseInt(f.style("height"),10),g=P,m=z,i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1,v,l,y,b,s,x,c=function(t,e,n,r){return q(t,e,t,i,"%B")},u=function(t,e,n,r){var a=s&&Array.isArray(s)&&s[e].key||t,i=Math.max(.2*g,75);return isNaN(a)?zt.stringEllipsify(a,f,i):j(t,e,a,o)},d=[];function w(t,e){var n=t&&t.length,r=(h-E.left-E.right)/2+E.left,a=(p-E.top-E.bottom)/2+E.top;return zt.displayNoData(n,f,e||B.noData,r,a)}if(tt.update=function(){f.transition().duration(N).call(tt)},tt.container=this,w(a))return tt;function k(t){var e=Pt.extent(Pt.merge(t.map(function(t){return t.values.map(function(t,e){return Pt.timeParse("%Y-%m-%d")(H(t))})}))),n;return[Pt.timeMonth.floor(e[0]),Pt.timeDay.offset(Pt.timeMonth.ceil(e[1]),-1)]}function M(t){function e(t){return 32-new Date(t.getFullYear(),t.getMonth(),32).getDate()}var n,r;return Pt.timeMonth.range(t[0],t[1]).map(function(t){return Pt.timeDay.offset(Pt.timeMonth.floor(t),e(t)/2-1)})}function A(t){var e=Pt.nest().key(W).entries(t),n=1e3/e.length,r=x,a=[0,1],i=[0,1],o=Pt.scaleLinear().domain(a).range(i),l=[],s=0;return e.map(function(e,t){return e.total=0,e.values=e.values.sort(function(t,e){return e.y<t.y?-1:e.y>t.y?1:0}).map(function(t){return e.total+=t.y,t}),e.group=t,e}).sort(function(t,e){return t.total<e.total?-1:t.total>e.total?1:0}).map(function(e,t){return s+=e.total,a=Pt.extent(e.values.map(function(t){return t.y})),i=[n*t+r,n*(t+1)-r],o.domain(a).range(i),e.values=e.values.map(function(t){return t.group=e.group,t.opportunity=t.y,t.y=o(t.opportunity),t}),l.push({key:e.key,y:Pt.min(e.values.map(function(t){return t.y}))}),e}),l}R.disabled=a.map(function(t){return!!t.disabled}),l=Pt.nest().key(Y).entries(a),v=l.sort(function(t,e){return parseInt(t.key,10)<parseInt(e.key,10)?-1:parseInt(t.key,10)>parseInt(e.key,10)?1:0}).map(function(t,e){return t.seriesIndex=e,t.classes=t.values[0].classes,t.color=t.values[0].color,t}),x=Math.sqrt(X.sizeRange()[1]/Math.PI),Z.chart(tt).title(r.title).controlsData(d).legendData(v),Z.legend.key(function(t){return t.key+"%"}),y=k(v),s=A(a),b=Pt.extent(Pt.merge(v.map(function(t){return t.values.map(function(t,e){return V(t,e)})})).concat(G)),K.orient("bottom").scale(X.xScale()).valueFormat(c).ticks(Pt.timeMonths,1).tickValues(M(y)).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),$.orient("left").scale(X.yScale()).valueFormat(u).ticks(s.length).tickValues(s.map(function(t,e){return s[e].y})).tickPadding(7).highlightZero(!1).showMaxMin(!1);var I,C=f.selectAll("g.sc-chart-wrap").data([v]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),S=f.select(".sc-chart-wrap").merge(C);C.append("defs"),C.append("g").attr("class","sc-background-wrap");var F=S.select(".sc-background-wrap");C.append("g").attr("class","sc-title-wrap"),C.append("g").attr("class","sc-axis-wrap sc-axis-x");var L=S.select(".sc-axis-wrap.sc-axis-x");C.append("g").attr("class","sc-axis-wrap sc-axis-y");var D=S.select(".sc-axis-wrap.sc-axis-y");C.append("g").attr("class","sc-bubble-wrap");var T=S.select(".sc-bubble-wrap");C.append("g").attr("class","sc-controls-wrap"),C.append("g").attr("class","sc-legend-wrap"),S.attr("transform",zt.translation(E.left,E.top)),C.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-E.left).attr("y",-E.top).attr("fill","#FFF"),tt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(h=parseInt(f.style("width"),10),p=parseInt(f.style("height"),10),e=z||p||400,g=(t=P||h||960)-E.left-E.right,m=e-E.top-E.bottom,r=g-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=m-n.top-n.bottom,F.select(".sc-background").attr("width",t).attr("height",e),Z.width(g).height(m),f.call(Z),i=Z.getHeight(),n.top+=i,n.top+=x,(a=m-n.top-n.bottom)<100)return w(null,B.displayError),tt;X.width(r).height(a).id(tt.id()).xDomain(y).yDomain(b),T.datum(v.filter(function(t){return!t.disabled})).transition().duration(N).call(X);var s={top:0,right:0,bottom:0,left:0},c={top:0,right:0,bottom:0,left:0};function u(){n.left=Math.max(c.left,s.left),n.right=Math.max(c.right,s.right),n.top=Math.max(c.top,s.top)+i,n.bottom=Math.max(c.bottom,s.bottom)}function d(){r=g-n.left-n.right,a=m-n.top-n.bottom,X.resetDimensions(r,a)}$.margin(n),D.call($),s=$.margin(),u(),d(),K.tickSize(0).margin(n),L.call(K),c=K.margin(),u(),d(),$.tickSize(-r,0).margin(n),D.call($),D.select("path.domain").attr("d","M0,0V0.5H0V"+a),T.transition().duration(tt.delay()).call(X),o=n.left,l=n.top+("bottom"===K.orient()?a:0),L.attr("transform",zt.translation(o,l)),o=n.left+("left"===$.orient()?0:r),l=n.top,D.attr("transform",zt.translation(o,l)),T.attr("transform",zt.translation(n.left,n.top))},tt.render(),Z.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,v.filter(function(t){return!t.disabled}).length||v.forEach(function(t){t.disabled=!1,f.selectAll(".sc-series").classed("disabled",!1)}),R.disabled=v.map(function(t){return!!t.disabled}),O.call("stateChange",this,R),tt.update()}),O.on("tooltipShow",function(t){_&&(J=Q(t,e.parentNode,r))}),O.on("tooltipMove",function(t){J&&kt.position(e.parentNode,J,t,"s")}),O.on("tooltipHide",function(){_&&kt.cleanup()}),O.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),R.disabled=n.disabled),tt.update()}),O.on("chartClick",function(){O.call("tooltipHide",this),Z.controls.enabled()&&Z.controls.dispatch.call("closeMenu",this),Z.legend.enabled()&&Z.legend.dispatch.call("closeMenu",this)}),X.dispatch.on("elementClick",function(t){O.call("chartClick",this),U(a,t,tt)}),f.on("click",function(){Pt.event.stopPropagation(),O.call("chartClick",this)})}),tt}return X.padData(!0).padDataOuter(-1).size(function(t){return t.y}).sizeRange([256,1024]).singlePoint(!0),Z.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),X.dispatch.on("elementMouseover.tooltip",function(t){O.call("tooltipShow",this,t)}),X.dispatch.on("elementMousemove.tooltip",function(t){O.call("tooltipMove",this,t)}),X.dispatch.on("elementMouseout.tooltip",function(){O.call("tooltipHide",this)}),tt.dispatch=O,tt.scatter=X,tt.legend=Z.legend,tt.controls=Z.controls,tt.xAxis=K,tt.xAxisLabel=K.axisLabel,tt.yAxis=$,tt.yAxisLabel=$.axisLabel,tt.options=zt.optionsFunc.bind(tt),zt.rebind(tt,X,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(tt,X,"size","zScale","sizeDomain","forceSize","interactive","clipVoronoi","clipRadius"),zt.rebind(tt,Z,"showTitle","showControls","showLegend"),zt.rebind(tt,K,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),tt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return t.classes?"inherit":t.color||zt.defaultColor()(t,t.seriesIndex)},a=function(t){var e;return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return X.gradientFill(t,t.seriesIndex)}:n;return X.color(n),X.fill(i),X.classes(a),Z.legend.color(n),Z.legend.classes(a),tt},tt.margin=function(t){if(!arguments.length)return E;for(var e in t)t.hasOwnProperty(e)&&(E[e]=t[e]);return tt},tt.width=function(t){return arguments.length?(P=t,tt):P},tt.height=function(t){return arguments.length?(z=t,tt):z},tt.tooltips=function(t){return arguments.length?(_=t,tt):_},tt.tooltipContent=function(t){return arguments.length?(i=t,tt):i},tt.state=function(t){return arguments.length?(R=t,O.call("stateChange",this,R),tt):R},tt.strings=function(t){return arguments.length?(B=c(t),Z.strings(B),tt):B},tt.direction=function(t){return arguments.length?(e=t,X.direction(t),K.direction(t),$.direction(t),Z.direction(t),tt):e},tt.duration=function(t){return arguments.length?(N=t,X.duration(t),tt):N},tt.delay=function(t){return arguments.length?(n=t,X.delay(t),tt):n},tt.xValueFormat=function(t){return arguments.length?(q=t,tt):q},tt.yValueFormat=function(t){return arguments.length?(j=t,tt):j},tt.seriesClick=function(t){return arguments.length?(U=t,tt):U},tt.groupBy=function(t){return arguments.length?(W=t,tt):W},tt.filterBy=function(t){return arguments.length?(Y=t,tt):Y},tt}function d(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=!0,I=c(),C=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),S=r(),F=l(),L=[],D=null,a=function(t,e){var n=S.getValue()(t),r=e.total?(100*n/e.total).toFixed(1):100,a="currency"===e.yDataType,i={key:S.fmtKey()(t),label:a?I.tooltip.amount:I.tooltip.count,value:zt.numberFormat(n,2,a,P.locality()),percent:zt.numberFormat(r,2,!1,P.locality())};return kt.single(i,I)},T=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)},E=function(t,e,n){};function P(t){return t.each(function(t){var e=this,s=Pt.select(this),n="funnel",r=t&&t.properties||{},a=t&&t.data||null,c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1;function d(t,e){var n=t&&t.length,r=(c-y.left-y.right)/2+y.left,a=(u-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||I.noData,r,a)}if(P.update=function(){s.transition().duration(w).call(P)},P.container=this,d(a))return P;P.setActiveState=function(t,e){t.active=e},P.clearActive=function(e){a.forEach(function(t){P.setActiveState(t,e||"")}),delete M.active},P.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(A?(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",P.clearActive("active"===n?"inactive":""),P.setActiveState(e,n),M.active=a.map(function(t){return"active"===t.active})):P.dataSeriesActivate({series:e}))},P.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active","active"===e.active&&a.filter(function(t){return"active"!==t.active}).forEach(function(t){return t.active="inactive",t}),a.filter(function(t){return"active"===t.active}).length||P.clearActive()},a.forEach(function(n,t){n.seriesIndex=t,n.values||(n.value?isNaN(n.value)||(n.values=[{x:0,y:parseInt(n.value,10)}]):n.values=[]),n.values.forEach(function(t,e){t.index=e,t.series=n,void 0===t.value&&(t.value=t.y)}),n.key=n.key||I.noLabel,n.value=n.value||Pt.sum(n.values,function(t){return t.value}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value});var f=a.filter(function(t){return!t.disabled});if(f.length||(f=[{values:[]}]),r.count=Pt.sum(f,function(t){return t.count}),r.total=Pt.sum(f,function(t){return t.value}),M.disabled=a.map(function(t){return!!t.disabled}),!r.total)return d(),P;F.chart(P).title(r.title).controlsData(L).legendData(a);var l,h=s.selectAll("g.sc-chart-wrap").data([f]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),p=s.select(".sc-chart-wrap").merge(h);h.append("defs");var g=p.select("defs");h.append("g").attr("class","sc-background-wrap");var m=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap"),h.append("g").attr("class","sc-funnel-wrap");var v=p.select(".sc-funnel-wrap");h.append("g").attr("class","sc-controls-wrap"),h.append("g").attr("class","sc-legend-wrap"),p.attr("transform",zt.translation(y.left,y.top)),h.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),P.render=function(){var t,e,n,r,a,i,o,l;if(c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),e=x||u||400,n=(t=b||c||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),F.width(n).height(r),s.call(F),l=F.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return d(null,I.displayError),P;S.width(i).height(o),v.datum(f).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(S)},P.render(),F.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,t.active=!1,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),a.filter(function(t){return"active"===t.active}).length||a.forEach(function(t){t.active=""}),M.disabled=a.map(function(t){return!!t.disabled}),C.call("stateChange",this,M),P.update()}),C.on("tooltipShow",function(t){k&&(D=T(t,e.parentNode,r))}),C.on("tooltipMove",function(t){D&&kt.position(e.parentNode,D,t)}),C.on("tooltipHide",function(){k&&kt.cleanup()}),C.on("changeState",function(n){void 0!==n.disabled&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),P.update()}),C.on("chartClick",function(){F.controls.enabled()&&F.controls.dispatch.call("closeMenu",this),F.legend.enabled()&&F.legend.dispatch.call("closeMenu",this)}),S.dispatch.on("elementClick",function(t){C.call("chartClick",this),E(a,t,P)})}),P}return F.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),S.dispatch.on("elementMouseover.tooltip",function(t){C.call("tooltipShow",this,t)}),S.dispatch.on("elementMousemove.tooltip",function(t){C.call("tooltipMove",this,t)}),S.dispatch.on("elementMouseout.tooltip",function(){C.call("tooltipHide",this)}),P.dispatch=C,P.funnel=S,P.legend=F.legend,P.controls=F.controls,P.options=zt.optionsFunc.bind(P),zt.rebind(P,S,"id","color","fill","classes","gradient","locality","textureFill"),zt.rebind(P,S,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(P,S,"yScale","yDomain","forceY","wrapLabels","minLabelWidth"),zt.rebind(P,F,"showTitle","showControls","showLegend"),P.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){var n={orientation:r.orientation||"vertical",position:r.position||"middle"};return S.gradientFill(t,t.seriesIndex,n)}:n;return S.color(n),S.fill(i),S.classes(a),F.legend.color(n),F.legend.classes(a),P},P.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return P},P.width=function(t){return arguments.length?(b=t,P):b},P.height=function(t){return arguments.length?(x=t,P):x},P.tooltips=function(t){return arguments.length?(k=t,P):k},P.tooltipContent=function(t){return arguments.length?(a=t,P):a},P.state=function(t){return arguments.length?(M=t,C.call("stateChange",this,M),P):M},P.strings=function(t){return arguments.length?(I=c(t),F.strings(I),P):I},P.direction=function(t){return arguments.length?(e=t,S.direction(t),F.direction(t),P):e},P.duration=function(t){return arguments.length?(w=t,S.duration(t),P):w},P.delay=function(t){return arguments.length?(n=t,S.delay(t),P):n},P.seriesClick=function(t){return arguments.length?(E=t,P):E},P}function f(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=c(),I=Pt.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),C=o(),S=l(),F=[],L=null,a=function(t,e){var n=C.fmtKey()(t.point.series),r=C.getCount()(t.point.series),a;return"<h3>"+n+"</h3><p>"+C.getValue()(t.point.series)+" on "+r+"</p>"},D=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)};function T(t){return t.each(function(t){var e=this,s=Pt.select(this),n="gauge",c=t&&t.properties||{},r=t&&t.data||null,u=parseInt(s.style("width"),10),d=parseInt(s.style("height"),10),a="datetime"===c.xDataType||!1,i="currency"===c.yDataType||!1;function f(t,e){var n=t&&t.length,r=(u-y.left-y.right)/2+y.left,a=(d-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||A.noData,r,a)}if(T.update=function(){s.transition().duration(w).call(T)},T.container=this,f(r))return T;var o=0;C.minValue(o),r.forEach(function(n,t){var r=C.getValue()(n);n.seriesIndex=t,r||n.values?zt.isNumeric(n.value)&&(n.values=[{x:0,y:r}]):n.values=[],n.values.forEach(function(t,e){t.index=e,t.series=n,t.y0=o,t.y1=o+r}),n.value=r||Pt.sum(n.values,function(t){return C.getValue()(t)}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value,o+=r});var h=r.filter(function(t,e){return!t.disabled});if(c.count=Pt.sum(h,function(t){return t.count}),C.maxValue(o),M.disabled=r.map(function(t){return!!t.disabled}),f(h))return T;S.chart(T).title(c.title).controlsData(F).legendData(r);var l,p=s.selectAll("g.sc-chart-wrap").data([h]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),g=s.select(".sc-chart-wrap").merge(p);p.append("defs"),p.append("g").attr("class","sc-background-wrap");var m=g.select(".sc-background-wrap");p.append("g").attr("class","sc-title-wrap"),p.append("g").attr("class","sc-gauge-wrap");var v=g.select(".sc-gauge-wrap");p.append("g").attr("class","sc-controls-wrap"),p.append("g").attr("class","sc-legend-wrap"),g.attr("transform",zt.translation(y.left,y.top)),p.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),T.render=function(){var t,e,n,r,a,i,o,l;if(u=parseInt(s.style("width"),10),d=parseInt(s.style("height"),10),e=x||d||400,n=(t=b||u||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),S.width(n).height(r),s.call(S),l=S.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return f(null,A.displayError),T;C.width(i).height(o),v.datum(h).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(C),C.setPointer(c.value)},T.render(),I.on("tooltipShow",function(t){k&&(L=D(t,e.parentNode,c))}),I.on("tooltipMove",function(t){L&&kt.position(e.parentNode,L,t)}),I.on("tooltipHide",function(){k&&kt.cleanup()}),I.on("changeState",function(n){void 0!==n.disabled&&(h.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),T.update()}),I.on("chartClick",function(){S.controls.enabled()&&S.controls.dispatch.call("closeMenu",this),S.legend.enabled()&&S.legend.dispatch.call("closeMenu",this)})}),T}return S.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),C.dispatch.on("elementMouseover.tooltip",function(t){I.call("tooltipShow",this,t)}),C.dispatch.on("elementMousemove.tooltip",function(t){I.call("tooltipMove",this,t)}),C.dispatch.on("elementMouseout.tooltip",function(){I.call("tooltipHide",this)}),T.dispatch=I,T.gauge=C,T.legend=S.legend,T.controls=S.controls,T.options=zt.optionsFunc.bind(T),zt.rebind(T,C,"id","x","y","color","fill","classes","gradient","locality"),zt.rebind(T,C,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(T,C,"showLabels","showPointer","setPointer","ringWidth","labelThreshold","maxValue","minValue"),zt.rebind(T,S,"showTitle","showControls","showLegend"),T.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return C.gradientFill(t,t.seriesIndex)}:n;return C.color(n),C.fill(i),C.classes(a),S.legend.color(n),S.legend.classes(a),T},T.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return T},T.width=function(t){return arguments.length?(b=t,T):b},T.height=function(t){return arguments.length?(x=t,T):x},T.tooltips=function(t){return arguments.length?(k=t,T):k},T.tooltipContent=function(t){return arguments.length?(a=t,T):a},T.state=function(t){return arguments.length?(M=t,T):M},T.strings=function(t){return arguments.length?(A=c(t),S.strings(A),T):A},T.direction=function(t){return arguments.length?(e=t,C.direction(t),S.direction(t),T):e},T.duration=function(t){return arguments.length?(w=t,C.duration(t),T):w},T.delay=function(t){return arguments.length?(n=t,C.delay(t),T):n},T}function h(){var j={top:10,right:10,bottom:10,left:10},U=null,X=null,e="ltr",n=0,Z=0,K=!0,$={},J=c(),Q=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),tt=3,et={},nt=function(t,e,n,r,a){var i=n||t,o;return r?(o=a&&0===a.indexOf("%")?a:"%x",zt.dateFormat(i,o,et)):i},rt=function(t,e,n,r,a){return zt.numberFormatSIFixed(t,r,n,et,a)},i=function(t,e){var n=t.group||{},r=t.point.x,a=t.point.y,i="datetime"===e.xDataType,o="currency"===e.yDataType,l={seriesName:e.seriesName||J.tooltip.key,seriesLabel:t.series.key,groupName:e.groupName||(i?J.tooltip.date:J.tooltip.group),groupLabel:nt(r,t.pointIndex,n.label,i,"%x"),valueName:o?J.tooltip.amount:J.tooltip.count,valueLabel:zt.numberFormat(a,null,o,et)},s;return t.group&&zt.isNumeric(t.group._height)&&(s=Math.abs(100*a/t.group._height).toFixed(1),l.percent=zt.numberFormat(s,2,!1,et)),kt.multi(l,J)},at=function(t,e,n,r){},it=y(),ot=l(),lt=v(),st=v(),ct=null,ut=function(t,e,n){var r=i(t,n),a=t.value<0?"n":"s";return kt.show(t.e,r,a,null,e)};function dt(t){return t.each(function(t){var e=this,g=Pt.select(this),n="line",r=t&&t.properties||{},a=t&&t.data||null,m=parseInt(g.style("width"),10),v=parseInt(g.style("height"),10),y=U,b=X,o="datetime"===r.xDataType||!1,i="numeric"===r.xDataType||!1,l="currency"===r.yDataType||!1,s=r.groups,c=Array.isArray(s)&&0<s.length,u=[],d=0,f=!1,x=[],h=0,p=0,w=it.padData()?tt:0,k=!1,M=[{key:"Linear",disabled:"linear"!==it.interpolate()},{key:"Basis",disabled:"basis"!==it.interpolate()},{key:"Monotone",disabled:"monotone"!==it.interpolate()},{key:"Cardinal",disabled:"cardinal"!==it.interpolate()},{key:"Line",disabled:!0===it.isArea()()},{key:"Area",disabled:!1===it.isArea()()}];function A(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(m-j.left-j.right)/2+j.left,a=(v-j.top-j.bottom)/2+j.top;return zt.displayNoData(n,g,e||J.noData,r,a)}if(dt.update=function(){g.transition().duration(Z).call(dt)},dt.setActiveState=function(t,e){t.active=e,t.values.forEach(function(t){t.active=e})},dt.clearActive=function(e){a.forEach(function(t){dt.setActiveState(t,e||"")}),delete $.active},dt.cellActivate=function(t){var e=a[t.seriesIndex].values[t.pointIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",dt.clearActive(),e.active=n)},dt.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",dt.clearActive("active"===n?"inactive":""),dt.setActiveState(e,n),$.active=a.map(function(t){return"active"===t.active}))},dt.dataSeriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&("active"===(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"inactive")?dt.seriesActivate(t):dt.clearActive())},dt.container=this,A(a))return dt;if(et=dt.locality(),a.forEach(function(t,e){t.seriesIndex=e,t.key=t.key||J.noLabel,t.total=Pt.sum(t.values,function(t,e){return t.group=c?t.x-1:e,t.y}),t.disabled=t.disabled||0===t.total}),h=(x=a.filter(function(t){return!t.disabled}).map(function(t,e){return t.seri=e,t})).length,A(x))return dt;function I(t){u=t.map(function(t){return t.label}),d=u.length,f=0<d}c?(s.forEach(function(n,r){var t=void 0===n.label||""===n.label?J.noLabel:o?zt.isNumeric(n.label)||-1!==n.label.indexOf("GMT")?new Date(n.label):new Date(n.label+" GMT"):n.label;n.group=r,n.label=t,n.total=0,x.forEach(function(t,e){t.values.filter(function(t,e){return t.group===r}).forEach(function(t,e){n.total+=t.y})})}),I(s),p=Pt.sum(s,function(t){return t.total})):(u=Pt.merge(x.map(function(t){return t.values})).reduce(function(t,e){return-1===t.indexOf(e.x)&&t.push(e.x),t},[]).map(function(t,e){return o?new Date(t):t}),d=Math.min(Math.ceil(innerWidth/100),u.length),p=Pt.sum(x,function(t){return t.total}));var C=75,S=null,F=null,L=null,D={axis:null,maxmin:null};function T(t,e){var n=e.map(function(t){return Pt.select(t).datum()}),r=Pt.max(Pt.extent(n),function(t){return zt.siDecimal(Math.abs(t))}),a=Pt.max(n,function(t){var e=Pt.formatPrefix(".2s",r)(t);return zt.countSigFigsAfter(e)});return"maxmin"===t&&D.axis&&(a=Math.max(D.axis.precision,a)),D[t]={decimal:r,precision:a},D[t]}o&&(S=zt.getDateFormatUTC(u)),F=function(t,e,n,r){var a=f?u[e]:t,i=nt(t,e,a,o,S);return"no-ellipsis"===r?i:zt.stringEllipsify(i,g,C)},L=function(t,e,n,r){var a=D[r]||T(r,n);return rt(t,e,l,a.precision,a.decimal)},$.disabled=x.map(function(t){return!!t.disabled}),$.interpolate=it.interpolate(),$.isArea=it.isArea()(),ot.chart(dt).title(r.title).controlsData(M).legendData(a),k=1===Pt.max(x,function(t){return t.values.length});var E=Math.pow(tt,2)*Math.PI*(k?3:1);if(it.xScale(o?Pt.scaleTime():Pt.scaleLinear()).singlePoint(k).size(E).sizeRange([E,E]).sizeDomain([E,E]),k){var P=Pt.merge(x.map(function(t){return t.values.map(function(t,e){return it.x()(t,e)})})).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]).sort(function(t,e){return t-e}),z=Pt.extent(P),N=1*(o&&!u.length?864e5:1),_=Pt.merge(x.map(function(t){return t.values.map(function(t,e){return it.y()(t,e)})})),R=Pt.extent(_),B=1===x.length?2:Math.min((R[1]-R[0])/x.length,R[0]);it.xDomain([z[0]-N,z[1]+N]).yDomain([R[0]-B,R[1]+B]),lt.orient("bottom").ticks(P.length).tickValues(P).highlightZero(!1).showMaxMin(!1),st.orient("left").ticks(k?5:null).highlightZero(!1).showMaxMin(!1)}else it.xDomain(null).yDomain(null),lt.orient("bottom").tickValues(f?Pt.range(1,d+1):null).ticks(f?d:null).highlightZero(!1).showMaxMin(!f),st.orient("left").ticks(null).highlightZero(!0).showMaxMin(!0);lt.scale(it.xScale()).tickPadding(6).valueFormat(F),st.scale(it.yScale()).tickPadding(6).valueFormat(L);var O,H=g.selectAll("g.sc-chart-wrap").data([x]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),V=g.select(".sc-chart-wrap").merge(H);H.append("defs"),H.append("g").attr("class","sc-background-wrap");var G=V.select(".sc-background-wrap");H.append("g").attr("class","sc-title-wrap"),H.append("g").attr("class","sc-axis-wrap sc-axis-x");var W=V.select(".sc-axis-wrap.sc-axis-x");H.append("g").attr("class","sc-axis-wrap sc-axis-y");var Y=V.select(".sc-axis-wrap.sc-axis-y");H.append("g").attr("class","sc-line-wrap");var q=V.select(".sc-line-wrap");H.append("g").attr("class","sc-controls-wrap"),H.append("g").attr("class","sc-legend-wrap"),V.attr("transform",zt.translation(j.left,j.top)),H.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-j.left).attr("y",-j.top).attr("fill","#FFF"),dt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(m=parseInt(g.style("width"),10),v=parseInt(g.style("height"),10),e=X||v||400,y=(t=U||m||960)-j.left-j.right,b=e-j.top-j.bottom,r=y-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=b-n.top-n.bottom,G.select(".sc-background").attr("width",t).attr("height",e),C=Math.max(.2*y,75),ot.width(y).height(b),g.call(ot),i=ot.getHeight(),n.top+=i,(a=b-n.top-n.bottom)<100)return A(null,J.displayError),dt;function s(t){return"width"===t?r:"height"===t?a:0}it.width(s("width")).height(s("height")),q.datum(x).call(it);var c={top:0,right:0,bottom:0,left:0},u={top:0,right:0,bottom:0,left:0};function d(){u=lt.margin(),c=st.margin(),n.left=Math.max(u.left,c.left),n.right=Math.max(u.right,c.right),n.top=Math.max(u.top,c.top),n.bottom=Math.max(u.bottom,c.bottom),f()}function f(){r=y-n.left-n.right,a=b-i-n.top-n.bottom,it.resetDimensions(s("width"),s("height"))}function h(){st.tickSize(w-r,0).margin(n),Y.call(st),d()}function p(){lt.tickSize(w-a,0).margin(n),W.call(lt),d()}h(),p(),h(),p(),h(),q.transition().duration(Z).call(it),n.top+=i,o=n.left,l=n.top+("bottom"===lt.orient()?a:0),W.attr("transform",zt.translation(o,l)),o=n.left+("left"===st.orient()?0:r),l=n.top,Y.attr("transform",zt.translation(o,l)),q.attr("transform",zt.translation(n.left,n.top))},dt.render(),ot.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),$.disabled=a.map(function(t){return!!t.disabled}),t.active="inactive",t.values.forEach(function(t){t.active="inactive"}),a.filter(function(t){return"active"===t.active}).length||dt.clearActive(),$.active=a.map(function(t){return!!t.active}),dt.update(),Q.call("stateChange",this,$)}),ot.controls.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(M.forEach(function(t){t.disabled=!0}),t.disabled=!1,t.key){case"Basis":it.interpolate("basis");break;case"Linear":it.interpolate("linear");break;case"Monotone":it.interpolate("monotone");break;case"Cardinal":it.interpolate("cardinal");break;case"Line":it.isArea(!1);break;case"Area":it.isArea(!0)}$.interpolate=it.interpolate(),$.isArea=it.isArea(),dt.update(),Q.call("stateChange",this,$)}}),Q.on("tooltipShow",function(t){K&&(f&&(t.group=s[t.groupIndex]),ct=ut(t,e.parentNode,r))}),Q.on("tooltipMove",function(t){ct&&kt.position(e.parentNode,ct,t,"s")}),Q.on("tooltipHide",function(){K&&kt.cleanup()}),Q.on("changeState",function(n){void 0!==n.disabled&&(a.forEach(function(t,e){t.disabled=n.disabled[e]}),$.disabled=n.disabled),void 0!==n.interpolate&&(it.interpolate(n.interpolate),$.interpolate=n.interpolate),void 0!==n.isArea&&(it.isArea(n.isArea),$.isArea=n.isArea),dt.update()}),Q.on("chartClick",function(){ot.controls.enabled()&&ot.controls.dispatch.call("closeMenu",this),ot.legend.enabled()&&ot.legend.dispatch.call("closeMenu",this)}),it.dispatch.on("elementClick",function(t){f&&t.groupIndex&&(t.group=s[t.groupIndex]),Q.call("chartClick",this),it.dispatch.call("elementMouseout",this,t),at(a,t,dt,u)}),g.on("click",function(){Pt.event.stopPropagation(),Q.call("chartClick",this)})}),dt}return it.clipEdge(!0),ot.showTitle(!0).showControls(!0).showLegend(!0),it.dispatch.on("elementMouseover.tooltip",function(t){Q.call("tooltipShow",this,t)}),it.dispatch.on("elementMousemove.tooltip",function(t){Q.call("tooltipMove",this,t)}),it.dispatch.on("elementMouseout.tooltip",function(t){Q.call("tooltipHide",this,t)}),dt.dispatch=Q,dt.lines=it,dt.legend=ot.legend,dt.controls=ot.controls,dt.xAxis=lt,dt.xAxisLabel=lt.axisLabel,dt.yAxis=st,dt.yAxisLabel=st.axisLabel,dt.options=zt.optionsFunc.bind(dt),zt.rebind(dt,it,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(dt,it,"defined","isArea","interpolate","size","clipVoronoi","useVoronoi","interactive","nice"),zt.rebind(dt,ot,"showTitle","showControls","showLegend"),zt.rebind(dt,lt,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),dt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){var e;return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}return it.color(n),it.fill(n),it.classes(a),ot.legend.color(n),ot.legend.classes(a),dt},dt.margin=function(t){if(!arguments.length)return j;for(var e in t)t.hasOwnProperty(e)&&(j[e]=t[e]);return dt},dt.width=function(t){return arguments.length?(U=t,dt):U},dt.height=function(t){return arguments.length?(X=t,dt):X},dt.tooltips=function(t){return arguments.length?(K=t,dt):K},dt.tooltipContent=function(t){return arguments.length?(i=t,dt):i},dt.state=function(t){return arguments.length?($=t,Q.call("stateChange",this,$),dt):$},dt.strings=function(t){return arguments.length?(J=c(t),ot.strings(J),dt):J},dt.direction=function(t){return arguments.length?(e=t,it.direction(t),lt.direction(t),st.direction(t),ot.direction(t),dt):e},dt.duration=function(t){return arguments.length?(Z=t,it.duration(t),dt):Z},dt.delay=function(t){return arguments.length?(n=t,it.delay(t),dt):n},dt.xValueFormat=function(t){return arguments.length?(nt=t,dt):nt},dt.yValueFormat=function(t){return arguments.length?(rt=t,dt):rt},dt.seriesClick=function(t){return arguments.length?(at=t,dt):at},dt.pointRadius=function(t){return arguments.length?(tt=t,dt):tt},dt}var yt=function(){function C(t){return t[0]}function S(t){return t[1]}function F(t){return t.x}function L(t){return t.y}function D(t,e){return e}function T(t){return t}function p(t){return t.hasOwnProperty("value")||t.hasOwnProperty("y")}function r(t){return Array.isArray(t.values)&&t.values.length}function g(t){return r(t)&&1===t.values.length}function E(t,e){var n;return-1!==["multibar","line","area","pie","funnel","gauge"].indexOf(t)&&Array.isArray(e)&&0<e.filter(function(t){return r(t)||p(t)}).length}function P(t,e){var n;return-1!==["multibar","line","area"].indexOf(t)&&Array.isArray(e)&&0<e.length}function z(t){return Array.isArray(t)&&0<t.length&&Array.isArray(t[0])}function N(t){return Array.isArray(t)&&0<t.length&&p(t[0])}function _(t){return void 0!==t&&String(t.hasOwnProperty("label")?t.label:t).toString()||e}function R(t){return void 0!==t&&t.hasOwnProperty("key")?String(t.key).toString()||e:_(t)}function B(t,e){t.hasOwnProperty("disabled")&&(e.disabled=t.disabled),t.hasOwnProperty("color")&&(e.color=t.color),t.hasOwnProperty("classes")&&(e.classes=t.classes)}var e=c().translate("noLabel"),t=function(t,e,n){var r=t.properties?Array.isArray(t.properties)?t.properties[0]:t.properties:{},a=[],i=[],o=[],l=!1,s=!1,c=!1,u="datetime"===r.xDataType||!1,d="numeric"===r.xDataType||!1,f=!1,h,p,g,m;function v(t,e){var n={group:e+1,label:_(t)};return t.values&&(n.total=y(t)),n}function y(t){var e=0;return t.hasOwnProperty("value")?e=t.value:t.hasOwnProperty("y")?e=t.y:t.hasOwnProperty("values")?e=Pt.sum(t.values,m):zt.isNumeric(t)&&(e=t),e}function b(t,e){var n=s?t:{};return n.x=g(t,e),n.y=m(t,e),n}function x(a,t){return t.values.map(function(t,e){var n=s?t:{},r=p(t,e)+p(a.values[e],e);return n.x=g(t,e),n.y=parseFloat(r),n})}function w(t){var e,n;return n=t.values.map(b),B(t,e={key:R(t),values:n}),e}function k(t,r,e){var n,a;return a=e.map(function(t,e){var n=t.values[0];return r===e?b(n,e):{x:g(n,e),y:0}}),B(t,n={key:R(t),values:a}),n}function M(t,e){var n,r;return r=[b(t.values[e]||t.values[0],e)],B(t,n={key:R(t),values:r}),n}function A(t,e){var n,r;n=t.keys||e.shift().splice(1),o=[],r=Pt.transpose(e.map(function(t,e){var n=t.shift();return u||d||o.push(v(n,e)),t.map(function(t){return u||d?[n,t]:[e+1,t]})})),a=n.map(function(t,e){return{key:t,values:r[e]}})}if(z(t.values)?A(r,t.values):t.values?(a=t.values,o=t.label||[]):(a=t.data,o=r.groups||r.labels||r.label||[]),f=P(e,o),E(e,a)){switch(l=z(a[0].values),s=N(a[0].values),c=O(a,o,h=l?C:s?F:D,p=l?S:s?L:T),g=f?function(t,e){return e+1}:u?function(t,e){var n,r,a;return"string"==typeof(r=4===(n=h(t,e)).toString().length?"1/1/"+n.toString():n)&&-1===r.indexOf("GMT")&&(r+=" GMT"),(a=new Date(r)).valueOf()}:d?function(t,e){return parseFloat(h(t,e))}:function(t,e){return h(t,e)},m=function(t,e){return parseFloat(p(t,e))},e){case"multibar":"basic"===n?(i=1===a.length?a.map(w):[{key:r.key||"Series 0",values:a.reduce(x)}],r.colorLength=i[0].values.length):i=c?a.map(M):a.map(w);break;case"gauge":case"pie":i=a.map(function(t){var e;return B(t,e={key:R(t),value:y(t)}),e});break;case"funnel":i=a.reverse().map(function(t,e){var n,r;return n=Pt.sum(t.values,p),B(t,r={key:R(t),values:[{series:e,x:0,y:n,y0:0}]}),r});break;case"area":case"line":i=a.map(w)}h=F,p=L,P(e,o)?r.groups=o.map(v):delete r.groups,r.hasOwnProperty("colorLength")||(r.colorLength=i.length),i.forEach(function(t,e){t.seriesIndex=e,t.total=y(t),t.total||(t.disabled=!0)})}else switch(e){case"bubble":if(t.data)r=t.properties,i=t.data;else{var I={"Negotiation/Review":"Negotiat./Review","Perception Analysis":"Percept. Analysis","Proposal/Price Quote":"Proposal/Quote","Id. Decision Makers":"Id. Deciders"};r={title:"Bubble Chart Data",yDataType:"string",xDataType:"datetime",colorLength:t.records.length},i=t.records.map(function(t){return{id:t.id,x:t.date_closed,y:Math.round(parseInt(t.likely_case,10)/parseFloat(t.base_rate)),shape:"circle",account_name:t.account_name,assigned_user_name:t.assigned_user_name,sales_stage:t.sales_stage,sales_stage_short:I[t.sales_stage]||t.sales_stage,probability:parseInt(t.probability,10),base_amount:parseInt(t.likely_case,10),currency_symbol:"$"}})}break;case"pareto":r=t.properties,i=t.data}return{properties:r,data:i}},O=function(r,a,i,o){var n=null,l=null,s=Array.isArray(a)&&0<a.length&&a.length===r.length;function c(t,r){return t.reduce(function(t,e){return e.values.reduce(function(t,e){var n=r(e);return-1===t.indexOf(n)&&t.push(n),t},t)},[]).length===t.length}function u(t,e){return t.length===t[0].values.length&&t.filter(function(t){return t.values.filter(function(t){return 0!==e(t)}).length<=1}).length===t.length}function d(t,e,n){return R(t)===_(e[n])}function f(t,e){return null===n?c(t,e):n}function h(t,e){return null===l?u(t,e):l}return r.reduce(function(t,e,n){return!!t&&(p(e)||g(e)&&(s&&d(e,a,n)||f(r,i))||(!s||d(e,a,n))&&h(r,o))},!0)};return t.areValuesDiscrete=O,t}();function p(){var q={top:10,right:10,bottom:10,left:10},j=null,U=null,e="ltr",n=0,X=0,Z=!0,K={},$=c(),J=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),Q=!0,tt=!0,et=!0,nt=function(t){},rt={},at=function(t,e,n,r,a){var i=n||t,o;return r?(o=a&&0===a.indexOf("%")?a:"%x",zt.dateFormat(i,o,rt)):i},it=function(t,e,n,r,a){return zt.numberFormatSIFixed(t,r,n,rt,a)},ot=function(t,e,n,r){return n||zt.numberFormatSI(t,0,r,rt)},i=function(t,e){var n=t.group||{},r=t.point.x,a=t.point.y,i="datetime"===e.xDataType,o="currency"===e.yDataType,l={seriesName:e.seriesName||$.tooltip.key,seriesLabel:t.series.key,groupName:e.groupName||(i?$.tooltip.date:$.tooltip.group),groupLabel:at(r,t.pointIndex,n.label,i,"%x"),valueName:o?$.tooltip.amount:$.tooltip.count,valueLabel:zt.numberFormat(a,null,o,rt)},s;return t.group&&zt.isNumeric(t.group._height)&&(s=Math.abs(100*a/t.group._height).toFixed(1),l.percent=zt.numberFormat(s,2,!1,rt)),kt.multi(l,$)},lt=function(t,e,n,r){},st=b(),ct=l(),ut=v(),dt=v(),ft=!1,ht=0,pt=u().id(st.id()),gt=null,mt=function(t,e,n){var r=i(t,n),a=t.value<0?Q?"n":"e":Q?"s":"w";return kt.show(t.e,r,a,null,e)};function vt(t){return t.each(function(t){var e=this,x=Pt.select(this),n=Q?"multibar":"multibar-horizontal",r=t&&t.properties||{},w=t&&t.data||null,k=parseInt(x.style("width"),10),M=parseInt(x.style("height"),10),A=j,I=U,o="datetime"===r.xDataType||!1,a="numeric"===r.xDataType||!1,i="currency"===r.yDataType||!1,l=r.groups,s=Array.isArray(l)&&0<l.length,c=[],C=0,u=!1,d=!1,S=[],F=0,f=0,L=st.stacked()&&Q?72:32,h=[{key:"Grouped",disabled:st.stacked()},{key:"Stacked",disabled:!st.stacked()}];function D(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(k-q.left-q.right)/2+q.left,a=(M-q.top-q.bottom)/2+q.top;return zt.displayNoData(n,x,e||$.noData,r,a)}if(vt.update=function(){x.transition().duration(X).call(vt)},vt.setActiveState=function(t,e){t.active=e,t.values.forEach(function(t){t.active=e})},vt.clearActive=function(e){w.forEach(function(t){vt.setActiveState(t,e||"")}),delete K.active},vt.cellActivate=function(t){var e=w[t.seriesIndex].values[t.pointIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",vt.clearActive(),e.active=n)},vt.seriesActivate=function(t){var e=t.series||w[t.seriesIndex],n;e&&(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",vt.clearActive("active"===n?"inactive":""),vt.setActiveState(e,n),K.active=w.map(function(t){return"active"===t.active}))},vt.dataSeriesActivate=function(t){var e=t.series||w[t.seriesIndex],n;e&&("active"===(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"inactive")?vt.seriesActivate(t):vt.clearActive())},vt.container=this,D(w))return vt;function p(t,e){var n={x:t.x,y:t.y};return void 0!==t.label&&(n.label=t.label),t.active&&(n.active=t.active),n}if(rt=vt.locality(),w.forEach(function(t,e){t._values||(t._values=t.values.map(p)),t.seriesIndex=e,t.key=t.key||$.noLabel,t.total=Pt.sum(t._values,function(t,e){return t.y}),t.disabled=t.disabled||0===t.total}),S=w.filter(function(t){return!t.disabled}).map(function(r,t){return r.seri=t,r.values=r._values.map(function(t,e){var n=p(t,e);return n.groupIndex=o||a?e:t.x-1,n.seriesIndex=r.seriesIndex,n.seri=r.seri,n.color=r.color||"",n}),r}),F=S.length,D(S))return vt;function g(t){c=t.map(function(t){return t.label}),C=c.length,u=0<C}if(s?l.forEach(function(t,e){var n=void 0===t.label||""===t.label?$.noLabel:o?zt.isNumeric(t.label)||-1!==t.label.indexOf("GMT")?new Date(t.label):new Date(t.label+" GMT"):t.label;t.group=e,t.label=n,t.total=0,t._height=0}):l=S[0].values.map(function(t,e){return{group:e,label:o?new Date(t.x):t.x,total:0,_height:0}}),g(l),d=yt.areValuesDiscrete(S,l,st.x(),st.y()),l.forEach(function(n,r){var a=0,i=0;S.forEach(function(t,e){t.values.filter(function(t,e){return t.groupIndex===r}).forEach(function(t,e){t.size=Math.abs(t.y),n._height+=t.size,n.total+=t.y,t.y<0?(t.y0=(d?0:i)-(Q?0:t.size),i-=t.size):(t.y0=(d?0:a)+(Q?t.size:0),a+=t.size)})}),n.neg={label:ot(i),y:i},n.pos={label:ot(a),y:a}}),et&&(g(l.filter(function(t,e){return 0!==t._height})),S.forEach(function(t,e){return t.values=t.values.filter(function(t,e){return 0!==l[t.groupIndex]._height}).map(function(t,e){return t}),t}),D(S)))return vt;f=Pt.sum(l,function(t){return t.total});var T=75,m=null,v=null,y=null,b=null,E=0,P=0===Pt.max(Pt.merge(S.map(function(t){return t.values.map(function(t){var e=st.y()(t);return zt.countSigFigsAfter(e)})})));P&&(E=Pt.max(l,function(t){return t.total}));var z={axis:null,maxmin:null};function N(t,e){var n=e.map(function(t){return Pt.select(t).datum()}),r=Pt.max(Pt.extent(n),function(t){return zt.siDecimal(Math.abs(t))}),a=Pt.max(n,function(t){var e=Pt.formatPrefix(".2s",r)(t);return zt.countSigFigsAfter(e)});return"maxmin"===t&&z.axis&&(a=Math.max(z.axis.precision,a)),z[t]={decimal:r,precision:a},z[t]}o&&(m=zt.getDateFormatUTC(c)),v=function(t,e,n,r){var a=u?c[e]:t,i=at(t,e,a,o,m);return"no-ellipsis"===r?i:zt.stringEllipsify(i,x,T)},y=function(t,e,n,r){var a=z[r]||N(r,n);return it(t,e,i,a.precision,a.decimal)},b=function(t,e,n){return ot(t,e,n,i)},K.disabled=S.map(function(t){return!!t.disabled}),K.active=S.map(function(t){return"active"===t.active}),K.stacked=st.stacked(),ct.chart(vt).title(r.title).controlsData(h).legendData(w),st.valueFormat(b),ut.orient(Q?"bottom":"left").scale(st.xScale()).valueFormat(v).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),dt.orient(Q?"left":"bottom").scale(st.yScale()).valueFormat(y).tickPadding(4).showMaxMin(!0);var _,R=x.selectAll("g.sc-chart-wrap").data([S]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+n),B=x.select(".sc-chart-wrap").merge(R);R.append("defs");var O=B.select("defs");R.append("g").attr("class","sc-background-wrap");var H=B.select(".sc-background-wrap");R.append("g").attr("class","sc-title-wrap"),R.append("g").attr("class","sc-axis-wrap sc-axis-y");var V=B.select(".sc-axis-wrap.sc-axis-y");R.append("g").attr("class","sc-scroll-wrap");var G=B.select(".sc-scroll-wrap");R.select(".sc-scroll-wrap").append("g").attr("class","sc-axis-wrap sc-axis-x");var W=B.select(".sc-axis-wrap.sc-axis-x");R.select(".sc-scroll-wrap").append("g").attr("class","sc-bars-wrap");var Y=B.select(".sc-bars-wrap");R.append("g").attr("class","sc-controls-wrap"),R.append("g").attr("class","sc-legend-wrap"),B.attr("transform",zt.translation(q.left,q.top)),tt?pt(B,R,G,ut):R.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-q.left).attr("y",-q.top).attr("fill","#FFF"),vt.render=function(){var t,e,n,r,a,i,o=0,l=0;if(k=parseInt(x.style("width"),10),M=parseInt(x.style("height"),10),e=U||M||400,A=(t=j||k||960)-q.left-q.right,I=e-q.top-q.bottom,r=A-(n={top:0,right:0,bottom:0,left:0}).left-n.right,a=I-n.top-n.bottom,H.select(".sc-background").attr("width",t).attr("height",e),ct.width(A).height(I),x.call(ct),i=ct.getHeight(),n.top+=i,(a=I-n.top-n.bottom)<100)return D(null,$.displayError),vt;var s=K.stacked?L:L*F+L,c=L*(K.stacked?.25:1),u=C*s+c;function d(t){return"width"===t?Q&&tt?Math.max(r,u):r:"height"===t?!Q&&tt?Math.max(a,u):a:0}T=Math.max(Q?2*L:.2*A,75),st.vertical(Q).baseDimension(L).disabled(w.map(function(t){return t.disabled})).width(d("width")).height(d("height")),Y.datum(S).call(st);var f={top:0,right:0,bottom:0,left:0},h={top:0,right:0,bottom:0,left:0};function p(){h=ut.margin(),f=dt.margin(),n.left=Math.max(h.left,f.left),n.right=Math.max(h.right,f.right),n.top=Math.max(h.top,f.top),n.bottom=Math.max(h.bottom,f.bottom),g()}function g(){r=A-n.left-n.right,a=I-i-n.top-n.bottom,st.resetDimensions(d("width"),d("height"))}function m(){dt.ticks(P&&E<10?E:a/48).tickSize(Q?-r:-a,0).margin(n),V.call(dt),p()}function v(){ut.tickSize(0).margin(n),W.call(ut),p()}if(m(),v(),m(),v(),m(),Y.transition().duration(X).call(st),n.top+=i,o=Q||"left"===ut.orient()?0:r,l=Q&&"bottom"===ut.orient()?a+2:-2,W.attr("transform",zt.translation(o,l)),o=n.left+(Q||"bottom"===dt.orient()?0:r),l=n.top+(Q||"left"===dt.orient()?0:a),V.attr("transform",zt.translation(o,l)),G.attr("transform",zt.translation(n.left,n.top)),tt){ft=(Q?r:a)<u,W.select(".sc-axislabel").attr("x",(Q?r:-a)/2);var y=(Q?r:a)-u,b=function(){var t;J.call("tooltipHide",this),ht=pt.pan(y),t=Q?r-2*ht:2*ht-a,t/=2,W.select(".sc-axislabel").attr("x",t)};pt.enable(ft).width(r).height(a).margin(n).minDimension(u).vertical(Q).panHandler(b).resize(ht,nt),pt.panHandler()()}},vt.render(),ct.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,w.filter(function(t){return!t.disabled}).length||w.forEach(function(t){t.disabled=!1}),K.disabled=w.map(function(t){return!!t.disabled}),t.active="inactive",t.values.forEach(function(t){t.active="inactive"}),w.filter(function(t){return"active"===t.active}).length||vt.clearActive(),K.active=w.map(function(t){return!!t.active}),vt.update(),J.call("stateChange",this,K)}),ct.controls.dispatch.on("legendClick",function(t,e){t.disabled&&(h.forEach(function(t){t.disabled=!0}),t.disabled=!1,st.stacked("Grouped"!==t.key),K.stacked=st.stacked(),vt.update(),J.call("stateChange",this,K))}),J.on("tooltipShow",function(t){Z&&(u&&(t.group=l[t.groupIndex]),gt=mt(t,e.parentNode,r))}),J.on("tooltipMove",function(t){gt&&kt.position(e.parentNode,gt,t,Q?"s":"w")}),J.on("tooltipHide",function(){Z&&kt.cleanup()}),J.on("changeState",function(n){void 0!==n.disabled&&(w.forEach(function(t,e){t.disabled=n.disabled[e]}),K.disabled=n.disabled),void 0!==n.active&&(w.forEach(function(e,t){e.active=n.active[t]?"active":"inactive",e.values.forEach(function(t){t.active=e.active})}),K.active=n.active,w.filter(function(t){return"active"===t.active}).length||vt.clearActive()),void 0!==n.stacked&&(st.stacked(n.stacked),K.stacked=n.stacked),vt.update()}),J.on("chartClick",function(){ct.controls.enabled()&&ct.controls.dispatch.call("closeMenu",this),ct.legend.enabled()&&ct.legend.dispatch.call("closeMenu",this)}),st.dispatch.on("elementClick",function(t){u&&t.groupIndex&&(t.group=l[t.groupIndex]),J.call("chartClick",this),lt(w,t,vt,c)}),x.on("click",function(){Pt.event.stopPropagation(),J.call("chartClick",this)})}),vt}return ct.showTitle(!0).showControls(!0).showLegend(!0),st.dispatch.on("elementMouseover.tooltip",function(t){J.call("tooltipShow",this,t)}),st.dispatch.on("elementMousemove.tooltip",function(t){J.call("tooltipMove",this,t)}),st.dispatch.on("elementMouseout.tooltip",function(t){J.call("tooltipHide",this,t)}),vt.dispatch=J,vt.multibar=st,vt.legend=ct.legend,vt.controls=ct.controls,vt.xAxis=ut,vt.xAxisLabel=ut.axisLabel,vt.yAxis=dt,vt.yAxisLabel=dt.axisLabel,vt.options=zt.optionsFunc.bind(vt),zt.rebind(vt,st,"id","x","y","xScale","yScale","xDomain","yDomain","forceX","forceY","clipEdge","color","fill","classes","gradient","locality"),zt.rebind(vt,st,"stacked","showValues","nice","textureFill"),zt.rebind(vt,ct,"showTitle","showControls","showLegend"),zt.rebind(vt,ut,"rotateTicks","reduceXTicks","staggerTicks","wrapTicks"),vt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t){var e={orientation:r.orientation||(Q?"vertical":"horizontal"),position:r.position||"middle"};return st.gradientFill(t,t.seriesIndex,e)}:n;return st.color(n),st.fill(i),st.classes(a),ct.legend.color(n),ct.legend.classes(a),vt},vt.margin=function(t){if(!arguments.length)return q;for(var e in t)t.hasOwnProperty(e)&&(q[e]=t[e]);return vt},vt.width=function(t){return arguments.length?(j=t,vt):j},vt.height=function(t){return arguments.length?(U=t,vt):U},vt.tooltips=function(t){return arguments.length?(Z=t,vt):Z},vt.tooltipContent=function(t){return arguments.length?(i=t,vt):i},vt.state=function(t){return arguments.length?(K=t,J.call("stateChange",this,K),vt):K},vt.strings=function(t){return arguments.length?($=c(t),ct.strings($),vt):$},vt.direction=function(t){return arguments.length?(e=t,st.direction(t),ut.direction(t),dt.direction(t),ct.direction(t),vt):e},vt.duration=function(t){return arguments.length?(X=t,st.duration(t),vt):X},vt.delay=function(t){return arguments.length?(n=t,st.delay(t),vt):n},vt.valueFormat=function(t){return arguments.length?(ot=t,vt):ot},vt.xValueFormat=function(t){return arguments.length?(at=t,vt):at},vt.yValueFormat=function(t){return arguments.length?(it=t,vt):it},vt.seriesClick=function(t){return arguments.length?(lt=t,vt):lt},vt.vertical=function(t){return arguments.length?(Q=t,vt):Q},vt.allowScroll=function(t){return arguments.length?(tt=t,vt):tt},vt.hideEmptyGroups=function(t){return arguments.length?(et=t,vt):et},vt.overflowHandler=function(t){return arguments.length?(nt=zt.functor(t),vt):nt},vt}function g(){var e={barLegend:{close:"Hide bar legend",open:"Show bar legend",noLabel:"undefined"},lineLegend:{close:"Hide line legend",open:"Show line legend",noLabel:"undefined"}},nt={top:10,right:10,bottom:10,left:10},rt=null,at=null,it=!1,ot=!0,lt="ltr",st=!0,n=!1,r=0,a=0,u={},ct=c(e),d=function(t){return t.x},f=function(t){return t.y},i=zt.buildLocality(),ut=Pt.dispatch("chartClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),h=function(t,e,n,r){return r?zt.dateFormat(n,"%x",wt.locality()):n},p=function(t,e,n,r){var a=2;return zt.numberFormatSI(t,2,r,wt.locality())},dt=p,ft=b().stacked(!0).clipEdge(!1).withLine(!0).nice(!1),ht=y().color(function(t,e){return"#FFF"}).fill(function(t,e){return"#FFF"}).useVoronoi(!1).nice(!1),pt=y().useVoronoi(!1).color("data").nice(!1),gt=v(),mt=v(),vt=z().align("left").position("middle"),yt=z().align("right").position("middle"),bt=null,l=function(t,e,n,r,a){return"<p><b>"+t+"</b></p><p><b>"+n+"</b></p><p><b>"+e+"%</b></p>"},s=function(t,e,n,r,a){return"<p><p>"+t+": <b>"+n+"</b></p>"},o=function(t,e,n,r,a){return"<p>"+r.key+": <b>"+n+"</b></p>"},g=function(t,e,n){var r=t.series.key,a=(100*t.point.y/n[t.pointIndex].t).toFixed(1),i=pt.y()(t.point,t.pointIndex),o="bar"===t.series.type?l(r,a,i,t,wt):s(r,a,i,t,wt);return kt.show(t.e,o,"s",null,e)},xt=function(t,e){var n=o(t.key,0,t.val,t,wt);return kt.show(t.e,n,"s",null,e)},m=function(t,e,n,r){};function wt(t){return t.each(function(t){var R=this,B=Pt.select(this),O="pareto",H=t&&t.properties||{},V=t&&t.data||null,G=parseInt(B.style("width"),10),W=parseInt(B.style("height"),10),Y=Math.pow(6,2)*Math.PI,l="datetime"===H.xDataType||!1,a="currency"===H.yDataType||!1,s=ft.stacked()?72:32,e=function(t,e,n,r){var a=c&&Array.isArray(c)&&c[e]||t,i=h(t,e,a,l),o=Math.max(2*s,75);return r?i:zt.stringEllipsify(i,B,o)},n=function(t,e,n,r){return p(t,e,null,a)},q,j;function r(t,e){var n=t&&t.length&&t.filter(function(t){return!t.disabled&&Array.isArray(t.values)&&t.values.length}).length,r=(G-nt.left-nt.right)/2+nt.left,a=(W-nt.top-nt.bottom)/2+nt.top;return zt.displayNoData(n,B,e||ct.noData,r,a)}if(wt.update=function(){B.transition().call(wt)},wt.container=this,r(V))return wt;wt.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active",e.values.map(function(t){t.active=e.active}),"active"===e.active&&V.filter(function(t){return"active"!==t.active}).map(function(t){return t.active="inactive",t.values.map(function(t){t.active="inactive"}),t}),V.filter(function(t){return"active"===t.active}).length||V.map(function(t){return t.active="",t.values.map(function(t){t.active=""}),B.selectAll(".sc-series").classed("sc-inactive",!1),t}),B.call(wt)},V.forEach(function(t,e){t._values||(t._values=t.values.map(function(t,e){return{x:Array.isArray(t)?t[0]:t.x,y:Array.isArray(t)?t[1]:t.y}}))});var U=V.filter(function(t){return!t.type||"bar"===t.type}).map(function(n,r){return n.seriesIndex=r,n.values=n._values.map(function(t,e){return{group:e,seriesIndex:n.seriesIndex,color:void 0!==n.color?n.color:"",x:ft.x()(t,e),y:ft.y()(t,e),y0:t.y+(0<r?V[n.seriesIndex-1].values[e].y0:0),active:void 0!==n.active?n.active:""}}),n.key=n.key||ct.noLabel,n.total=Pt.sum(n._values,function(t,e){return t.y}),n.disabled=n.disabled||0===n.total,n}).filter(function(t){return!t.disabled}).map(function(n,t){return n.seri=t,n.values.forEach(function(t,e){t.seri=n.seri}),n});if(r(U))return wt;var X=V.filter(function(t){return"line"===t.type}).map(function(n,t){return n.seriesIndex=t,ft.stacked()?(n.values.forEach(function(t){t.y=0}),U.map(function(t){t.values.map(function(t,e){n.values[e].y+=ft.y()(t,e)})}),n.values.forEach(function(t,e){0<e&&(t.y+=n.values[e-1].y)})):n.values=n._values.map(function(t,e){return{seriesIndex:n.seriesIndex,color:void 0!==n.color?n.color:"",x:pt.x()(t,e)+.25*(n.seriesIndex-e),y:pt.y()(t,e)}}),n}).filter(function(t){return!t.disabled}).map(function(n,t){return n.seri=t,n.values.forEach(function(t,e){t.seri=n.seri}),n}),i=H.groupData,c=i.map(function(t){return[].concat(t.l)[0]||ct.noLabel}),Z=H.quota||0,K=H.quotaLabel||"",$=H.targetQuota||0,J=H.targetQuotaLabel||"",Q=V.filter(function(t){return!t.type||"bar"===t.type}),tt=V.filter(function(t){return"line"===t.type});tt.push({key:K,type:"dash",color:"#444",seriesIndex:tt.length,values:{seriesIndex:tt.length,x:0,y:0}}),0<$&&tt.push({key:J,type:"dash",color:"#777",seriesIndex:tt.length,values:{seriesIndex:tt.length+1,x:0,y:0}});var o=V.filter(function(t){return!t.disabled}).map(function(t){return t._values.map(function(t,e){return d(t,e)})}),et=V.map(function(t){return t._values.map(function(t,e){return f(t,e)})});it=it&&H.title&&H.title.length,q=ft.xScale(),j=ft.yScale(),gt.orient("bottom").scale(q).valueFormat(e).tickSize(0).tickPadding(4).highlightZero(!1).showMaxMin(!1),mt.orient("left").scale(j).valueFormat(n).tickPadding(7).showMaxMin(!0),wt.render=function(){var t,e,n,r,a,i,o;G=parseInt(B.style("width"),10),W=parseInt(B.style("height"),10),e=at||W||400,n=(t=rt||G||960)-nt.left-nt.right,r=e-nt.top-nt.bottom,o=r-(a={top:0,right:0,bottom:0,left:0}).top-a.bottom,i=n-a.left-a.right;var l=0,s=0,c=0,u=0,d={width:0,height:0},f,h=B.selectAll("g.sc-chart-wrap").data([V]).enter().append("g").attr("class","sc-chart-wrap sc-chart-"+O),p=B.select(".sc-chart-wrap").merge(h);h.append("defs"),h.append("g").attr("class","sc-background-wrap");var g=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap");var m=p.select(".sc-title-wrap");h.append("g").attr("class","sc-axis-wrap sc-axis-x");var v=p.select(".sc-axis-wrap.sc-axis-x");h.append("g").attr("class","sc-axis-wrap sc-axis-y");var y=p.select(".sc-axis-wrap.sc-axis-y");h.append("g").attr("class","sc-bars-wrap");var b=p.select(".sc-bars-wrap");h.append("g").attr("class","sc-quota-wrap");var x=p.select(".sc-quota-wrap");h.append("g").attr("class","sc-lines-wrap1");var w=p.select(".sc-lines-wrap1");h.append("g").attr("class","sc-lines-wrap2");var k=p.select(".sc-lines-wrap2");h.append("g").attr("class","sc-legend-wrap sc-bar-legend");var M=p.select(".sc-legend-wrap.sc-bar-legend");h.append("g").attr("class","sc-legend-wrap sc-line-legend");var A=p.select(".sc-legend-wrap.sc-line-legend"),I=!1;window.SUGAR&&window.SUGAR.hasOwnProperty("App","utils")&&(I=window.SUGAR.App.utils.isDarkMode());var C=I?"#000000":"#ffffff";p.attr("transform",zt.translation(nt.left,nt.top)),h.select(".sc-background-wrap").append("rect").attr("x",-nt.left).attr("y",-nt.top).attr("width",t).attr("height",e).attr("fill",C),m.select(".sc-title").remove(),it&&(m.append("text").attr("class","sc-title").attr("x","rtl"===lt?n:0).attr("y",0).attr("dy",".75em").attr("text-anchor","start").attr("stroke","none").attr("fill","black").text(H.title),d=zt.getTextBBox(m.select(".sc-title")),u+=d.height),ot&&(vt.id("barlegend_"+wt.id()).strings(ct.barLegend).align("left").height(r-a.top),M.datum(Q).call(vt),l=vt.calcMaxWidth(),yt.id("linelegend_"+wt.id()).strings(ct.lineLegend).align("right").height(r-a.top),A.datum(tt).call(yt),s=yt.calcMaxWidth(),c=n/(l+s),vt.arrange(Math.floor(c*l)),yt.arrange(Math.floor(c*s)),M.attr("transform","translate("+("rtl"===lt?n-vt.width():0)+","+a.top+")"),A.attr("transform","translate("+("rtl"===lt?0:n-yt.width())+","+a.top+")")),u+=Math.max(vt.height(),yt.height())+4,o=r-u-a.top-a.bottom;var S=Math.max(Pt.max(Pt.merge(et)),Z,$||0),F=[0,10*Math.ceil(.1*S)];ft.width(i).height(o).forceY(F).id(wt.id()),b.datum(U).call(ft);var L=q(1)+q.bandwidth()/(ft.stacked()||1===X.length?2:4);ht.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o).forceY(F).useVoronoi(!1).id("outline_"+wt.id()),pt.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o).forceY(F).useVoronoi(!1).size(Y).sizeRange([Y,Y]).sizeDomain([Y,Y]).id("foreground_"+wt.id()),w.datum(X).call(ht),k.datum(X).call(pt),v.call(gt),y.style("opacity",U.length?1:0).call(mt);var D=gt.margin(),T=mt.margin(),E=0,P=14;function z(){a.left=Math.max(E,D.left,T.left),a.right=Math.max(D.right,T.right),a.top=Math.max(D.top,T.top)+u,a.bottom=Math.max(D.bottom,T.bottom),N()}function N(){i=n-a.left-a.right,o=r-a.top-a.bottom,ft.resetDimensions(i,o)}x.selectAll("line").remove(),y.selectAll("text.sc-quota-value").remove(),y.selectAll("text.sc-target-quota-value").remove(),0<$&&(x.append("line").attr("class","sc-quota-target").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j($)+")").style("stroke-dasharray","8, 8"),x.append("line").datum({key:J,val:$}).attr("class","sc-quota-target sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j($)+")"),y.append("text").text(dt($,2,!0)).attr("class","sc-target-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor","rtl"===lt?"start":"end").attr("transform","translate("+(0-mt.tickPadding())+","+j($)+")"),E=Math.round(p.select("text.sc-target-quota-value").node().getBoundingClientRect().width+mt.tickPadding())),0<Z&&(x.append("line").attr("class","sc-quota-line").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j(Z)+")").style("stroke-dasharray","8, 8"),x.append("line").datum({key:K,val:Z}).attr("class","sc-quota-line sc-quota-background").attr("x1",0).attr("y1",0).attr("x2",i).attr("y2",0).attr("transform","translate(0,"+j(Z)+")"),y.append("text").text(dt(Z,2,!0)).attr("class","sc-quota-value").attr("dy",".36em").attr("dx","0").attr("text-anchor","rtl"===lt?"start":"end").attr("transform","translate("+-mt.tickPadding()+","+j(Z)+")"),E=Math.max(E,Math.round(p.select("text.sc-quota-value").node().getBoundingClientRect().width+mt.tickPadding()))),z(),ft.width(i).height(o),b.call(ft),v.call(gt),y.call(mt),L=q(1)+q.bandwidth()/(ft.stacked()?2:2*X.length),D=gt.margin(),T=mt.margin(),z();var _=zt.translation(a.left,a.top);ft.width(i).height(o),b.attr("transform",_).call(ft),ht.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o),pt.margin({top:0,right:L,bottom:0,left:L}).width(i).height(o),w.attr("transform",_).call(ht),k.attr("transform",_).call(pt),x.attr("transform",_).selectAll("line").attr("x2",i),v.attr("transform","translate("+a.left+","+("bottom"===gt.orient()?o+a.top:a.top)+")").call(gt),mt.ticks(Math.ceil(o/48)).tickSize(-i,0),y.attr("transform","translate("+("left"===mt.orient()?a.left:a.left+i)+","+a.top+")").call(mt),0<$&&(x.selectAll("line.sc-quota-target").attr("x2",i).attr("transform","translate(0,"+j($)+")"),y.select("text.sc-target-quota-value").attr("transform","translate("+(0-mt.tickPadding())+","+j($)+")"),P=Math.round(parseInt(p.select("text.sc-target-quota-value").node().getBoundingClientRect().height,10)/1.15),y.selectAll("g.tick, g.sc-axisMaxMin").each(function(t,e){Math.abs(j(t)-j($))<=P&&Pt.select(this).style("opacity",0)})),0<Z&&(x.selectAll("line.sc-quota-line").attr("x2",i).attr("transform","translate(0,"+j(Z)+")"),y.select("text.sc-quota-value").attr("transform","translate("+(0-mt.tickPadding())+","+j(Z)+")"),P=Math.round(parseInt(p.select("text.sc-quota-value").node().getBoundingClientRect().height,10)/1.15),y.selectAll("g.tick, g.sc-axisMaxMin").each(function(t,e){Math.abs(j(t)-j(Z))<=P&&Pt.select(this).style("opacity",0)}),0<$&&Math.abs(j(Z)-j($))<=P&&y.select(".sc-target-quota-value").style("opacity",0)),x.selectAll("line.sc-quota-background").on("mouseover",function(t){if(st){var e={val:t.val,key:t.key,e:Pt.event};bt=xt(e,R.parentNode)}}).on("mousemove",function(){var t=Pt.event;ut.call("tooltipMove",this,t)}).on("mouseout",function(){ut.call("tooltipHide",this)})},wt.render(),vt.dispatch.on("legendClick",function(t,e){var n=t.seriesIndex;t.disabled=!t.disabled,wt.stacked()||V.filter(function(t){return t.seriesIndex===n&&"line"===t.type}).map(function(t){return t.disabled=!t.disabled,t}),V.filter(function(t){return!t.disabled&&"bar"===t.type}).length||V.map(function(t){return t.disabled=!1,t}),B.call(wt)}),ut.on("tooltipShow",function(t){st&&(bt=g(t,R.parentNode,i))}),ut.on("tooltipMove",function(t){bt&&kt.position(R.parentNode,bt,t,"s")}),ut.on("tooltipHide",function(){st&&kt.cleanup()}),ut.on("changeState",function(n){void 0!==n.disabled&&(V.forEach(function(t,e){t.disabled=n.disabled[e]}),u.disabled=n.disabled),void 0!==n.stacked&&(ft.stacked(n.stacked),u.stacked=n.stacked),B.transition().call(wt)}),ut.on("chartClick",function(){vt.enabled()&&vt.dispatch.call("closeMenu",this),yt.enabled()&&yt.dispatch.call("closeMenu",this)}),ft.dispatch.on("elementClick",function(t){ut.call("chartClick",this),m(V,t,wt,B)})}),wt}return pt.dispatch.on("elementMouseover.tooltip",function(t){ut.call("tooltipShow",this,t)}),pt.dispatch.on("elementMousemove.tooltip",function(t){ut.call("tooltipMove",this,t)}),pt.dispatch.on("elementMouseout.tooltip",function(){ut.call("tooltipHide",this)}),ft.dispatch.on("elementMouseover.tooltip",function(t){ut.call("tooltipShow",this,t)}),ft.dispatch.on("elementMousemove.tooltip",function(t){ut.call("tooltipMove",this,t)}),ft.dispatch.on("elementMouseout.tooltip",function(){ut.call("tooltipHide",this)}),wt.dispatch=ut,wt.linesBackground=ht,wt.lines=pt,wt.multibar=ft,wt.barLegend=vt,wt.lineLegend=yt,wt.xAxis=gt,wt.xAxisLabel=gt.axisLabel,wt.yAxis=mt,wt.yAxisLabel=mt.axisLabel,wt.options=zt.optionsFunc.bind(wt),zt.rebind(wt,ft,"id","xScale","yScale","xDomain","yDomain","forceY","color","fill","classes","gradient"),zt.rebind(wt,ft,"stacked","showValues","valueFormat","nice","textureFill"),zt.rebind(wt,gt,"rotateTicks","staggerTicks","wrapTicks","reduceXTicks"),wt.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex},i=function(t,e){var n=r.lineColor?r.lineColor:{c1:"#1A8221",c2:"#62B464",l:1};return t.color||Pt.interpolateHsl(Pt.rgb(n.c1),Pt.rgb(n.c2))(t.seriesIndex/2)},o=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t){return Pt.interpolateHsl(Pt.rgb(r.barColor.c1),Pt.rgb(r.barColor.c2))(t.seriesIndex/r.barColor.l)};break;case"class":n=function(){return"inherit"},a=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)},o=function(t){var e=t.seriesIndex,n=e*(r.step||1)%14;return"sc-series sc-series-"+e+" sc-fill"+(n=(9<n?"":"0")+n)+" sc-stroke"+n};break;case"data":n=function(t){return t.classes?"inherit":t.color||zt.defaultColor()(t,t.seriesIndex)},a=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")},o=function(t){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var l=r.gradient?function(t){var e={orientation:r.orientation||"vertical",position:r.position||"middle"};return ft.gradientFill(t,t.seriesIndex,e)}:n;return ft.color(n),ft.fill(l),ft.classes(a),pt.color(i),pt.fill(i),pt.classes(o),vt.color(n),vt.classes(a),yt.color(i),yt.classes(o),wt},wt.x=function(t){return arguments.length?(d=t,pt.x(t),ft.x(t),wt):d},wt.y=function(t){return arguments.length?(f=t,pt.y(t),ft.y(t),wt):f},wt.margin=function(t){if(!arguments.length)return nt;for(var e in t)t.hasOwnProperty(e)&&(nt[e]=t[e]);return wt},wt.width=function(t){return arguments.length?(rt=t,wt):rt},wt.height=function(t){return arguments.length?(at=t,wt):at},wt.showTitle=function(t){return arguments.length?(it=t,wt):it},wt.showLegend=function(t){return arguments.length?(ot=t,wt):ot},wt.tooltipBar=function(t){return arguments.length?(l=t,wt):l},wt.tooltipLine=function(t){return arguments.length?(s=t,wt):s},wt.tooltipQuota=function(t){return arguments.length?(o=t,wt):o},wt.tooltips=function(t){return arguments.length?(st=t,wt):st},wt.clipEdge=function(t){return arguments.length?(n=t,ft.clipEdge(t),ht.clipEdge(t),pt.clipEdge(t),wt):n},wt.state=function(t){return arguments.length?(u=t,wt):u},wt.strings=function(t){return arguments.length?(t.barLegend||(t.barLegend=e.barLegend),t.lineLegend||(t.lineLegend=e.lineLegend),ct=c(t),vt.strings(ct.barLegend),yt.strings(ct.lineLegend),wt):ct},wt.direction=function(t){return arguments.length?(lt=t,ft.direction(t),gt.direction(t),mt.direction(t),vt.direction(t),yt.direction(t),wt):lt},wt.duration=function(t){return arguments.length?(a=t,ft.duration(t),ht.duration(t),pt.duration(t),wt):a},wt.delay=function(t){return arguments.length?(r=t,ft.delay(t),ht.delay(t),pt.delay(t),wt):r},wt.seriesClick=function(t){return arguments.length?(m=t,wt):m},wt.colorFill=function(t){return wt},wt.xValueFormat=function(t){return arguments.length?(h=t,wt):h},wt.yValueFormat=function(t){return arguments.length?(p=t,wt):p},wt.quotaValueFormat=function(t){return arguments.length?(dt=t,wt):dt},wt.locality=function(t){return arguments.length?(i=zt.buildLocality(t),ft.locality(t),ht.locality(t),wt):i},wt}function m(){var y={top:10,right:10,bottom:10,left:10},b=null,x=null,e="ltr",n=0,w=0,k=!0,M={},A=!0,I=c(),C=Pt.dispatch("chartClick","elementClick","tooltipShow","tooltipHide","tooltipMove","stateChange","changeState"),S=s(),F=l(),L=[],D=null,a=function(t,e){var n=S.getValue()(t),r=e.total?(100*n/e.total).toFixed(1):100,a="currency"===e.yDataType,i={key:S.fmtKey()(t),label:a?I.tooltip.amount:I.tooltip.count,value:zt.numberFormat(n,2,a,P.locality()),percent:zt.numberFormat(r,2,!1,P.locality())};return kt.single(i,I)},T=function(t,e,n){var r=a(t,n);return kt.show(t.e,r,null,null,e)},E=function(t,e,n){};function P(t){return t.each(function(t){var e=this,s=Pt.select(this),n="pie",r=t&&t.properties||{},a=t&&t.data||null,c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),i="datetime"===r.xDataType||!1,o="currency"===r.yDataType||!1;function d(t,e){var n=t&&t.length,r=(c-y.left-y.right)/2+y.left,a=(u-y.top-y.bottom)/2+y.top;return zt.displayNoData(n,s,e||I.noData,r,a)}if(P.update=function(){s.transition().duration(w).call(P)},P.container=this,d(a))return P;P.setActiveState=function(t,e){t.active=e},P.clearActive=function(e){a.forEach(function(t){P.setActiveState(t,e||"")}),delete M.active},P.seriesActivate=function(t){var e=t.series||a[t.seriesIndex],n;e&&(A?(n=void 0===e.active||"inactive"===e.active||""===e.active?"active":"",P.clearActive("active"===n?"inactive":""),P.setActiveState(e,n),M.active=a.map(function(t){return"active"===t.active})):P.dataSeriesActivate({series:e}))},P.dataSeriesActivate=function(t){var e=t.series;e.active=e.active&&"inactive"!==e.active?"inactive":"active","active"===e.active&&a.filter(function(t){return"active"!==t.active}).forEach(function(t){return t.active="inactive",t}),a.filter(function(t){return"active"===t.active}).length||P.clearActive()},a.forEach(function(n,r){n.seriesIndex=r,n.values||(n.value?isNaN(n.value)||(n.values=[{x:0,y:parseInt(n.value,10)}]):n.values=[]),n.values.forEach(function(t,e){t.index=r,t.series=n,void 0===t.value&&(t.value=t.y)}),n.key=n.key||I.noLabel,n.value=n.value||Pt.sum(n.values,function(t){return t.value}),n.count=n.count||n.values.length,n.disabled=n.disabled||0===n.value});var f=a.filter(function(t){return!t.disabled});if(f.length||(f=[{values:[]}]),r.count=Pt.sum(f,function(t){return t.count}),r.total=Pt.sum(f,function(t){return t.value}),M.disabled=a.map(function(t){return!!t.disabled}),!r.total)return d(),P;F.chart(P).title(r.title).controlsData(L).legendData(a);var l,h=s.selectAll("g.sc-chart-wrap").data([f]).enter().append("g").attr("class","sc-chart-wrap sc-chart-pie"),p=s.select(".sc-chart-wrap").merge(h);h.append("defs");var g=p.select("defs");h.append("g").attr("class","sc-background-wrap");var m=p.select(".sc-background-wrap");h.append("g").attr("class","sc-title-wrap"),h.append("g").attr("class","sc-pie-wrap");var v=p.select(".sc-pie-wrap");h.append("g").attr("class","sc-controls-wrap"),h.append("g").attr("class","sc-legend-wrap"),p.attr("transform",zt.translation(y.left,y.top)),h.select(".sc-background-wrap").append("rect").attr("class","sc-background").attr("x",-y.left).attr("y",-y.top).attr("fill","#FFF"),P.render=function(){var t,e,n,r,a,i,o,l;if(c=parseInt(s.style("width"),10),u=parseInt(s.style("height"),10),e=x||u||400,n=(t=b||c||960)-y.left-y.right,r=e-y.top-y.bottom,i=n-(a={top:0,right:0,bottom:0,left:0}).left-a.right,o=r-a.top-a.bottom,m.select(".sc-background").attr("width",t).attr("height",e),F.width(n).height(r),s.call(F),l=F.getHeight(),a.top+=l,(o=r-a.top-a.bottom)<100)return d(null,I.displayError),P;S.width(i).height(o),v.datum(f).attr("transform",zt.translation(a.left,a.top)).transition().duration(w).call(S)},P.render(),F.legend.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,t.active=!1,a.filter(function(t){return!t.disabled}).length||a.forEach(function(t){t.disabled=!1}),a.filter(function(t){return"active"===t.active}).length||a.forEach(function(t){t.active=""}),M.disabled=a.map(function(t){return!!t.disabled}),C.call("stateChange",this,M),P.update()}),C.on("tooltipShow",function(t){k&&(D=T(t,e.parentNode,r))}),C.on("tooltipMove",function(t){D&&kt.position(e.parentNode,D,t)}),C.on("tooltipHide",function(){k&&kt.cleanup()}),C.on("changeState",function(n){void 0!==n.disabled&&(f.forEach(function(t,e){t.disabled=n.disabled[e]}),M.disabled=n.disabled),P.update()}),C.on("chartClick",function(){F.controls.enabled()&&F.controls.dispatch.call("closeMenu",this),F.legend.enabled()&&F.legend.dispatch.call("closeMenu",this)}),S.dispatch.on("elementClick",function(t){C.call("chartClick",this),E(a,t,P)})}),P}return F.showTitle(!0).showControls(!1).showLegend(!0).alignLegend("center"),S.dispatch.on("elementMouseover.tooltip",function(t){C.call("tooltipShow",this,t)}),S.dispatch.on("elementMousemove.tooltip",function(t){C.call("tooltipMove",this,t)}),S.dispatch.on("elementMouseout.tooltip",function(){C.call("tooltipHide",this)}),P.dispatch=C,P.pie=S,P.legend=F.legend,P.controls=F.controls,P.options=zt.optionsFunc.bind(P),zt.rebind(P,S,"id","color","fill","classes","gradient","locality","textureFill"),zt.rebind(P,S,"getKey","getValue","getCount","fmtKey","fmtValue","fmtCount"),zt.rebind(P,S,"showLabels","showLeaders","donutLabelsOutside","pieLabelsOutside","labelThreshold"),zt.rebind(P,S,"arcDegrees","rotateDegrees","minRadius","maxRadius","fixedRadius","startAngle","endAngle","donut","hole","holeFormat","donutRatio"),zt.rebind(P,F,"showTitle","showControls","showLegend"),P.colorData=function(t){var e=t,r=arguments[1]||{},n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex};switch(e){case"graduated":n=function(t,e){return Pt.interpolateHsl(Pt.rgb(r.c1),Pt.rgb(r.c2))(t.seriesIndex/r.l)};break;case"class":n=function(){return"inherit"},a=function(t,e){var n=t.seriesIndex*(r.step||1)%14;return n=(9<n?"":"0")+n,"sc-series sc-series-"+t.seriesIndex+" sc-fill"+n+" sc-stroke"+n};break;case"data":n=function(t,e){return zt.defaultColor()(t,t.seriesIndex)},a=function(t,e){return"sc-series sc-series-"+t.seriesIndex+(t.classes?" "+t.classes:"")}}var i=r.gradient?function(t,e){return S.gradientFill(t,t.seriesIndex)}:n;return S.color(n),S.fill(i),S.classes(a),F.legend.color(n),F.legend.classes(a),P},P.margin=function(t){if(!arguments.length)return y;for(var e in t)t.hasOwnProperty(e)&&(y[e]=t[e]);return P},P.width=function(t){return arguments.length?(b=t,P):b},P.height=function(t){return arguments.length?(x=t,P):x},P.tooltips=function(t){return arguments.length?(k=t,P):k},P.tooltipContent=function(t){return arguments.length?(a=t,P):a},P.state=function(t){return arguments.length?(M=t,P):M},P.strings=function(t){return arguments.length?(I=c(t),F.strings(I),P):I},P.direction=function(t){return arguments.length?(e=t,S.direction(t),F.direction(t),P):e},P.duration=function(t){return arguments.length?(w=t,S.duration(t),P):w},P.delay=function(t){return arguments.length?(n=t,S.delay(t),P):n},P.seriesClick=function(t){return arguments.length?(E=t,P):E},P}function x(){var p={top:10,right:10,bottom:10,left:10},e=null,n=null,D=6,T=0,g={min:.25,max:2},E={width:100,height:50},r="../img/",P=function(t){return'<div class="sc-tree-node"></div>'},z=function(t){},N=function(t){},_=function(t){},R=!1,B=Math.floor(1e4*Math.random()),a=function(t,e){return zt.defaultColor()(t,e)},i=function(t,e){return a(t,e)},O=function(t,e){t.y=e},H=function(t,e){t.data.x0=e},V=function(t,e){t.data.y0=e},G=function(t){return R?t.y:t.x},W=function(t){return R?t.x:t.y},Y=function(t){return R?t.data.y0:t.data.x0},q=function(t){return R?t.data.x0:t.data.y0},j=function(t){return t.id||t.data.id},U=function(t){return"card-"+j(t)},o=!1,X=!0,l=!0,t=Pt.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function Z(t){return t.each(function(t){var s=Pt.select(this),m=t,v=Pt.transition("tree").duration(T).ease(Pt.easeLinear),y=null,b=null,x=null,d=null,e=Pt.tree().size([null,null]).nodeSize([R?E.height:E.width,1]).separation(function t(e,n){return e.parent,n.parent,1}),c={width:parseInt(s.style("width"),10)-p.left-p.right,height:parseInt(s.style("height"),10)-p.top-p.bottom},n,r=s.selectAll("g.sc-chart-wrap").data([1]).enter().append("g").attr("class","sc-chart-wrap sc-chart-tree"),f=s.select(".sc-chart-wrap").merge(r),a=r.append("defs"),w=f.select("defs").merge(a),k=zt.dropShadow("node_back_"+B,w,{blur:2});a.append("clipPath").attr("id","sc-edge-clip-"+B).append("rect");var u=w.select("#sc-edge-clip-"+B+" rect");u.attr("width",c.width).attr("height",c.height).attr("x",p.left).attr("y",p.top),f.attr("clip-path",X?"url(#sc-edge-clip-"+B+")":""),r.append("rect").attr("class","sc-chart-background").attr("width",c.width).attr("height",c.height).attr("transform",zt.translation(p.left,p.top)).style("fill","transparent");var h=f.select(".sc-chart-background"),i=r.append("g").attr("class","sc-tree-wrap"),o=f.select(".sc-tree-wrap");i.append("g").attr("class","sc-wrap sc-tree");var M=f.select(".sc-wrap.sc-tree");function A(t){y=Pt.hierarchy(t,function(t){return t.children}),e(y),(b=y.descendants()).forEach(function(t){O(t,2*t.depth*(R?E.width:E.height))}),x=b.slice(1)}function I(t){H(t,G(t)),V(t,W(t)),t.children&&t.children.length&&t.children.forEach(I)}function C(t,e){var n=W(t)-(R?0:E.height-3*D),r=G(t)-(R?E.width-2*D:0),a=W(e),i=G(e),o,l,s,c;return"M"+r+","+n+"C"+(R?(r+i)/2:r)+","+(R?n:(n+a)/2)+" "+(R?(r+i)/2:i)+","+(R?a:(n+a)/2)+" "+i+","+a}function l(t){t.children?(t._children=t.children,t.children=null):(t.children=t._children,t._children=null)}function S(t){l(t.data),Z.update(t)}function F(t){var e;return"node-"+j(t)}function L(t){var e;return"link-"+(t.parent?j(t.parent):0)+"-"+j(t)}Z.setZoom=function(){d=Pt.zoom().scaleExtent([g.min,g.max]).on("zoom",function(){o.attr("transform","translate("+Pt.event.transform.x+","+Pt.event.transform.y+")scale("+Pt.event.transform.k+")"),z(Pt.event.transform.k)})},Z.unsetZoom=function(t){d.on("zoom",null)},Z.resetZoom=function(){f.call(d.transform,Pt.zoomIdentity)},Z.orientation=function(t){R="horizontal"===t||!R,e.nodeSize([R?E.height:E.width,1]),Z.update(y)},Z.showall=function(){function e(t){t._children&&t._children.length&&(t.children=t._children,t._children=null),t.children&&t.children.length&&t.children.forEach(e)}e(m=t),Z.update(y)},Z.zoomStep=function(t){var e,n=Pt.zoomTransform(f.node()).k+t;return this.zoomLevel(n)},Z.zoomLevel=function(t){var e=Pt.zoomTransform(f.node()),n=Math.min(Math.max(t,g.min),g.max),r=e.k,a=[e.x,e.y],i=h.node().getBoundingClientRect(),o=[i.width,i.height],l=[(o[0]-o[0]*n)/2,(o[1]-o[1]*n)/2],s=[n*(a[0]-(o[0]-o[0]*r)/2)/r,n*(a[1]-(o[1]-o[1]*r)/2)/r],c=[l[0]+s[0],l[1]+s[1]],u=Pt.zoomIdentity.translate(c[0],c[1]).scale(n);return f.call(d.transform,u),n},Z.zoomScale=function(){var t;return Pt.zoomTransform(f.node()).k},Z.filter=function(e){var n=!1;function r(t){j(t)===e?(m=t,n=!0):!n&&t.children&&t.children.forEach(r)}r(t),Z.update(y)},Z.update=function(n){var e={x:0,y:0};function t(t){if(j(n)===j(y))return C(y,y);var e={x:Y(n),y:q(n)};return C(e,e)}function r(t){return C(t,t.parent)}function a(){return C(e,e)}A(m);var i=(R?D-E.width:E.width/-2)+"px",o=(R?(D-E.height)/2:2*D-E.height)+"px",l=M.selectAll("g.sc-card").data(b,j),s,c,u,d,f;(s=l.enter().insert("g").attr("class","sc-card").attr("id",F).attr("opacity",function(t){return j(n)===j(t)?1:0}).attr("transform",function(t){return j(n)===j(y)?"translate("+G(y)+","+W(y)+")":"translate("+(R?q(n):Y(n))+","+(R?Y(n):q(n))+")"})).each(function(t){var e,n;w.select("#"+U(t)).empty()&&(n=(e=w.append("svg").attr("class","sc-foreign-object").attr("id",U(t)).attr("version","1.1").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").attr("x",i).attr("y",o).attr("width",E.width+"px").attr("height",E.height+"px").attr("viewBox","0 0 "+E.width+" "+E.height).attr("xml:space","preserve")).append("g").attr("class","sc-tree-node-content").attr("transform","translate("+D+","+D+")"),P(n,t,E.width-2*D,E.height-3*D))}),s.append("use").attr("xlink:href",function(t){return"#"+U(t)}).attr("filter",k).on("click",_),(c=M.selectAll("g.sc-card").merge(s)).transition(v).duration(T).attr("opacity",1).attr("transform",function(t){return j(n)===j(t)&&(e={x:R?W(t):G(t),y:R?G(t):W(t)}),"translate("+G(t)+","+W(t)+")"}).on("end",N),(u=l.exit().transition(v).duration(T).attr("opacity",0).attr("transform",function(t){return"translate("+Y(n)+","+q(n)+")"}).remove()).selectAll(".sc-expcoll").style("stroke-opacity",1e-6),w.selectAll(".sc-foreign-object").attr("x",i).attr("y",o),(d=s.append("g").attr("class","sc-expcoll").style("opacity",1e-6).on("click",S)).append("circle").attr("class","sc-circ-back").attr("r",D),d.append("line").attr("class","sc-line-vert").attr("x1",0).attr("y1",.5-D).attr("x2",0).attr("y2",D-.5).style("stroke","#bbb"),d.append("line").attr("class","sc-line-hrzn").attr("x1",.5-D).attr("y1",0).attr("x2",D-.5).attr("y2",0).style("stroke","#fff"),(f=M.selectAll("g.sc-expcoll").merge(d)).style("opacity",function(t){return t.data.children&&t.data.children.length||t.data._children&&t.data._children.length?1:0}),f.select(".sc-circ-back").style("fill",function(t){return t.data._children&&t.data._children.length?"#777":t.data.children?"#bbb":"none"}),f.select(".sc-line-vert").style("stroke",function(t){return t.data._children&&t.data._children.length?"#fff":"#bbb"});var h=M.selectAll("path.link").data(x,L),p=h.enter().insert("path","g").attr("d",t).attr("class","link").attr("id",L).attr("opacity",0),g;(g=M.selectAll("path.link").merge(p)).transition(v).duration(T).attr("d",r).attr("opacity",1),h.exit().transition(v).duration(T).attr("d",a).attr("opacity",0).remove(),I(y),Z.resize(j(n)===j(y))},Z.render=function(){Z.resize(!0)},Z.resize=function(t){t=void 0===t||t,Z.resetZoom(),c={width:parseInt(s.style("width"),10)-p.left-p.right,height:parseInt(s.style("height"),10)-p.top-p.bottom};var e=[Math.abs(Pt.min(b,G))+Math.abs(Pt.max(b,G))+E.width,Math.abs(Pt.min(b,W))+Math.abs(Pt.max(b,W))+E.height],n=c.width/e[0],r=c.height/e[1],a=Pt.min([n,r]),i=[Math.abs(Pt.min(b,G))+(n<r?0:(c.width/a-e[0])/2),Math.abs(Pt.min(b,W))+(n<r?(c.height/a-e[1])/2:0)],o=[E.width/(R?1:2),E.height/(R?2:1)],l=[(i[0]+o[0])*a+p.left/(R?2:1),(i[1]+o[1])*a+p.top/(R?1:2)];u.attr("width",c.width).attr("height",c.height),h.attr("width",c.width).attr("height",c.height),M.transition(v).duration(t?0:T).attr("transform","translate("+l+")scale("+a+")")},Z.setZoom(),f.call(d),A(m),I(y),Z.update(y)}),Z}return Z.dispatch=t,Z.options=zt.optionsFunc.bind(Z),Z.id=function(t){return arguments.length?(B=t,Z):B},Z.margin=function(t){return arguments.length?(p=t,Z):p},Z.width=function(t){return arguments.length?(e=t,Z):e},Z.height=function(t){return arguments.length?(n=t,Z):n},Z.x=function(t){return arguments.length?(G=t,Z):G},Z.y=function(t){return arguments.length?(W=zt.functor(t),Z):W},Z.showLabels=function(t){return arguments.length?(l=t,Z):l},Z.color=function(t){return arguments.length?(a=t,Z):a},Z.fill=function(t){return arguments.length?(i=t,Z):i},Z.useClass=function(t){return arguments.length?(o=t,Z):o},Z.radius=function(t){return arguments.length?(D=t,Z):D},Z.duration=function(t){return arguments.length?(T=t,Z):T},Z.zoomExtents=function(t){return arguments.length?(g=t,Z):g},Z.zoomCallback=function(t){return arguments.length?(z=t,Z):z},Z.nodeSize=function(t){return arguments.length?(E=t,Z):E},Z.nodeImgPath=function(t){return arguments.length?(r=t,Z):r},Z.nodeRenderer=function(t){return arguments.length?(P=t,Z):P},Z.nodeCallback=function(t){return arguments.length?(N=t,Z):N},Z.nodeClick=function(t){return arguments.length?(_=t,Z):_},Z.horizontal=function(t){return arguments.length?(R=t,Z):R},Z.getId=function(t){return arguments.length?(j=t,Z):j},Z.getCardId=function(t){return arguments.length?(U=t,Z):U},Z}var w={bubbleChart:n,funnelChart:d,gaugeChart:f,lineChart:h,multibarChart:p,paretoChart:g,pieChart:m,treeChart:x},k="0.8.3",M="sgr",A=!1;t.version=k,t.build=M,t.development=A,t.utility=zt,t.tooltip=kt,t.language=c,t.models=e,t.charts=w,t.transform=yt,Object.defineProperty(t,"__esModule",{value:!0})});

/* End of File include/javascript/sucrose/sucrose.min.js */

(function(app){app.error=_.extend(app.error);function backToLogin(bDismiss){if(bDismiss){app.alert.dismissAll();}
if(app.api.isAuthenticated()){app.api.resetAuth();}
app.trigger('app:logout');app.router.login();}
function showErrorPage(status,dismiss){if(dismiss){app.alert.dismissAll();}
app.controller.loadView({layout:"error",errorType:status,module:"Error",create:true});}
function processAuthenticatedUserError(key,title,msg){var isAuthenticated=app.api.isAuthenticated();backToLogin(true);if(isAuthenticated){alertUser(key,title,msg);}}
function alertUser(key,title,msg){app.alert.show(key,{level:'error',messages:app.lang.get(msg),title:app.lang.get(title)});}
app.events.on('app:sync:error',function(error){if(error.status!==0){if(app.config.idmModeEnabled&&error.code==='idm_nonrecoverable_error'){return;}
backToLogin(true);}
alertUser('sync_failure','ERR_SYNC_FAILED',(error&&error.message)||'LBL_INVALID_412_RESPONSE');});app.events.on('app:sync:public:error',function(error){app.alert.dismissAll();alertUser('public_sync_failure','Unable to load the application.');});app.error.handleNeedLoginError=function(error){backToLogin(true);alertUser('needs_login_error','LBL_INVALID_CREDS_TITLE',error.message);};app.error.handleInvalidGrantError=function(error){processAuthenticatedUserError('invalid_grant_error','LBL_INVALID_GRANT_TITLE','LBL_INVALID_GRANT');};app.error.handleInvalidClientError=function(error){backToLogin(true);alertUser("invalid_client_error","LBL_AUTH_FAILED_TITLE","LBL_AUTH_FAILED");};app.error.handleInvalidRequestError=function(error){backToLogin(true);alertUser("invalid_request_error","LBL_INVALID_REQUEST_TITLE","LBL_INVALID_REQUEST");};app.error.handleUnspecified400Error=function(error){showErrorPage('400');};app.error.handleTimeoutError=function(error){app.alert.dismissAll();alertUser("timeout_error","LBL_REQUEST_TIMEOUT_TITLE","LBL_REQUEST_TIMEOUT");};app.error.handleUnauthorizedError=function(error){if(app.config.idmModeEnabled&&error.code==='idm_nonrecoverable_error'){app.alert.dismissAll();app.router.logout();alertUser('unauthorized_request_error','LBL_UNAUTHORIZED_TITLE','LBL_UNAUTHORIZED');}else{processAuthenticatedUserError('unauthorized_request_error','LBL_UNAUTHORIZED_TITLE','LBL_UNAUTHORIZED');}};app.error.handleForbiddenError=function(error){var message;if(error.code!="not_authorized"){app.alert.dismissAll();}
if(error.code=="portal_not_configured"){backToLogin(true);}
message=Handlebars.Utils.escapeExpression(error.message)||"LBL_RESOURCE_UNAVAILABLE";app.logger.error(app.lang.get(message));};app.error.handleNotFoundError=function(error,model,options){var layout=app.controller.layout||{};if((options&&options.context!=layout.context)||(model&&layout.context&&layout.context.get("model")&&layout.context.get("model")!=model)){return;}
if(!layout||!_.isObject(layout.error)||!_.isFunction(layout.error.handleNotFoundError)||layout.error.handleNotFoundError(error,model,options)!==false){showErrorPage("404");}};app.error.handleMethodNotAllowedError=function(error){backToLogin(true);alertUser("not_allowed_error","LBL_METHOD_NOT_ALLOWED_TITLE","LBL_METHOD_NOT_ALLOWED");};app.error.handleMethodConflictError=function(error){app.logger.error('Data conflict detected.');};app.error.handleValidationError=function(error){var layout=app.controller.layout,message;if(!_.isObject(layout.error)||!_.isFunction(layout.error.handleValidationError)||layout.error.handleValidationError(error)!==false){if(error instanceof app.data.beanModel){return;}
message=Handlebars.Utils.escapeExpression(error.message)||"LBL_PRECONDITION_MISSING";alertUser("validation_error","LBL_PRECONDITION_MISSING_TITLE",message);error.handled=true;}};app.error.handleHeaderPreconditionFailed=function(error,b,c,d){if(!app.isSynced){return;}
if(!error||error.code!=='metadata_out_of_date'){return;}
var responseText=JSON.parse(error.responseText);var newHash=responseText&&responseText.metadata_hash;var userHash=responseText&&responseText.user_hash;var afterSync=error.request.state&&error.request.state.loadingAfterSync;var sentHash=error.request.params.headers['X-Metadata-Hash'];var sentUserHash=error.request.params.headers['X-Userpref-Hash'];var currentHash=app.metadata.getHash();var currentUserHash=app.user.get('_hash');if(((!newHash&&afterSync)||(newHash===currentHash&&sentHash===currentHash))&&((!userHash&&afterSync)||(userHash===currentUserHash&&sentUserHash===currentUserHash))){app.logger.fatal('A request returned the error code "metadata_out_of_date" for no reason.');app.alert.show('invalid_412',{level:'error',messages:['LBL_INVALID_412_RESPONSE']});app.api.resetAuth();app.router.refresh();return;}
app.sync();};app.error.handleMethodFailureError=function(error){error.handled=true;if(error.code=="request_failure"){showErrorPage("422");}else{alertUser("precondtion_failure_error","LBL_PRECONDITION_MISSING_TITLE","LBL_PRECONDITION_MISSING");}};app.error.handleServerError=function(error){if(error.payload&&error.payload.url){if(app.acl.hasAccess('admin','Administration')){app.router.navigate(error.payload.url,{trigger:true,replace:true});return;}}
app.controller.loadView({layout:"error",errorType:error.status||"500",module:"Error",error:error,create:true});};})(SUGAR.App);
/* End of File include/javascript/sugar7/error.js */

var _inputFocused=null;if(Modernizr.touch){$(document).on('blur','input, textarea',function(){_inputFocused=setTimeout(function(){window.scrollTo(document.body.scrollLeft,document.body.scrollTop);},0);});$(document).on('focus','input, textarea',function(){clearTimeout(_inputFocused);});}
/* End of File include/javascript/sugar7/touch.js */

(function($){if(typeof $.fn.each2=="undefined"){$.extend($.fn,{each2:function(c){var j=$([0]),i=-1,l=this.length;while(++i<l&&(j.context=j[0]=this[i])&&c.call(j[0],i,j)!==false);return this;}});}})(jQuery);(function($,undefined){"use strict";if(window.Select2!==undefined){return;}
var AbstractSelect2,SingleSelect2,MultiSelect2,nextUid,sizer,lastMousePosition={x:0,y:0},$document,scrollBarDimensions,KEY={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(k){k=k.which?k.which:k;switch(k){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:return true;}
return false;},isControl:function(e){var k=e.which;switch(k){case KEY.SHIFT:case KEY.CTRL:case KEY.ALT:return true;}
if(e.metaKey)return true;return false;},isFunctionKey:function(k){k=k.which?k.which:k;return k>=112&&k<=123;}},MEASURE_SCROLLBAR_TEMPLATE="<div class='select2-measure-scrollbar'></div>",DIACRITICS={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};$document=$(document);nextUid=(function(){var counter=1;return function(){return counter++;};}());function reinsertElement(element){var placeholder=$(document.createTextNode(''));element.before(placeholder);placeholder.before(element);placeholder.remove();}
function stripDiacritics(str){function match(a){return DIACRITICS[a]||a;}
return str.replace(/[^\u0000-\u007E]/g,match);}
function indexOf(value,array){var i=0,l=array.length;for(;i<l;i=i+1){if(equal(value,array[i]))return i;}
return-1;}
function measureScrollbar(){var $template=$(MEASURE_SCROLLBAR_TEMPLATE);$template.appendTo(document.body);var dim={width:$template.width()-$template[0].clientWidth,height:$template.height()-$template[0].clientHeight};$template.remove();return dim;}
function equal(a,b){if(a===b)return true;if(a===undefined||b===undefined)return false;if(a===null||b===null)return false;if(a.constructor===String)return a+''===b+'';if(b.constructor===String)return b+''===a+'';return false;}
function splitVal(string,separator,transform){var val,i,l;if(string===null||string.length<1)return[];val=string.split(separator);for(i=0,l=val.length;i<l;i=i+1)val[i]=transform(val[i]);return val;}
function getSideBorderPadding(element){return element.outerWidth(false)-element.width();}
function installKeyUpChangeEvent(element){var key="keyup-change-value";element.on("keydown",function(){if($.data(element,key)===undefined){$.data(element,key,element.val());}});element.on("keyup",function(){var val=$.data(element,key);if(val!==undefined&&element.val()!==val){$.removeData(element,key);element.trigger("keyup-change");}});}
function installFilteredMouseMove(element){element.on("mousemove",function(e){var lastpos=lastMousePosition;if(lastpos===undefined||lastpos.x!==e.pageX||lastpos.y!==e.pageY){$(e.target).trigger("mousemove-filtered",e);}});}
function debounce(quietMillis,fn,ctx){ctx=ctx||undefined;var timeout;return function(){var args=arguments;window.clearTimeout(timeout);timeout=window.setTimeout(function(){fn.apply(ctx,args);},quietMillis);};}
function installDebouncedScroll(threshold,element){var notify=debounce(threshold,function(e){element.trigger("scroll-debounced",e);});element.on("scroll",function(e){if(indexOf(e.target,element.get())>=0)notify(e);});}
function focus($el){if($el[0]===document.activeElement)return;window.setTimeout(function(){var el=$el[0],pos=$el.val().length,range;$el.focus();var isVisible=(el.offsetWidth>0||el.offsetHeight>0);if(isVisible&&el===document.activeElement){if(el.setSelectionRange){el.setSelectionRange(pos,pos);}
else if(el.createTextRange){range=el.createTextRange();range.collapse(false);range.select();}}},0);}
function getCursorInfo(el){el=$(el)[0];var offset=0;var length=0;if('selectionStart'in el){offset=el.selectionStart;length=el.selectionEnd-offset;}else if('selection'in document){el.focus();var sel=document.selection.createRange();length=document.selection.createRange().text.length;sel.moveStart('character',-el.value.length);offset=sel.text.length-length;}
return{offset:offset,length:length};}
function killEvent(event){event.preventDefault();event.stopPropagation();}
function killEventImmediately(event){event.preventDefault();event.stopImmediatePropagation();}
function measureTextWidth(e){if(!sizer){var style=e[0].currentStyle||window.getComputedStyle(e[0],null);sizer=$(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:style.fontSize,fontFamily:style.fontFamily,fontStyle:style.fontStyle,fontWeight:style.fontWeight,letterSpacing:style.letterSpacing,textTransform:style.textTransform,whiteSpace:"nowrap"});sizer.attr("class","select2-sizer");$(document.body).append(sizer);}
sizer.text(e.val());return sizer.width();}
function syncCssClasses(dest,src,adapter){var classes,replacements=[],adapted;classes=$.trim(dest.attr("class"));if(classes){classes=''+classes;$(classes.split(/\s+/)).each2(function(){if(this.indexOf("select2-")===0){replacements.push(this);}});}
classes=$.trim(src.attr("class"));if(classes){classes=''+classes;$(classes.split(/\s+/)).each2(function(){if(this.indexOf("select2-")!==0){adapted=adapter(this);if(adapted){replacements.push(adapted);}}});}
dest.attr("class",replacements.join(" "));}
function markMatch(text,term,markup,escapeMarkup){var match=stripDiacritics(text.toUpperCase()).indexOf(stripDiacritics(term.toUpperCase())),tl=term.length;if(match<0){markup.push(escapeMarkup(text));return;}
markup.push(escapeMarkup(text.substring(0,match)));markup.push("<span class='select2-match'>");markup.push(escapeMarkup(text.substring(match,match+tl)));markup.push("</span>");markup.push(escapeMarkup(text.substring(match+tl,text.length)));}
function defaultEscapeMarkup(markup){var replace_map={'\\':'&#92;','&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;',"/":'&#47;'};return String(markup).replace(/[&<>"'\/\\]/g,function(match){return replace_map[match];});}
function ajax(options){var timeout,handler=null,quietMillis=options.quietMillis||100,ajaxUrl=options.url,self=this;return function(query){window.clearTimeout(timeout);timeout=window.setTimeout(function(){var data=options.data,url=ajaxUrl,transport=options.transport||$.fn.select2.ajaxDefaults.transport,deprecated={type:options.type||'GET',cache:options.cache||false,jsonpCallback:options.jsonpCallback||undefined,dataType:options.dataType||"json"},params=$.extend({},$.fn.select2.ajaxDefaults.params,deprecated);data=data?data.call(self,query.term,query.page,query.context):null;url=(typeof url==='function')?url.call(self,query.term,query.page,query.context):url;if(handler&&typeof handler.abort==="function"){handler.abort();}
if(options.params){if($.isFunction(options.params)){$.extend(params,options.params.call(self));}else{$.extend(params,options.params);}}
$.extend(params,{url:url,dataType:options.dataType,data:data,success:function(data){var results=options.results(data,query.page,query);query.callback(results);},error:function(jqXHR,textStatus,errorThrown){var results={hasError:true,jqXHR:jqXHR,textStatus:textStatus,errorThrown:errorThrown};query.callback(results);}});handler=transport.call(self,params);},quietMillis);};}
function local(options){var data=options,dataText,tmp,text=function(item){return""+item.text;};if($.isArray(data)){tmp=data;data={results:tmp};}
if($.isFunction(data)===false){tmp=data;data=function(){return tmp;};}
var dataItem=data();if(dataItem.text){text=dataItem.text;if(!$.isFunction(text)){dataText=dataItem.text;text=function(item){return item[dataText];};}}
return function(query){var t=query.term,filtered={results:[]},process;if(t===""){query.callback(data());return;}
process=function(datum,collection){var group,attr;datum=datum[0];if(datum.children){group={};for(attr in datum){if(datum.hasOwnProperty(attr))group[attr]=datum[attr];}
group.children=[];$(datum.children).each2(function(i,childDatum){process(childDatum,group.children);});if(group.children.length||query.matcher(t,text(group),datum)){collection.push(group);}}else{if(query.matcher(t,text(datum),datum)){collection.push(datum);}}};$(data().results).each2(function(i,datum){process(datum,filtered.results);});query.callback(filtered);};}
function tags(data){var isFunc=$.isFunction(data);return function(query){var t=query.term,filtered={results:[]};var result=isFunc?data(query):data;if($.isArray(result)){$(result).each(function(){var isObject=this.text!==undefined,text=isObject?this.text:this;if(t===""||query.matcher(t,text)){filtered.results.push(isObject?this:{id:this,text:this});}});query.callback(filtered);}};}
function checkFormatter(formatter,formatterName){if($.isFunction(formatter))return true;if(!formatter)return false;if(typeof(formatter)==='string')return true;throw new Error(formatterName+" must be a string, function, or falsy value");}
function evaluate(val,context){if($.isFunction(val)){var args=Array.prototype.slice.call(arguments,2);return val.apply(context,args);}
return val;}
function countResults(results){var count=0;$.each(results,function(i,item){if(item.children){count+=countResults(item.children);}else{count++;}});return count;}
function defaultTokenizer(input,selection,selectCallback,opts){var original=input,dupe=false,token,index,i,l,separator;if(!opts.createSearchChoice||!opts.tokenSeparators||opts.tokenSeparators.length<1)return undefined;while(true){index=-1;for(i=0,l=opts.tokenSeparators.length;i<l;i++){separator=opts.tokenSeparators[i];index=input.indexOf(separator);if(index>=0)break;}
if(index<0)break;token=input.substring(0,index);input=input.substring(index+separator.length);if(token.length>0){token=opts.createSearchChoice.call(this,token,selection);if(token!==undefined&&token!==null&&opts.id(token)!==undefined&&opts.id(token)!==null){dupe=false;for(i=0,l=selection.length;i<l;i++){if(equal(opts.id(token),opts.id(selection[i]))){dupe=true;break;}}
if(!dupe)selectCallback(token);}}}
if(original!==input)return input;}
function cleanupJQueryElements(){var self=this;$.each(arguments,function(i,element){self[element].remove();self[element]=null;});}
function clazz(SuperClass,methods){var constructor=function(){};constructor.prototype=new SuperClass;constructor.prototype.constructor=constructor;constructor.prototype.parent=SuperClass.prototype;constructor.prototype=$.extend(constructor.prototype,methods);return constructor;}
AbstractSelect2=clazz(Object,{bind:function(func){var self=this;return function(){func.apply(self,arguments);};},init:function(opts){var results,search,resultsSelector=".select2-results";this.opts=opts=this.prepareOpts(opts);this.id=opts.id;if(opts.element.data("select2")!==undefined&&opts.element.data("select2")!==null){opts.element.data("select2").destroy();}
this.container=this.createContainer();this.liveRegion=$('.select2-hidden-accessible');if(this.liveRegion.length==0){this.liveRegion=$("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body);}
this.containerId="s2id_"+(opts.element.attr("id")||"autogen"+nextUid());this.containerEventName=this.containerId.replace(/([.])/g,'_').replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,'\\$1');this.container.attr("id",this.containerId);this.container.attr("title",opts.element.attr("title"));this.body=$(document.body);syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",opts.element.attr("style"));this.container.css(evaluate(opts.containerCss,this.opts.element));this.container.addClass(evaluate(opts.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",killEvent);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(evaluate(opts.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",killEvent);this.results=results=this.container.find(resultsSelector);this.search=search=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",killEvent);installFilteredMouseMove(this.results);this.dropdown.on("mousemove-filtered",resultsSelector,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",resultsSelector,this.bind(function(event){this._touchEvent=true;this.highlightUnderEvent(event);}));this.dropdown.on("touchmove",resultsSelector,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",resultsSelector,this.bind(this.clearTouchMoved));this.dropdown.on('click',this.bind(function(event){if(this._touchEvent){this._touchEvent=false;this.selectHighlighted();}}));installDebouncedScroll(80,this.results);this.dropdown.on("scroll-debounced",resultsSelector,this.bind(this.loadMoreIfNeeded));$(this.container).on("change",".select2-input",function(e){e.stopPropagation();});$(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation();});if($.fn.mousewheel){results.mousewheel(function(e,delta,deltaX,deltaY){var top=results.scrollTop();if(deltaY>0&&top-deltaY<=0){results.scrollTop(0);killEvent(e);}else if(deltaY<0&&results.get(0).scrollHeight-results.scrollTop()+deltaY<=results.height()){results.scrollTop(results.get(0).scrollHeight-results.height());killEvent(e);}});}
installKeyUpChangeEvent(search);search.on("keyup-change input paste",this.bind(this.updateResults));search.on("focus",function(){search.addClass("select2-focused");});search.on("blur",function(){search.removeClass("select2-focused");});this.dropdown.on("mouseup",resultsSelector,this.bind(function(e){if($(e.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(e);this.selectHighlighted(e);}}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation();});this.nextSearchTerm=undefined;if($.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource();}
if(opts.maximumInputLength!==null){this.search.attr("maxlength",opts.maximumInputLength);}
var disabled=opts.element.prop("disabled");if(disabled===undefined)disabled=false;this.enable(!disabled);var readonly=opts.element.prop("readonly");if(readonly===undefined)readonly=false;this.readonly(readonly);scrollBarDimensions=scrollBarDimensions||measureScrollbar();this.autofocus=opts.element.prop("autofocus");opts.element.prop("autofocus",false);if(this.autofocus)this.focus();this.search.attr("placeholder",opts.searchInputPlaceholder);},destroy:function(){var element=this.opts.element,select2=element.data("select2"),self=this;this.close();if(element.length&&element[0].detachEvent&&self._sync){element.each(function(){if(self._sync){this.detachEvent("onpropertychange",self._sync);}});}
if(this.propertyObserver){this.propertyObserver.disconnect();this.propertyObserver=null;}
this._sync=null;if(select2!==undefined){select2.container.remove();select2.liveRegion.remove();select2.dropdown.remove();element.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){element.attr({tabindex:this.elementTabIndex});}else{element.removeAttr("tabindex");}
element.show();}
cleanupJQueryElements.call(this,"container","liveRegion","dropdown","results","search");},optionToData:function(element){if(element.is("option")){return{id:element.prop("value"),text:element.text(),element:element.get(),css:element.attr("class"),disabled:element.prop("disabled"),locked:equal(element.attr("locked"),"locked")||equal(element.data("locked"),true)};}else if(element.is("optgroup")){return{text:element.attr("label"),children:[],element:element.get(),css:element.attr("class")};}},prepareOpts:function(opts){var element,select,idKey,ajaxUrl,self=this;element=opts.element;if(element.get(0).tagName.toLowerCase()==="select"){this.select=select=opts.element;}
if(select){$.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in opts){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}});}
opts=$.extend({},{populateResults:function(container,results,query){var populate,id=this.opts.id,liveRegion=this.liveRegion;populate=function(results,container,depth){var i,l,result,selectable,disabled,compound,node,label,innerContainer,formatted;results=opts.sortResults(results,container,query);var nodes=[];for(i=0,l=results.length;i<l;i=i+1){result=results[i];disabled=(result.disabled===true);selectable=(!disabled)&&(id(result)!==undefined);compound=result.children&&result.children.length>0;node=$("<li></li>");node.addClass("select2-results-dept-"+depth);node.addClass("select2-result");node.addClass(selectable?"select2-result-selectable":"select2-result-unselectable");if(disabled){node.addClass("select2-disabled");}
if(compound){node.addClass("select2-result-with-children");}
node.addClass(self.opts.formatResultCssClass(result));node.attr("role","presentation");label=$(document.createElement("div"));label.addClass("select2-result-label");label.attr("id","select2-result-label-"+nextUid());label.attr("role","option");formatted=opts.formatResult(result,label,query,self.opts.escapeMarkup);if(formatted!==undefined){label.html(formatted);node.append(label);}
if(compound){innerContainer=$("<ul></ul>");innerContainer.addClass("select2-result-sub");populate(result.children,innerContainer,depth+1);node.append(innerContainer);}
node.data("select2-data",result);nodes.push(node[0]);}
container.append(nodes);liveRegion.text(opts.formatMatches(results.length));};populate(results,container,0);}},$.fn.select2.defaults,opts);if(typeof(opts.id)!=="function"){idKey=opts.id;opts.id=function(e){return e[idKey];};}
if($.isArray(opts.element.data("select2Tags"))){if("tags"in opts){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+opts.element.attr("id");}
opts.tags=opts.element.data("select2Tags");}
if(select){opts.query=this.bind(function(query){var data={results:[],more:false},term=query.term,children,placeholderOption,process;process=function(element,collection){var group;if(element.is("option")){if(query.matcher(term,element.text(),element)){collection.push(self.optionToData(element));}}else if(element.is("optgroup")){group=self.optionToData(element);element.children().each2(function(i,elm){process(elm,group.children);});if(group.children.length>0){collection.push(group);}}};children=element.children();if(this.getPlaceholder()!==undefined&&children.length>0){placeholderOption=this.getPlaceholderOption();if(placeholderOption){children=children.not(placeholderOption);}}
children.each2(function(i,elm){process(elm,data.results);});query.callback(data);});opts.id=function(e){return e.id;};}else{if(!("query"in opts)){if("ajax"in opts){ajaxUrl=opts.element.data("ajax-url");if(ajaxUrl&&ajaxUrl.length>0){opts.ajax.url=ajaxUrl;}
opts.query=ajax.call(opts.element,opts.ajax);}else if("data"in opts){opts.query=local(opts.data);}else if("tags"in opts){opts.query=tags(opts.tags);if(opts.createSearchChoice===undefined){opts.createSearchChoice=function(term){return{id:$.trim(term),text:$.trim(term)};};}
if(opts.initSelection===undefined){opts.initSelection=function(element,callback){var data=[];$(splitVal(element.val(),opts.separator,opts.transformVal)).each(function(){var obj={id:this,text:this},tags=opts.tags;if($.isFunction(tags))tags=tags();$(tags).each(function(){if(equal(this.id,obj.id)){obj=this;return false;}});data.push(obj);});callback(data);};}}}}
if(typeof(opts.query)!=="function"){throw"query function not defined for Select2 "+opts.element.attr("id");}
if(opts.createSearchChoicePosition==='top'){opts.createSearchChoicePosition=function(list,item){list.unshift(item);};}
else if(opts.createSearchChoicePosition==='bottom'){opts.createSearchChoicePosition=function(list,item){list.push(item);};}
else if(typeof(opts.createSearchChoicePosition)!=="function"){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";}
return opts;},monitorSource:function(){var el=this.opts.element,observer,self=this;el.on("change.select2",this.bind(function(e){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection();}}));this._sync=this.bind(function(){var disabled=el.prop("disabled");if(disabled===undefined)disabled=false;this.enable(!disabled);var readonly=el.prop("readonly");if(readonly===undefined)readonly=false;this.readonly(readonly);if(this.container){syncCssClasses(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(evaluate(this.opts.containerCssClass,this.opts.element));}
if(this.dropdown){syncCssClasses(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(evaluate(this.opts.dropdownCssClass,this.opts.element));}});if(el.length&&el[0].attachEvent){el.each(function(){this.attachEvent("onpropertychange",self._sync);});}
observer=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(observer!==undefined){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null;}
this.propertyObserver=new observer(function(mutations){$.each(mutations,self._sync);});this.propertyObserver.observe(el.get(0),{attributes:true,subtree:false});}},triggerSelect:function(data){var evt=$.Event("select2-selecting",{val:this.id(data),object:data,choice:data});this.opts.element.trigger(evt);return!evt.isDefaultPrevented();},triggerChange:function(details){details=details||{};details=$.extend({},details,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(details);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange)
this.opts.element.blur();},isInterfaceEnabled:function(){return this.enabledInterface===true;},enableInterface:function(){var enabled=this._enabled&&!this._readonly,disabled=!enabled;if(enabled===this.enabledInterface)return false;this.container.toggleClass("select2-container-disabled",disabled);this.close();this.enabledInterface=enabled;return true;},enable:function(enabled){if(enabled===undefined)enabled=true;if(this._enabled===enabled)return;this._enabled=enabled;this.opts.element.prop("disabled",!enabled);this.enableInterface();},disable:function(){this.enable(false);},readonly:function(enabled){if(enabled===undefined)enabled=false;if(this._readonly===enabled)return;this._readonly=enabled;this.opts.element.prop("readonly",enabled);this.enableInterface();},opened:function(){return(this.container)?this.container.hasClass("select2-dropdown-open"):false;},positionDropdown:function(){var $dropdown=this.dropdown,container=this.container,offset=container.offset(),height=container.outerHeight(false),width=container.outerWidth(false),dropHeight=$dropdown.outerHeight(false),$window=$(window),windowWidth=$window.width(),windowHeight=$window.height(),viewPortRight=$window.scrollLeft()+windowWidth,viewportBottom=$window.scrollTop()+windowHeight,dropTop=offset.top+height,dropLeft=offset.left,enoughRoomBelow=dropTop+dropHeight<=viewportBottom,enoughRoomAbove=(offset.top-dropHeight)>=$window.scrollTop(),dropWidth=$dropdown.outerWidth(false),enoughRoomOnRight=function(){return dropLeft+dropWidth<=viewPortRight;},enoughRoomOnLeft=function(){return offset.left+viewPortRight+container.outerWidth(false)>dropWidth;},aboveNow=$dropdown.hasClass("select2-drop-above"),bodyOffset,above,changeDirection,css,resultsListNode;if(aboveNow){above=true;if(!enoughRoomAbove&&enoughRoomBelow){changeDirection=true;above=false;}}else{above=false;if(!enoughRoomBelow&&enoughRoomAbove){changeDirection=true;above=true;}}
if(changeDirection){$dropdown.hide();offset=this.container.offset();height=this.container.outerHeight(false);width=this.container.outerWidth(false);dropHeight=$dropdown.outerHeight(false);viewPortRight=$window.scrollLeft()+windowWidth;viewportBottom=$window.scrollTop()+windowHeight;dropTop=offset.top+height;dropLeft=offset.left;dropWidth=$dropdown.outerWidth(false);$dropdown.show();this.focusSearch();}
if(this.opts.dropdownAutoWidth){resultsListNode=$('.select2-results',$dropdown)[0];$dropdown.addClass('select2-drop-auto-width');$dropdown.css('width','');dropWidth=$dropdown.outerWidth(false)+(resultsListNode.scrollHeight===resultsListNode.clientHeight?0:scrollBarDimensions.width);dropWidth>width?width=dropWidth:dropWidth=width;dropHeight=$dropdown.outerHeight(false);}
else{this.container.removeClass('select2-drop-auto-width');}
if(this.body.css('position')!=='static'){bodyOffset=this.body.offset();dropTop-=bodyOffset.top;dropLeft-=bodyOffset.left;}
if(!enoughRoomOnRight()&&enoughRoomOnLeft()){dropLeft=offset.left+this.container.outerWidth(false)-dropWidth;}
css={left:dropLeft,width:width};if(above){css.top=offset.top-dropHeight;css.bottom='auto';this.container.addClass("select2-drop-above");$dropdown.addClass("select2-drop-above");}
else{css.top=dropTop;css.bottom='auto';this.container.removeClass("select2-drop-above");$dropdown.removeClass("select2-drop-above");}
css=$.extend(css,evaluate(this.opts.dropdownCss,this.opts.element));$dropdown.css(css);},shouldOpen:function(){var event;if(this.opened())return false;if(this._enabled===false||this._readonly===true)return false;event=$.Event("select2-opening");this.opts.element.trigger(event);return!event.isDefaultPrevented();},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above");},open:function(){if(!this.shouldOpen())return false;this.opening();$document.on("mousemove.select2Event",function(e){lastMousePosition.x=e.pageX;lastMousePosition.y=e.pageY;});return true;},opening:function(){var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid,mask;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body.children().last()[0]){this.dropdown.detach().appendTo(this.body);}
mask=$("#select2-drop-mask");if(mask.length===0){mask=$(document.createElement("div"));mask.attr("id","select2-drop-mask").attr("class","select2-drop-mask");mask.hide();mask.appendTo(this.body);mask.on("mousedown touchstart click",function(e){reinsertElement(mask);var dropdown=$("#select2-drop"),self;if(dropdown.length>0){self=dropdown.data("select2");if(self.opts.selectOnBlur){self.selectHighlighted({noFocus:true});}
self.close();e.preventDefault();e.stopPropagation();}});}
if(this.dropdown.prev()[0]!==mask[0]){this.dropdown.before(mask);}
$("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");mask.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var that=this;this.container.parents().add(window).each(function(){$(this).on(resize+" "+scroll+" "+orient,function(e){if(that.opened())that.positionDropdown();});});},close:function(){if(!this.opened())return;var cid=this.containerEventName,scroll="scroll."+cid,resize="resize."+cid,orient="orientationchange."+cid;this.container.parents().add(window).each(function(){$(this).off(scroll).off(resize).off(orient);});this.clearDropdownAlignmentPreference();$("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();$document.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger($.Event("select2-close"));},externalSearch:function(term){this.open();this.search.val(term);this.updateResults(false);},clearSearch:function(){},getMaximumSelectionSize:function(){return evaluate(this.opts.maximumSelectionSize,this.opts.element);},ensureHighlightVisible:function(){var results=this.results,children,index,child,hb,rb,y,more,topOffset;index=this.highlight();if(index<0)return;if(index==0){results.scrollTop(0);return;}
children=this.findHighlightableChoices().find('.select2-result-label');child=$(children[index]);topOffset=(child.offset()||{}).top||0;hb=topOffset+child.outerHeight(true);if(index===children.length-1){more=results.find("li.select2-more-results");if(more.length>0){hb=more.offset().top+more.outerHeight(true);}}
rb=results.offset().top+results.outerHeight(false);if(hb>rb){results.scrollTop(results.scrollTop()+(hb-rb));}
y=topOffset-results.offset().top;if(y<0&&child.css('display')!='none'){results.scrollTop(results.scrollTop()+y);}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)");},moveHighlight:function(delta){var choices=this.findHighlightableChoices(),index=this.highlight();while(index>-1&&index<choices.length){index+=delta;var choice=$(choices[index]);if(choice.hasClass("select2-result-selectable")&&!choice.hasClass("select2-disabled")&&!choice.hasClass("select2-selected")){this.highlight(index);break;}}},highlight:function(index){var choices=this.findHighlightableChoices(),choice,data;if(arguments.length===0){return indexOf(choices.filter(".select2-highlighted")[0],choices.get());}
if(index>=choices.length)index=choices.length-1;if(index<0)index=0;this.removeHighlight();choice=$(choices[index]);choice.addClass("select2-highlighted");this.search.attr("aria-activedescendant",choice.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(choice.text());data=choice.data("select2-data");if(data){this.opts.element.trigger({type:"select2-highlight",val:this.id(data),choice:data});}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted");},touchMoved:function(){this._touchMoved=true;},clearTouchMoved:function(){this._touchMoved=false;},countSelectableResults:function(){return this.findHighlightableChoices().length;},highlightUnderEvent:function(event){var el=$(event.target).closest(".select2-result-selectable");if(el.length>0&&!el.is(".select2-highlighted")){var choices=this.findHighlightableChoices();this.highlight(choices.index(el));}else if(el.length==0){this.removeHighlight();}},loadMoreIfNeeded:function(){var results=this.results,more=results.find("li.select2-more-results"),below,page=this.resultsPage+1,self=this,term=this.search.val(),context=this.context;if(more.length===0)return;below=more.offset().top-results.offset().top-results.height();if(below<=this.opts.loadMorePadding){more.addClass("select2-active");this.opts.query({element:this.opts.element,term:term,page:page,context:context,matcher:this.opts.matcher,callback:this.bind(function(data){if(!self.opened())return;self.opts.populateResults.call(this,results,data.results,{term:term,page:page,context:context});self.postprocessResults(data,false,false);if(data.more===true){more.detach().appendTo(results).html(self.opts.escapeMarkup(evaluate(self.opts.formatLoadMore,self.opts.element,page+1)));window.setTimeout(function(){self.loadMoreIfNeeded();},10);}else{more.remove();}
self.positionDropdown();self.resultsPage=page;self.context=data.context;this.opts.element.trigger({type:"select2-loaded",items:data});})});}},tokenize:function(){},updateResults:function(initial){var search=this.search,results=this.results,opts=this.opts,data,self=this,input,term=search.val(),lastTerm=$.data(this.container,"select2-last-term"),queryNumber;if(initial!==true&&lastTerm&&equal(term,lastTerm))return;$.data(this.container,"select2-last-term",term);if(initial!==true&&(this.showSearchInput===false||!this.opened())){return;}
function postRender(){search.removeClass("select2-active");self.positionDropdown();if(results.find('.select2-no-results,.select2-selection-limit,.select2-searching').length){self.liveRegion.text(results.text());}
else{self.liveRegion.text(self.opts.formatMatches(results.find('.select2-result-selectable:not(".select2-selected")').length));}}
function render(html){results.html(html);postRender();}
queryNumber=++this.queryCount;var maxSelSize=this.getMaximumSelectionSize();if(maxSelSize>=1){data=this.data();if($.isArray(data)&&data.length>=maxSelSize&&checkFormatter(opts.formatSelectionTooBig,"formatSelectionTooBig")){render("<li class='select2-selection-limit'>"+evaluate(opts.formatSelectionTooBig,opts.element,maxSelSize)+"</li>");return;}}
if(search.val().length<opts.minimumInputLength){if(checkFormatter(opts.formatInputTooShort,"formatInputTooShort")){render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooShort,opts.element,search.val(),opts.minimumInputLength)+"</li>");}else{render("");}
if(initial&&this.showSearch)this.showSearch(true);return;}
if(opts.maximumInputLength&&search.val().length>opts.maximumInputLength){if(checkFormatter(opts.formatInputTooLong,"formatInputTooLong")){render("<li class='select2-no-results'>"+evaluate(opts.formatInputTooLong,opts.element,search.val(),opts.maximumInputLength)+"</li>");}else{render("");}
return;}
if(opts.formatSearching&&this.findHighlightableChoices().length===0){render("<li class='select2-searching'>"+evaluate(opts.formatSearching,opts.element)+"</li>");}
search.addClass("select2-active");this.removeHighlight();input=this.tokenize();if(input!=undefined&&input!=null){search.val(input);}
this.resultsPage=1;opts.query({element:opts.element,term:search.val(),page:this.resultsPage,context:null,matcher:opts.matcher,callback:this.bind(function(data){var def;if(queryNumber!=this.queryCount){return;}
if(!this.opened()){this.search.removeClass("select2-active");return;}
if(data.hasError!==undefined&&checkFormatter(opts.formatAjaxError,"formatAjaxError")){render("<li class='select2-ajax-error'>"+evaluate(opts.formatAjaxError,opts.element,data.jqXHR,data.textStatus,data.errorThrown)+"</li>");return;}
this.context=(data.context===undefined)?null:data.context;if(this.opts.createSearchChoice&&search.val()!==""){def=this.opts.createSearchChoice.call(self,search.val(),data.results);if(def!==undefined&&def!==null&&self.id(def)!==undefined&&self.id(def)!==null){if($(data.results).filter(function(){return equal(self.id(this),self.id(def));}).length===0){this.opts.createSearchChoicePosition(data.results,def);}}}
if(data.results.length===0&&checkFormatter(opts.formatNoMatches,"formatNoMatches")){render("<li class='select2-no-results'>"+evaluate(opts.formatNoMatches,opts.element,search.val())+"</li>");return;}
results.empty();self.opts.populateResults.call(this,results,data.results,{term:search.val(),page:this.resultsPage,context:null});if(data.more===true&&checkFormatter(opts.formatLoadMore,"formatLoadMore")){results.append("<li class='select2-more-results'>"+opts.escapeMarkup(evaluate(opts.formatLoadMore,opts.element,this.resultsPage))+"</li>");window.setTimeout(function(){self.loadMoreIfNeeded();},10);}
this.postprocessResults(data,initial);postRender();this.opts.element.trigger({type:"select2-loaded",items:data});})});},cancel:function(){this.close();},blur:function(){if(this.opts.selectOnBlur)
this.selectHighlighted({noFocus:true});this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur();}
this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");},focusSearch:function(){focus(this.search);},selectHighlighted:function(options){if(this._touchMoved){this.clearTouchMoved();return;}
var index=this.highlight(),highlighted=this.results.find(".select2-highlighted"),data=highlighted.closest('.select2-result').data("select2-data");if(data){this.highlight(index);this.onSelect(data,options);}else if(options&&options.noFocus){this.close();}},getPlaceholder:function(){var placeholderOption;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((placeholderOption=this.getPlaceholderOption())!==undefined?placeholderOption.text():undefined);},getPlaceholderOption:function(){if(this.select){var firstOption=this.select.children('option').first();if(this.opts.placeholderOption!==undefined){return(this.opts.placeholderOption==="first"&&firstOption)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select));}else if($.trim(firstOption.text())===""&&firstOption.val()===""){return firstOption;}}},initContainerWidth:function(){function resolveContainerWidth(){var style,attrs,matches,i,l,attr;if(this.opts.width==="off"){return null;}else if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?'auto':this.opts.element.outerWidth(false)+'px';}else if(this.opts.width==="copy"||this.opts.width==="resolve"){style=this.opts.element.attr('style');if(style!==undefined){attrs=style.split(';');for(i=0,l=attrs.length;i<l;i=i+1){attr=attrs[i].replace(/\s/g,'');matches=attr.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(matches!==null&&matches.length>=1)
return matches[1];}}
if(this.opts.width==="resolve"){style=this.opts.element.css('width');if(style.indexOf("%")>0)return style;return(this.opts.element.outerWidth(false)===0?'auto':this.opts.element.outerWidth(false)+'px');}
return null;}else if($.isFunction(this.opts.width)){return this.opts.width();}else{return this.opts.width;}};var width=resolveContainerWidth.call(this);if(width!==null){this.container.css("width",width);}}});SingleSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='select2-focusser' class='select2-offscreen'></label>","<input id='select2-focusser' class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='select2-combo' class='select2-offscreen'></label>","       <input id='select2-combo' type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return container;},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled());}},opening:function(){var el,range,len;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true);}
this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val());}
if(this.opts.shouldFocusInput(this)){this.search.focus();el=this.search.get(0);if(el.createTextRange){range=el.createTextRange();range.collapse(false);range.select();}else if(el.setSelectionRange){len=this.search.val().length;el.setSelectionRange(len,len);}}
if(this.search.val()===""){if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.search.select();}}
this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger($.Event("select2-open"));},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}},focus:function(){if(this.opened()){this.close();}else{this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}}},isFocused:function(){return this.container.hasClass("select2-container-active");},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus();}},destroy:function(){$("label[for='"+this.focusser.attr('id')+"']").attr('for',this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);cleanupJQueryElements.call(this,"selection","focusser");},initContainer:function(){var selection,container=this.container,dropdown=this.dropdown,idSuffix=nextUid(),elementLabel;if(this.opts.minimumResultsForSearch<0){this.showSearch(false);}else{this.showSearch(true);}
this.selection=selection=container.find(".select2-choice");this.focusser=container.find(".select2-focusser");selection.find(".select2-chosen").attr("id","select2-chosen-"+idSuffix);this.focusser.attr("aria-labelledby","select2-chosen-"+idSuffix);this.results.attr("id","select2-results-"+idSuffix);this.search.attr("aria-owns","select2-results-"+idSuffix);this.focusser.attr("id","s2id_autogen"+idSuffix);elementLabel=$("label[for='"+this.opts.element.attr("id")+"']");this.opts.element.focus(this.bind(function(){this.focus();}));this.focusser.prev().text(elementLabel.text()).attr('for',this.focusser.attr('id'));var originalTitle=this.opts.element.attr("title");this.opts.element.attr("title",(originalTitle||elementLabel.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr('id')+'_search');this.search.prev().text($("label[for='"+this.focusser.attr('id')+"']").text()).attr('for',this.search.attr('id'));this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(229==e.keyCode)return;if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN){killEvent(e);return;}
switch(e.which){case KEY.UP:case KEY.DOWN:this.moveHighlight((e.which===KEY.UP)?-1:1);killEvent(e);return;case KEY.ENTER:this.selectHighlighted();killEvent(e);return;case KEY.TAB:this.selectHighlighted({noFocus:true});return;case KEY.ESC:this.cancel(e);killEvent(e);return;}}));this.search.on("blur",this.bind(function(e){if(document.activeElement===this.body.get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus();}}),0);}}));this.focusser.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.ESC){return;}
if(this.opts.openOnEnter===false&&e.which===KEY.ENTER){killEvent(e);return;}
if(e.which==KEY.DOWN||e.which==KEY.UP||(e.which==KEY.ENTER&&this.opts.openOnEnter)){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;this.open();killEvent(e);return;}
if(e.which==KEY.DELETE||e.which==KEY.BACKSPACE){if(this.opts.allowClear){this.clear();}
killEvent(e);return;}}));installKeyUpChangeEvent(this.focusser);this.focusser.on("keyup-change input",this.bind(function(e){if(!e.isTrusted){return;}
if(this.opts.minimumResultsForSearch>=0){e.stopPropagation();if(this.opened())return;this.open();}}));selection.on("mousedown touchstart","abbr",this.bind(function(e){if(!this.isInterfaceEnabled()){return;}
this.clear();killEventImmediately(e);this.close();if(this.selection){this.selection.focus();}}));selection.on("mousedown touchstart",this.bind(function(e){reinsertElement(selection);if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
if(this.opened()){this.close();}else if(this.isInterfaceEnabled()){this.open();}
killEvent(e);}));dropdown.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this)){this.search.focus();}}));selection.on("focus",this.bind(function(e){killEvent(e);}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger($.Event("select2-blur"));}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");}));this.initContainerWidth();this.opts.element.hide();this.setPlaceholder();},clear:function(triggerChange){var data=this.selection.data("select2-data");if(data){var evt=$.Event("select2-clearing");this.opts.element.trigger(evt);if(evt.isDefaultPrevented()){return;}
var placeholderOption=this.getPlaceholderOption();this.opts.element.val(placeholderOption?placeholderOption.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(triggerChange!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data});this.triggerChange({removed:data});}}},initSelection:function(){var selected;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder();}else{var self=this;this.opts.initSelection.call(null,this.opts.element,function(selected){if(selected!==undefined&&selected!==null){self.updateSelection(selected);self.close();self.setPlaceholder();self.nextSearchTerm=self.opts.nextSearchTerm(selected,self.search.val());}});}},isPlaceholderOptionSelected:function(){var placeholderOption;if(this.getPlaceholder()===undefined)return false;return((placeholderOption=this.getPlaceholderOption())!==undefined&&placeholderOption.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===undefined)||(this.opts.element.val()===null);},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;if(opts.element.get(0).tagName.toLowerCase()==="select"){opts.initSelection=function(element,callback){var selected=element.find("option").filter(function(){return this.selected&&!this.disabled});callback(self.optionToData(selected));};}else if("data"in opts){opts.initSelection=opts.initSelection||function(element,callback){var id=element.val();var match=null;opts.query({matcher:function(term,text,el){var is_match=equal(id,opts.id(el));if(is_match){match=el;}
return is_match;},callback:!$.isFunction(callback)?$.noop:function(){callback(match);}});};}
return opts;},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===undefined){return undefined;}}
return this.parent.getPlaceholder.apply(this,arguments);},setPlaceholder:function(){var placeholder=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&placeholder!==undefined){if(this.select&&this.getPlaceholderOption()===undefined)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(placeholder));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear");}},postprocessResults:function(data,initial,noHighlightUpdate){var selected=0,self=this,showSearchInput=true;this.findHighlightableChoices().each2(function(i,elm){if(equal(self.id(elm.data("select2-data")),self.opts.element.val())){selected=i;return false;}});if(noHighlightUpdate!==false){if(initial===true&&selected>=0){this.highlight(selected);}else{this.highlight(0);}}
if(initial===true){var min=this.opts.minimumResultsForSearch;if(min>=0){this.showSearch(countResults(data.results)>=min);}}},showSearch:function(showSearchInput){if(this.showSearchInput===showSearchInput)return;this.showSearchInput=showSearchInput;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!showSearchInput);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!showSearchInput);$(this.dropdown,this.container).toggleClass("select2-with-searchbox",showSearchInput);},onSelect:function(data,options){if(!this.triggerSelect(data)){return;}
var old=this.opts.element.val(),oldData=this.data();this.opts.element.val(this.id(data));this.updateSelection(data);this.opts.element.trigger({type:"select2-selected",val:this.id(data),choice:data});this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val());this.close();if((!options||!options.noFocus)&&this.opts.shouldFocusInput(this)){this.focusser.focus();}
if(!equal(old,this.id(data))){this.triggerChange({added:data,removed:oldData});}},updateSelection:function(data){var container=this.selection.find(".select2-chosen"),formatted,cssClass;this.selection.data("select2-data",data);container.empty();if(data!==null){formatted=this.opts.formatSelection(data,container,this.opts.escapeMarkup);}
if(formatted!==undefined){container.append(formatted);}
cssClass=this.opts.formatSelectionCssClass(data,container);if(cssClass!==undefined){container.addClass(cssClass);}
this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==undefined){this.container.addClass("select2-allowclear");}},val:function(){var val,triggerChange=false,data=null,self=this,oldData=this.data();if(arguments.length===0){return this.opts.element.val();}
val=arguments[0];if(arguments.length>1){triggerChange=arguments[1];}
if(this.select){this.select.val(val).find("option").filter(function(){return this.selected}).each2(function(i,elm){data=self.optionToData(elm);return false;});this.updateSelection(data);this.setPlaceholder();if(triggerChange){this.triggerChange({added:data,removed:oldData});}}else{if(!val&&val!==0){this.clear(triggerChange);return;}
if(this.opts.initSelection===undefined){throw new Error("cannot call val() if initSelection() is not defined");}
this.opts.element.val(val);this.opts.initSelection(this.opts.element,function(data){self.opts.element.val(!data?"":self.id(data));self.updateSelection(data);self.setPlaceholder();if(triggerChange){self.triggerChange({added:data,removed:oldData});}});}},clearSearch:function(){this.search.val("");this.focusser.val("");},data:function(value){var data,triggerChange=false;if(arguments.length===0){data=this.selection.data("select2-data");if(data==undefined)data=null;return data;}else{if(arguments.length>1){triggerChange=arguments[1];}
if(!value){this.clear(triggerChange);}else{data=this.data();this.opts.element.val(!value?"":this.id(value));this.updateSelection(value);if(triggerChange){this.triggerChange({added:value,removed:data});}}}}});MultiSelect2=clazz(AbstractSelect2,{createContainer:function(){var container=$(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return container;},prepareOpts:function(){var opts=this.parent.prepareOpts.apply(this,arguments),self=this;if(opts.element.get(0).tagName.toLowerCase()==="select"){opts.initSelection=function(element,callback){var data=[];element.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(i,elm){data.push(self.optionToData(elm));});callback(data);};}else if("data"in opts){opts.initSelection=opts.initSelection||function(element,callback){var ids=splitVal(element.val(),opts.separator,opts.transformVal);var matches=[];opts.query({matcher:function(term,text,el){var is_match=$.grep(ids,function(id){return equal(id,opts.id(el));}).length;if(is_match){matches.push(el);}
return is_match;},callback:!$.isFunction(callback)?$.noop:function(){var ordered=[];for(var i=0;i<ids.length;i++){var id=ids[i];for(var j=0;j<matches.length;j++){var match=matches[j];if(equal(id,opts.id(match))){ordered.push(match);matches.splice(j,1);break;}}}
callback(ordered);}});};}
return opts;},selectChoice:function(choice){var selected=this.container.find(".select2-search-choice-focus");if(selected.length&&choice&&choice[0]==selected[0]){}else{if(selected.length){this.opts.element.trigger("choice-deselected",selected);}
selected.removeClass("select2-search-choice-focus");if(choice&&choice.length){this.close();choice.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",choice);}}},destroy:function(){$("label[for='"+this.search.attr('id')+"']").attr('for',this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);cleanupJQueryElements.call(this,"searchContainer","selection");},initContainer:function(){var selector=".select2-choices",selection;this.searchContainer=this.container.find(".select2-search-field");this.selection=selection=this.container.find(selector);var _this=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(e){_this.search[0].focus();_this.selectChoice($(this));});this.search.attr("id","s2id_autogen"+nextUid());this.search.prev().text($("label[for='"+this.opts.element.attr("id")+"']").text()).attr('for',this.search.attr('id'));this.opts.element.focus(this.bind(function(){this.focus();}));this.search.on("input paste",this.bind(function(){if(this.search.attr('placeholder')&&this.search.val().length==0)return;if(!this.isInterfaceEnabled())return;if(!this.opened()){this.open();}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(e){if(!this.isInterfaceEnabled())return;if(!e.isTrusted){return;}
++this.keydowns;var selected=selection.find(".select2-search-choice-focus");var prev=selected.prev(".select2-search-choice:not(.select2-locked)");var next=selected.next(".select2-search-choice:not(.select2-locked)");var pos=getCursorInfo(this.search);if(selected.length&&(e.which==KEY.LEFT||e.which==KEY.RIGHT||e.which==KEY.BACKSPACE||e.which==KEY.DELETE||e.which==KEY.ENTER)){var selectedChoice=selected;if(e.which==KEY.LEFT&&prev.length){selectedChoice=prev;}
else if(e.which==KEY.RIGHT){selectedChoice=next.length?next:null;}
else if(e.which===KEY.BACKSPACE){if(this.unselect(selected.first())){this.search.width(10);selectedChoice=prev.length?prev:next;}}else if(e.which==KEY.DELETE){if(this.unselect(selected.first())){this.search.width(10);selectedChoice=next.length?next:null;}}else if(e.which==KEY.ENTER){selectedChoice=null;}
this.selectChoice(selectedChoice);killEvent(e);if(!selectedChoice||!selectedChoice.length){this.open();}
return;}else if(((e.which===KEY.BACKSPACE&&this.keydowns==1)||e.which==KEY.LEFT)&&(pos.offset==0&&!pos.length)){this.selectChoice(selection.find(".select2-search-choice:not(.select2-locked)").last());killEvent(e);return;}else{this.selectChoice(null);}
if(this.opened()){switch(e.which){case KEY.UP:case KEY.DOWN:this.moveHighlight((e.which===KEY.UP)?-1:1);killEvent(e);return;case KEY.ENTER:this.selectHighlighted();killEvent(e);return;case KEY.TAB:this.selectHighlighted({noFocus:true});this.close();return;case KEY.ESC:this.cancel(e);killEvent(e);return;}}
if(e.which===KEY.TAB||KEY.isControl(e)||KEY.isFunctionKey(e)||e.which===KEY.BACKSPACE||e.which===KEY.ESC){return;}
if(e.which===KEY.ENTER){if(this.opts.openOnEnter===false){return;}else if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey){return;}}
this.open();if(e.which===KEY.PAGE_UP||e.which===KEY.PAGE_DOWN){killEvent(e);}
if(e.which===KEY.ENTER){killEvent(e);}}));this.search.on("keyup",this.bind(function(e){this.keydowns=0;this.resizeSearch();}));this.search.on("blur",this.bind(function(e){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened())this.clearSearch();e.stopImmediatePropagation();this.opts.element.trigger($.Event("select2-blur"));}));this.container.on("click",selector,this.bind(function(e){if(!this.isInterfaceEnabled())return;if($(e.target).closest(".select2-search-choice").length>0){return;}
this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.open();this.focusSearch();e.preventDefault();}));this.container.on("focus",selector,this.bind(function(){if(!this.isInterfaceEnabled())return;if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger($.Event("select2-focus"));}
this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder();}));this.initContainerWidth();this.opts.element.hide();this.clearSearch();},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled());}},initSelection:function(){var data;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch();}
if(this.select||this.opts.element.val()!==""){var self=this;this.opts.initSelection.call(null,this.opts.element,function(data){if(data!==undefined&&data!==null){self.updateSelection(data);self.close();self.clearSearch();}});}},clearSearch:function(){var placeholder=this.getPlaceholder(),maxWidth=this.getMaxSearchWidth();if(placeholder!==undefined&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(placeholder).addClass("select2-default");this.search.width(maxWidth>0?maxWidth:this.container.css("width"));}else{this.search.val("").width(10);}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default");}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();if(this.search.val()===""){if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.search.select();}}
this.updateResults(true);if(this.opts.shouldFocusInput(this)){this.search.focus();}
this.opts.element.trigger($.Event("select2-open"));},close:function(){if(!this.opened())return;this.parent.close.apply(this,arguments);},focus:function(){this.close();this.search.focus();},isFocused:function(){return this.search.hasClass("select2-focused");},updateSelection:function(data){var ids=[],filtered=[],self=this;$(data).each(function(){if(indexOf(self.id(this),ids)<0){ids.push(self.id(this));filtered.push(this);}});data=filtered;this.selection.find(".select2-search-choice").remove();$(data).each(function(){self.addSelectedChoice(this);});self.postprocessResults();},tokenize:function(){var input=this.search.val();input=this.opts.tokenizer.call(this,input,this.data(),this.bind(this.onSelect),this.opts);if(input!=null&&input!=undefined){this.search.val(input);if(input.length>0){this.open();}}},onSelect:function(data,options){if(!this.triggerSelect(data)||data.text===""){return;}
this.addSelectedChoice(data);this.opts.element.trigger({type:"selected",val:this.id(data),choice:data});this.nextSearchTerm=this.opts.nextSearchTerm(data,this.search.val());this.clearSearch();this.updateResults();if(this.select||!this.opts.closeOnSelect)this.postprocessResults(data,false,this.opts.closeOnSelect===true);if(this.opts.closeOnSelect){this.close();this.search.width(10);}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true);}else{if(this.nextSearchTerm!=undefined){this.search.val(this.nextSearchTerm);this.updateResults();this.search.select();}}
this.positionDropdown();}else{this.close();this.search.width(10);}}
this.triggerChange({added:data});if(!options||!options.noFocus)
this.focusSearch();},cancel:function(){this.close();this.focusSearch();},addSelectedChoice:function(data){var enableChoice=!data.locked,enabledItem=$("<li class='select2-search-choice'>"+"    <div></div>"+"    <a href='#' class='select2-search-choice-close' tabindex='-1'></a>"+"</li>"),disabledItem=$("<li class='select2-search-choice select2-locked'>"+"<div></div>"+"</li>");var choice=enableChoice?enabledItem:disabledItem,id=this.id(data),val=this.getVal(),formatted,cssClass;formatted=this.opts.formatSelection(data,choice.find("div"),this.opts.escapeMarkup);if(formatted!=undefined){choice.find("div").replaceWith($("<div></div>").html(formatted));}
cssClass=this.opts.formatSelectionCssClass(data,choice.find("div"));if(cssClass!=undefined){choice.addClass(cssClass);}
if(enableChoice){choice.find(".select2-search-choice-close").on("mousedown",killEvent).on("click dblclick",this.bind(function(e){if(!this.isInterfaceEnabled())return;this.unselect($(e.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");killEvent(e);this.close();this.focusSearch();})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled())return;this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");}));}
choice.data("select2-data",data);choice.insertBefore(this.searchContainer);val.push(id);this.setVal(val);},unselect:function(selected){var val=this.getVal(),data,index;selected=selected.closest(".select2-search-choice");if(selected.length===0){throw"Invalid argument: "+selected+". Must be .select2-search-choice";}
data=selected.data("select2-data");if(!data){return;}
var evt=$.Event("select2-removing");evt.val=this.id(data);evt.choice=data;this.opts.element.trigger(evt);if(evt.isDefaultPrevented()){return false;}
while((index=indexOf(this.id(data),val))>=0){val.splice(index,1);this.setVal(val);if(this.select)this.postprocessResults();}
selected.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(data),choice:data});this.triggerChange({removed:data});return true;},postprocessResults:function(data,initial,noHighlightUpdate){var val=this.getVal(),choices=this.results.find(".select2-result"),compound=this.results.find(".select2-result-with-children"),self=this;choices.each2(function(i,choice){var id=self.id(choice.data("select2-data"));if(indexOf(id,val)>=0){choice.addClass("select2-selected");choice.find(".select2-result-selectable").addClass("select2-selected");}});compound.each2(function(i,choice){if(!choice.is('.select2-result-selectable')&&choice.find(".select2-result-selectable:not(.select2-selected)").length===0){choice.addClass("select2-selected");}});if(this.highlight()==-1&&noHighlightUpdate!==false&&this.opts.closeOnSelect===true){self.highlight(0);}
if(!this.opts.createSearchChoice&&!choices.filter('.select2-result:not(.select2-selected)').length>0){if(!data||data&&!data.more&&this.results.find(".select2-no-results").length===0){if(checkFormatter(self.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+evaluate(self.opts.formatNoMatches,self.opts.element,self.search.val())+"</li>");}}}},getMaxSearchWidth:function(){return this.selection.width()-getSideBorderPadding(this.search);},resizeSearch:function(){var minimumWidth,left,maxWidth,containerLeft,searchWidth,sideBorderPadding=getSideBorderPadding(this.search);minimumWidth=measureTextWidth(this.search)+10;left=this.search.offset().left;maxWidth=this.selection.width();containerLeft=this.selection.offset().left;searchWidth=maxWidth-(left-containerLeft)-sideBorderPadding;if(searchWidth<minimumWidth){searchWidth=maxWidth-sideBorderPadding;}
if(searchWidth<40){searchWidth=maxWidth-sideBorderPadding;}
if(searchWidth<=0){searchWidth=minimumWidth;}
this.search.width(Math.floor(searchWidth));},getVal:function(){var val;if(this.select){val=this.select.val();return val===null?[]:val;}else{val=this.opts.element.val();return splitVal(val,this.opts.separator,this.opts.transformVal);}},setVal:function(val){var unique;if(this.select){this.select.val(val);}else{unique=[];$(val).each(function(){if(indexOf(this,unique)<0)unique.push(this);});this.opts.element.val(unique.length===0?"":unique.join(this.opts.separator));}},buildChangeDetails:function(old,current){var current=current.slice(0),old=old.slice(0);for(var i=0;i<current.length;i++){for(var j=0;j<old.length;j++){if(equal(this.opts.id(current[i]),this.opts.id(old[j]))){current.splice(i,1);if(i>0){i--;}
old.splice(j,1);j--;}}}
return{added:current,removed:old};},val:function(val,triggerChange){var oldData,self=this;if(arguments.length===0){return this.getVal();}
oldData=this.data();if(!oldData.length)oldData=[];if(!val&&val!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(triggerChange){this.triggerChange({added:this.data(),removed:oldData});}
return;}
this.setVal(val);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(triggerChange){this.triggerChange(this.buildChangeDetails(oldData,this.data()));}}else{if(this.opts.initSelection===undefined){throw new Error("val() cannot be called if initSelection() is not defined");}
this.opts.initSelection(this.opts.element,function(data){var ids=$.map(data,self.id);self.setVal(ids);self.updateSelection(data);self.clearSearch();if(triggerChange){self.triggerChange(self.buildChangeDetails(oldData,self.data()));}});}
this.clearSearch();},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");}
this.search.width(0);this.searchContainer.hide();},onSortEnd:function(){var val=[],self=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){val.push(self.opts.id($(this).data("select2-data")));});this.setVal(val);this.triggerChange();},data:function(values,triggerChange){var self=this,ids,old;if(arguments.length===0){return this.selection.children(".select2-search-choice").map(function(){return $(this).data("select2-data");}).get();}else{old=this.data();if(!values){values=[];}
ids=$.map(values,function(e){return self.opts.id(e);});this.setVal(ids);this.updateSelection(values);this.clearSearch();if(triggerChange){this.triggerChange(this.buildChangeDetails(old,this.data()));}}}});$.fn.select2=function(){var args=Array.prototype.slice.call(arguments,0),opts,select2,method,value,multiple,allowedMethods=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],valueMethods=["opened","isFocused","container","dropdown"],propertyMethods=["val","data"],methodsMap={search:"externalSearch"};this.each(function(){if(args.length===0||typeof(args[0])==="object"){opts=args.length===0?{}:$.extend({},args[0]);opts.element=$(this);if(opts.element.get(0).tagName.toLowerCase()==="select"){multiple=opts.element.prop("multiple");}else{multiple=opts.multiple||false;if("tags"in opts){opts.multiple=multiple=true;}}
select2=multiple?new window.Select2["class"].multi():new window.Select2["class"].single();select2.init(opts);}else if(typeof(args[0])==="string"){if(indexOf(args[0],allowedMethods)<0){throw"Unknown method: "+args[0];}
value=undefined;select2=$(this).data("select2");if(select2===undefined)return;method=args[0];if(method==="container"){value=select2.container;}else if(method==="dropdown"){value=select2.dropdown;}else{if(methodsMap[method])method=methodsMap[method];value=select2[method].apply(select2,args.slice(1));}
if(indexOf(args[0],valueMethods)>=0||(indexOf(args[0],propertyMethods)>=0&&args.length==1)){return false;}}else{throw"Invalid arguments to select2 plugin: "+args;}});return(value===undefined)?this:value;};$.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(result,container,query,escapeMarkup){var markup=[];markMatch(this.text(result),query.term,markup,escapeMarkup);return markup.join("");},transformVal:function(val){return $.trim(val);},formatSelection:function(data,container,escapeMarkup){return data?escapeMarkup(this.text(data)):undefined;},sortResults:function(results,container,query){return results;},formatResultCssClass:function(data){return data.css;},formatSelectionCssClass:function(data,container){return undefined;},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==undefined?null:e.id;},text:function(e){if(e&&this.data&&this.data.text){if($.isFunction(this.data.text)){return this.data.text(e);}else{return e[this.data.text];}}else{return e.text;}},matcher:function(term,text){return stripDiacritics(''+text).toUpperCase().indexOf(stripDiacritics(''+term).toUpperCase())>=0;},separator:",",tokenSeparators:[],tokenizer:defaultTokenizer,escapeMarkup:defaultEscapeMarkup,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(c){return c;},adaptDropdownCssClass:function(c){return null;},nextSearchTerm:function(selectedObject,currentSearchTerm){return undefined;},searchInputPlaceholder:'',createSearchChoicePosition:'top',shouldFocusInput:function(instance){var supportsTouchEvents=(('ontouchstart'in window)||(navigator.msMaxTouchPoints>0));if(!supportsTouchEvents){return true;}
if(instance.opts.minimumResultsForSearch<0){return false;}
return true;}};$.fn.select2.locales=[];$.fn.select2.locales['en']={formatMatches:function(matches){if(matches===1){return"One result is available, press enter to select it.";}return matches+" results are available, use up and down arrow keys to navigate.";},formatNoMatches:function(){return"No matches found";},formatAjaxError:function(jqXHR,textStatus,errorThrown){return"Loading failed";},formatInputTooShort:function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"You can only select "+limit+" item"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Loading more results…";},formatSearching:function(){return"Searching…";}};$.extend($.fn.select2.defaults,$.fn.select2.locales['en']);$.fn.select2.ajaxDefaults={transport:$.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:ajax,local:local,tags:tags},util:{debounce:debounce,markMatch:markMatch,escapeMarkup:defaultEscapeMarkup,stripDiacritics:stripDiacritics},"class":{"abstract":AbstractSelect2,"single":SingleSelect2,"multi":MultiSelect2}};}(jQuery));
/* End of File include/javascript/select2/select2.js */

(function($){$(function(){if(!window.Select2){return;}
var originalDestroy=window.Select2.class.abstract.prototype.destroy;_.extend(window.Select2.class.abstract.prototype,{destroy:function(){originalDestroy.call(this);var mask=$('#select2-drop-mask');mask.remove();}});});})(jQuery);
/* End of File include/javascript/sugar7/plugins/Select2.js */

/*!
 * jquery-timepicker v1.11.14 - A jQuery timepicker plugin inspired by Google Calendar. It supports both mouse and keyboard navigation.
 * Copyright (c) 2015 Jon Thornton - http://jonthornton.github.com/jquery-timepicker/
 * License: MIT
 */
(function(factory){if(typeof exports==="object"&&exports&&typeof module==="object"&&module&&module.exports===exports){factory(require("jquery"));}else if(typeof define==="function"&&define.amd){define(["jquery"],factory);}else{factory(jQuery);}})(function($){var _ONE_DAY=86400;var _lang={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"};var _DEFAULTS={appendTo:"body",className:null,closeOnWindowScroll:false,disableTextInput:false,disableTimeRanges:[],disableTouchKeyboard:false,durationTime:null,forceRoundTime:false,maxTime:null,minTime:null,noneOption:false,orientation:"l",roundingFunction:function(seconds,settings){if(seconds===null){return null;}else if(typeof settings.step!=="number"){return seconds;}else{var offset=seconds%(settings.step*60);var start=settings.minTime||0;offset-=start%(settings.step*60);if(offset>=settings.step*30){seconds+=settings.step*60-offset;}else{seconds-=offset;}
return _moduloSeconds(seconds,settings);}},scrollDefault:null,selectOnBlur:false,show2400:false,showDuration:false,showOn:["click","focus"],showOnFocus:true,step:30,stopScrollPropagation:false,timeFormat:"g:ia",typeaheadHighlight:true,useSelect:false,wrapHours:true};var methods={init:function(options){return this.each(function(){var self=$(this);var attributeOptions=[];for(var key in _DEFAULTS){if(self.data(key)){attributeOptions[key]=self.data(key);}}
var settings=$.extend({},_DEFAULTS,options,attributeOptions);if(settings.lang){_lang=$.extend(_lang,settings.lang);}
settings=_parseSettings(settings);self.data("timepicker-settings",settings);self.addClass("ui-timepicker-input");if(settings.useSelect){_render(self);}else{self.prop("autocomplete","off");if(settings.showOn){for(var i in settings.showOn){self.on(settings.showOn[i]+".timepicker",methods.show);}}
self.on("change.timepicker",_formatValue);self.on("keydown.timepicker",_keydownhandler);self.on("keyup.timepicker",_keyuphandler);if(settings.disableTextInput){self.on("keydown.timepicker",_disableTextInputHandler);}
self.on("cut.timepicker",_keyuphandler);self.on("paste.timepicker",_keyuphandler);_formatValue.call(self.get(0),null,"initial");}});},show:function(e){var self=$(this);var settings=self.data("timepicker-settings");if(e){e.preventDefault();}
if(settings.useSelect){self.data("timepicker-list").focus();return;}
if(_hideKeyboard(self)){self.blur();}
var list=self.data("timepicker-list");if(self.prop("readonly")){return;}
if(!list||list.length===0||typeof settings.durationTime==="function"){_render(self);list=self.data("timepicker-list");}
if(_isVisible(list)){return;}
self.data("ui-timepicker-value",self.val());_setSelected(self,list);methods.hide();list.show();var listOffset={};if(settings.orientation.match(/r/)){listOffset.left=self.offset().left+
self.outerWidth()-
list.outerWidth()+
parseInt(list.css("marginLeft").replace("px",""),10);}else{listOffset.left=self.offset().left+
parseInt(list.css("marginLeft").replace("px",""),10);}
var verticalOrientation;if(settings.orientation.match(/t/)){verticalOrientation="t";}else if(settings.orientation.match(/b/)){verticalOrientation="b";}else if(self.offset().top+self.outerHeight(true)+list.outerHeight()>$(window).height()+$(window).scrollTop()){verticalOrientation="t";}else{verticalOrientation="b";}
if(verticalOrientation=="t"){list.addClass("ui-timepicker-positioned-top");listOffset.top=self.offset().top-
list.outerHeight()+
parseInt(list.css("marginTop").replace("px",""),10);}else{list.removeClass("ui-timepicker-positioned-top");listOffset.top=self.offset().top+
self.outerHeight()+
parseInt(list.css("marginTop").replace("px",""),10);}
list.offset(listOffset);var selected=list.find(".ui-timepicker-selected");if(!selected.length){var timeInt=_time2int(_getTimeValue(self));if(timeInt!==null){selected=_findRow(self,list,timeInt);}else if(settings.scrollDefault){selected=_findRow(self,list,settings.scrollDefault());}}
if(!selected.length||selected.hasClass("ui-timepicker-disabled")){selected=list.find("li:not(.ui-timepicker-disabled):first");}
if(selected&&selected.length){var topOffset=list.scrollTop()+selected.position().top-selected.outerHeight();list.scrollTop(topOffset);}else{list.scrollTop(0);}
if(settings.stopScrollPropagation){$(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(e){e.preventDefault();var currentScroll=$(this).scrollTop();$(this).scrollTop(currentScroll+e.originalEvent.deltaY);});}
$(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",_closeHandler);$(window).on("resize.ui-timepicker",_closeHandler);if(settings.closeOnWindowScroll){$(document).on("scroll.ui-timepicker",_closeHandler);}
self.trigger("showTimepicker");return this;},hide:function(e){var self=$(this);var settings=self.data("timepicker-settings");if(settings&&settings.useSelect){self.blur();}
$(".ui-timepicker-wrapper").each(function(){var list=$(this);if(!_isVisible(list)){return;}
var self=list.data("timepicker-input");var settings=self.data("timepicker-settings");if(settings&&settings.selectOnBlur){_selectValue(self);}
list.hide();self.trigger("hideTimepicker");});return this;},option:function(key,value){if(typeof key=="string"&&typeof value=="undefined"){return $(this).data("timepicker-settings")[key];}
return this.each(function(){var self=$(this);var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");if(typeof key=="object"){settings=$.extend(settings,key);}else if(typeof key=="string"){settings[key]=value;}
settings=_parseSettings(settings);self.data("timepicker-settings",settings);_formatValue.call(self.get(0),{type:"change"},"initial");if(list){list.remove();self.data("timepicker-list",false);}
if(settings.useSelect){_render(self);}});},getSecondsFromMidnight:function(){return _time2int(_getTimeValue(this));},getTime:function(relative_date){var self=this;var time_string=_getTimeValue(self);if(!time_string){return null;}
var offset=_time2int(time_string);if(offset===null){return null;}
if(!relative_date){relative_date=new Date();}
var time=new Date(relative_date);time.setHours(offset / 3600);time.setMinutes((offset%3600)/ 60);time.setSeconds(offset%60);time.setMilliseconds(0);return time;},isVisible:function(){var self=this;var list=self.data("timepicker-list");return!!(list&&_isVisible(list));},setTime:function(value){var self=this;var settings=self.data("timepicker-settings");if(settings.forceRoundTime){var prettyTime=_roundAndFormatTime(_time2int(value),settings);}else{var prettyTime=_int2time(_time2int(value),settings);}
if(value&&prettyTime===null&&settings.noneOption){prettyTime=value;}
_setTimeValue(self,prettyTime,"initial");_formatValue.call(self.get(0),{type:"change"},"initial");if(self.data("timepicker-list")){_setSelected(self,self.data("timepicker-list"));}
return this;},remove:function(){var self=this;if(!self.hasClass("ui-timepicker-input")){return;}
var settings=self.data("timepicker-settings");self.removeAttr("autocomplete","off");self.removeClass("ui-timepicker-input");self.removeData("timepicker-settings");self.off(".timepicker");if(self.data("timepicker-list")){self.data("timepicker-list").remove();}
if(settings.useSelect){self.show();}
self.removeData("timepicker-list");return this;}};function _isVisible(elem){var el=elem[0];return el.offsetWidth>0&&el.offsetHeight>0;}
function _parseSettings(settings){if(settings.minTime){settings.minTime=_time2int(settings.minTime);}
if(settings.maxTime){settings.maxTime=_time2int(settings.maxTime);}
if(settings.durationTime&&typeof settings.durationTime!=="function"){settings.durationTime=_time2int(settings.durationTime);}
if(settings.scrollDefault=="now"){settings.scrollDefault=function(){return settings.roundingFunction(_time2int(new Date()),settings);};}else if(settings.scrollDefault&&typeof settings.scrollDefault!="function"){var val=settings.scrollDefault;settings.scrollDefault=function(){return settings.roundingFunction(_time2int(val),settings);};}else if(settings.minTime){settings.scrollDefault=function(){return settings.roundingFunction(settings.minTime,settings);};}
if($.type(settings.timeFormat)==="string"&&settings.timeFormat.match(/[gh]/)){settings._twelveHourTime=true;}
if(settings.showOnFocus===false&&settings.showOn.indexOf("focus")!=-1){settings.showOn.splice(settings.showOn.indexOf("focus"),1);}
if(settings.disableTimeRanges.length>0){for(var i in settings.disableTimeRanges){settings.disableTimeRanges[i]=[_time2int(settings.disableTimeRanges[i][0]),_time2int(settings.disableTimeRanges[i][1])];}
settings.disableTimeRanges=settings.disableTimeRanges.sort(function(a,b){return a[0]-b[0];});for(var i=settings.disableTimeRanges.length-1;i>0;i--){if(settings.disableTimeRanges[i][0]<=settings.disableTimeRanges[i-1][1]){settings.disableTimeRanges[i-1]=[Math.min(settings.disableTimeRanges[i][0],settings.disableTimeRanges[i-1][0]),Math.max(settings.disableTimeRanges[i][1],settings.disableTimeRanges[i-1][1])];settings.disableTimeRanges.splice(i,1);}}}
return settings;}
function _render(self){var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");if(list&&list.length){list.remove();self.data("timepicker-list",false);}
if(settings.useSelect){list=$("<select />",{class:"ui-timepicker-select"});if(self.attr('name')){list.attr('name','ui-timepicker-'+self.attr('name'));}
var wrapped_list=list;}else{list=$("<ul />",{class:"ui-timepicker-list"});var wrapped_list=$("<div />",{class:"ui-timepicker-wrapper",tabindex:-1});wrapped_list.css({display:"none",position:"absolute"}).append(list);}
if(settings.noneOption){if(settings.noneOption===true){settings.noneOption=settings.useSelect?"Time...":"None";}
if($.isArray(settings.noneOption)){for(var i in settings.noneOption){if(parseInt(i,10)==i){var noneElement=_generateNoneElement(settings.noneOption[i],settings.useSelect);list.append(noneElement);}}}else{var noneElement=_generateNoneElement(settings.noneOption,settings.useSelect);list.append(noneElement);}}
if(settings.className){wrapped_list.addClass(settings.className);}
if((settings.minTime!==null||settings.durationTime!==null)&&settings.showDuration){var stepval=typeof settings.step=="function"?"function":settings.step;wrapped_list.addClass("ui-timepicker-with-duration");wrapped_list.addClass("ui-timepicker-step-"+settings.step);}
var durStart=settings.minTime;if(typeof settings.durationTime==="function"){durStart=_time2int(settings.durationTime());}else if(settings.durationTime!==null){durStart=settings.durationTime;}
var start=settings.minTime!==null?settings.minTime:0;var end=settings.maxTime!==null?settings.maxTime:start+_ONE_DAY-1;if(end<start){end+=_ONE_DAY;}
if(end===_ONE_DAY-1&&$.type(settings.timeFormat)==="string"&&settings.show2400){end=_ONE_DAY;}
var dr=settings.disableTimeRanges;var drCur=0;var drLen=dr.length;var stepFunc=settings.step;if(typeof stepFunc!="function"){stepFunc=function(){return settings.step;};}
for(var i=start,j=0;i<=end;j++,i+=stepFunc(j)*60){var timeInt=i;var timeString=_int2time(timeInt,settings);if(settings.useSelect){var row=$("<option />",{value:timeString});row.text(timeString);}else{var row=$("<li />");row.addClass(timeInt%_ONE_DAY<_ONE_DAY / 2?"ui-timepicker-am":"ui-timepicker-pm");row.data("time",_moduloSeconds(timeInt,settings));row.text(timeString);}
if((settings.minTime!==null||settings.durationTime!==null)&&settings.showDuration){var durationString=_int2duration(i-durStart,settings.step);if(settings.useSelect){row.text(row.text()+" ("+durationString+")");}else{var duration=$("<span />",{class:"ui-timepicker-duration"});duration.text(" ("+durationString+")");row.append(duration);}}
if(drCur<drLen){if(timeInt>=dr[drCur][1]){drCur+=1;}
if(dr[drCur]&&timeInt>=dr[drCur][0]&&timeInt<dr[drCur][1]){if(settings.useSelect){row.prop("disabled",true);}else{row.addClass("ui-timepicker-disabled");}}}
list.append(row);}
wrapped_list.data("timepicker-input",self);self.data("timepicker-list",wrapped_list);if(settings.useSelect){if(self.val()){list.val(_roundAndFormatTime(_time2int(self.val()),settings));}
list.on("focus",function(){$(this).data("timepicker-input").trigger("showTimepicker");});list.on("blur",function(){$(this).data("timepicker-input").trigger("hideTimepicker");});list.on("change",function(){_setTimeValue(self,$(this).val(),"select");});_setTimeValue(self,list.val(),"initial");self.hide().after(list);}else{var appendTo=settings.appendTo;if(typeof appendTo==="string"){appendTo=$(appendTo);}else if(typeof appendTo==="function"){appendTo=appendTo(self);}
appendTo.append(wrapped_list);_setSelected(self,list);list.on("mousedown click","li",function(e){self.off("focus.timepicker");self.on("focus.timepicker-ie-hack",function(){self.off("focus.timepicker-ie-hack");self.on("focus.timepicker",methods.show);});if(!_hideKeyboard(self)){self[0].focus();}
list.find("li").removeClass("ui-timepicker-selected");$(this).addClass("ui-timepicker-selected");if(_selectValue(self)){self.trigger("hideTimepicker");list.on("mouseup.timepicker click.timepicker","li",function(e){list.off("mouseup.timepicker click.timepicker");wrapped_list.hide();});}});}}
function _generateNoneElement(optionValue,useSelect){var label,className,value;if(typeof optionValue=="object"){label=optionValue.label;className=optionValue.className;value=optionValue.value;}else if(typeof optionValue=="string"){label=optionValue;value='';}else{$.error("Invalid noneOption value");}
if(useSelect){return $("<option />",{value:value,class:className,text:label});}else{return $("<li />",{class:className,text:label}).data("time",String(value));}}
function _roundAndFormatTime(seconds,settings){seconds=settings.roundingFunction(seconds,settings);if(seconds!==null){return _int2time(seconds,settings);}}
function _closeHandler(e){if(e.target==window){return;}
var target=$(e.target);if(target.closest(".ui-timepicker-input").length||target.closest(".ui-timepicker-wrapper").length){return;}
methods.hide();$(document).unbind(".ui-timepicker");$(window).unbind(".ui-timepicker");}
function _hideKeyboard(self){var settings=self.data("timepicker-settings");return((window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&settings.disableTouchKeyboard);}
function _findRow(self,list,value){if(!value&&value!==0){return false;}
var settings=self.data("timepicker-settings");var out=false;var value=settings.roundingFunction(value,settings);list.find("li").each(function(i,obj){var jObj=$(obj);if(typeof jObj.data("time")!="number"){return;}
if(jObj.data("time")==value){out=jObj;return false;}});return out;}
function _setSelected(self,list){list.find("li").removeClass("ui-timepicker-selected");var settings=self.data("timepicker-settings");var timeValue=_time2int(_getTimeValue(self),settings);if(timeValue===null){return;}
var selected=_findRow(self,list,timeValue);if(selected){var topDelta=selected.offset().top-list.offset().top;if(topDelta+selected.outerHeight()>list.outerHeight()||topDelta<0){list.scrollTop(list.scrollTop()+selected.position().top-selected.outerHeight());}
if(settings.forceRoundTime||selected.data("time")===timeValue){selected.addClass("ui-timepicker-selected");}}}
function _formatValue(e,origin){if(origin=="timepicker"){return;}
var self=$(this);if(this.value===""){_setTimeValue(self,null,origin);return;}
if(self.is(":focus")&&(!e||e.type!="change")){return;}
var settings=self.data("timepicker-settings");var seconds=_time2int(this.value,settings);if(seconds===null){self.trigger("timeFormatError");return;}
var rangeError=false;if(settings.minTime!==null&&settings.maxTime!==null&&(seconds<settings.minTime||seconds>settings.maxTime)){rangeError=true;}
$.each(settings.disableTimeRanges,function(){if(seconds>=this[0]&&seconds<this[1]){rangeError=true;return false;}});if(settings.forceRoundTime){var roundSeconds=settings.roundingFunction(seconds,settings);if(roundSeconds!=seconds){seconds=roundSeconds;origin=null;}}
var prettyTime=_int2time(seconds,settings);if(rangeError){if(_setTimeValue(self,prettyTime,"error")||(e&&e.type=="change")){self.trigger("timeRangeError");}}else{_setTimeValue(self,prettyTime,origin);}}
function _getTimeValue(self){if(self.is("input")){return self.val();}else{return self.data("ui-timepicker-value");}}
function _setTimeValue(self,value,source){if(self.is("input")){self.val(value);var settings=self.data("timepicker-settings");if(settings.useSelect&&source!="select"&&self.data("timepicker-list")){self.data("timepicker-list").val(_roundAndFormatTime(_time2int(value),settings));}}
if(self.data("ui-timepicker-value")!=value){self.data("ui-timepicker-value",value);if(source=="select"){self.trigger("selectTime").trigger("changeTime").trigger("change","timepicker");}else if(["error","initial"].indexOf(source)==-1){self.trigger("changeTime");}
return true;}else{if(["error","initial"].indexOf(source)==-1){self.trigger("selectTime");}
return false;}}
function _disableTextInputHandler(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault();}}
function _keydownhandler(e){var self=$(this);var list=self.data("timepicker-list");if(!list||!_isVisible(list)){if(e.keyCode==40){methods.show.call(self.get(0));list=self.data("timepicker-list");if(!_hideKeyboard(self)){self.focus();}}else{return true;}}
switch(e.keyCode){case 13:if(_selectValue(self)){_formatValue.call(self.get(0),{type:"change"});methods.hide.apply(this);}
e.preventDefault();return false;case 38:var selected=list.find(".ui-timepicker-selected");if(!selected.length){list.find("li").each(function(i,obj){if($(obj).position().top>0){selected=$(obj);return false;}});selected.addClass("ui-timepicker-selected");}else if(!selected.is(":first-child")){selected.removeClass("ui-timepicker-selected");selected.prev().addClass("ui-timepicker-selected");if(selected.prev().position().top<selected.outerHeight()){list.scrollTop(list.scrollTop()-selected.outerHeight());}}
return false;case 40:selected=list.find(".ui-timepicker-selected");if(selected.length===0){list.find("li").each(function(i,obj){if($(obj).position().top>0){selected=$(obj);return false;}});selected.addClass("ui-timepicker-selected");}else if(!selected.is(":last-child")){selected.removeClass("ui-timepicker-selected");selected.next().addClass("ui-timepicker-selected");if(selected.next().position().top+2*selected.outerHeight()>list.outerHeight()){list.scrollTop(list.scrollTop()+selected.outerHeight());}}
return false;case 27:list.find("li").removeClass("ui-timepicker-selected");methods.hide();break;case 9:methods.hide();break;default:return true;}}
function _keyuphandler(e){var self=$(this);var list=self.data("timepicker-list");var settings=self.data("timepicker-settings");if(!list||!_isVisible(list)||settings.disableTextInput){return true;}
if(e.type==="paste"||e.type==="cut"){setTimeout(function(){if(settings.typeaheadHighlight){_setSelected(self,list);}else{list.hide();}},0);return;}
switch(e.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:if(settings.typeaheadHighlight){_setSelected(self,list);}else{list.hide();}
break;}}
function _selectValue(self){var settings=self.data("timepicker-settings");var list=self.data("timepicker-list");var timeValue=null;var cursor=list.find(".ui-timepicker-selected");if(cursor.hasClass("ui-timepicker-disabled")){return false;}
if(cursor.length){timeValue=cursor.data("time");}
if(timeValue!==null){if(typeof timeValue!="string"){timeValue=_int2time(timeValue,settings);}
_setTimeValue(self,timeValue,"select");}
return true;}
function _int2duration(seconds,step){seconds=Math.abs(seconds);var minutes=Math.round(seconds / 60),duration=[],hours,mins;if(minutes<60){duration=[minutes,_lang.mins];}else{hours=Math.floor(minutes / 60);mins=minutes%60;if(step==30&&mins==30){hours+=_lang.decimal+5;}
duration.push(hours);duration.push(hours==1?_lang.hr:_lang.hrs);if(step!=30&&mins){duration.push(mins);duration.push(_lang.mins);}}
return duration.join(" ");}
function _int2time(timeInt,settings){if(typeof timeInt!="number"){return null;}
var seconds=parseInt(timeInt%60),minutes=parseInt((timeInt / 60)%60),hours=parseInt((timeInt /(60*60))%24);var time=new Date(1970,0,2,hours,minutes,seconds,0);if(isNaN(time.getTime())){return null;}
if($.type(settings.timeFormat)==="function"){return settings.timeFormat(time);}
var output="";var hour,code;for(var i=0;i<settings.timeFormat.length;i++){code=settings.timeFormat.charAt(i);switch(code){case"a":output+=time.getHours()>11?_lang.pm:_lang.am;break;case"A":output+=time.getHours()>11?_lang.PM:_lang.AM;break;case"g":hour=time.getHours()%12;output+=hour===0?"12":hour;break;case"G":hour=time.getHours();if(timeInt===_ONE_DAY)hour=settings.show2400?24:0;output+=hour;break;case"h":hour=time.getHours()%12;if(hour!==0&&hour<10){hour="0"+hour;}
output+=hour===0?"12":hour;break;case"H":hour=time.getHours();if(timeInt===_ONE_DAY)hour=settings.show2400?24:0;output+=hour>9?hour:"0"+hour;break;case"i":var minutes=time.getMinutes();output+=minutes>9?minutes:"0"+minutes;break;case"s":seconds=time.getSeconds();output+=seconds>9?seconds:"0"+seconds;break;case"\\":i++;output+=settings.timeFormat.charAt(i);break;default:output+=code;}}
return output;}
function _time2int(timeString,settings){if(timeString===""||timeString===null)return null;if(typeof timeString=="object"){return(timeString.getHours()*3600+
timeString.getMinutes()*60+
timeString.getSeconds());}
if(typeof timeString!="string"){return timeString;}
timeString=timeString.toLowerCase().replace(/[\s\.]/g,"");if(timeString.slice(-1)=="a"||timeString.slice(-1)=="p"){timeString+="m";}
var ampmRegex="("+
_lang.am.replace(".","")+"|"+
_lang.pm.replace(".","")+"|"+
_lang.AM.replace(".","")+"|"+
_lang.PM.replace(".","")+")?";var pattern=new RegExp("^"+
ampmRegex+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+
ampmRegex+"$");var time=timeString.match(pattern);if(!time){return null;}
var hour=parseInt(time[2]*1,10);var ampm=time[1]||time[5];var hours=hour;var minutes=time[3]*1||0;var seconds=time[4]*1||0;if(hour<=12&&ampm){var isPm=ampm==_lang.pm||ampm==_lang.PM;if(hour==12){hours=isPm?12:0;}else{hours=hour+(isPm?12:0);}}else if(settings){var t=hour*3600+minutes*60+seconds;if(t>=_ONE_DAY+(settings.show2400?1:0)){if(settings.wrapHours===false){return null;}
hours=hour%24;}}
var timeInt=hours*3600+minutes*60+seconds;if(hour<12&&!ampm&&settings&&settings._twelveHourTime&&settings.scrollDefault){var delta=timeInt-settings.scrollDefault();if(delta<0&&delta>=_ONE_DAY /-2){timeInt=(timeInt+_ONE_DAY / 2)%_ONE_DAY;}}
return timeInt;}
function _pad2(n){return("0"+n).slice(-2);}
function _moduloSeconds(seconds,settings){if(seconds==_ONE_DAY&&settings.show2400){return seconds;}
return seconds%_ONE_DAY;}
$.fn.timepicker=function(method){if(!this.length)return this;if(methods[method]){if(!this.hasClass("ui-timepicker-input")){return this;}
return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==="object"||!method){return methods.init.apply(this,arguments);}else{$.error("Method "+method+" does not exist on jQuery.timepicker");}};});
/* End of File include/javascript/jquery/jquery.timepicker.js */

(function(){if(jQuery&&jQuery.jstree){return;}
var is_ie6=false,is_ie7=false,is_ff2=false;(function($){"use strict";$.vakata={};$.vakata.css={get_css:function(rule_name,delete_flag,sheet){rule_name=rule_name.toLowerCase();var css_rules=sheet.cssRules||sheet.rules,j=0;do{if(css_rules.length&&j>css_rules.length+5){return false;}
if(css_rules[j].selectorText&&css_rules[j].selectorText.toLowerCase()==rule_name){if(delete_flag===true){if(sheet.removeRule){sheet.removeRule(j);}
if(sheet.deleteRule){sheet.deleteRule(j);}
return true;}
else{return css_rules[j];}}}
while(css_rules[++j]);return false;},add_css:function(rule_name,sheet){if($.jstree.css.get_css(rule_name,false,sheet)){return false;}
if(sheet.insertRule){sheet.insertRule(rule_name+' { }',0);}else{sheet.addRule(rule_name,null,0);}
return $.vakata.css.get_css(rule_name);},remove_css:function(rule_name,sheet){return $.vakata.css.get_css(rule_name,true,sheet);},add_sheet:function(opts){var tmp=false,is_new=true;if(opts.str){if(opts.title){tmp=$("style[id='"+opts.title+"-stylesheet']")[0];}
if(tmp){is_new=false;}
else{tmp=document.createElement("style");tmp.setAttribute('type',"text/css");if(opts.title){tmp.setAttribute("id",opts.title+"-stylesheet");}}
if(tmp.styleSheet){if(is_new){document.getElementsByTagName("head")[0].appendChild(tmp);tmp.styleSheet.cssText=opts.str;}
else{tmp.styleSheet.cssText=tmp.styleSheet.cssText+" "+opts.str;}}
else{tmp.appendChild(document.createTextNode(opts.str));document.getElementsByTagName("head")[0].appendChild(tmp);}
return tmp.sheet||tmp.styleSheet;}
if(opts.url){if(document.createStyleSheet){try{tmp=document.createStyleSheet(opts.url);}catch(e){}}
else{tmp=document.createElement('link');tmp.rel='stylesheet';tmp.type='text/css';tmp.media="all";tmp.href=opts.url;document.getElementsByTagName("head")[0].appendChild(tmp);return tmp.styleSheet;}}}};var instances=[],focused_instance=-1,plugins={},prepared_move={};$.fn.jstree=function(settings){var isMethodCall=(typeof settings=='string'),args=Array.prototype.slice.call(arguments,1),returnValue=this;if(isMethodCall){if(settings.substring(0,1)=='_'){return returnValue;}
this.each(function(){var instance=instances[$.data(this,"jstree_instance_id")],methodValue=(instance&&$.isFunction(instance[settings]))?instance[settings].apply(instance,args):instance;if(typeof methodValue!=="undefined"&&(settings.indexOf("is_")===0||(methodValue!==true&&methodValue!==false))){returnValue=methodValue;return false;}});}
else{this.each(function(){var instance_id=$.data(this,"jstree_instance_id"),a=[],b=settings?$.extend({},true,settings):{},c=$(this),s=false,t=[];a=a.concat(args);if(c.data("jstree")){a.push(c.data("jstree"));}
b=a.length?$.extend.apply(null,[true,b].concat(a)):b;if(typeof instance_id!=="undefined"&&instances[instance_id]){instances[instance_id].destroy();}
instance_id=parseInt(instances.push({}),10)-1;$.data(this,"jstree_instance_id",instance_id);b.plugins=$.isArray(b.plugins)?b.plugins:$.jstree.defaults.plugins.slice();b.plugins.unshift("core");b.plugins=b.plugins.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");s=$.extend(true,{},$.jstree.defaults,b);s.plugins=b.plugins;$.each(plugins,function(i,val){if($.inArray(i,s.plugins)===-1){s[i]=null;delete s[i];}
else{t.push(i);}});s.plugins=t;s.settings=b.settings||$.jstree.settings;instances[instance_id]=new $.jstree._instance(instance_id,$(this).addClass("jstree jstree-"+instance_id),s);$.each(instances[instance_id]._get_settings().plugins,function(i,val){instances[instance_id].data[val]={};});$.each(instances[instance_id]._get_settings().plugins,function(i,val){if(plugins[val]){plugins[val].__init.apply(instances[instance_id]);}});setTimeout(function(){if(instances[instance_id]){instances[instance_id].init();}},0);});}
return returnValue;};$.jstree={settings:{},defaults:{plugins:[]},_focused:function(){return instances[focused_instance]||null;},_reference:function(needle){if(instances[needle]){return instances[needle];}
var o=$(needle);if(!o.length&&typeof needle==="string"){o=$("#"+needle);}
if(!o.length){return null;}
return instances[o.closest(".jstree").data("jstree_instance_id")]||null;},_instance:function(index,container,settings){this.data={core:{}};this.get_settings=function(){return $.extend(true,{},settings);};this._get_settings=function(){return settings;};this.get_index=function(){return index;};this.get_container=function(){return container;};this.get_container_ul=function(){return container.children("ul:eq(0)");};this._set_settings=function(s){settings=$.extend(true,{},settings,s);};},_fn:{},plugin:function(pname,pdata){pdata=$.extend({},{__init:$.noop,__destroy:$.noop,_fn:{},defaults:false},pdata);plugins[pname]=pdata;$.jstree.defaults[pname]=pdata.defaults;$.each(pdata._fn,function(i,val){val.plugin=pname;val.old=$.jstree._fn[i];$.jstree._fn[i]=function(){var rslt,func=val,args=Array.prototype.slice.call(arguments),evnt=new $.Event("before.jstree"),rlbk=false;if(this.data.core.locked===true&&i!=="unlock"&&i!=="is_locked"){return;}
do{if(func&&func.plugin&&$.inArray(func.plugin,this._get_settings().plugins)!==-1){break;}
func=func.old;}while(func);if(!func){return;}
if(i.indexOf("_")===0){rslt=func.apply(this,args);}
else{rslt=this.get_container().triggerHandler(evnt,{"func":i,"inst":this,"args":args,"plugin":func.plugin});if(rslt===false){return;}
if(typeof rslt!=="undefined"){args=rslt;}
rslt=func.apply($.extend({},this,{__callback:function(data){this.get_container().triggerHandler(i+'.jstree',{"inst":this,"args":args,"rslt":data,"rlbk":rlbk});},__rollback:function(){rlbk=this.get_rollback();return rlbk;},__call_old:function(replace_arguments){return func.old.apply(this,(replace_arguments?Array.prototype.slice.call(arguments,1):args));}}),args);}
return rslt;};$.jstree._fn[i].old=val.old;$.jstree._fn[i].plugin=pname;});},rollback:function(rb){if(rb){if(!$.isArray(rb)){rb=[rb];}
$.each(rb,function(i,val){instances[val.i].set_rollback(val.h,val.d);});}}};$.jstree._fn=$.jstree._instance.prototype={};$(function(){var u=navigator.userAgent.toLowerCase(),v=(u.match(/.+?(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,'0'])[1],css_string=''+'.jstree ul, .jstree li { display:block; margin:0 0 0 0; padding:0 0 0 0; list-style-type:none; } '+'.jstree li { display:block; min-height:18px; line-height:18px; white-space:nowrap; margin-left:18px; min-width:18px; } '+'.jstree-rtl li { margin-left:0; margin-right:18px; } '+'.jstree ins { display:inline-block; text-decoration:none; margin:0 0 0 0; padding:0; } '+'.jstree a:focus { outline: none; } '+'.jstree a > ins { height:16px; width:16px; } '+'.jstree a > .jstree-icon { margin-right:3px; } '+'.jstree-rtl a > .jstree-icon { margin-left:3px; margin-right:0; } '+'li.jstree-open > ul { display:block; } ';if(/msie/.test(u)&&parseInt(v,10)==6){is_ie6=true;try{document.execCommand("BackgroundImageCache",false,true);}catch(err){}
css_string+=''+'.jstree li { height:18px; margin-left:0; margin-right:0; } '+'.jstree li li { margin-left:18px; } '+'.jstree-rtl li li { margin-left:0px; margin-right:18px; } '+'li.jstree-open ul { display:block; } '+'.jstree li a { display:inline; border-width:0 !important; padding:0px 2px !important; } '+'.jstree li a ins { height:16px; width:16px; margin-right:3px; } '+'.jstree-rtl li a ins { margin-right:0px; margin-left:3px; } ';}
if(/msie/.test(u)&&parseInt(v,10)==7){is_ie7=true;css_string+='.jstree li a { border-width:0 !important; padding:0px 2px !important; } ';}
if(!/compatible/.test(u)&&/mozilla/.test(u)&&parseFloat(v,10)<1.9){is_ff2=true;css_string+=''+'.jstree ins { display:-moz-inline-box; } '+'.jstree li { line-height:12px; } '+'.jstree a { display:-moz-inline-box; } '+'.jstree .jstree-no-icons .jstree-checkbox { display:-moz-inline-stack !important; } ';}
$.vakata.css.add_sheet({str:css_string,title:"jstree"});});$.jstree.plugin("core",{__init:function(){this.data.core.locked=false;this.data.core.to_open=this.get_settings().core.initially_open;this.data.core.to_load=this.get_settings().core.initially_load;},defaults:{html_titles:false,animation:500,initially_open:[],initially_load:[],open_parents:true,notify_plugins:true,rtl:false,load_open:false,strings:{loading:" ",new_node:"New node",multiple_selection:"Multiple selection"}},_fn:{init:function(){this.set_focus();if(this._get_settings().core.rtl){this.get_container().addClass("jstree-rtl").css("direction","rtl");}
this.get_container().html("<ul><li class='jstree-last jstree-leaf'><ins>&#160;</ins><a class='jstree-loading' href='#'><ins class='jstree-icon'>&#160;</ins>"+this._get_string("loading")+"</a></li></ul>");this.data.core.li_height=this._get_settings().settings.liHeight||this.get_container_ul().find("li.jstree-closed, li.jstree-leaf").eq(0).height()||18;this.get_container().delegate("li > ins","click.jstree",$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass("jstree-loading")){this.select_node(event.currentTarget,true,event);}},this)).bind("mousedown.jstree",$.proxy(function(){this.set_focus();},this)).bind("dblclick.jstree",function(event){var sel;if(document.selection&&document.selection.empty){document.selection.empty();}
else{if(window.getSelection){sel=window.getSelection();try{sel.removeAllRanges();sel.collapse();}catch(err){}}}});if(this._get_settings().core.notify_plugins){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}
if(!o.length){return;}
o.find("li").each(function(){var th=$(this);if(th.data("jstree")){$.each(th.data("jstree"),function(plugin,values){if(t.data[plugin]&&$.isFunction(t["_"+plugin+"_notify"])){t["_"+plugin+"_notify"].call(t,th,values);}});}});},this));}
if(this._get_settings().core.load_open){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var o=this._get_node(data.rslt.obj),t=this;if(o===-1){o=this.get_container_ul();}
if(!o.length){return;}
o.find("li.jstree-open:not(:has(ul))").each(function(){t.load_node(this,$.noop,$.noop);});},this));}
this.__callback();this.load_node(-1,function(){this.loaded();this.reload_nodes();});},destroy:function(){var i,n=this.get_index(),s=this._get_settings(),_this=this;$.each(s.plugins,function(i,val){try{plugins[val].__destroy.apply(_this);}catch(err){}});this.__callback();if(this.is_focused()){for(i in instances){if(instances.hasOwnProperty(i)&&i!=n){instances[i].set_focus();break;}}}
if(n===focused_instance){focused_instance=-1;}
this.get_container().unbind(".jstree").undelegate(".jstree").removeData("jstree_instance_id").find("[class^='jstree']").andSelf().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,'');});$(document).unbind(".jstree-"+n).undelegate(".jstree-"+n);instances[n]=null;delete instances[n];},_core_notify:function(n,data){if(data.opened){this.open_node(n,false,true);}},lock:function(){this.data.core.locked=true;this.get_container().children("ul").addClass("jstree-locked").css("opacity","0.7");this.__callback({});},unlock:function(){this.data.core.locked=false;this.get_container().children("ul").removeClass("jstree-locked").css("opacity","1");this.__callback({});},is_locked:function(){return this.data.core.locked;},save_opened:function(){var _this=this;this.data.core.to_open=[];this.get_container_ul().find("li.jstree-open").each(function(){if(this.id){_this.data.core.to_open.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"));}});this.__callback(_this.data.core.to_open);},save_loaded:function(){},reload_nodes:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(!is_callback){this.data.core.reopen=false;this.data.core.refreshing=true;this.data.core.to_open=$.map($.makeArray(this.data.core.to_open),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});this.data.core.to_load=$.map($.makeArray(this.data.core.to_load),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});if(this.data.core.to_open.length){this.data.core.to_load=this.data.core.to_load.concat(this.data.core.to_open);}}
if(this.data.core.to_load.length){$.each(this.data.core.to_load,function(i,val){if(val=="#"){return true;}
if($(val).length){current.push(val);}
else{remaining.push(val);}});if(current.length){this.data.core.to_load=remaining;$.each(current,function(i,val){if(!_this._is_loaded(val)){_this.load_node(val,function(){_this.reload_nodes(true);},function(){_this.reload_nodes(true);});done=false;}});}}
if(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}
if(done){if(this.data.core.reopen){clearTimeout(this.data.core.reopen);}
this.data.core.reopen=setTimeout(function(){_this.__callback({},_this);},50);this.data.core.refreshing=false;this.reopen();}},reopen:function(){var _this=this;if(this.data.core.to_open.length){$.each(this.data.core.to_open,function(i,val){_this.open_node(val,false,true);});}
this.__callback({});},refresh:function(obj){var _this=this;this.save_opened();if(!obj){obj=-1;}
obj=this._get_node(obj);if(!obj){obj=-1;}
if(obj!==-1){obj.children("UL").remove();}
else{this.get_container_ul().empty();}
this.load_node(obj,function(){_this.__callback({"obj":obj});_this.reload_nodes();});},loaded:function(){this.__callback();},set_focus:function(){if(this.is_focused()){return;}
var f=$.jstree._focused();if(f){f.unset_focus();}
this.get_container().addClass("jstree-focused");focused_instance=this.get_index();this.__callback();},is_focused:function(){return focused_instance==this.get_index();},unset_focus:function(){if(this.is_focused()){this.get_container().removeClass("jstree-focused");focused_instance=-1;}
this.__callback();},_get_node:function(obj){var $obj=$(obj,this.get_container());if($obj.is(".jstree")||obj==-1){return-1;}
$obj=$obj.closest("li",this.get_container());return $obj.length?$obj:false;},_get_next:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find("> ul > li:first-child");}
if(!obj.length){return false;}
if(strict){return(obj.nextAll("li").size()>0)?obj.nextAll("li:eq(0)"):false;}
if(obj.hasClass("jstree-open")){return obj.find("li:eq(0)");}
else if(obj.nextAll("li").size()>0){return obj.nextAll("li:eq(0)");}
else{return obj.parentsUntil(".jstree","li").next("li").eq(0);}},_get_prev:function(obj,strict){obj=this._get_node(obj);if(obj===-1){return this.get_container().find("> ul > li:last-child");}
if(!obj.length){return false;}
if(strict){return(obj.prevAll("li").length>0)?obj.prevAll("li:eq(0)"):false;}
if(obj.prev("li").length){obj=obj.prev("li").eq(0);while(obj.hasClass("jstree-open")){obj=obj.children("ul:eq(0)").children("li:last");}
return obj;}
else{var o=obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:false;}},_get_parent:function(obj){obj=this._get_node(obj);if(obj==-1||!obj.length){return false;}
var o=obj.parentsUntil(".jstree","li:eq(0)");return o.length?o:-1;},_get_children:function(obj){obj=this._get_node(obj);if(obj===-1){return this.get_container().children("ul:eq(0)").children("li");}
if(!obj.length){return false;}
return obj.children("ul:eq(0)").children("li");},get_path:function(obj,id_mode){var p=[],_this=this;obj=this._get_node(obj);if(obj===-1||!obj||!obj.length){return false;}
obj.parentsUntil(".jstree","li").each(function(){p.push(id_mode?this.id:_this.get_text(this));});p.reverse();p.push(id_mode?obj.attr("id"):this.get_text(obj));return p;},_get_string:function(key){return this._get_settings().core.strings[key]||key;},is_open:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-open");},is_closed:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-closed");},is_leaf:function(obj){obj=this._get_node(obj);return obj&&obj!==-1&&obj.hasClass("jstree-leaf");},correct_state:function(obj){obj=this._get_node(obj);if(!obj||obj===-1){return false;}
obj.removeClass("jstree-closed jstree-open").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj});},open_node:function(obj,callback,skip_animation){obj=this._get_node(obj);if(!obj.length){return false;}
if(!obj.hasClass("jstree-closed")){if(callback){callback.call();}return false;}
var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!this._is_loaded(obj)){obj.children("a").addClass("jstree-loading");this.load_node(obj,function(){t.open_node(obj,callback,skip_animation);},callback);}
else{if(this._get_settings().core.open_parents){obj.parentsUntil(".jstree",".jstree-closed").each(function(){t.open_node(this,false,true);});}
if(s){obj.children("ul").css("display","none");}
obj.removeClass("jstree-closed").addClass("jstree-open").children("a").removeClass("jstree-loading");if(s){obj.children("ul").stop(true,true).slideDown(s,function(){this.style.display="";t.after_open(obj);});}
else{t.after_open(obj);}
this.__callback({"obj":obj});if(callback){callback.call();}}},after_open:function(obj){this.__callback({"obj":obj});},close_node:function(obj,skip_animation){obj=this._get_node(obj);var s=skip_animation||is_ie6?0:this._get_settings().core.animation,t=this;if(!obj.length||!obj.hasClass("jstree-open")){return false;}
if(s){obj.children("ul").attr("style","display:block !important");}
obj.removeClass("jstree-open").addClass("jstree-closed");if(s){obj.children("ul").stop(true,true).slideUp(s,function(){this.style.display="";t.after_close(obj);});}
else{t.after_close(obj);}
this.__callback({"obj":obj});},after_close:function(obj){this.__callback({"obj":obj});},toggle_node:function(obj){obj=this._get_node(obj);if(obj.hasClass("jstree-closed")){return this.open_node(obj);}
if(obj.hasClass("jstree-open")){return this.close_node(obj);}},open_all:function(obj,do_animation,original_obj){obj=obj?this._get_node(obj):-1;if(!obj||obj===-1){obj=this.get_container_ul();}
if(original_obj){obj=obj.find("li.jstree-closed");}
else{original_obj=obj;if(obj.is(".jstree-closed")){obj=obj.find("li.jstree-closed").andSelf();}
else{obj=obj.find("li.jstree-closed");}}
var _this=this;obj.each(function(){var __this=this;if(!_this._is_loaded(this)){_this.open_node(this,function(){_this.open_all(__this,do_animation,original_obj);},!do_animation);}
else{_this.open_node(this,false,!do_animation);}});if(original_obj.find('li.jstree-closed').length===0){this.__callback({"obj":original_obj});}},close_all:function(obj,do_animation){var _this=this;obj=obj?this._get_node(obj):this.get_container();if(!obj||obj===-1){obj=this.get_container_ul();}
obj.find("li.jstree-open").andSelf().each(function(){_this.close_node(this,!do_animation);});this.__callback({"obj":obj});},clean_node:function(obj){obj=obj&&obj!=-1?$(obj):this.get_container_ul();obj=obj.is("li")?obj.find("li").andSelf():obj.find("li");obj.removeClass("jstree-last").filter("li:last-child").addClass("jstree-last").end().filter(":has(li)").not(".jstree-open").removeClass("jstree-leaf").addClass("jstree-closed");obj.not(".jstree-open, .jstree-closed").addClass("jstree-leaf").children("ul").remove();this.__callback({"obj":obj});},get_rollback:function(){this.__callback();return{i:this.get_index(),h:this.get_container().children("ul").clone(true),d:this.data};},set_rollback:function(html,data){this.get_container().empty().append(html);this.data=data;this.__callback();},load_node:function(obj,s_call,e_call){this.__callback({"obj":obj});},_is_loaded:function(obj){return true;},create_node:function(obj,position,js,callback,is_loaded){obj=this._get_node(obj);position=typeof position==="undefined"?"last":position;var d=$("<li />"),p=this._get_settings(),s=p.core,tmp;if(obj!==-1&&!obj.length){return false;}
if(!is_loaded&&!this._is_loaded(obj)){this.load_node(obj,function(){this.create_node(obj,position,js,callback,true);});return false;}
this.__rollback();if(typeof js==="string"){js={"data":js};}
if(!js){js={};}
if(js.attr){d.attr(js.attr);}
if(js.metadata){d.data(js.metadata);}
if(js.state){d.addClass("jstree-"+js.state);}
if(!js.data){js.data=this._get_string("new_node");}
if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}
$.each(js.data,function(i,m){tmp=$("<a />");if($.isFunction(m)){m=m.call(this,js);}
if(typeof m=="string"){tmp.attr('href','#')[s.html_titles?"html":"text"](m);}
else{if(!m.attr){m.attr={};}
if(!m.attr.href){m.attr.href='#';}
tmp.attr(m.attr)[s.html_titles?"html":"text"](m.title);if(m.language){tmp.addClass(m.language);}}
tmp.attr('data-action','jstree-select');tmp.prepend("<ins class='jstree-icon' data-action='jstree-toggle'>&#160;</ins>");if(!m.icon&&js.icon){m.icon=js.icon;}
if(m.icon){if(m.icon.indexOf("/")===-1){tmp.children("ins").addClass(m.icon);}
else{tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");}}
d.append(tmp);if(p.settings.showMenu===true){var link='<a class="btn jstree-addnode" href="javascript:void(0);" title="" data-original-title="Add" data-action="jstree-addnode">'+' <span class="sicon sicon-plus"></span>'+'</a>',optmp='<div class="btn-group btn-group-justified pull-right">'+link+'<a class="btn jstree-contextmenu" href="javascript:void(0);" title="" data-original-title="Actions" data-action="jstree-contextmenu">'+' <span class="sicon sicon-caret-down"></span>'+'</a>'+'</div>';d.append(optmp);}});d.prepend("<ins class='jstree-icon' data-action='jstree-toggle'>&#160;</ins>");if(obj===-1){obj=this.get_container();if(position==="before"){position="first";}
if(position==="after"){position="last";}}
switch(position){case"before":obj.before(d);tmp=this._get_parent(obj);break;case"after":obj.after(d);tmp=this._get_parent(obj);break;case"inside":case"first":if(!obj.children("ul").length){obj.append("<ul />");}
obj.children("ul").prepend(d);tmp=obj;break;case"last":if(!obj.children("ul").length){obj.append("<ul />");}
obj.children("ul").append(d);tmp=obj;break;default:if(!obj.children("ul").length){obj.append("<ul />");}
if(!position){position=0;}
tmp=obj.children("ul").children("li").eq(position);if(tmp.length){tmp.before(d);}
else{obj.children("ul").append(d);}
tmp=obj;break;}
if(tmp===-1||tmp.get(0)===this.get_container().get(0)){tmp=-1;}
this.clean_node(tmp);this.__callback({"obj":d,"parent":tmp});if(callback){callback.call(this,d);}
return d;},get_text:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
var s=this._get_settings().core.html_titles;obj=obj.children("a:eq(0)");if(s){obj=obj.clone();obj.children("INS").remove();return obj.html();}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val){obj=this._get_node(obj);if(!obj.length){return false;}
obj=obj.children("a:eq(0)");if(this._get_settings().core.html_titles){var tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val});return true;}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({"obj":obj,"name":val});return(obj.nodeValue=val);}},rename_node:function(obj,val){obj=this._get_node(obj);this.__rollback();if(obj&&obj.length&&this.set_text.apply(this,Array.prototype.slice.call(arguments))){this.__callback({"obj":obj,"name":val});}},delete_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
this.__rollback();var p=this._get_parent(obj),prev=$([]),t=this;obj.each(function(){prev=prev.add(t._get_prev(this));});obj=obj.detach();if(p!==-1&&p.find("> ul > li").length===0){p.removeClass("jstree-open jstree-closed").addClass("jstree-leaf");}
this.clean_node(p);this.__callback({"obj":obj,"prev":prev,"parent":p});return obj;},prepare_move:function(o,r,pos,cb,is_cb){var p={};p.ot=$.jstree._reference(o)||this;p.o=p.ot._get_node(o);p.r=r===-1?-1:this._get_node(r);p.p=(typeof pos==="undefined"||pos===false)?"last":pos;if(!is_cb&&prepared_move.o&&prepared_move.o[0]===p.o[0]&&prepared_move.r[0]===p.r[0]&&prepared_move.p===p.p){this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}
return;}
p.ot=$.jstree._reference(p.o)||this;p.rt=$.jstree._reference(p.r)||this;if(p.r===-1||!p.r){p.cr=-1;switch(p.p){case"first":case"before":case"inside":p.cp=0;break;case"after":case"last":p.cp=p.rt.get_container().find(" > ul > li").length;break;default:p.cp=p.p;break;}}
else{if(!/^(before|after)$/.test(p.p)&&!this._is_loaded(p.r)){return this.load_node(p.r,function(){this.prepare_move(o,r,pos,cb,true);});}
switch(p.p){case"before":p.cp=p.r.index();p.cr=p.rt._get_parent(p.r);break;case"after":p.cp=p.r.index()+1;p.cr=p.rt._get_parent(p.r);break;case"inside":case"first":p.cp=0;p.cr=p.r;break;case"last":p.cp=p.r.find(" > ul > li").length;p.cr=p.r;break;default:p.cp=p.p;p.cr=p.r;break;}}
p.np=p.cr==-1?p.rt.get_container():p.cr;p.op=p.ot._get_parent(p.o);p.cop=p.o.index();if(p.op===-1){p.op=p.ot?p.ot.get_container():this.get_container();}
if(!/^(before|after)$/.test(p.p)&&p.op&&p.np&&p.op[0]===p.np[0]&&p.o.index()<p.cp){p.cp++;}
p.or=p.np.find(" > ul > li:nth-child("+(p.cp+1)+")");prepared_move=p;this.__callback(prepared_move);if(cb){cb.call(this,prepared_move);}},check_move:function(){var obj=prepared_move,ret=true,r=obj.r===-1?this.get_container():obj.r;if(!obj||!obj.o||obj.or[0]===obj.o[0]){return false;}
if(obj.op&&obj.np&&obj.op[0]===obj.np[0]&&obj.cp-1===obj.o.index()){return false;}
obj.o.each(function(){if(r.parentsUntil(".jstree","li").andSelf().index(this)!==-1){ret=false;return false;}});return ret;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){if(!is_prepared){return this.prepare_move(obj,ref,position,function(p){this.move_node(p,false,false,is_copy,true,skip_check);});}
if(is_copy){prepared_move.cy=true;}
if(!skip_check&&!this.check_move()){return false;}
this.__rollback();var o=false;if(is_copy){o=obj.o.clone(true);o.find("*[id]").andSelf().each(function(){if(this.id){this.id="copy_"+this.id;}});}
else{o=obj.o;}
if(obj.or.length){obj.or.before(o);}
else{if(!obj.np.children("ul").length){$("<ul />").appendTo(obj.np);}
obj.np.children("ul:eq(0)").append(o);}
try{obj.ot.clean_node(obj.op);obj.rt.clean_node(obj.np);if(!obj.op.find("> ul > li").length){obj.op.removeClass("jstree-open jstree-closed").addClass("jstree-leaf").children("ul").remove();}}catch(e){}
if(is_copy){prepared_move.cy=true;prepared_move.oc=o;}
this.__callback(prepared_move);return prepared_move;},_get_move:function(){return prepared_move;}}});})(jQuery);(function($){var scrollbar_width,e1,e2;$(function(){if(/msie/.test(navigator.userAgent.toLowerCase())){e1=$('<textarea cols="10" rows="2"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');e2=$('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({position:'absolute',top:-1000,left:0}).appendTo('body');scrollbar_width=e1.width()-e2.width();e1.add(e2).remove();}
else{e1=$('<div />').css({width:100,height:100,overflow:'auto',position:'absolute',top:-1000,left:0}).prependTo('body').append('<div />').find('div').css({width:'100%',height:200});scrollbar_width=100-e1.width();e1.parent().remove();}});$.jstree.plugin("ui",{__init:function(){this.data.ui.selected=$();this.data.ui.last_selected=false;this.data.ui.hovered=null;this.data.ui.to_select=this.get_settings().ui.initially_select;this.get_container().delegate("a","click.jstree",$.proxy(function(event){event.preventDefault();event.currentTarget.blur();if(!$(event.currentTarget).hasClass("jstree-loading")){this.select_node(event.currentTarget,true,event);}},this)).delegate("a","mouseenter.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading")){this.hover_node(event.target);}},this)).delegate("a","mouseleave.jstree",$.proxy(function(event){if(!$(event.currentTarget).hasClass("jstree-loading")){this.dehover_node(event.target);}},this)).bind("reopen.jstree",$.proxy(function(){this.reselect();},this)).bind("get_rollback.jstree",$.proxy(function(){this.dehover_node();this.save_selected();},this)).bind("set_rollback.jstree",$.proxy(function(){this.reselect();},this)).bind("close_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.children("ul").find("a.jstree-clicked"):$(),_this=this;if(s.selected_parent_close===false||!clk.length){return;}
clk.each(function(){_this.deselect_node(this);if(s.selected_parent_close==="select_parent"){_this.select_node(obj);}});},this)).bind("delete_node.jstree",$.proxy(function(event,data){var s=this._get_settings().ui.select_prev_on_delete,obj=this._get_node(data.rslt.obj),clk=(obj&&obj.length)?obj.find("a.jstree-clicked"):$(),_this=this;clk.each(function(){_this.deselect_node(this);});if(s&&clk.length){data.rslt.prev.each(function(){if(this.parentNode){_this.select_node(this);return false;}});}},this)).bind("move_node.jstree",$.proxy(function(event,data){if(data.rslt.cy){data.rslt.oc.find("a.jstree-clicked").removeClass("jstree-clicked");}},this));},defaults:{select_limit:-1,select_multiple_modifier:"ctrl",select_range_modifier:"shift",selected_parent_close:"select_parent",selected_parent_open:true,select_prev_on_delete:true,disable_selecting_children:false,initially_select:[]},_fn:{_get_node:function(obj,allow_multiple){if(typeof obj==="undefined"||obj===null){return allow_multiple?this.data.ui.selected:this.data.ui.last_selected;}
var $obj=this.get_container().find(obj);if($obj.is(".jstree")||obj==-1){return-1;}
$obj=$obj.closest("li",this.get_container());return $obj.length?$obj:false;},_ui_notify:function(n,data){if(data.selected){this.select_node(n,false);}},save_selected:function(){var _this=this;this.data.ui.to_select=[];this.data.ui.selected.each(function(){if(this.id){_this.data.ui.to_select.push("#"+this.id.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:"));}});this.__callback(this.data.ui.to_select);},reselect:function(){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});$.each(s,function(i,val){if(val&&val!=="#"){_this.select_node(val);}});this.data.ui.selected=this.data.ui.selected.filter(function(){return this.parentNode;});this.__callback();},refresh:function(obj){this.save_selected();return this.__call_old();},hover_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(!obj.hasClass("jstree-hovered")){this.dehover_node();}
this.data.ui.hovered=obj.children("a").addClass("jstree-hovered").parent();this._fix_scroll(obj);this.__callback({"obj":obj});},dehover_node:function(){var obj=this.data.ui.hovered,p;if(!obj||!obj.length){return false;}
p=obj.children("a").removeClass("jstree-hovered").parent();if(this.data.ui.hovered[0]===p[0]){this.data.ui.hovered=null;}
this.__callback({"obj":obj});},select_node:function(obj,check,e){obj=this._get_node(obj);if(obj==-1||!obj||!obj.length){return false;}
var s=this._get_settings().ui,is_multiple=(s.select_multiple_modifier=="on"||(s.select_multiple_modifier!==false&&e&&e[s.select_multiple_modifier+"Key"])),is_range=(s.select_range_modifier!==false&&e&&e[s.select_range_modifier+"Key"]&&this.data.ui.last_selected&&this.data.ui.last_selected[0]!==obj[0]&&this.data.ui.last_selected.parent()[0]===obj.parent()[0]),is_selected=this.is_selected(obj),proceed=true,t=this;if(check){if(s.disable_selecting_children&&is_multiple&&((obj.parentsUntil(".jstree","li").children("a.jstree-clicked").length)||(obj.children("ul").find("a.jstree-clicked:eq(0)").length))){return false;}
proceed=false;switch(!0){case(is_range):this.data.ui.last_selected.addClass("jstree-last-selected");obj=obj[obj.index()<this.data.ui.last_selected.index()?"nextUntil":"prevUntil"](".jstree-last-selected").andSelf();if(s.select_limit==-1||obj.length<s.select_limit){this.data.ui.last_selected.removeClass("jstree-last-selected");this.data.ui.selected.each(function(){if(this!==t.data.ui.last_selected[0]){t.deselect_node(this);}});is_selected=false;proceed=true;}
else{proceed=false;}
break;case(is_selected&&!is_multiple):this.deselect_all();is_selected=false;proceed=true;break;case(!is_selected&&!is_multiple):if(s.select_limit==-1||s.select_limit>0){this.deselect_all();proceed=true;}
break;case(is_selected&&is_multiple):this.deselect_node(obj);break;case(!is_selected&&is_multiple):if(s.select_limit==-1||this.data.ui.selected.length+1<=s.select_limit){proceed=true;}
break;}}
if(proceed&&!is_selected){if(!is_range){this.data.ui.last_selected=obj;}
obj.children("a").addClass("jstree-clicked");if(s.selected_parent_open){obj.parents(".jstree-closed").each(function(){t.open_node(this,false,true);});}
this.data.ui.selected=this.data.ui.selected.add(obj);this._fix_scroll(obj.eq(0));this.__callback({"obj":obj,"e":e});}},_fix_scroll:function(obj){var c=this.get_container()[0],t;if(c.scrollHeight>c.offsetHeight){obj=this._get_node(obj);if(!obj||obj===-1||!obj.length||!obj.is(":visible")){return;}
t=obj.offset().top-this.get_container().offset().top;if(t<0){c.scrollTop=c.scrollTop+t-1;}
if(t+this.data.core.li_height+(c.scrollWidth>c.offsetWidth?scrollbar_width:0)>c.offsetHeight){c.scrollTop=c.scrollTop+(t-c.offsetHeight+this.data.core.li_height+1+(c.scrollWidth>c.offsetWidth?scrollbar_width:0));}}},deselect_node:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(this.is_selected(obj)){obj.children("a").removeClass("jstree-clicked");this.data.ui.selected=this.data.ui.selected.not(obj);if(this.data.ui.last_selected.get(0)===obj.get(0)){this.data.ui.last_selected=this.data.ui.selected.eq(0);}
this.__callback({"obj":obj});}},toggle_select:function(obj){obj=this._get_node(obj);if(!obj.length){return false;}
if(this.is_selected(obj)){this.deselect_node(obj);}
else{this.select_node(obj);}},is_selected:function(obj){return this.data.ui.selected.index(this._get_node(obj))>=0;},get_selected:function(context){return context?$(context).find("a.jstree-clicked").parent():this.data.ui.selected;},deselect_all:function(context){var ret=context?$(context).find("a.jstree-clicked").parent():this.get_container().find("a.jstree-clicked").parent();ret.children("a.jstree-clicked").removeClass("jstree-clicked");this.data.ui.selected=$([]);this.data.ui.last_selected=false;this.__callback({"obj":ret});}}});$.jstree.defaults.plugins.push("ui");})(jQuery);(function($){$.jstree.plugin("crrm",{__init:function(){this.get_container().bind("move_node.jstree",$.proxy(function(e,data){if(this._get_settings().crrm.move.open_onmove){var t=this;data.rslt.np.parentsUntil(".jstree").andSelf().filter(".jstree-closed").each(function(){t.open_node(this,false,true);});}},this));},defaults:{input_width_limit:200,move:{always_copy:false,open_onmove:true,default_position:"last",check_move:function(m){return true;}}},_fn:{_show_input:function(obj,mode,callback){obj=this._get_node(obj);var rtl=this._get_settings().core.rtl,w=this._get_settings().crrm.input_width_limit,w1=obj.children("ins").width(),w2=obj.find("> a:visible > ins").width()*obj.find("> a:visible > ins").length,t=this.get_text(obj),h1=$("<div />",{css:{"position":"absolute","top":"-200px","left":(rtl?"0px":"-1000px"),"visibility":"hidden"}}).appendTo("body"),h2=obj.css("position","relative").append($("<input />",{"value":t,'data-mode':mode||'add',"class":"jstree-rename-input","css":{"padding":"0","border":"1px solid silver","position":"absolute","left":(rtl?"auto":(w1+w2+4)+"px"),"right":(rtl?(w1+w2+4)+"px":"auto"),"top":"0px","height":(this.data.core.li_height-2)+"px","lineHeight":(this.data.core.li_height-2)+"px","width":"150px"},"blur":$.proxy(function(){var i=obj.children(".jstree-rename-input"),v=i.val();if($(i).attr('data-mode')==='delete'){this.remove(obj);return false;}
if(v===""){v=t;}
h1.remove();i.remove();this.set_text(obj,t);this.rename_node(obj,v);callback.call(this,obj,v,t);obj.css("position","");},this),"keyup":function(event){var key=event.keyCode||event.which;if(key==27){$(this).attr('data-mode')==='add'?$(this).attr('data-mode','delete'):this.value=t;this.blur();return;}
else if(key==13){this.blur();return;}
else{h2.width(Math.min(h1.text("pW"+this.value).width(),w));}},"keypress":function(event){var key=event.keyCode||event.which;if(key==13){return false;}}})).children(".jstree-rename-input");this.get_container().triggerHandler("show_input.jstree",{"obj":obj,"h1":h1,"h2":h2,"w":w,"t":t});this.set_text(obj,"");h1.css({fontFamily:h2.css('fontFamily')||'',fontSize:h2.css('fontSize')||'',fontWeight:h2.css('fontWeight')||'',fontStyle:h2.css('fontStyle')||'',fontStretch:h2.css('fontStretch')||'',fontVariant:h2.css('fontVariant')||'',letterSpacing:h2.css('letterSpacing')||'',wordSpacing:h2.css('wordSpacing')||''});h2.width(Math.min(h1.text("pW"+h2[0].value).width(),w))[0].select();},rename:function(obj){obj=this._get_node(obj);this.__rollback();var f=this.__callback;this._show_input(obj,'edit',function(obj,new_name,old_name){f.call(this,{"obj":obj,"new_name":new_name,"old_name":old_name});});},create:function(obj,position,js,callback,skip_rename,silent){var t,_this=this,silent=silent||false;obj=this._get_node(obj);if(!obj){obj=-1;}
this.__rollback();t=this.create_node(obj,position,js,function(t){var p=this._get_parent(t),pos=$(t).index();if(callback){callback.call(this,t);}
if(p.length&&p.hasClass("jstree-closed")&&!silent){this.open_node(p,false,true);}
if(!skip_rename){this._show_input(t,'add',function(obj,new_name,old_name){_this.__callback({"obj":obj,"name":new_name,"parent":p,"position":pos});});}
else{_this.__callback({"obj":t,"name":this.get_text(t),"parent":p,"position":pos});}});return t;},remove:function(obj){obj=this._get_node(obj,true);var p=this._get_parent(obj),prev=this._get_prev(obj);this.__rollback();obj=this.delete_node(obj);if(obj!==false){this.__callback({"obj":obj,"prev":prev,"parent":p});}},check_move:function(){if(!this.__call_old()){return false;}
var s=this._get_settings().crrm.move;if(!s.check_move.call(this,this._get_move())){return false;}
return true;},move_node:function(obj,ref,position,is_copy,is_prepared,skip_check){var s=this._get_settings().crrm.move;if(!is_prepared){if(typeof position==="undefined"){position=s.default_position;}
if(position==="inside"&&!s.default_position.match(/^(before|after)$/)){position=s.default_position;}
return this.__call_old(true,obj,ref,position,is_copy,false,skip_check);}
if(s.always_copy===true||(s.always_copy==="multitree"&&obj.rt.get_index()!==obj.ot.get_index())){is_copy=true;}
this.__call_old(true,obj,ref,position,is_copy,true,skip_check);},cut:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}
this.data.crrm.cp_nodes=false;this.data.crrm.ct_nodes=obj;this.__callback({"obj":obj});},copy:function(obj){obj=this._get_node(obj,true);if(!obj||!obj.length){return false;}
this.data.crrm.ct_nodes=false;this.data.crrm.cp_nodes=obj;this.__callback({"obj":obj});},paste:function(obj){obj=this._get_node(obj);if(!obj||!obj.length){return false;}
var nodes=this.data.crrm.ct_nodes?this.data.crrm.ct_nodes:this.data.crrm.cp_nodes;if(!this.data.crrm.ct_nodes&&!this.data.crrm.cp_nodes){return false;}
if(this.data.crrm.ct_nodes){this.move_node(this.data.crrm.ct_nodes,obj);this.data.crrm.ct_nodes=false;}
if(this.data.crrm.cp_nodes){this.move_node(this.data.crrm.cp_nodes,obj,false,true);}
this.__callback({"obj":obj,"nodes":nodes});}}});})(jQuery);(function($){var themes_loaded=[];$.jstree._themes=false;$.jstree.plugin("themes",{__init:function(){this.get_container().bind("init.jstree",$.proxy(function(){var s=this._get_settings().themes;this.data.themes.dots=s.dots;this.data.themes.icons=s.icons;},this)).bind("loaded.jstree",$.proxy(function(){if(!this.data.themes.dots){this.hide_dots();}
else{this.show_dots();}
if(!this.data.themes.icons){this.hide_icons();}
else{this.show_icons();}},this));},defaults:{theme:"default",url:false,dots:true,icons:true},_fn:{set_theme:function(theme_name,theme_url){if(!theme_name){return false;}
if(!theme_url){theme_url=$.jstree._themes+theme_name+'/style.css';}
if($.inArray(theme_url,themes_loaded)==-1){$.vakata.css.add_sheet({"url":theme_url});themes_loaded.push(theme_url);}
if(this.data.themes.theme!=theme_name){this.get_container().removeClass('jstree-'+this.data.themes.theme);this.data.themes.theme=theme_name;}
this.get_container().addClass('jstree-'+theme_name);if(!this.data.themes.dots){this.hide_dots();}
else{this.show_dots();}
if(!this.data.themes.icons){this.hide_icons();}
else{this.show_icons();}
this.__callback();},get_theme:function(){return this.data.themes.theme;},show_dots:function(){this.data.themes.dots=true;this.get_container().children("ul").removeClass("jstree-no-dots");},hide_dots:function(){this.data.themes.dots=false;this.get_container().children("ul").addClass("jstree-no-dots");},toggle_dots:function(){if(this.data.themes.dots){this.hide_dots();}else{this.show_dots();}},show_icons:function(){this.data.themes.icons=true;this.get_container().children("ul").removeClass("jstree-no-icons");},hide_icons:function(){this.data.themes.icons=false;this.get_container().children("ul").addClass("jstree-no-icons");},toggle_icons:function(){if(this.data.themes.icons){this.hide_icons();}else{this.show_icons();}}}});$(function(){if($.jstree._themes===false){$("script").each(function(){if(this.src.toString().match(/jquery\.jstree[^\/]*?\.js(\?.*)?$/)){$.jstree._themes=this.src.toString().replace(/jquery\.jstree[^\/]*?\.js(\?.*)?$/,"")+'themes/';return false;}});}
if($.jstree._themes===false){$.jstree._themes="themes/";}});$.jstree.defaults.plugins.push("themes");})(jQuery);(function($){var bound=[];function exec(i,event){var f=$.jstree._focused(),tmp;if(f&&f.data&&f.data.hotkeys&&f.data.hotkeys.enabled){tmp=f._get_settings().hotkeys[i];if(tmp){return tmp.call(f,event);}}}
$.jstree.plugin("hotkeys",{__init:function(){if(typeof $.hotkeys==="undefined"){throw"jsTree hotkeys: jQuery hotkeys plugin not included.";}
if(!this.data.ui){throw"jsTree hotkeys: jsTree UI plugin not included.";}
$.each(this._get_settings().hotkeys,function(i,v){if(v!==false&&$.inArray(i,bound)==-1){$(document).bind("keydown",i,function(event){return exec(i,event);});bound.push(i);}});this.get_container().bind("lock.jstree",$.proxy(function(){if(this.data.hotkeys.enabled){this.data.hotkeys.enabled=false;this.data.hotkeys.revert=true;}},this)).bind("unlock.jstree",$.proxy(function(){if(this.data.hotkeys.revert){this.data.hotkeys.enabled=true;}},this));this.enable_hotkeys();},defaults:{"up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"ctrl+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"shift+up":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_prev(o));return false;},"down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"ctrl+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"shift+down":function(){var o=this.data.ui.hovered||this.data.ui.last_selected||-1;this.hover_node(this._get_next(o));return false;},"left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"ctrl+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"shift+left":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o){if(o.hasClass("jstree-open")){this.close_node(o);}
else{this.hover_node(this._get_prev(o));}}
return false;},"right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"ctrl+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"shift+right":function(){var o=this.data.ui.hovered||this.data.ui.last_selected;if(o&&o.length){if(o.hasClass("jstree-closed")){this.open_node(o);}
else{this.hover_node(this._get_next(o));}}
return false;},"space":function(){if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").click();}
return false;},"ctrl+space":function(event){event.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(event);}
return false;},"shift+space":function(event){event.type="click";if(this.data.ui.hovered){this.data.ui.hovered.children("a:eq(0)").trigger(event);}
return false;},"f2":function(){this.rename(this.data.ui.hovered||this.data.ui.last_selected);},"del":function(){this.remove(this.data.ui.hovered||this._get_node(null));}},_fn:{enable_hotkeys:function(){this.data.hotkeys.enabled=true;},disable_hotkeys:function(){this.data.hotkeys.enabled=false;}}});})(jQuery);(function($){$.jstree.plugin("json_data",{__init:function(){var s=this._get_settings().json_data;if(s.progressive_unload){this.get_container().bind("after_close.jstree",function(e,data){data.rslt.obj.children("ul").remove();});}},defaults:{data:false,ajax:false,correct_state:true,progressive_render:false,progressive_unload:false},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_json(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().json_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!s.progressive_render&&!$.isFunction(s.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").length>0;},refresh:function(obj){obj=this._get_node(obj);var s=this._get_settings().json_data;if(obj&&obj!==-1&&s.progressive_unload&&($.isFunction(s.data)||!!s.ajax)){obj.removeData("jstree_children");}
return this.__call_old();},load_node_json:function(obj,s_call,e_call){var s=this.get_settings().json_data,d,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1&&(s.progressive_render||s.progressive_unload)&&!obj.is(".jstree-open, .jstree-leaf")&&obj.children("ul").children("li").length===0&&obj.data("jstree_children")){d=this._parse_json(obj.data("jstree_children"),obj);if(d){obj.append(d);if(!s.progressive_unload){obj.removeData("jstree_children");}}
this.clean_node(obj);if(s_call){s_call.call(this);}
return;}
if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case(!s.data&&!s.ajax):throw"Neither data nor ajax settings supplied.";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){d=this._parse_json(d,obj);if(!d){if(obj===-1||!obj){if(s.correct_state){this.get_container().children("ul").empty();}}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);}}
if(e_call){e_call.call(this);}}
else{if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=this._parse_json(s.data,obj);if(d){this.get_container().children("ul").empty().append(d.children());this.clean_node();}
else{if(s.correct_state){this.get_container().children("ul").empty();}}}
if(s_call){s_call.call(this);}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().json_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().json_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")||(!$.isArray(d)&&!$.isPlainObject(d))){return error_func.call(this,x,t,"");}
d=this._parse_json(d,obj);if(d){if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.append(d).children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj===-1||!obj){if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="json";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}},_parse_json:function(js,obj,is_callback){var d=false,p=this._get_settings(),s=p.json_data,t=p.core.html_titles,tmp,i,j,ul1,ul2;if(!js){return d;}
if(s.progressive_unload&&obj&&obj!==-1){obj.data("jstree_children",d);}
if($.isArray(js)){d=$();if(!js.length){return false;}
for(i=0,j=js.length;i<j;i++){tmp=this._parse_json(js[i],obj,true);if(tmp.length){d=d.add(tmp);}}}
else{if(typeof js=="string"){js={data:js};}
if(!js.data&&js.data!==""){return d;}
d=$("<li />");if(js.attr){d.attr(js.attr);}
if(js.metadata){d.data(js.metadata);}
if(js.state){d.addClass("jstree-"+js.state);}
if(!$.isArray(js.data)){tmp=js.data;js.data=[];js.data.push(tmp);}
$.each(js.data,function(i,m){tmp=$("<a />");if($.isFunction(m)){m=m.call(this,js);}
if(typeof m=="string"){tmp.attr('href','#')[t?"html":"text"](m);}
else{if(!m.attr){m.attr={};}
if(!m.attr.href){m.attr.href='#';}
tmp.attr(m.attr)[t?"html":"text"](m.title);if(m.language){tmp.addClass(m.language);}}
tmp.attr('data-action','jstree-select');tmp.prepend("<ins class='jstree-icon _parse_json_inner'>&#160;</ins>");if(!m.icon&&js.icon){m.icon=js.icon;}
if(m.icon){if(m.icon.indexOf("/")===-1){tmp.children("ins").addClass(m.icon);}
else{tmp.children("ins").css("background","url('"+m.icon+"') center center no-repeat");}}
d.append(tmp);if(p.settings.showMenu===true){var link='<a class="btn jstree-addnode" href="javascript:void(0);" title="" data-original-title="Add" data-action="jstree-addnode">'+' <span class="sicon sicon-plus"></span>'+'</a>',optmp='<div class="btn-group btn-group-justified pull-right">'+link+'<a class="btn jstree-contextmenu" href="javascript:void(0);" title="" data-original-title="Actions" data-action="jstree-contextmenu">'+' <span class="sicon sicon-caret-down"></span>'+'</a>'+'</div>';d.append(optmp);}});d.prepend("<ins class='jstree-icon _parse_json_outer' data-action='jstree-toggle'>&#160;</ins>");if(js.children){if(s.progressive_render&&js.state!=="open"){d.addClass("jstree-closed").data("jstree_children",js.children);}
else{if(s.progressive_unload){d.data("jstree_children",js.children);}
if($.isArray(js.children)&&js.children.length){tmp=this._parse_json(js.children,obj,true);if(tmp.length){ul2=$("<ul />");ul2.append(tmp);d.append(ul2);}}}}}
if(!is_callback){ul1=$("<ul />");ul1.append(d);d=ul1;}
return d;},get_json:function(obj,li_attr,a_attr,is_callback){var result=[],s=this._get_settings(),_this=this,tmp1,tmp2,li,a,t,lang;obj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find("> ul > li");}
li_attr=$.isArray(li_attr)?li_attr:["id","class"];if(!is_callback&&this.data.types){li_attr.push(s.types.type_attr);}
a_attr=$.isArray(a_attr)?a_attr:[];obj.each(function(){li=$(this);tmp1={data:[]};if(li_attr.length){tmp1.attr={};}
$.each(li_attr,function(i,v){tmp2=li.attr(v);if(tmp2&&tmp2.length&&tmp2.replace(/jstree[^ ]*/ig,'').length){tmp1.attr[v]=(" "+tmp2).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");}});if(li.hasClass("jstree-open")){tmp1.state="open";}
if(li.hasClass("jstree-closed")){tmp1.state="closed";}
if(li.data()){tmp1.metadata=li.data();}
a=li.children("a");a.each(function(){t=$(this);if(a_attr.length||$.inArray("languages",s.plugins)!==-1||t.children("ins").get(0).style.backgroundImage.length||(t.children("ins").get(0).className&&t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').length)){lang=false;if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(l,lv){if(t.hasClass(lv)){lang=lv;return false;}});}
tmp2={attr:{},title:_this.get_text(t,lang)};$.each(a_attr,function(k,z){tmp2.attr[z]=(" "+(t.attr(z)||"")).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");});if($.inArray("languages",s.plugins)!==-1&&$.isArray(s.languages)&&s.languages.length){$.each(s.languages,function(k,z){if(t.hasClass(z)){tmp2.language=z;return true;}});}
if(t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\s+$/ig,"").length){tmp2.icon=t.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,"");}
if(t.children("ins").get(0).style.backgroundImage.length){tmp2.icon=t.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","");}}
else{tmp2=_this.get_text(t);}
if(a.length>1){tmp1.data.push(tmp2);}
else{tmp1.data=tmp2;}});li=li.find("> ul > li");if(li.length){tmp1.children=_this.get_json(li,li_attr,a_attr,true);}
result.push(tmp1);});return result;}}});})(jQuery);(function($){$.jstree.plugin("languages",{__init:function(){this._load_css();},defaults:[],_fn:{set_lang:function(i){var langs=this._get_settings().languages,st=false,selector=".jstree-"+this.get_index()+' a';if(!$.isArray(langs)||langs.length===0){return false;}
if($.inArray(i,langs)==-1){if(!!langs[i]){i=langs[i];}
else{return false;}}
if(i==this.data.languages.current_language){return true;}
st=$.vakata.css.get_css(selector+"."+this.data.languages.current_language,false,this.data.languages.language_css);if(st!==false){st.style.display="none";}
st=$.vakata.css.get_css(selector+"."+i,false,this.data.languages.language_css);if(st!==false){st.style.display="";}
this.data.languages.current_language=i;this.__callback(i);return true;},get_lang:function(){return this.data.languages.current_language;},_get_string:function(key,lang){var langs=this._get_settings().languages,s=this._get_settings().core.strings;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;}
if(s[lang]&&s[lang][key]){return s[lang][key];}
if(s[key]){return s[key];}
return key;},get_text:function(obj,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}
var langs=this._get_settings().languages,s=this._get_settings().core.html_titles;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children("a."+lang);}
else{obj=obj.children("a:eq(0)");}
if(s){obj=obj.clone();obj.children("INS").remove();return obj.html();}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];return obj.nodeValue;}},set_text:function(obj,val,lang){obj=this._get_node(obj)||this.data.ui.last_selected;if(!obj.size()){return false;}
var langs=this._get_settings().languages,s=this._get_settings().core.html_titles,tmp;if($.isArray(langs)&&langs.length){lang=(lang&&$.inArray(lang,langs)!=-1)?lang:this.data.languages.current_language;obj=obj.children("a."+lang);}
else{obj=obj.children("a:eq(0)");}
if(s){tmp=obj.children("INS").clone();obj.html(val).prepend(tmp);this.__callback({"obj":obj,"name":val,"lang":lang});return true;}
else{obj=obj.contents().filter(function(){return this.nodeType==3;})[0];this.__callback({"obj":obj,"name":val,"lang":lang});return(obj.nodeValue=val);}},_load_css:function(){var langs=this._get_settings().languages,str="/* languages css */",selector=".jstree-"+this.get_index()+' a',ln;if($.isArray(langs)&&langs.length){this.data.languages.current_language=langs[0];for(ln=0;ln<langs.length;ln++){str+=selector+"."+langs[ln]+" {";if(langs[ln]!=this.data.languages.current_language){str+=" display:none; ";}
str+=" } ";}
this.data.languages.language_css=$.vakata.css.add_sheet({'str':str,'title':"jstree-languages"});}},create_node:function(obj,position,js,callback){var t=this.__call_old(true,obj,position,js,function(t){var langs=this._get_settings().languages,a=t.children("a"),ln;if($.isArray(langs)&&langs.length){for(ln=0;ln<langs.length;ln++){if(!a.is("."+langs[ln])){t.append(a.eq(0).clone().removeClass(langs.join(" ")).addClass(langs[ln]));}}
a.not("."+langs.join(", .")).remove();}
if(callback){callback.call(this,t);}});return t;}}});})(jQuery);(function($){$.jstree.plugin("cookies",{__init:function(){if(typeof $.cookie==="undefined"){throw"jsTree cookie: jQuery cookie plugin not included.";}
var s=this._get_settings().cookies,tmp;if(!!s.save_loaded){tmp=$.cookie(s.save_loaded);if(tmp&&tmp.length){this.data.core.to_load=tmp.split(",");}}
if(!!s.save_opened){tmp=$.cookie(s.save_opened);if(tmp&&tmp.length){this.data.core.to_open=tmp.split(",");}}
if(!!s.save_selected){tmp=$.cookie(s.save_selected);if(tmp&&tmp.length&&this.data.ui){this.data.ui.to_select=tmp.split(",");}}
this.get_container().one((this.data.ui?"reselect":"reopen")+".jstree",$.proxy(function(){this.get_container().bind("open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree",$.proxy(function(e){if(this._get_settings().cookies.auto_save){this.save_cookie((e.handleObj.namespace+e.handleObj.type).replace("jstree",""));}},this));},this));},defaults:{save_loaded:"jstree_load",save_opened:"jstree_open",save_selected:"jstree_select",auto_save:true,cookie_options:{}},_fn:{save_cookie:function(c){if(this.data.core.refreshing){return;}
var s=this._get_settings().cookies;if(!c){if(s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options);}
if(s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options);}
if(s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),s.cookie_options);}
return;}
switch(c){case"open_node":case"close_node":if(!!s.save_opened){this.save_opened();$.cookie(s.save_opened,this.data.core.to_open.join(","),s.cookie_options);}
if(!!s.save_loaded){this.save_loaded();$.cookie(s.save_loaded,this.data.core.to_load.join(","),s.cookie_options);}
break;case"select_node":case"deselect_node":if(!!s.save_selected&&this.data.ui){this.save_selected();$.cookie(s.save_selected,this.data.ui.to_select.join(","),s.cookie_options);}
break;}}}});})(jQuery);(function($){$.jstree.plugin("sort",{__init:function(){this.get_container().bind("load_node.jstree",$.proxy(function(e,data){var obj=this._get_node(data.rslt.obj);obj=obj===-1?this.get_container().children("ul"):obj.children("ul");this.sort(obj);},this)).bind("rename_node.jstree create_node.jstree create.jstree",$.proxy(function(e,data){this.sort(data.rslt.obj.parent());},this)).bind("move_node.jstree",$.proxy(function(e,data){var m=data.rslt.np==-1?this.get_container():data.rslt.np;this.sort(m.children("ul"));},this));},defaults:function(a,b){return this.get_text(a)>this.get_text(b)?1:-1;},_fn:{sort:function(obj){var s=this._get_settings().sort,t=this;obj.append($.makeArray(obj.children("li")).sort($.proxy(s,t)));obj.find("> li > ul").each(function(){t.sort($(this));});this.clean_node(obj);}}});})(jQuery);(function($){var o=false,r=false,m=false,ml=false,sli=false,sti=false,dir1=false,dir2=false,last_pos=false;$.vakata.dnd={is_down:false,is_drag:false,helper:false,scroll_spd:10,init_x:0,init_y:0,threshold:5,helper_left:5,helper_top:10,user_data:{},drag_start:function(e,data,html){if($.vakata.dnd.is_drag){$.vakata.drag_stop({});}
try{e.currentTarget.unselectable="on";e.currentTarget.onselectstart=function(){return false;};if(e.currentTarget.style){e.currentTarget.style.MozUserSelect="none";}}catch(err){}
$.vakata.dnd.init_x=e.pageX;$.vakata.dnd.init_y=e.pageY;$.vakata.dnd.user_data=data;$.vakata.dnd.is_down=true;$.vakata.dnd.helper=$("<div id='vakata-dragged' />").html(html);$(document).bind("mousemove",$.vakata.dnd.drag);$(document).bind("mouseup",$.vakata.dnd.drag_stop);return false;},drag:function(e){if(!$.vakata.dnd.is_down){return;}
if(!$.vakata.dnd.is_drag){if(Math.abs(e.pageX-$.vakata.dnd.init_x)>5||Math.abs(e.pageY-$.vakata.dnd.init_y)>5){$.vakata.dnd.helper.appendTo("body");$.vakata.dnd.is_drag=true;$(document).triggerHandler("drag_start.vakata",{"event":e,"data":$.vakata.dnd.user_data});}
else{return;}}
if(e.type==="mousemove"){var d=$(document),t=d.scrollTop(),l=d.scrollLeft();if(e.pageY-t<20){if(sti&&dir1==="down"){clearInterval(sti);sti=false;}
if(!sti){dir1="up";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()-$.vakata.dnd.scroll_spd);},150);}}
else{if(sti&&dir1==="up"){clearInterval(sti);sti=false;}}
if($(window).height()-(e.pageY-t)<20){if(sti&&dir1==="up"){clearInterval(sti);sti=false;}
if(!sti){dir1="down";sti=setInterval(function(){$(document).scrollTop($(document).scrollTop()+$.vakata.dnd.scroll_spd);},150);}}
else{if(sti&&dir1==="down"){clearInterval(sti);sti=false;}}
if(e.pageX-l<20){if(sli&&dir2==="right"){clearInterval(sli);sli=false;}
if(!sli){dir2="left";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()-$.vakata.dnd.scroll_spd);},150);}}
else{if(sli&&dir2==="left"){clearInterval(sli);sli=false;}}
if($(window).width()-(e.pageX-l)<20){if(sli&&dir2==="left"){clearInterval(sli);sli=false;}
if(!sli){dir2="right";sli=setInterval(function(){$(document).scrollLeft($(document).scrollLeft()+$.vakata.dnd.scroll_spd);},150);}}
else{if(sli&&dir2==="right"){clearInterval(sli);sli=false;}}}
$.vakata.dnd.helper.css({left:(e.pageX+$.vakata.dnd.helper_left)+"px",top:(e.pageY+$.vakata.dnd.helper_top)+"px"});$(document).triggerHandler("drag.vakata",{"event":e,"data":$.vakata.dnd.user_data});},drag_stop:function(e){if(sli){clearInterval(sli);}
if(sti){clearInterval(sti);}
$(document).unbind("mousemove",$.vakata.dnd.drag);$(document).unbind("mouseup",$.vakata.dnd.drag_stop);$(document).triggerHandler("drag_stop.vakata",{"event":e,"data":$.vakata.dnd.user_data});$.vakata.dnd.helper.remove();$.vakata.dnd.init_x=0;$.vakata.dnd.init_y=0;$.vakata.dnd.user_data={};$.vakata.dnd.is_down=false;$.vakata.dnd.is_drag=false;}};$(function(){var css_string='#vakata-dragged { display:block; margin:0 0 0 0; padding:4px 4px 4px 24px; position:absolute; top:-2000px; line-height:16px; z-index:10000; } ';$.vakata.css.add_sheet({str:css_string,title:"vakata"});});$.jstree.plugin("dnd",{__init:function(){this.data.dnd={active:false,after:false,inside:false,before:false,off:false,prepared:false,w:0,to1:false,to2:false,cof:false,cw:false,ch:false,i1:false,i2:false,mto:false};this.get_container().bind("mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.themes){m.attr("class","jstree-"+this.data.themes.theme);if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
if(e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=$.jstree._reference(e.target),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}}
else{tr.prepare_move(o,tr.get_container(),"last");if(tr.check_move()){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}}}}},this)).bind("mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&e.currentTarget===e.target&&$.vakata.dnd.user_data.obj&&$($.vakata.dnd.user_data.obj).length&&$($.vakata.dnd.user_data.obj).parents(".jstree:eq(0)")[0]!==e.target){var tr=$.jstree._reference(e.currentTarget),dc;if(tr.data.dnd.foreign){dc=tr._get_settings().dnd.drag_check.call(this,{"o":o,"r":tr.get_container(),is_root:true});if(dc===true||dc.inside===true||dc.before===true||dc.after===true){tr._get_settings().dnd.drag_finish.call(this,{"o":o,"r":tr.get_container(),is_root:true});}}
else{tr.move_node(o,tr.get_container(),"last",e[tr._get_settings().dnd.copy_modifier+"Key"]);}}},this)).bind("mouseleave.jstree",$.proxy(function(e){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id==="jstree-marker-line"){return false;}
if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if($.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}}},this)).bind("mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){var cnt=this.get_container()[0];if(e.pageX+24>this.data.dnd.cof.left+this.data.dnd.cw){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft+=$.vakata.dnd.scroll_spd;},cnt),100);}
else if(e.pageX-24<this.data.dnd.cof.left){if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
this.data.dnd.i1=setInterval($.proxy(function(){this.scrollLeft-=$.vakata.dnd.scroll_spd;},cnt),100);}
else{if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}}
if(e.pageY+24>this.data.dnd.cof.top+this.data.dnd.ch){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop+=$.vakata.dnd.scroll_spd;},cnt),100);}
else if(e.pageY-24<this.data.dnd.cof.top){if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.i2=setInterval($.proxy(function(){this.scrollTop-=$.vakata.dnd.scroll_spd;},cnt),100);}
else{if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}}}},this)).bind("scroll.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree&&m&&ml){m.hide();ml.hide();}},this)).delegate("a","mousedown.jstree",$.proxy(function(e){if(e.which===1){this.start_drag(e.currentTarget,e);return false;}},this)).delegate("a","mouseenter.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_enter(e.currentTarget);}},this)).delegate("a","mousemove.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!r||!r.length||r.children("a")[0]!==e.currentTarget){this.dnd_enter(e.currentTarget);}
if(typeof this.data.dnd.off.top==="undefined"){this.data.dnd.off=$(e.target).offset();}
this.data.dnd.w=(e.pageY-(this.data.dnd.off.top||0))%this.data.core.li_height;if(this.data.dnd.w<0){this.data.dnd.w+=this.data.core.li_height;}
this.dnd_show();}},this)).delegate("a","mouseleave.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(e.relatedTarget&&e.relatedTarget.id&&e.relatedTarget.id==="jstree-marker-line"){return false;}
if(m){m.hide();}
if(ml){ml.hide();}
this.data.dnd.mto=setTimeout((function(t){return function(){t.dnd_leave(e);};})(this),0);}},this)).delegate("a","mouseup.jstree",$.proxy(function(e){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){this.dnd_finish(e);}},this));$(document).bind("drag_stop.vakata",$.proxy(function(){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if(this.data.dnd.i1){clearInterval(this.data.dnd.i1);}
if(this.data.dnd.i2){clearInterval(this.data.dnd.i2);}
this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;this.data.dnd.off=false;this.data.dnd.prepared=false;this.data.dnd.w=false;this.data.dnd.to1=false;this.data.dnd.to2=false;this.data.dnd.i1=false;this.data.dnd.i2=false;this.data.dnd.active=false;this.data.dnd.foreign=false;if(m){m.css({"top":"-2000px"});}
if(ml){ml.css({"top":"-2000px"});}},this)).bind("drag_start.vakata",$.proxy(function(e,data){if(data.data.jstree){var et=$(data.event.target);if(et.closest(".jstree").hasClass("jstree-"+this.get_index())){this.dnd_enter(et);}}},this));var s=this._get_settings().dnd;if(s.drag_target){$(document).delegate(s.drag_target,"mousedown.jstree-"+this.get_index(),$.proxy(function(e){o=e.target;$.vakata.dnd.drag_start(e,{jstree:true,obj:e.target},"<ins class='jstree-icon'></ins>"+$(e.target).text());if(this.data.themes){if(m){m.attr("class","jstree-"+this.data.themes.theme);}
if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");var cnt=this.get_container();this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.foreign=true;e.preventDefault();},this));}
if(s.drop_target){$(document).delegate(s.drop_target,"mouseenter.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&this._get_settings().dnd.drop_check.call(this,{"o":o,"r":$(e.target),"e":e})){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");}},this)).delegate(s.drop_target,"mouseleave.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}},this)).delegate(s.drop_target,"mouseup.jstree-"+this.get_index(),$.proxy(function(e){if(this.data.dnd.active&&$.vakata.dnd.helper.children("ins").hasClass("jstree-ok")){this._get_settings().dnd.drop_finish.call(this,{"o":o,"r":$(e.target),"e":e});}},this));}},defaults:{copy_modifier:"ctrl",check_timeout:100,open_timeout:500,drop_target:".jstree-drop",drop_check:function(data){return true;},drop_finish:$.noop,drag_target:".jstree-draggable",drag_finish:$.noop,drag_check:function(data){return{after:false,before:false,inside:true};}},_fn:{dnd_prepare:function(){if(!r||!r.length){return;}
this.data.dnd.off=r.offset();if(this._get_settings().core.rtl){this.data.dnd.off.right=this.data.dnd.off.left+r.width();}
if(this.data.dnd.foreign){var a=this._get_settings().dnd.drag_check.call(this,{"o":o,"r":r});this.data.dnd.after=a.after;this.data.dnd.before=a.before;this.data.dnd.inside=a.inside;this.data.dnd.prepared=true;return this.dnd_show();}
this.prepare_move(o,r,"before");this.data.dnd.before=this.check_move();this.prepare_move(o,r,"after");this.data.dnd.after=this.check_move();if(this._is_loaded(r)){this.prepare_move(o,r,"inside");this.data.dnd.inside=this.check_move();}
else{this.data.dnd.inside=false;}
this.data.dnd.prepared=true;return this.dnd_show();},dnd_show:function(){if(!this.data.dnd.prepared){return;}
var o=["before","inside","after"],r=false,rtl=this._get_settings().core.rtl,pos;if(this.data.dnd.w<this.data.core.li_height/3){o=["before","inside","after"];}
else if(this.data.dnd.w<=this.data.core.li_height*2/3){o=this.data.dnd.w<this.data.core.li_height/2?["inside","before","after"]:["inside","after","before"];}
else{o=["after","inside","before"];}
$.each(o,$.proxy(function(i,val){if(this.data.dnd[val]){$.vakata.dnd.helper.children("ins").attr("class","jstree-ok");r=val;return false;}},this));if(r===false){$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");}
pos=rtl?(this.data.dnd.off.right-18):(this.data.dnd.off.left+10);switch(r){case"before":m.css({"left":pos+"px","top":(this.data.dnd.off.top-6)+"px"}).show();if(ml){ml.css({"left":(pos+8)+"px","top":(this.data.dnd.off.top-1)+"px"}).show();}
break;case"after":m.css({"left":pos+"px","top":(this.data.dnd.off.top+this.data.core.li_height-6)+"px"}).show();if(ml){ml.css({"left":(pos+8)+"px","top":(this.data.dnd.off.top+this.data.core.li_height-1)+"px"}).show();}
break;case"inside":m.css({"left":pos+(rtl?-4:4)+"px","top":(this.data.dnd.off.top+this.data.core.li_height/2-7)+"px"}).show();if(ml){ml.hide();}
break;default:m.hide();if(ml){ml.hide();}
break;}
last_pos=r;return r;},dnd_open:function(){this.data.dnd.to2=false;this.open_node(r,$.proxy(this.dnd_prepare,this),true);},dnd_finish:function(e){if(this.data.dnd.foreign){if(this.data.dnd.after||this.data.dnd.before||this.data.dnd.inside){this._get_settings().dnd.drag_finish.call(this,{"o":o,"r":r,"p":last_pos});}}
else{this.dnd_prepare();this.move_node(o,r,last_pos,e[this._get_settings().dnd.copy_modifier+"Key"]);}
o=false;r=false;m.hide();if(ml){ml.hide();}},dnd_enter:function(obj){if(this.data.dnd.mto){clearTimeout(this.data.dnd.mto);this.data.dnd.mto=false;}
var s=this._get_settings().dnd;this.data.dnd.prepared=false;r=this._get_node(obj);if(s.check_timeout){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);}
this.data.dnd.to1=setTimeout($.proxy(this.dnd_prepare,this),s.check_timeout);}
else{this.dnd_prepare();}
if(s.open_timeout){if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);}
if(r&&r.length&&r.hasClass("jstree-closed")){this.data.dnd.to2=setTimeout($.proxy(this.dnd_open,this),s.open_timeout);}}
else{if(r&&r.length&&r.hasClass("jstree-closed")){this.dnd_open();}}},dnd_leave:function(e){this.data.dnd.after=false;this.data.dnd.before=false;this.data.dnd.inside=false;$.vakata.dnd.helper.children("ins").attr("class","jstree-invalid");m.hide();if(ml){ml.hide();}
if(r&&r[0]===e.target.parentNode){if(this.data.dnd.to1){clearTimeout(this.data.dnd.to1);this.data.dnd.to1=false;}
if(this.data.dnd.to2){clearTimeout(this.data.dnd.to2);this.data.dnd.to2=false;}}},start_drag:function(obj,e){o=this._get_node(obj);if(this.data.ui&&this.is_selected(o)){o=this._get_node(null,true);}
var dt=o.length>1?this._get_string("multiple_selection"):this.get_text(o),cnt=this.get_container();if(!this._get_settings().core.html_titles){dt=dt.replace(/</ig,"&lt;").replace(/>/ig,"&gt;");}
$.vakata.dnd.drag_start(e,{jstree:true,obj:o},"<ins class='jstree-icon'></ins>"+dt);if(this.data.themes){if(m){m.attr("class","jstree-"+this.data.themes.theme);}
if(ml){ml.attr("class","jstree-"+this.data.themes.theme);}
$.vakata.dnd.helper.attr("class","jstree-dnd-helper jstree-"+this.data.themes.theme);}
this.data.dnd.cof=cnt.offset();this.data.dnd.cw=parseInt(cnt.width(),10);this.data.dnd.ch=parseInt(cnt.height(),10);this.data.dnd.active=true;}}});$(function(){var css_string=''+'#vakata-dragged ins { display:block; text-decoration:none; width:16px; height:16px; margin:0 0 0 0; padding:0; position:absolute; top:4px; left:4px; '+' -moz-border-radius:4px; border-radius:4px; -webkit-border-radius:4px; '+'} '+'#vakata-dragged .jstree-ok { background:green; } '+'#vakata-dragged .jstree-invalid { background:red; } '+'#jstree-marker { padding:0; margin:0; font-size:12px; overflow:hidden; height:12px; width:8px; position:absolute; top:-30px; z-index:10001; background-repeat:no-repeat; display:none; background-color:transparent; text-shadow:1px 1px 1px white; color:black; line-height:10px; } '+'#jstree-marker-line { padding:0; margin:0; line-height:0%; font-size:1px; overflow:hidden; height:1px; width:100px; position:absolute; top:-30px; z-index:10000; background-repeat:no-repeat; display:none; background-color:#456c43; '+' cursor:pointer; border:1px solid #eeeeee; border-left:0; -moz-box-shadow: 0px 0px 2px #666; -webkit-box-shadow: 0px 0px 2px #666; box-shadow: 0px 0px 2px #666; '+' -moz-border-radius:1px; border-radius:1px; -webkit-border-radius:1px; '+'}'+'';$.vakata.css.add_sheet({str:css_string,title:"jstree"});m=$("<div />").attr({id:"jstree-marker"}).hide().html("&raquo;").bind("mouseleave mouseenter",function(e){m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}).appendTo("body");ml=$("<div />").attr({id:"jstree-marker-line"}).hide().bind("mouseup",function(e){if(r&&r.length){r.children("a").trigger(e);e.preventDefault();e.stopImmediatePropagation();return false;}}).bind("mouseleave",function(e){var rt=$(e.relatedTarget);if(rt.is(".jstree")||rt.closest(".jstree").length===0){if(r&&r.length){r.children("a").trigger(e);m.hide();ml.hide();e.preventDefault();e.stopImmediatePropagation();return false;}}}).appendTo("body");$(document).bind("drag_start.vakata",function(e,data){if(data.data.jstree){m.show();if(ml){ml.show();}}});$(document).bind("drag_stop.vakata",function(e,data){if(data.data.jstree){m.hide();if(ml){ml.hide();}}});});})(jQuery);(function($){$.jstree.plugin("checkbox",{__init:function(){this.data.checkbox.noui=this._get_settings().checkbox.override_ui;if(this.data.ui&&this.data.checkbox.noui){this.select_node=this.deselect_node=this.deselect_all=$.noop;this.get_selected=this.get_checked;}
this.get_container().bind("open_node.jstree create_node.jstree clean_node.jstree refresh.jstree",$.proxy(function(e,data){this._prepare_checkboxes(data.rslt.obj);},this)).bind("loaded.jstree",$.proxy(function(e){this._prepare_checkboxes();},this)).delegate((this.data.ui&&this.data.checkbox.noui?"a":"ins.jstree-checkbox"),"click.jstree",$.proxy(function(e){e.preventDefault();if(this._get_node(e.target).hasClass("jstree-checked")){this.uncheck_node(e.target);}
else{this.check_node(e.target);}
if(this.data.ui&&this.data.checkbox.noui){this.save_selected();if(this.data.cookies){this.save_cookie("select_node");}}
else{e.stopImmediatePropagation();return false;}},this));},defaults:{override_ui:false,two_state:false,real_checkboxes:false,checked_parent_open:true,real_checkboxes_names:function(n){return[("check_"+(n[0].id||Math.ceil(Math.random()*10000))),1];}},__destroy:function(){this.get_container().find("input.jstree-real-checkbox").removeClass("jstree-real-checkbox").end().find("ins.jstree-checkbox").remove();},_fn:{_checkbox_notify:function(n,data){if(data.checked){this.check_node(n,false);}},_prepare_checkboxes:function(obj){obj=!obj||obj==-1?this.get_container().find("> ul > li"):this._get_node(obj);if(obj===false){return;}
var c,_this=this,t,ts=this._get_settings().checkbox.two_state,rc=this._get_settings().checkbox.real_checkboxes,rcn=this._get_settings().checkbox.real_checkboxes_names;obj.each(function(){t=$(this);c=t.is("li")&&(t.hasClass("jstree-checked")||(rc&&t.children(":checked").length))?"jstree-checked":"jstree-unchecked";t.find("li").andSelf().each(function(){var $t=$(this),nm;$t.children("a"+(_this.data.languages?"":":eq(0)")).not(":has(.jstree-checkbox)").prepend("<ins class='jstree-checkbox'>&#160;</ins>").parent().not(".jstree-checked, .jstree-unchecked").addClass(ts?"jstree-unchecked":c);if(rc){if(!$t.children(":checkbox").length){nm=rcn.call(_this,$t);$t.prepend("<input type='checkbox' class='jstree-real-checkbox' id='"+nm[0]+"' name='"+nm[0]+"' value='"+nm[1]+"' />");}
else{$t.children(":checkbox").addClass("jstree-real-checkbox");}}
if(!ts){if(c==="jstree-checked"||$t.hasClass("jstree-checked")||$t.children(':checked').length){$t.find("li").andSelf().addClass("jstree-checked").children(":checkbox").prop("checked",true);}}
else{if($t.hasClass("jstree-checked")||$t.children(':checked').length){$t.addClass("jstree-checked").children(":checkbox").prop("checked",true);}}});});if(!ts){obj.find(".jstree-checked").parent().parent().each(function(){_this._repair_state(this);});}},change_state:function(obj,state){obj=this._get_node(obj);var coll=false,rc=this._get_settings().checkbox.real_checkboxes;if(!obj||obj===-1){return false;}
state=(state===false||state===true)?state:obj.hasClass("jstree-checked");if(this._get_settings().checkbox.two_state){if(state){obj.removeClass("jstree-checked").addClass("jstree-unchecked");if(rc){obj.children(":checkbox").prop("checked",false);}}
else{obj.removeClass("jstree-unchecked").addClass("jstree-checked");if(rc){obj.children(":checkbox").prop("checked",true);}}}
else{if(state){coll=obj.find("li").andSelf();if(!coll.filter(".jstree-checked, .jstree-undetermined").length){return false;}
coll.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc){coll.children(":checkbox").prop("checked",false);}}
else{coll=obj.find("li").andSelf();if(!coll.filter(".jstree-unchecked, .jstree-undetermined").length){return false;}
coll.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc){coll.children(":checkbox").prop("checked",true);}
if(this.data.ui){this.data.ui.last_selected=obj;}
this.data.checkbox.last_selected=obj;}
obj.parentsUntil(".jstree","li").each(function(){var $this=$(this);if(state){if($this.children("ul").children("li.jstree-checked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){$this.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}
return false;}
else{$this.removeClass("jstree-checked jstree-undetermined").addClass("jstree-unchecked");if(rc){$this.children(":checkbox").prop("checked",false);}}}
else{if($this.children("ul").children("li.jstree-unchecked, li.jstree-undetermined").length){$this.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){$this.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}
return false;}
else{$this.removeClass("jstree-unchecked jstree-undetermined").addClass("jstree-checked");if(rc){$this.children(":checkbox").prop("checked",true);}}}});}
if(this.data.ui&&this.data.checkbox.noui){this.data.ui.selected=this.get_checked();}
this.__callback(obj);return true;},check_node:function(obj){if(this.change_state(obj,false)){obj=this._get_node(obj);if(this._get_settings().checkbox.checked_parent_open){var t=this;obj.parents(".jstree-closed").each(function(){t.open_node(this,false,true);});}
this.__callback({"obj":obj});}},uncheck_node:function(obj){if(this.change_state(obj,true)){this.__callback({"obj":this._get_node(obj)});}},check_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");coll.each(function(){_this.change_state(this,false);});this.__callback();},uncheck_all:function(){var _this=this,coll=this._get_settings().checkbox.two_state?this.get_container_ul().find("li"):this.get_container_ul().children("li");coll.each(function(){_this.change_state(this,true);});this.__callback();},is_checked:function(obj){obj=this._get_node(obj);return obj.length?obj.is(".jstree-checked"):false;},get_checked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-checked"):obj.find("> ul > .jstree-checked, .jstree-undetermined > ul > .jstree-checked");},get_unchecked:function(obj,get_all){obj=!obj||obj===-1?this.get_container():this._get_node(obj);return get_all||this._get_settings().checkbox.two_state?obj.find(".jstree-unchecked"):obj.find("> ul > .jstree-unchecked, .jstree-undetermined > ul > .jstree-unchecked");},show_checkboxes:function(){this.get_container().children("ul").removeClass("jstree-no-checkboxes");},hide_checkboxes:function(){this.get_container().children("ul").addClass("jstree-no-checkboxes");},_repair_state:function(obj){obj=this._get_node(obj);if(!obj.length){return;}
if(this._get_settings().checkbox.two_state){obj.find('li').andSelf().not('.jstree-checked').removeClass('jstree-undetermined').addClass('jstree-unchecked').children(':checkbox').prop('checked',true);return;}
var rc=this._get_settings().checkbox.real_checkboxes,a=obj.find("> ul > .jstree-checked").length,b=obj.find("> ul > .jstree-undetermined").length,c=obj.find("> ul > li").length;if(c===0){if(obj.hasClass("jstree-undetermined")){this.change_state(obj,false);}}
else if(a===0&&b===0){this.change_state(obj,true);}
else if(a===c){this.change_state(obj,false);}
else{obj.parentsUntil(".jstree","li").andSelf().removeClass("jstree-checked jstree-unchecked").addClass("jstree-undetermined");if(rc){obj.parentsUntil(".jstree","li").andSelf().children(":checkbox").prop("checked",false);}}},reselect:function(){if(this.data.ui&&this.data.checkbox.noui){var _this=this,s=this.data.ui.to_select;s=$.map($.makeArray(s),function(n){return"#"+n.toString().replace(/^#/,"").replace(/\\\//g,"/").replace(/\//g,"\\\/").replace(/\\\./g,".").replace(/\./g,"\\.").replace(/\:/g,"\\:");});this.deselect_all();$.each(s,function(i,val){_this.check_node(val);});this.__callback();}
else{this.__call_old();}},save_loaded:function(){var _this=this;this.data.core.to_load=[];this.get_container_ul().find("li.jstree-closed.jstree-undetermined").each(function(){if(this.id){_this.data.core.to_load.push("#"+this.id);}});}}});$(function(){var css_string='.jstree .jstree-real-checkbox { display:none; } ';$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){$.vakata.xslt=function(xml,xsl,callback){var rs="",xm,xs,processor,support;if(document.recalc){xm=document.createElement('xml');xs=document.createElement('xml');xm.innerHTML=xml;xs.innerHTML=xsl;$("body").append(xm).append(xs);setTimeout((function(xm,xs,callback){return function(){callback.call(null,xm.transformNode(xs.XMLDocument));setTimeout((function(xm,xs){return function(){$(xm).remove();$(xs).remove();};})(xm,xs),200);};})(xm,xs,callback),100);return true;}
if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor==="undefined"){xml=new DOMParser().parseFromString(xml,"text/xml");xsl=new DOMParser().parseFromString(xsl,"text/xml");}
if(typeof window.DOMParser!=="undefined"&&typeof window.XMLHttpRequest!=="undefined"&&typeof window.XSLTProcessor!=="undefined"){processor=new XSLTProcessor();support=$.isFunction(processor.transformDocument)?(typeof window.XMLSerializer!=="undefined"):true;if(!support){return false;}
xml=new DOMParser().parseFromString(xml,"text/xml");xsl=new DOMParser().parseFromString(xsl,"text/xml");if($.isFunction(processor.transformDocument)){rs=document.implementation.createDocument("","",null);processor.transformDocument(xml,xsl,rs,null);callback.call(null,new XMLSerializer().serializeToString(rs));return true;}
else{processor.importStylesheet(xsl);rs=processor.transformToFragment(xml,document);callback.call(null,$("<div />").append(rs).html());return true;}}
return false;};var xsl={'nest':'<'+'?xml version="1.0" encoding="utf-8" ?>'+'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" >'+'<xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/html" />'+'<xsl:template match="/">'+' <xsl:call-template name="nodes">'+'  <xsl:with-param name="node" select="/root" />'+' </xsl:call-template>'+'</xsl:template>'+'<xsl:template name="nodes">'+' <xsl:param name="node" />'+' <ul>'+' <xsl:for-each select="$node/item">'+'  <xsl:variable name="children" select="count(./item) &gt; 0" />'+'  <li>'+'   <xsl:attribute name="class">'+'    <xsl:if test="position() = last()">jstree-last </xsl:if>'+'    <xsl:choose>'+'     <xsl:when test="@state = \'open\'">jstree-open </xsl:when>'+'     <xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>'+'     <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'    </xsl:choose>'+'    <xsl:value-of select="@class" />'+'   </xsl:attribute>'+'   <xsl:for-each select="@*">'+'    <xsl:if test="name() != \'class\' and name() != \'state\' and name() != \'hasChildren\'">'+'     <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'    </xsl:if>'+'   </xsl:for-each>'+' <ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>'+'   <xsl:for-each select="content/name">'+'    <a>'+'    <xsl:attribute name="href">'+'     <xsl:choose>'+'     <xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>'+'     <xsl:otherwise>#</xsl:otherwise>'+'     </xsl:choose>'+'    </xsl:attribute>'+'    <xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>'+'    <xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>'+'    <xsl:for-each select="@*">'+'     <xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">'+'      <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'     </xsl:if>'+'    </xsl:for-each>'+'     <ins>'+'      <xsl:attribute name="class">jstree-icon '+'       <xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>'+'      </xsl:attribute>'+'      <xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>'+'      <xsl:text>&#xa0;</xsl:text>'+'     </ins>'+'     <xsl:copy-of select="./child::node()" />'+'    </a>'+'   </xsl:for-each>'+'   <xsl:if test="$children or @hasChildren"><xsl:call-template name="nodes"><xsl:with-param name="node" select="current()" /></xsl:call-template></xsl:if>'+'  </li>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'</xsl:stylesheet>','flat':'<'+'?xml version="1.0" encoding="utf-8" ?>'+'<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" >'+'<xsl:output method="html" encoding="utf-8" omit-xml-declaration="yes" standalone="no" indent="no" media-type="text/xml" />'+'<xsl:template match="/">'+' <ul>'+' <xsl:for-each select="//item[not(@parent_id) or @parent_id=0 or not(@parent_id = //item/@id)]">'+'  <xsl:call-template name="nodes">'+'   <xsl:with-param name="node" select="." />'+'   <xsl:with-param name="is_last" select="number(position() = last())" />'+'  </xsl:call-template>'+' </xsl:for-each>'+' </ul>'+'</xsl:template>'+'<xsl:template name="nodes">'+' <xsl:param name="node" />'+' <xsl:param name="is_last" />'+' <xsl:variable name="children" select="count(//item[@parent_id=$node/attribute::id]) &gt; 0" />'+' <li>'+' <xsl:attribute name="class">'+'  <xsl:if test="$is_last = true()">jstree-last </xsl:if>'+'  <xsl:choose>'+'   <xsl:when test="@state = \'open\'">jstree-open </xsl:when>'+'   <xsl:when test="$children or @hasChildren or @state = \'closed\'">jstree-closed </xsl:when>'+'   <xsl:otherwise>jstree-leaf </xsl:otherwise>'+'  </xsl:choose>'+'  <xsl:value-of select="@class" />'+' </xsl:attribute>'+' <xsl:for-each select="@*">'+'  <xsl:if test="name() != \'parent_id\' and name() != \'hasChildren\' and name() != \'class\' and name() != \'state\'">'+'  <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'  </xsl:if>'+' </xsl:for-each>'+' <ins class="jstree-icon"><xsl:text>&#xa0;</xsl:text></ins>'+' <xsl:for-each select="content/name">'+'  <a>'+'  <xsl:attribute name="href">'+'   <xsl:choose>'+'   <xsl:when test="@href"><xsl:value-of select="@href" /></xsl:when>'+'   <xsl:otherwise>#</xsl:otherwise>'+'   </xsl:choose>'+'  </xsl:attribute>'+'  <xsl:attribute name="class"><xsl:value-of select="@lang" /> <xsl:value-of select="@class" /></xsl:attribute>'+'  <xsl:attribute name="style"><xsl:value-of select="@style" /></xsl:attribute>'+'  <xsl:for-each select="@*">'+'   <xsl:if test="name() != \'style\' and name() != \'class\' and name() != \'href\'">'+'    <xsl:attribute name="{name()}"><xsl:value-of select="." /></xsl:attribute>'+'   </xsl:if>'+'  </xsl:for-each>'+'   <ins>'+'    <xsl:attribute name="class">jstree-icon '+'     <xsl:if test="string-length(attribute::icon) > 0 and not(contains(@icon,\'/\'))"><xsl:value-of select="@icon" /></xsl:if>'+'    </xsl:attribute>'+'    <xsl:if test="string-length(attribute::icon) > 0 and contains(@icon,\'/\')"><xsl:attribute name="style">background:url(<xsl:value-of select="@icon" />) center center no-repeat;</xsl:attribute></xsl:if>'+'    <xsl:text>&#xa0;</xsl:text>'+'   </ins>'+'   <xsl:copy-of select="./child::node()" />'+'  </a>'+' </xsl:for-each>'+' <xsl:if test="$children">'+'  <ul>'+'  <xsl:for-each select="//item[@parent_id=$node/attribute::id]">'+'   <xsl:call-template name="nodes">'+'    <xsl:with-param name="node" select="." />'+'    <xsl:with-param name="is_last" select="number(position() = last())" />'+'   </xsl:call-template>'+'  </xsl:for-each>'+'  </ul>'+' </xsl:if>'+' </li>'+'</xsl:template>'+'</xsl:stylesheet>'},escape_xml=function(string){return string.toString().replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&apos;');};$.jstree.plugin("xml_data",{defaults:{data:false,ajax:false,xsl:"flat",clean_node:false,correct_state:true,get_skip_empty:false,get_include_preamble:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_xml(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){var s=this._get_settings().xml_data;obj=this._get_node(obj);return obj==-1||!obj||(!s.ajax&&!$.isFunction(s.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0;},load_node_xml:function(obj,s_call,e_call){var s=this.get_settings().xml_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case(!s.data&&!s.ajax):throw"Neither data nor ajax settings supplied.";case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading");}
if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}}},this));},this));break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){this.parse_xml(s.data,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);this.get_container().children("ul").empty().append(d.children());if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}},this));}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):error_func=function(x,t,e){var ef=this.get_settings().xml_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!==-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){d=x.responseText;var sf=this.get_settings().xml_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")){return error_func.call(this,x,t,"");}
this.parse_xml(d,$.proxy(function(d){if(d){d=d.replace(/ ?xmlns="[^"]*"/ig,"");if(d.length>10){d=$(d);if(obj===-1||!obj){this.get_container().children("ul").empty().append(d.children());}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d);obj.removeData("jstree_is_loading");}
if(s.clean_node){this.clean_node(obj);}
if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}}},this));};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="xml";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}},parse_xml:function(xml,callback){var s=this._get_settings().xml_data;$.vakata.xslt(xml,xsl[s.xsl],callback);},get_xml:function(tp,obj,li_attr,a_attr,is_callback){var result="",s=this._get_settings(),_this=this,tmp1,tmp2,li,a,lang;if(!tp){tp="flat";}
if(!is_callback){is_callback=0;}
obj=this._get_node(obj);if(!obj||obj===-1){obj=this.get_container().find("> ul > li");}
li_attr=$.isArray(li_attr)?li_attr:["id","class"];if(!is_callback&&this.data.types&&$.inArray(s.types.type_attr,li_attr)===-1){li_attr.push(s.types.type_attr);}
a_attr=$.isArray(a_attr)?a_attr:[];if(!is_callback){if(s.xml_data.get_include_preamble){result+='<'+'?xml version="1.0" encoding="UTF-8"?'+'>';}
result+="<root>";}
obj.each(function(){result+="<item";li=$(this);$.each(li_attr,function(i,v){var t=li.attr(v);if(!s.xml_data.get_skip_empty||typeof t!=="undefined"){result+=" "+v+"=\""+escape_xml((" "+(t||"")).replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+"\"";}});if(li.hasClass("jstree-open")){result+=" state=\"open\"";}
if(li.hasClass("jstree-closed")){result+=" state=\"closed\"";}
if(tp==="flat"){result+=" parent_id=\""+escape_xml(is_callback)+"\"";}
result+=">";result+="<content>";a=li.children("a");a.each(function(){tmp1=$(this);lang=false;result+="<name";if($.inArray("languages",s.plugins)!==-1){$.each(s.languages,function(k,z){if(tmp1.hasClass(z)){result+=" lang=\""+escape_xml(z)+"\"";lang=z;return false;}});}
if(a_attr.length){$.each(a_attr,function(k,z){var t=tmp1.attr(z);if(!s.xml_data.get_skip_empty||typeof t!=="undefined"){result+=" "+z+"=\""+escape_xml((" "+t||"").replace(/ jstree[^ ]*/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+"\"";}});}
if(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/^\s+$/ig,"").length){result+=' icon="'+escape_xml(tmp1.children("ins").get(0).className.replace(/jstree[^ ]*|$/ig,'').replace(/\s+$/ig," ").replace(/^ /,"").replace(/ $/,""))+'"';}
if(tmp1.children("ins").get(0).style.backgroundImage.length){result+=' icon="'+escape_xml(tmp1.children("ins").get(0).style.backgroundImage.replace("url(","").replace(")","").replace(/'/ig,"").replace(/"/ig,""))+'"';}
result+=">";result+="<![CDATA["+_this.get_text(tmp1,lang)+"]]>";result+="</name>";});result+="</content>";tmp2=li[0].id||true;li=li.find("> ul > li");if(li.length){tmp2=_this.get_xml(tp,li,li_attr,a_attr,tmp2);}
else{tmp2="";}
if(tp=="nest"){result+=tmp2;}
result+="</item>";if(tp=="flat"){result+=tmp2;}});if(!is_callback){result+="</root>";}
return result;}}});})(jQuery);(function($){$.expr[':'].jstree_contains=function(a,i,m){return(a.textContent||a.innerText||"").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.expr[':'].jstree_title_contains=function(a,i,m){return(a.getAttribute("title")||"").toLowerCase().indexOf(m[3].toLowerCase())>=0;};$.jstree.plugin("search",{__init:function(){this.data.search.str="";this.data.search.result=$();if(this._get_settings().search.show_only_matches){this.get_container().bind("search.jstree",function(e,data){$(this).children("ul").find("li").hide().removeClass("jstree-last");data.rslt.nodes.parentsUntil(".jstree").andSelf().show().filter("ul").each(function(){$(this).children("li:visible").eq(-1).addClass("jstree-last");});}).bind("clear_search.jstree",function(){$(this).children("ul").find("li").css("display","").end().end().jstree("clean_node",-1);});}},defaults:{ajax:false,search_method:"jstree_contains",show_only_matches:false},_fn:{search:function(str,skip_async){if($.trim(str)===""){this.clear_search();return;}
var s=this.get_settings().search,t=this,error_func=function(){},success_func=function(){};this.data.search.str=str;if(!skip_async&&s.ajax!==false&&this.get_container_ul().find("li.jstree-closed:not(:has(ul)):eq(0)").length>0){this.search.supress_callback=true;error_func=function(){};success_func=function(d,t,x){var sf=this.get_settings().search.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
this.data.search.to_open=d;this._search_open();};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,str);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,str);}
if(!s.ajax.data){s.ajax.data={"search_string":str};}
if(!s.ajax.dataType||/^json/.exec(s.ajax.dataType)){s.ajax.dataType="json";}
$.ajax(s.ajax);return;}
if(this.data.search.result.length){this.clear_search();}
this.data.search.result=this.get_container().find("a"+(this.data.languages?"."+this.get_lang():"")+":"+(s.search_method)+"("+this.data.search.str+")");this.data.search.result.addClass("jstree-search").parent().parents(".jstree-closed").each(function(){t.open_node(this,false,true);});this.__callback({nodes:this.data.search.result,str:str});},clear_search:function(str){this.data.search.result.removeClass("jstree-search");this.__callback(this.data.search.result);this.data.search.result=$();},_search_open:function(is_callback){var _this=this,done=true,current=[],remaining=[];if(this.data.search.to_open.length){$.each(this.data.search.to_open,function(i,val){if(val=="#"){return true;}
if($(val).length&&$(val).is(".jstree-closed")){current.push(val);}
else{remaining.push(val);}});if(current.length){this.data.search.to_open=remaining;$.each(current,function(i,val){_this.open_node(val,function(){_this._search_open(true);});});done=false;}}
if(done){this.search(this.data.search.str,true);}}}});})(jQuery);(function($){$.vakata.context={hide_on_mouseleave:false,cnt:$("<div id='vakata-contextmenu' />"),vis:false,tgt:false,par:false,func:false,data:false,rtl:false,show:function(s,t,x,y,d,p,rtl){$.vakata.context.rtl=!!rtl;var html=$.vakata.context.parse(s),h,w;if(!html){return;}
$.vakata.context.vis=true;$.vakata.context.tgt=t;$.vakata.context.par=p||t||null;$.vakata.context.data=d||null;$.vakata.context.cnt.html(html).css({"visibility":"hidden","display":"block","left":0,"top":0});if($.vakata.context.hide_on_mouseleave){$.vakata.context.cnt.one("mouseleave",function(e){$.vakata.context.hide();});}
h=$.vakata.context.cnt.height();w=$.vakata.context.cnt.width();if(x+w>$(document).width()){x=$(document).width()-(w+5);$.vakata.context.cnt.find("li > ul").addClass("right");}
if(y+h>$(document).height()){y=y-(h+t[0].offsetHeight);$.vakata.context.cnt.find("li > ul").addClass("bottom");}
$.vakata.context.cnt.css({"left":x,"top":y}).find("li:has(ul)").bind("mouseenter",function(e){var w=$(document).width(),h=$(document).height(),ul=$(this).children("ul").show();if(w!==$(document).width()){ul.toggleClass("right");}
if(h!==$(document).height()){ul.toggleClass("bottom");}}).bind("mouseleave",function(e){$(this).children("ul").hide();}).end().css({"visibility":"visible"}).show();$(document).triggerHandler("context_show.vakata");},hide:function(){$.vakata.context.vis=false;$.vakata.context.cnt.attr("class","").css({"visibility":"hidden"});$(document).triggerHandler("context_hide.vakata");},parse:function(s,is_callback){if(!s){return false;}
var str="",tmp=false,was_sep=true;if(!is_callback){$.vakata.context.func={};}
str+="<ul>";$.each(s,function(i,val){if(!val){return true;}
$.vakata.context.func[i]=val.action;if(!was_sep&&val.separator_before){str+="<li class='vakata-separator vakata-separator-before'></li>";}
was_sep=false;str+="<li class='"+(val._class||"")+(val._disabled?" jstree-contextmenu-disabled ":"")+"'><ins ";if(val.icon&&val.icon.indexOf("/")===-1){str+=" class='"+val.icon+"' ";}
if(val.icon&&val.icon.indexOf("/")!==-1){str+=" style='background:url("+val.icon+") center center no-repeat;' ";}
str+=">&#160;</ins><a href='#' rel='"+i+"'"+(typeof(val.id)!=="undefined"?" data-id='"+val.id+"'":'')+">";if(val.submenu){str+="<span style='float:"+($.vakata.context.rtl?"left":"right")+";'>&raquo;</span>";}
str+=val.label+"</a>";if(val.submenu){tmp=$.vakata.context.parse(val.submenu,true);if(tmp){str+=tmp;}}
str+="</li>";if(val.separator_after){str+="<li class='vakata-separator vakata-separator-after'></li>";was_sep=true;}});str=str.replace(/<li class\='vakata-separator vakata-separator-after'\><\/li\>$/,"");str+="</ul>";$(document).triggerHandler("context_parse.vakata");return str.length>10?str:false;},exec:function(i){if($.isFunction($.vakata.context.func[i])){$.vakata.context.func[i].call($.vakata.context.data,$.vakata.context.par);return true;}
else{return false;}}};$(function(){var css_string=''+'#vakata-contextmenu { display:block; visibility:hidden; left:0; top:-200px; position:absolute; margin:0; padding:0; min-width:180px; background:#ffffff; border:1px solid silver; z-index:10000; *width:180px; } '+'#vakata-contextmenu ul { min-width:180px; *width:180px; } '+'#vakata-contextmenu ul, #vakata-contextmenu li { margin:0; padding:0; list-style-type:none; display:block; } '+'#vakata-contextmenu li { line-height:20px; min-height:20px; position:relative; padding:0px; } '+'#vakata-contextmenu li:hover { background: #e4f0fa; } '+'#vakata-contextmenu li a { padding: 6px; line-height:17px; display:block; text-decoration:none; margin: 0px; } '+'#vakata-contextmenu li ins { float:left; width:16px; height:16px; text-decoration:none; margin-right:2px; } '+'#vakata-contextmenu li a:hover, #vakata-contextmenu li.vakata-hover > a { /*background:gray; color:white;*/ } '+'#vakata-contextmenu li ul { display:none; position:absolute; top:-2px; left:100%; /*background:#ebebeb;*/ border:1px solid silver; } '+'#vakata-contextmenu .right { right:100%; left:auto; } '+'#vakata-contextmenu .bottom { bottom:-1px; top:auto; } '+'#vakata-contextmenu li.vakata-separator, #vakata-contextmenu li ul li.vakata-separator { min-height:0; height:1px; line-height:1px; font-size:1px; overflow:hidden; margin: 0px; background: #eeeeee; /* border-top:1px solid #fefefe; */ padding:0; } ';$.vakata.css.add_sheet({str:css_string,title:"vakata"});$.vakata.context.cnt.delegate("a","click",function(e){e.preventDefault();}).delegate("a","mouseup",function(e){if(!$(this).parent().hasClass("jstree-contextmenu-disabled")&&$.vakata.context.exec($(this).attr("rel"))){$.vakata.context.hide();}
else{$(this).blur();}}).delegate("a","mouseover",function(){$.vakata.context.cnt.find(".vakata-hover").removeClass("vakata-hover");}).appendTo("body");$(document).bind("mousedown",function(e){if($.vakata.context.vis&&!$.contains($.vakata.context.cnt[0],e.target)){$.vakata.context.hide();}});if(typeof $.hotkeys!=="undefined"){$(document).bind("keydown","up",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").prevAll("li:not(.vakata-separator)").first();if(!o.length){o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").last();}
o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","down",function(e){if($.vakata.context.vis){var o=$.vakata.context.cnt.find("ul:visible").last().children(".vakata-hover").removeClass("vakata-hover").nextAll("li:not(.vakata-separator)").first();if(!o.length){o=$.vakata.context.cnt.find("ul:visible").last().children("li:not(.vakata-separator)").first();}
o.addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","right",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").show().children("li:not(.vakata-separator)").removeClass("vakata-hover").first().addClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","left",function(e){if($.vakata.context.vis){$.vakata.context.cnt.find(".vakata-hover").children("ul").hide().children(".vakata-separator").removeClass("vakata-hover");e.stopImmediatePropagation();e.preventDefault();}}).bind("keydown","esc",function(e){$.vakata.context.hide();e.preventDefault();}).bind("keydown","space",function(e){$.vakata.context.cnt.find(".vakata-hover").last().children("a").click();e.preventDefault();});}});$.jstree.plugin("contextmenu",{__init:function(){this.get_container().delegate("a","contextmenu.jstree",$.proxy(function(e){e.preventDefault();if(!$(e.currentTarget).hasClass("jstree-loading")){this.show_contextmenu(e.currentTarget,e.pageX,e.pageY);}},this)).bind("destroy.jstree",$.proxy(function(){if(this.data.contextmenu){$.vakata.context.hide();}},this));$(document).bind("context_hide.vakata",$.proxy(function(){this.data.contextmenu=false;},this));},defaults:{select_node:false,show_at_node:true,items:function(o,cb){return{"create":{"separator_before":false,"separator_after":true,"label":"Create","action":function(obj){this.create(obj);}},"rename":{"separator_before":false,"separator_after":false,"label":"Rename","action":function(obj){this.rename(obj);}},"remove":{"separator_before":false,"icon":false,"separator_after":false,"label":"Delete","action":function(obj){if(this.is_selected(obj)){this.remove();}else{this.remove(obj);}}},"ccp":{"separator_before":true,"icon":false,"separator_after":false,"label":"Edit","action":false,"submenu":{"cut":{"separator_before":false,"separator_after":false,"label":"Cut","action":function(obj){this.cut(obj);}},"copy":{"separator_before":false,"icon":false,"separator_after":false,"label":"Copy","action":function(obj){this.copy(obj);}},"paste":{"separator_before":false,"icon":false,"separator_after":false,"label":"Paste","action":function(obj){this.paste(obj);}}}}};}},_fn:{show_contextmenu:function(obj,x,y){obj=this._get_node(obj);var s=this.get_settings().contextmenu,a=obj.children("a:visible:eq(0)"),o=false,i=false;if(s.select_node&&this.data.ui&&!this.is_selected(obj)){this.deselect_all();this.select_node(obj,true);}
if(s.show_at_node||typeof x==="undefined"||typeof y==="undefined"){o=a.offset();x=o.left;y=o.top+this.data.core.li_height;}
i=obj.data("jstree")&&obj.data("jstree").contextmenu?obj.data("jstree").contextmenu:s.items;if($.isFunction(i)){i=i.call(this,obj);}
this.data.contextmenu=true;$.vakata.context.show(i,a,x,y,this,obj,this._get_settings().core.rtl);if(this.data.themes){$.vakata.context.cnt.attr("class","jstree-"+this.data.themes.theme+"-context");}}}});})(jQuery);(function($){$.jstree.plugin("types",{__init:function(){var s=this._get_settings().types;this.data.types.attach_to=[];this.get_container().bind("init.jstree",$.proxy(function(){var types=s.types,attr=s.type_attr,icons_css="",_this=this;$.each(types,function(i,tp){$.each(tp,function(k,v){if(!/^(max_depth|max_children|icon|valid_children)$/.test(k)){_this.data.types.attach_to.push(k);}});if(!tp.icon){return true;}
if(tp.icon.image||tp.icon.position){if(i=="default"){icons_css+='.jstree-'+_this.get_index()+' a > .jstree-icon { ';}
else{icons_css+='.jstree-'+_this.get_index()+' li['+attr+'="'+i+'"] > a > .jstree-icon { ';}
if(tp.icon.image){icons_css+=' background-image:url('+tp.icon.image+'); ';}
if(tp.icon.position){icons_css+=' background-position:'+tp.icon.position+'; ';}
else{icons_css+=' background-position:0 0; ';}
icons_css+='} ';}});if(icons_css!==""){$.vakata.css.add_sheet({'str':icons_css,title:"jstree-types"});}},this)).bind("before.jstree",$.proxy(function(e,data){var s,t,o=this._get_settings().types.use_data?this._get_node(data.args[0]):false,d=o&&o!==-1&&o.length?o.data("jstree"):false;if(d&&d.types&&d.types[data.func]===false){e.stopImmediatePropagation();return false;}
if($.inArray(data.func,this.data.types.attach_to)!==-1){if(!data.args[0]||(!data.args[0].tagName&&!data.args[0].jquery)){return;}
s=this._get_settings().types.types;t=this._get_type(data.args[0]);if(((s[t]&&typeof s[t][data.func]!=="undefined")||(s["default"]&&typeof s["default"][data.func]!=="undefined"))&&this._check(data.func,data.args[0])===false){e.stopImmediatePropagation();return false;}}},this));if(is_ie6){this.get_container().bind("load_node.jstree set_type.jstree",$.proxy(function(e,data){var r=data&&data.rslt&&data.rslt.obj&&data.rslt.obj!==-1?this._get_node(data.rslt.obj).parent():this.get_container_ul(),c=false,s=this._get_settings().types;$.each(s.types,function(i,tp){if(tp.icon&&(tp.icon.image||tp.icon.position)){c=i==="default"?r.find("li > a > .jstree-icon"):r.find("li["+s.type_attr+"='"+i+"'] > a > .jstree-icon");if(tp.icon.image){c.css("backgroundImage","url("+tp.icon.image+")");}
c.css("backgroundPosition",tp.icon.position||"0 0");}});},this));}},defaults:{max_children:-1,max_depth:-1,valid_children:"all",use_data:false,type_attr:"rel",types:{"default":{"max_children":-1,"max_depth":-1,"valid_children":"all"}}},_fn:{_types_notify:function(n,data){if(data.type&&this._get_settings().types.use_data){this.set_type(data.type,n);}},_get_type:function(obj){obj=this._get_node(obj);return(!obj||!obj.length)?false:obj.attr(this._get_settings().types.type_attr)||"default";},set_type:function(str,obj){obj=this._get_node(obj);var ret=(!obj.length||!str)?false:obj.attr(this._get_settings().types.type_attr,str);if(ret){this.__callback({obj:obj,type:str});}
return ret;},_check:function(rule,obj,opts){obj=this._get_node(obj);var v=false,t=this._get_type(obj),d=0,_this=this,s=this._get_settings().types,data=false;if(obj===-1){if(!!s[rule]){v=s[rule];}
else{return;}}
else{if(t===false){return;}
data=s.use_data?obj.data("jstree"):false;if(data&&data.types&&typeof data.types[rule]!=="undefined"){v=data.types[rule];}
else if(!!s.types[t]&&typeof s.types[t][rule]!=="undefined"){v=s.types[t][rule];}
else if(!!s.types["default"]&&typeof s.types["default"][rule]!=="undefined"){v=s.types["default"][rule];}}
if($.isFunction(v)){v=v.call(this,obj);}
if(rule==="max_depth"&&obj!==-1&&opts!==false&&s.max_depth!==-2&&v!==0){obj.children("a:eq(0)").parentsUntil(".jstree","li").each(function(i){if(s.max_depth!==-1&&s.max_depth-(i+1)<=0){v=0;return false;}
d=(i===0)?v:_this._check(rule,this,false);if(d!==-1&&d-(i+1)<=0){v=0;return false;}
if(d>=0&&(d-(i+1)<v||v<0)){v=d-(i+1);}
if(s.max_depth>=0&&(s.max_depth-(i+1)<v||v<0)){v=s.max_depth-(i+1);}});}
return v;},check_move:function(){if(!this.__call_old()){return false;}
var m=this._get_move(),s=m.rt._get_settings().types,mc=m.rt._check("max_children",m.cr),md=m.rt._check("max_depth",m.cr),vc=m.rt._check("valid_children",m.cr),ch=0,d=1,t;if(vc==="none"){return false;}
if($.isArray(vc)&&m.ot&&m.ot._get_type){m.o.each(function(){if($.inArray(m.ot._get_type(this),vc)===-1){d=false;return false;}});if(d===false){return false;}}
if(s.max_children!==-2&&mc!==-1){ch=m.cr===-1?this.get_container().find("> ul > li").not(m.o).length:m.cr.find("> ul > li").not(m.o).length;if(ch+m.o.length>mc){return false;}}
if(s.max_depth!==-2&&md!==-1){d=0;if(md===0){return false;}
if(typeof m.o.d==="undefined"){t=m.o;while(t.length>0){t=t.find("> ul > li");d++;}
m.o.d=d;}
if(md-m.o.d<0){return false;}}
return true;},create_node:function(obj,position,js,callback,is_loaded,skip_check){if(!skip_check&&(is_loaded||this._is_loaded(obj))){var p=(typeof position=="string"&&position.match(/^before|after$/i)&&obj!==-1)?this._get_parent(obj):this._get_node(obj),s=this._get_settings().types,mc=this._check("max_children",p),md=this._check("max_depth",p),vc=this._check("valid_children",p),ch;if(typeof js==="string"){js={data:js};}
if(!js){js={};}
if(vc==="none"){return false;}
if($.isArray(vc)){if(!js.attr||!js.attr[s.type_attr]){if(!js.attr){js.attr={};}
js.attr[s.type_attr]=vc[0];}
else{if($.inArray(js.attr[s.type_attr],vc)===-1){return false;}}}
if(s.max_children!==-2&&mc!==-1){ch=p===-1?this.get_container().find("> ul > li").length:p.find("> ul > li").length;if(ch+1>mc){return false;}}
if(s.max_depth!==-2&&md!==-1&&(md-1)<0){return false;}}
return this.__call_old(true,obj,position,js,callback,is_loaded,skip_check);}}});})(jQuery);(function($){$.jstree.plugin("html_data",{__init:function(){this.data.html_data.original_container_html=this.get_container().find(" > ul > li").clone(true);this.data.html_data.original_container_html.find("li").andSelf().contents().filter(function(){return this.nodeType==3;}).remove();},defaults:{data:false,ajax:false,correct_state:true},_fn:{load_node:function(obj,s_call,e_call){var _this=this;this.load_node_html(obj,function(){_this.__callback({"obj":_this._get_node(obj)});s_call.call(this);},e_call);},_is_loaded:function(obj){obj=this._get_node(obj);return obj==-1||!obj||(!this._get_settings().html_data.ajax&&!$.isFunction(this._get_settings().html_data.data))||obj.is(".jstree-open, .jstree-leaf")||obj.children("ul").children("li").size()>0;},load_node_html:function(obj,s_call,e_call){var d,s=this.get_settings().html_data,error_func=function(){},success_func=function(){};obj=this._get_node(obj);if(obj&&obj!==-1){if(obj.data("jstree_is_loading")){return;}
else{obj.data("jstree_is_loading",true);}}
switch(!0){case($.isFunction(s.data)):s.data.call(this,obj,$.proxy(function(d){if(d&&d!==""&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")!==""){d=$(d);if(!d.is("ul")){d=$("<ul />").append(d);}
if(obj==-1||!obj){this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}},this));break;case(!s.data&&!s.ajax):if(!obj||obj==-1){this.get_container().children("ul").empty().append(this.data.html_data.original_container_html).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node();}
if(s_call){s_call.call(this);}
break;case(!!s.data&&!s.ajax)||(!!s.data&&!!s.ajax&&(!obj||obj===-1)):if(!obj||obj==-1){d=$(s.data);if(!d.is("ul")){d=$("<ul />").append(d);}
this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");this.clean_node();}
if(s_call){s_call.call(this);}
break;case(!s.data&&!!s.ajax)||(!!s.data&&!!s.ajax&&obj&&obj!==-1):obj=this._get_node(obj);error_func=function(x,t,e){var ef=this.get_settings().html_data.ajax.error;if(ef){ef.call(this,x,t,e);}
if(obj!=-1&&obj.length){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(t==="success"&&s.correct_state){this.correct_state(obj);}}
else{if(t==="success"&&s.correct_state){this.get_container().children("ul").empty();}}
if(e_call){e_call.call(this);}};success_func=function(d,t,x){var sf=this.get_settings().html_data.ajax.success;if(sf){d=sf.call(this,d,t,x)||d;}
if(d===""||(d&&d.toString&&d.toString().replace(/^[\s\n]+$/,"")==="")){return error_func.call(this,x,t,"");}
if(d){d=$(d);if(!d.is("ul")){d=$("<ul />").append(d);}
if(obj==-1||!obj){this.get_container().children("ul").empty().append(d.children()).find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");}
else{obj.children("a.jstree-loading").removeClass("jstree-loading");obj.append(d).children("ul").find("li, a").filter(function(){return!this.firstChild||!this.firstChild.tagName||this.firstChild.tagName!=="INS";}).prepend("<ins class='jstree-icon'>&#160;</ins>").end().filter("a").children("ins:first-child").not(".jstree-icon").addClass("jstree-icon");obj.removeData("jstree_is_loading");}
this.clean_node(obj);if(s_call){s_call.call(this);}}
else{if(obj&&obj!==-1){obj.children("a.jstree-loading").removeClass("jstree-loading");obj.removeData("jstree_is_loading");if(s.correct_state){this.correct_state(obj);if(s_call){s_call.call(this);}}}
else{if(s.correct_state){this.get_container().children("ul").empty();if(s_call){s_call.call(this);}}}}};s.ajax.context=this;s.ajax.error=error_func;s.ajax.success=success_func;if(!s.ajax.dataType){s.ajax.dataType="html";}
if($.isFunction(s.ajax.url)){s.ajax.url=s.ajax.url.call(this,obj);}
if($.isFunction(s.ajax.data)){s.ajax.data=s.ajax.data.call(this,obj);}
$.ajax(s.ajax);break;}}}});$.jstree.defaults.plugins.push("html_data");})(jQuery);(function($){$.jstree.plugin("themeroller",{__init:function(){var s=this._get_settings().themeroller;this.get_container().addClass("ui-widget-content").addClass("jstree-themeroller").delegate("a","mouseenter.jstree",function(e){if(!$(e.currentTarget).hasClass("jstree-loading")){$(this).addClass(s.item_h);}}).delegate("a","mouseleave.jstree",function(){$(this).removeClass(s.item_h);}).bind("init.jstree",$.proxy(function(e,data){data.inst.get_container().find("> ul > li > .jstree-loading > ins").addClass("ui-icon-refresh");this._themeroller(data.inst.get_container().find("> ul > li"));},this)).bind("open_node.jstree create_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind("loaded.jstree refresh.jstree",$.proxy(function(e){this._themeroller();},this)).bind("close_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.obj);},this)).bind("delete_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.parent);},this)).bind("correct_state.jstree",$.proxy(function(e,data){data.rslt.obj.children("ins.jstree-icon").removeClass(s.opened+" "+s.closed+" ui-icon").end().find("> a > ins.ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_open+" "+s.item_clsd).addClass(s.item_leaf||"jstree-no-icon");},this)).bind("select_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").addClass(s.item_a);},this)).bind("deselect_node.jstree deselect_all.jstree",$.proxy(function(e,data){this.get_container().find("a."+s.item_a).removeClass(s.item_a).end().find("a.jstree-clicked").addClass(s.item_a);},this)).bind("dehover_node.jstree",$.proxy(function(e,data){data.rslt.obj.children("a").removeClass(s.item_h);},this)).bind("hover_node.jstree",$.proxy(function(e,data){this.get_container().find("a."+s.item_h).not(data.rslt.obj).removeClass(s.item_h);data.rslt.obj.children("a").addClass(s.item_h);},this)).bind("move_node.jstree",$.proxy(function(e,data){this._themeroller(data.rslt.o);this._themeroller(data.rslt.op);},this));},__destroy:function(){var s=this._get_settings().themeroller,c=["ui-icon"];$.each(s,function(i,v){v=v.split(" ");if(v.length){c=c.concat(v);}});this.get_container().removeClass("ui-widget-content").find("."+c.join(", .")).removeClass(c.join(" "));},_fn:{_themeroller:function(obj){var s=this._get_settings().themeroller;obj=!obj||obj==-1?this.get_container_ul():this._get_node(obj).parent();obj.find("li.jstree-closed").children("ins.jstree-icon").removeClass(s.opened).addClass("ui-icon "+s.closed).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_leaf+" "+s.item_open).addClass(s.item_clsd||"jstree-no-icon").end().end().end().end().find("li.jstree-open").children("ins.jstree-icon").removeClass(s.closed).addClass("ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_leaf+" "+s.item_clsd).addClass(s.item_open||"jstree-no-icon").end().end().end().end().find("li.jstree-leaf").children("ins.jstree-icon").removeClass(s.closed+" ui-icon "+s.opened).end().children("a").addClass(s.item).children("ins.jstree-icon").addClass("ui-icon").filter(function(){return this.className.toString().replace(s.item_clsd,"").replace(s.item_open,"").replace(s.item_leaf,"").indexOf("ui-icon-")===-1;}).removeClass(s.item_clsd+" "+s.item_open).addClass(s.item_leaf||"jstree-no-icon");}},defaults:{"opened":"ui-icon-triangle-1-se","closed":"ui-icon-triangle-1-e","item":"ui-state-default","item_h":"ui-state-hover","item_a":"ui-state-active","item_open":"ui-icon-folder-open","item_clsd":"ui-icon-folder-collapsed","item_leaf":"ui-icon-document"}});$(function(){var css_string=''+'.jstree-themeroller .ui-icon { overflow:visible; } '+'.jstree-themeroller a { padding:0 2px; } '+'.jstree-themeroller .jstree-no-icon { display:none; }';$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){$.jstree.plugin("unique",{__init:function(){this.get_container().bind("before.jstree",$.proxy(function(e,data){var nms=[],res=true,p,t;if(data.func=="move_node"){if(data.args[4]===true){if(data.args[0].o&&data.args[0].o.length){data.args[0].o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""));});res=this._check_unique(nms,data.args[0].np.find("> ul > li").not(data.args[0].o),"move_node");}}}
if(data.func=="create_node"){if(data.args[4]||this._is_loaded(data.args[0])){p=this._get_node(data.args[0]);if(data.args[1]&&(data.args[1]==="before"||data.args[1]==="after")){p=this._get_parent(data.args[0]);if(!p||p===-1){p=this.get_container();}}
if(typeof data.args[2]==="string"){nms.push(data.args[2]);}
else if(!data.args[2]||!data.args[2].data){nms.push(this._get_string("new_node"));}
else{nms.push(data.args[2].data);}
res=this._check_unique(nms,p.find("> ul > li"),"create_node");}}
if(data.func=="rename_node"){nms.push(data.args[1]);t=this._get_node(data.args[0]);p=this._get_parent(t);if(!p||p===-1){p=this.get_container();}
res=this._check_unique(nms,p.find("> ul > li").not(t),"rename_node");}
if(!res){e.stopPropagation();return false;}},this));},defaults:{error_callback:$.noop},_fn:{_check_unique:function(nms,p,func){var cnms=[];p.children("a").each(function(){cnms.push($(this).text().replace(/^\s+/g,""));});if(!cnms.length||!nms.length){return true;}
cnms=cnms.sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",");if((cnms.length+nms.length)!=cnms.concat(nms).sort().join(",,").replace(/(,|^)([^,]+)(,,\2)+(,|$)/g,"$1$2$4").replace(/,,+/g,",").replace(/,$/,"").split(",").length){this._get_settings().unique.error_callback.call(null,nms,p,func);return false;}
return true;},check_move:function(){if(!this.__call_old()){return false;}
var p=this._get_move(),nms=[];if(p.o&&p.o.length){p.o.children("a").each(function(){nms.push($(this).text().replace(/^\s+/g,""));});return this._check_unique(nms,p.np.find("> ul > li").not(p.o),"check_move");}
return true;}}});})(jQuery);(function($){$.jstree.plugin("wholerow",{__init:function(){if(!this.data.ui){throw"jsTree wholerow: jsTree UI plugin not included.";}
this.data.wholerow.html=false;this.data.wholerow.to=false;this.get_container().bind("init.jstree",$.proxy(function(e,data){this._get_settings().core.animation=0;},this)).bind("open_node.jstree create_node.jstree clean_node.jstree loaded.jstree",$.proxy(function(e,data){this._prepare_wholerow_span(data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1);},this)).bind("search.jstree clear_search.jstree reopen.jstree after_open.jstree after_close.jstree create_node.jstree delete_node.jstree clean_node.jstree",$.proxy(function(e,data){if(this.data.to){clearTimeout(this.data.to);}
this.data.to=setTimeout((function(t,o){return function(){t._prepare_wholerow_ul(o);};})(this,data&&data.rslt&&data.rslt.obj?data.rslt.obj:-1),0);},this)).bind("deselect_all.jstree",$.proxy(function(e,data){this.get_container().find(" > .jstree-wholerow .jstree-clicked").removeClass("jstree-clicked "+(this.data.themeroller?this._get_settings().themeroller.item_a:""));},this)).bind("select_node.jstree deselect_node.jstree ",$.proxy(function(e,data){data.rslt.obj.each(function(){var ref=data.inst.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt((($(this).offset().top-data.inst.get_container().offset().top+data.inst.get_container()[0].scrollTop)/ data.inst.data.core.li_height),10))+")");ref.children("a").attr("class",data.rslt.obj.children("a").attr("class"));});},this)).bind("hover_node.jstree dehover_node.jstree",$.proxy(function(e,data){this.get_container().find(" > .jstree-wholerow .jstree-hovered").removeClass("jstree-hovered "+(this.data.themeroller?this._get_settings().themeroller.item_h:""));if(e.type==="hover_node"){var ref=this.get_container().find(" > .jstree-wholerow li:visible:eq("+(parseInt(((data.rslt.obj.offset().top-this.get_container().offset().top+this.get_container()[0].scrollTop)/ this.data.core.li_height),10))+")");ref.children("a").attr("class",data.rslt.obj.children(".jstree-hovered").attr("class"));}},this)).delegate(".jstree-wholerow-span, ins.jstree-icon, li","click.jstree",function(e){var n=$(e.currentTarget);if(e.target.tagName==="A"||(e.target.tagName==="INS"&&n.closest("li").is(".jstree-open, .jstree-closed"))){return;}
n.closest("li").children("a:visible:eq(0)").click();e.stopImmediatePropagation();}).delegate("li","mouseover.jstree",$.proxy(function(e){e.stopImmediatePropagation();if($(e.currentTarget).children(".jstree-hovered, .jstree-clicked").length){return false;}
this.hover_node(e.currentTarget);return false;},this)).delegate("li","mouseleave.jstree",$.proxy(function(e){if($(e.currentTarget).children("a").hasClass("jstree-hovered").length){return;}
this.dehover_node(e.currentTarget);},this));if(is_ie7||is_ie6){$.vakata.css.add_sheet({str:".jstree-"+this.get_index()+" { position:relative; } ",title:"jstree"});}},defaults:{},__destroy:function(){this.get_container().children(".jstree-wholerow").remove();this.get_container().find(".jstree-wholerow-span").remove();},_fn:{_prepare_wholerow_span:function(obj){obj=!obj||obj==-1?this.get_container().find("> ul > li"):this._get_node(obj);if(obj===false){return;}
obj.each(function(){$(this).find("li").andSelf().each(function(){var $t=$(this);if($t.children(".jstree-wholerow-span").length){return true;}
$t.prepend("<span class='jstree-wholerow-span' style='width:"+($t.parentsUntil(".jstree","li").length*18)+"px;'>&#160;</span>");});});},_prepare_wholerow_ul:function(){var o=this.get_container().children("ul").eq(0),h=o.html();o.addClass("jstree-wholerow-real");if(this.data.wholerow.last_html!==h){this.data.wholerow.last_html=h;this.get_container().children(".jstree-wholerow").remove();this.get_container().append(o.clone().removeClass("jstree-wholerow-real").wrapAll("<div class='jstree-wholerow' />").parent().width(o.parent()[0].scrollWidth).css("top",(o.height()+(is_ie7?5:0))*-1).find("li[id]").each(function(){this.removeAttribute("id");}).end());}}}});$(function(){var css_string=''+'.jstree .jstree-wholerow-real { position:relative; z-index:1; } '+'.jstree .jstree-wholerow-real li { cursor:pointer; } '+'.jstree .jstree-wholerow-real a { border-left-color:transparent !important; border-right-color:transparent !important; } '+'.jstree .jstree-wholerow { position:relative; z-index:0; height:0; } '+'.jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { width:100%; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li, .jstree .jstree-wholerow a { margin:0 !important; padding:0 !important; } '+'.jstree .jstree-wholerow, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow li { background:transparent !important; }'+'.jstree .jstree-wholerow ins, .jstree .jstree-wholerow span, .jstree .jstree-wholerow input { display:none !important; }'+'.jstree .jstree-wholerow a, .jstree .jstree-wholerow a:hover { text-indent:-9999px; !important; width:100%; padding:0 !important; border-right-width:0px !important; border-left-width:0px !important; } '+'.jstree .jstree-wholerow-span { position:absolute; left:0; margin:0px; padding:0; height:18px; border-width:0; padding:0; z-index:0; }';if(is_ff2){css_string+=''+'.jstree .jstree-wholerow a { display:block; height:18px; margin:0; padding:0; border:0; } '+'.jstree .jstree-wholerow-real a { border-color:transparent !important; } ';}
if(is_ie7||is_ie6){css_string+=''+'.jstree .jstree-wholerow, .jstree .jstree-wholerow li, .jstree .jstree-wholerow ul, .jstree .jstree-wholerow a { margin:0; padding:0; line-height:18px; } '+'.jstree .jstree-wholerow a { display:block; height:18px; line-height:18px; overflow:hidden; } ';}
$.vakata.css.add_sheet({str:css_string,title:"jstree"});});})(jQuery);(function($){var nodeInterface=["getChildren","getChildrenCount","getAttr","getName","getProps"],validateInterface=function(obj,inter){var valid=true;obj=obj||{};inter=[].concat(inter);$.each(inter,function(i,v){if(!$.isFunction(obj[v])){valid=false;return false;}});return valid;};$.jstree.plugin("model",{__init:function(){if(!this.data.json_data){throw"jsTree model: jsTree json_data plugin not included.";}
this._get_settings().json_data.data=function(n,b){var obj=(n==-1)?this._get_settings().model.object:n.data("jstree_model");if(!validateInterface(obj,nodeInterface)){return b.call(null,false);}
if(this._get_settings().model.async){obj.getChildren($.proxy(function(data){this.model_done(data,b);},this));}
else{this.model_done(obj.getChildren(),b);}};},defaults:{object:false,id_prefix:false,async:false},_fn:{model_done:function(data,callback){var ret=[],s=this._get_settings(),_this=this;if(!$.isArray(data)){data=[data];}
$.each(data,function(i,nd){var r=nd.getProps()||{};r.attr=nd.getAttr()||{};if(nd.getChildrenCount()){r.state="closed";}
r.data=nd.getName();if(!$.isArray(r.data)){r.data=[r.data];}
if(_this.data.types&&$.isFunction(nd.getType)){r.attr[s.types.type_attr]=nd.getType();}
if(r.attr.id&&s.model.id_prefix){r.attr.id=s.model.id_prefix+r.attr.id;}
if(!r.metadata){r.metadata={};}
r.metadata.jstree_model=nd;ret.push(r);});callback.call(null,ret);}}});})(jQuery);})();
/* End of File include/javascript/jquery/jquery.jstree.js */

(function($){$.jstree.plugin('state',{__init:function(){this.get_container().one((this.data.ui?'reselect':'reopen')+'.jstree',$.proxy(function(){this.get_container().bind('open_node.jstree close_node.jstree select_node.jstree deselect_node.jstree',$.proxy(function(e){if(this._get_settings().state.auto_save){this.save_state((e.handleObj.namespace+e.handleObj.type).replace('jstree',''));}},this));},this));},defaults:{save_loaded:'jstree_load',save_opened:'jstree_open',save_selected:'jstree_select',auto_save:true,options:{},storage:$.cookie},_fn:{save_state:function(event){if(this.data.core.refreshing){return;}
var s=this._get_settings().state;if(!event){if(s.save_loaded){this.save_loaded();s.storage(s.save_loaded,this.data.core.to_load.join(','),s.options);}
if(s.save_opened){this.save_opened();s.storage(s.save_opened,this.data.core.to_open.join(','),s.options);}
if(s.save_selected&&this.data.ui){this.save_selected();s.storage(s.save_selected,this.data.ui.to_select.join(','),s.options);}
return;}
switch(event){case'open_node':case'close_node':if(!!s.save_opened){this.save_opened();s.storage(s.save_opened,this.data.core.to_open.join(','),s.options);}
if(!!s.save_loaded){this.save_loaded();s.storage(s.save_loaded,this.data.core.to_load.join(','),s.options);}
break;case'select_node':case'deselect_node':if(!!s.save_selected&&this.data.ui){this.save_selected();s.storage(s.save_selected,this.data.ui.to_select.join(','),s.options);}
break;}},load_state:function(){var s=this._get_settings().state,tmp,rslt={load:[],open:[],select:[]};if(!!s.save_loaded){tmp=s.storage(s.save_loaded);if(tmp&&tmp.length){this.data.core.to_load=tmp.split(',');rslt.load=this.data.core.to_load;this.reload_nodes(false);}}
if(!!s.save_opened){tmp=s.storage(s.save_opened);if(tmp&&tmp.length){this.data.core.to_open=tmp.split(',');rslt.open=this.data.core.to_open;this.reopen();}}
if(!!s.save_selected){tmp=s.storage(s.save_selected);if(tmp&&tmp.length&&this.data.ui){this.data.ui.to_select=tmp.split(',');rslt.select=this.data.core.to_select;this.reselect();}}
$.each(rslt,function(rsltInd,rsltValue){$.each(rsltValue,function(ind,value){rslt[rsltInd][ind]=value.replace('#','');});});this.__callback(rslt);}}});})(jQuery);
/* End of File include/javascript/jquery/jstree.state.js */

(function($){$.fn.noUiSlider=function(method,options){function neg(a){return a<0;}
function abs(a){return Math.abs(a);}
function roundTo(a,b){return Math.round(a / b)*b;}
function dup(a){return jQuery.extend(true,{},a);}
var defaults,methods,helpers,options=options||[],functions,touch=('ontouchstart'in document.documentElement);defaults={'handles':2,'connect':true,'scale':[0,100],'start':[25,75],'to':0,'handle':0,'change':'','end':'','step':false,'save':false,'click':true};helpers={scale:function(a,b,c){var d=b[0],e=b[1];if(neg(d)){a=a+abs(d);e=e+abs(d);}else{a=a-d;e=e-d;}
return(a*c)/e;},deScale:function(a,b,c){var d=b[0],e=b[1];e=neg(d)?e+abs(d):e-d;return((a*e)/c)+d;},connect:function(api){if(api.connect){if(api.handles.length>1){api.connect.css({'left':api.low.left(),'right':(api.slider.innerWidth()-api.up.left())});}else{api.low?api.connect.css({'left':api.low.left(),'right':0}):api.connect.css({'left':0,'right':(api.slider.innerWidth()-api.up.left())});}}},left:function(){return parseFloat($(this).css('left'));},call:function(f,t,n){if(typeof(f)=="function"){f.call(t,n)}},bounce:function(api,n,c,handle){var go=false;if(handle.is(api.up)){if(api.low&&n<api.low.left()){n=api.low.left();go=true;}}else{if(api.up&&n>api.up.left()){n=api.up.left();go=true;}}
if(n>api.slider.innerWidth()){n=api.slider.innerWidth()
go=true;}else if(n<0){n=0;go=true;}
return[n,go];}};methods={init:function(){return this.each(function(){var s,slider,api;slider=$(this).css('position','relative');api=new Object();api.options=$.extend(defaults,options);s=api.options;typeof s.start=='object'?1:s.start=[s.start];api.slider=slider;api.low=$('<div class="noUi-handle noUi-lowerHandle"><div></div></div>');api.up=$('<div class="noUi-handle noUi-upperHandle"><div></div></div>');api.connect=$('<div class="noUi-midBar"></div>');s.connect?api.connect.appendTo(api.slider):api.connect=false;if(s.knobs){s.handles=s.knobs;}
if(s.handles===1){if(s.connect===true||s.connect==='lower'){api.low=false;api.up=api.up.appendTo(api.slider);api.handles=[api.up];}else if(s.connect==='upper'||!s.connect){api.low=api.low.prependTo(api.slider);api.up=false;api.handles=[api.low];}}else{api.low=api.low.prependTo(api.slider);api.up=api.up.appendTo(api.slider);api.handles=[api.low,api.up];}
if(api.low){api.low.left=helpers.left;}
if(api.up){api.up.left=helpers.left;}
api.slider.children().css('position','absolute');$.each(api.handles,function(index){$(this).css({'left':helpers.scale(s.start[index],api.options.scale,api.slider.innerWidth()),'zIndex':index+1}).children().bind(touch?'touchstart.noUi':'mousedown.noUi',functions.start);});if(s.click){api.slider.click(functions.click).find('*:not(.noUi-midBar)').click(functions.flse);}
helpers.connect(api);api.options=s;api.slider.data('api',api);});},move:function(){var api,bounce,to,handle,scale;api=dup($(this).data('api'));api.options=$.extend(api.options,options);if(api.options.knob){api.options.handle=api.options.knob;}
handle=api.options.handle;handle=api.handles[handle=='lower'||handle==0||typeof handle=='undefined'?0:1];bounce=helpers.bounce(api,helpers.scale(api.options.to,api.options.scale,api.slider.innerWidth()),handle.left(),handle);handle.css('left',bounce[0]);if((handle.is(api.up)&&handle.left()==0)||(handle.is(api.low)&&handle.left()==api.slider.innerWidth())){handle.css('zIndex',parseInt(handle.css('zIndex'))+2);}
if(options.save===true){api.options.scale=options.scale;$(this).data('api',api);}
helpers.connect(api);helpers.call(api.options.change,api.slider,'move');helpers.call(api.options.end,api.slider,'move');},value:function(){var val1,val2,api;api=dup($(this).data('api'));api.options=$.extend(api.options,options);val1=api.low?Math.round(helpers.deScale(api.low.left(),api.options.scale,api.slider.innerWidth())):false;val2=api.up?Math.round(helpers.deScale(api.up.left(),api.options.scale,api.slider.innerWidth())):false;if(options.save){api.options.scale=options.scale;$(this).data('api',api);}
return[val1,val2];},api:function(){return $(this).data('api');},disable:function(){return this.each(function(){$(this).addClass('disabled');});},enable:function(){return this.each(function(){$(this).removeClass('disabled');});}},functions={start:function(e){if(!$(this).parent().parent().hasClass('disabled')){e.preventDefault();$('body').bind('selectstart.noUi',functions.flse);$(this).addClass('noUi-activeHandle');$(document).bind(touch?'touchmove.noUi':'mousemove.noUi',functions.move);touch?$(this).bind('touchend.noUi',functions.end):$(document).bind('mouseup.noUi',functions.end);}},move:function(e){var a,b,h,api,go=false,handle,bounce;h=$('.noUi-activeHandle');api=h.parent().parent().data('api');handle=h.parent().is(api.low)?api.low:api.up;a=e.pageX-Math.round(api.slider.offset().left);if(isNaN(a)){a=e.originalEvent.touches[0].pageX-Math.round(api.slider.offset().left);}
b=handle.left();bounce=helpers.bounce(api,a,b,handle);a=bounce[0];go=bounce[1];if(api.options.step&&!go){var v1=api.options.scale[0];var v2=api.options.scale[1];if(neg(v2)){v2=abs(v1-v2);}
var con=helpers.scale(api.options.step,[0,v2+abs(v1)],api.slider.innerWidth());if(Math.abs(b-a)>=con){a=a<b?b-con:b+con;go=true;}}else{go=true;}
if(a===b){go=false;}
if(go){handle.css('left',a);if((handle.is(api.up)&&handle.left()==0)||(handle.is(api.low)&&handle.left()==api.slider.innerWidth())){handle.css('zIndex',parseInt(handle.css('zIndex'))+2);}
helpers.connect(api);helpers.call(api.options.change,api.slider,'slide');}},end:function(){var h,api;h=$('.noUi-activeHandle');api=h.parent().parent().data('api');$(document).add('body').add(h.removeClass('noUi-activeHandle').parent()).unbind('.noUi');helpers.call(api.options.end,api.slider,'slide');},click:function(e){if(!$(this).hasClass('disabled')){var api=$(this).data('api');var s=api.options;var c=e.pageX-api.slider.offset().left;c=s.step?roundTo(c,helpers.scale(s.step,s.scale,api.slider.innerWidth())):c;if(api.low&&api.up){c<((api.low.left()+api.up.left())/2)?api.low.css("left",c):api.up.css("left",c);}else{api.handles[0].css('left',c);}
helpers.connect(api);helpers.call(s.change,api.slider,'click');helpers.call(s.end,api.slider,'click');}},flse:function(){return false;}}
if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('No such method: '+method);}};})(jQuery);
/* End of File include/javascript/jquery/jquery.nouislider.js */

/*! NProgress (c) 2013, Rico Sta. Cruz
 *  http://ricostacruz.com/nprogress */;(function(factory){if(typeof module==='function'){module.exports=factory();}else if(typeof define==='function'&&define.amd){define(factory);}else{this.NProgress=factory();}})(function(){var NProgress={};NProgress.version='0.1.3';var Settings=NProgress.settings={minimum:0.08,easing:'ease',positionUsing:'',speed:200,trickle:true,trickleRate:0.02,trickleSpeed:800,showSpinner:true,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};NProgress.configure=function(options){var key,value;for(key in options){value=options[key];if(value!==undefined&&options.hasOwnProperty(key))Settings[key]=value;}
return this;};NProgress.status=null;NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1);NProgress.status=(n===1?null:n);var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;progress.offsetWidth;queue(function(next){if(Settings.positionUsing==='')Settings.positionUsing=NProgress.getPositioningCSS();css(bar,barPositionCSS(n,speed,ease));if(n===1){css(progress,{transition:'none',opacity:1});progress.offsetWidth;setTimeout(function(){css(progress,{transition:'all '+speed+'ms linear',opacity:0});setTimeout(function(){NProgress.remove();next();},speed);},speed);}else{setTimeout(next,speed);}});return this;};NProgress.isStarted=function(){return typeof NProgress.status==='number';};NProgress.start=function(){if(!NProgress.status)NProgress.set(0);var work=function(){setTimeout(function(){if(!NProgress.status)return;NProgress.trickle();work();},Settings.trickleSpeed);};if(Settings.trickle)work();return this;};NProgress.done=function(force){if(!force&&!NProgress.status)return this;return NProgress.inc(0.3+0.5*Math.random()).set(1);};NProgress.inc=function(amount){var n=NProgress.status;if(!n){return NProgress.start();}else{if(typeof amount!=='number'){amount=(1-n)*clamp(Math.random()*n,0.1,0.95);}
n=clamp(n+amount,0,0.994);return NProgress.set(n);}};NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate);};(function(){var initial=0,current=0;NProgress.promise=function($promise){if(!$promise||$promise.state()=="resolved"){return this;}
if(current==0){NProgress.start();}
initial++;current++;$promise.always(function(){current--;if(current==0){initial=0;NProgress.done();}else{NProgress.set((initial-current)/ initial);}});return this;};})();NProgress.render=function(fromStart){if(NProgress.isRendered())return document.getElementById('nprogress');addClass(document.documentElement,'nprogress-busy');var progress=document.createElement('div');progress.id='nprogress';progress.innerHTML=Settings.template;var bar=progress.querySelector(Settings.barSelector),perc=fromStart?'-100':toBarPerc(NProgress.status||0),spinner;css(bar,{transition:'all 0 linear',transform:'translate3d('+perc+'%,0,0)'});if(!Settings.showSpinner){spinner=progress.querySelector(Settings.spinnerSelector);spinner&&removeElement(spinner);}
document.body.appendChild(progress);return progress;};NProgress.remove=function(){removeClass(document.documentElement,'nprogress-busy');var progress=document.getElementById('nprogress');progress&&removeElement(progress);};NProgress.isRendered=function(){return!!document.getElementById('nprogress');};NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style;var vendorPrefix=('WebkitTransform'in bodyStyle)?'Webkit':('MozTransform'in bodyStyle)?'Moz':('msTransform'in bodyStyle)?'ms':('OTransform'in bodyStyle)?'O':'';if(vendorPrefix+'Perspective'in bodyStyle){return'translate3d';}else if(vendorPrefix+'Transform'in bodyStyle){return'translate';}else{return'margin';}};function clamp(n,min,max){if(n<min)return min;if(n>max)return max;return n;}
function toBarPerc(n){return(-1+n)*100;}
function barPositionCSS(n,speed,ease){var barCSS;if(Settings.positionUsing==='translate3d'){barCSS={transform:'translate3d('+toBarPerc(n)+'%,0,0)'};}else if(Settings.positionUsing==='translate'){barCSS={transform:'translate('+toBarPerc(n)+'%,0)'};}else{barCSS={'margin-left':toBarPerc(n)+'%'};}
barCSS.transition='all '+speed+'ms '+ease;return barCSS;}
var queue=(function(){var pending=[];function next(){var fn=pending.shift();if(fn){fn(next);}}
return function(fn){pending.push(fn);if(pending.length==1)next();};})();var css=(function(){var cssPrefixes=['Webkit','O','Moz','ms'],cssProps={};function camelCase(string){return string.replace(/^-ms-/,'ms-').replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase();});}
function getVendorProp(name){var style=document.body.style;if(name in style)return name;var i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1),vendorName;while(i--){vendorName=cssPrefixes[i]+capName;if(vendorName in style)return vendorName;}
return name;}
function getStyleProp(name){name=camelCase(name);return cssProps[name]||(cssProps[name]=getVendorProp(name));}
function applyCss(element,prop,value){prop=getStyleProp(prop);element.style[prop]=value;}
return function(element,properties){var args=arguments,prop,value;if(args.length==2){for(prop in properties){value=properties[prop];if(value!==undefined&&properties.hasOwnProperty(prop))applyCss(element,prop,value);}}else{applyCss(element,args[1],args[2]);}}})();function hasClass(element,name){var list=typeof element=='string'?element:classList(element);return list.indexOf(' '+name+' ')>=0;}
function addClass(element,name){var oldList=classList(element),newList=oldList+name;if(hasClass(oldList,name))return;element.className=newList.substring(1);}
function removeClass(element,name){var oldList=classList(element),newList;if(!hasClass(element,name))return;newList=oldList.replace(' '+name+' ',' ');element.className=newList.substring(1,newList.length-1);}
function classList(element){return(' '+(element.className||'')+' ').replace(/\s+/gi,' ');}
function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element);}
return NProgress;});
/* End of File include/javascript/nprogress/nprogress.js */

(function(){const hasSelf=typeof self!=='undefined';const hasDocument=typeof document!=='undefined';const envGlobal=hasSelf?self:global;let baseUrl;if(hasDocument){const baseEl=document.querySelector('base[href]');if(baseEl)
baseUrl=baseEl.href;}
if(!baseUrl&&typeof location!=='undefined'){baseUrl=location.href.split('#')[0].split('?')[0];const lastSepIndex=baseUrl.lastIndexOf('/');if(lastSepIndex!==-1)
baseUrl=baseUrl.slice(0,lastSepIndex+1);}
const backslashRegEx=/\\/g;function resolveIfNotPlainOrUrl(relUrl,parentUrl){if(relUrl.indexOf('\\')!==-1)
relUrl=relUrl.replace(backslashRegEx,'/');if(relUrl[0]==='/'&&relUrl[1]==='/'){return parentUrl.slice(0,parentUrl.indexOf(':')+1)+relUrl;}
else if(relUrl[0]==='.'&&(relUrl[1]==='/'||relUrl[1]==='.'&&(relUrl[2]==='/'||relUrl.length===2&&(relUrl+='/'))||relUrl.length===1&&(relUrl+='/'))||relUrl[0]==='/'){const parentProtocol=parentUrl.slice(0,parentUrl.indexOf(':')+1);let pathname;if(parentUrl[parentProtocol.length+1]==='/'){if(parentProtocol!=='file:'){pathname=parentUrl.slice(parentProtocol.length+2);pathname=pathname.slice(pathname.indexOf('/')+1);}
else{pathname=parentUrl.slice(8);}}
else{pathname=parentUrl.slice(parentProtocol.length+(parentUrl[parentProtocol.length]==='/'));}
if(relUrl[0]==='/')
return parentUrl.slice(0,parentUrl.length-pathname.length-1)+relUrl;const segmented=pathname.slice(0,pathname.lastIndexOf('/')+1)+relUrl;const output=[];let segmentIndex=-1;for(let i=0;i<segmented.length;i++){if(segmentIndex!==-1){if(segmented[i]==='/'){output.push(segmented.slice(segmentIndex,i+1));segmentIndex=-1;}}
else if(segmented[i]==='.'){if(segmented[i+1]==='.'&&(segmented[i+2]==='/'||i+2===segmented.length)){output.pop();i+=2;}
else if(segmented[i+1]==='/'||i+1===segmented.length){i+=1;}
else{segmentIndex=i;}}
else{segmentIndex=i;}}
if(segmentIndex!==-1)
output.push(segmented.slice(segmentIndex));return parentUrl.slice(0,parentUrl.length-pathname.length)+output.join('');}}
function resolveUrl(relUrl,parentUrl){return resolveIfNotPlainOrUrl(relUrl,parentUrl)||(relUrl.indexOf(':')!==-1?relUrl:resolveIfNotPlainOrUrl('./'+relUrl,parentUrl));}
function objectAssign(to,from){for(let p in from)
to[p]=from[p];return to;}
function resolveAndComposePackages(packages,outPackages,baseUrl,parentMap,parentUrl){for(let p in packages){const resolvedLhs=resolveIfNotPlainOrUrl(p,baseUrl)||p;const rhs=packages[p];if(typeof rhs!=='string')
continue;const mapped=resolveImportMap(parentMap,resolveIfNotPlainOrUrl(rhs,baseUrl)||rhs,parentUrl);if(!mapped)
targetWarning(p,rhs,'bare specifier did not resolve');else
outPackages[resolvedLhs]=mapped;}}
function resolveAndComposeImportMap(json,baseUrl,parentMap){const outMap={imports:objectAssign({},parentMap.imports),scopes:objectAssign({},parentMap.scopes)};if(json.imports)
resolveAndComposePackages(json.imports,outMap.imports,baseUrl,parentMap,null);if(json.scopes)
for(let s in json.scopes){const resolvedScope=resolveUrl(s,baseUrl);resolveAndComposePackages(json.scopes[s],outMap.scopes[resolvedScope]||(outMap.scopes[resolvedScope]={}),baseUrl,parentMap,resolvedScope);}
return outMap;}
function getMatch(path,matchObj){if(matchObj[path])
return path;let sepIndex=path.length;do{const segment=path.slice(0,sepIndex+1);if(segment in matchObj)
return segment;}while((sepIndex=path.lastIndexOf('/',sepIndex-1))!==-1)}
function applyPackages(id,packages){const pkgName=getMatch(id,packages);if(pkgName){const pkg=packages[pkgName];if(pkg===null)return;if(id.length>pkgName.length&&pkg[pkg.length-1]!=='/')
targetWarning(pkgName,pkg,"should have a trailing '/'");else
return pkg+id.slice(pkgName.length);}}
function targetWarning(match,target,msg){console.warn("Package target "+msg+", resolving target '"+target+"' for "+match);}
function resolveImportMap(importMap,resolvedOrPlain,parentUrl){let scopeUrl=parentUrl&&getMatch(parentUrl,importMap.scopes);while(scopeUrl){const packageResolution=applyPackages(resolvedOrPlain,importMap.scopes[scopeUrl]);if(packageResolution)
return packageResolution;scopeUrl=getMatch(scopeUrl.slice(0,scopeUrl.lastIndexOf('/')),importMap.scopes);}
return applyPackages(resolvedOrPlain,importMap.imports)||resolvedOrPlain.indexOf(':')!==-1&&resolvedOrPlain;}
const hasSymbol=typeof Symbol!=='undefined';const toStringTag=hasSymbol&&Symbol.toStringTag;const REGISTRY=hasSymbol?Symbol():'@';function SystemJS(){this[REGISTRY]={};}
const systemJSPrototype=SystemJS.prototype;systemJSPrototype.prepareImport=function(){};systemJSPrototype.import=function(id,parentUrl){const loader=this;return Promise.resolve(loader.prepareImport()).then(function(){return loader.resolve(id,parentUrl);}).then(function(id){const load=getOrCreateLoad(loader,id);return load.C||topLevelLoad(loader,load);});};systemJSPrototype.createContext=function(parentId){return{url:parentId};};systemJSPrototype.onload=function(){};function loadToId(load){return load.id;}
function triggerOnload(loader,load,err){loader.onload(err,load.id,load.d&&load.d.map(loadToId));if(err)
throw err;}
let lastRegister;systemJSPrototype.register=function(deps,declare){lastRegister=[deps,declare];};systemJSPrototype.getRegister=function(){const _lastRegister=lastRegister;lastRegister=undefined;return _lastRegister;};function getOrCreateLoad(loader,id,firstParentUrl){let load=loader[REGISTRY][id];if(load)
return load;const importerSetters=[];const ns=Object.create(null);if(toStringTag)
Object.defineProperty(ns,toStringTag,{value:'Module'});let instantiatePromise=Promise.resolve().then(function(){return loader.instantiate(id,firstParentUrl);}).then(function(registration){if(!registration)
throw Error('Module '+id+' did not instantiate');function _export(name,value){load.h=true;let changed=false;if(typeof name!=='object'){if(!(name in ns)||ns[name]!==value){ns[name]=value;changed=true;}}
else{for(let p in name){let value=name[p];if(!(p in ns)||ns[p]!==value){ns[p]=value;changed=true;}}
if(name.__esModule){ns.__esModule=name.__esModule;}}
if(changed)
for(let i=0;i<importerSetters.length;i++)
importerSetters[i](ns);return value;}
const declared=registration[1](_export,registration[1].length===2?{import:function(importId){return loader.import(importId,id);},meta:loader.createContext(id)}:undefined);load.e=declared.execute||function(){};return[registration[0],declared.setters||[]];});instantiatePromise=instantiatePromise.catch(function(err){triggerOnload(loader,load,err);});const linkPromise=instantiatePromise.then(function(instantiation){return Promise.all(instantiation[0].map(function(dep,i){const setter=instantiation[1][i];return Promise.resolve(loader.resolve(dep,id)).then(function(depId){const depLoad=getOrCreateLoad(loader,depId,id);return Promise.resolve(depLoad.I).then(function(){if(setter){depLoad.i.push(setter);if(depLoad.h||!depLoad.I)
setter(depLoad.n);}
return depLoad;});})})).then(function(depLoads){load.d=depLoads;});});linkPromise.catch(function(err){load.e=null;load.er=err;});return load=loader[REGISTRY][id]={id:id,i:importerSetters,n:ns,I:instantiatePromise,L:linkPromise,h:false,d:undefined,e:undefined,er:undefined,E:undefined,C:undefined};}
function instantiateAll(loader,load,loaded){if(!loaded[load.id]){loaded[load.id]=true;return Promise.resolve(load.L).then(function(){return Promise.all(load.d.map(function(dep){return instantiateAll(loader,dep,loaded);}));})}}
function topLevelLoad(loader,load){return load.C=instantiateAll(loader,load,{}).then(function(){return postOrderExec(loader,load,{});}).then(function(){return load.n;});}
const nullContext=Object.freeze(Object.create(null));function postOrderExec(loader,load,seen){if(seen[load.id])
return;seen[load.id]=true;if(!load.e){if(load.er)
throw load.er;if(load.E)
return load.E;return;}
let depLoadPromises;load.d.forEach(function(depLoad){{try{const depLoadPromise=postOrderExec(loader,depLoad,seen);if(depLoadPromise){depLoadPromise.catch(function(err){triggerOnload(loader,load,err);});(depLoadPromises=depLoadPromises||[]).push(depLoadPromise);}}
catch(err){triggerOnload(loader,load,err);}}});if(depLoadPromises)
return Promise.all(depLoadPromises).then(doExec);return doExec();function doExec(){try{let execPromise=load.e.call(nullContext);if(execPromise){execPromise=execPromise.then(function(){load.C=load.n;load.E=null;triggerOnload(loader,load,null);},function(err){triggerOnload(loader,load,err);});return load.E=load.E||execPromise;}
load.C=load.n;triggerOnload(loader,load,null);}
catch(err){triggerOnload(loader,load,err);load.er=err;throw err;}
finally{load.L=load.I=undefined;load.e=null;}}}
envGlobal.System=new SystemJS();let importMap={imports:{},scopes:{}},importMapPromise;if(hasDocument){Array.prototype.forEach.call(document.querySelectorAll('script[type="systemjs-importmap"][src]'),function(script){script._j=fetch(script.src).then(function(res){return res.json();});});}
systemJSPrototype.prepareImport=function(){if(!importMapPromise){importMapPromise=Promise.resolve();if(hasDocument)
Array.prototype.forEach.call(document.querySelectorAll('script[type="systemjs-importmap"]'),function(script){importMapPromise=importMapPromise.then(function(){return(script._j||script.src&&fetch(script.src).then(function(resp){return resp.json();})||Promise.resolve(JSON.parse(script.innerHTML))).then(function(json){importMap=resolveAndComposeImportMap(json,script.src||baseUrl,importMap);});});});}
return importMapPromise;};systemJSPrototype.resolve=function(id,parentUrl){parentUrl=parentUrl||baseUrl;return resolveImportMap(importMap,resolveIfNotPlainOrUrl(id,parentUrl)||id,parentUrl)||throwUnresolved(id,parentUrl);};function throwUnresolved(id,parentUrl){throw Error("Unable to resolve specifier '"+id+(parentUrl?"' from "+parentUrl:"'"));}
const systemRegister=systemJSPrototype.register;systemJSPrototype.register=function(deps,declare){systemRegister.call(this,deps,declare);};systemJSPrototype.createScript=function(url){const script=document.createElement('script');script.charset='utf-8';script.async=true;script.crossOrigin='anonymous';script.src=url;return script;};let lastWindowErrorUrl,lastWindowError;if(hasDocument)
window.addEventListener('error',function(evt){lastWindowErrorUrl=evt.filename;lastWindowError=evt.error;});systemJSPrototype.instantiate=function(url,firstParentUrl){const loader=this;return new Promise(function(resolve,reject){const script=systemJSPrototype.createScript(url);script.addEventListener('error',function(){reject(Error('Error loading '+url+(firstParentUrl?' from '+firstParentUrl:'')));});script.addEventListener('load',function(){document.head.removeChild(script);if(lastWindowErrorUrl===url){reject(lastWindowError);}
else{resolve(loader.getRegister());}});document.head.appendChild(script);});};if(hasDocument){window.addEventListener('DOMContentLoaded',loadScriptModules);loadScriptModules();}
function loadScriptModules(){Array.prototype.forEach.call(document.querySelectorAll('script[type=systemjs-module]'),function(script){if(script.src){System.import(script.src.slice(0,7)==='import:'?script.src.slice(7):resolveUrl(script.src,baseUrl));}});}
if(hasSelf&&typeof importScripts==='function')
systemJSPrototype.instantiate=function(url){const loader=this;return new Promise(function(resolve,reject){try{importScripts(url);}
catch(e){reject(e);}
resolve(loader.getRegister());});};(function(global){const systemJSPrototype=global.System.constructor.prototype;const isIE=navigator.userAgent.indexOf('Trident')!==-1;let firstGlobalProp,secondGlobalProp,lastGlobalProp;function getGlobalProp(){let cnt=0;let lastProp;for(let p in global){if(!global.hasOwnProperty(p)||(!isNaN(p)&&p<global.length)||(isIE&&global[p]&&global[p].parent===window))
continue;if(cnt===0&&p!==firstGlobalProp||cnt===1&&p!==secondGlobalProp)
return p;cnt++;lastProp=p;}
if(lastProp!==lastGlobalProp)
return lastProp;}
function noteGlobalProps(){firstGlobalProp=secondGlobalProp=undefined;for(let p in global){if(!global.hasOwnProperty(p)||(!isNaN(p)&&p<global.length)||(isIE&&global[p]&&global[p].parent===window))
continue;if(!firstGlobalProp)
firstGlobalProp=p;else if(!secondGlobalProp)
secondGlobalProp=p;lastGlobalProp=p;}
return lastGlobalProp;}
const impt=systemJSPrototype.import;systemJSPrototype.import=function(id,parentUrl){noteGlobalProps();return impt.call(this,id,parentUrl);};const emptyInstantiation=[[],function(){return{}}];const getRegister=systemJSPrototype.getRegister;systemJSPrototype.getRegister=function(){const lastRegister=getRegister.call(this);if(lastRegister)
return lastRegister;const globalProp=getGlobalProp();if(!globalProp)
return emptyInstantiation;let globalExport;try{globalExport=global[globalProp];}
catch(e){return emptyInstantiation;}
return[[],function(_export){return{execute:function(){_export({default:globalExport,__useDefault:true});}};}];};})(typeof self!=='undefined'?self:global);(function(global){const systemJSPrototype=global.System.constructor.prototype;const instantiate=systemJSPrototype.instantiate;const moduleTypesRegEx=/\.(css|html|json|wasm)$/;systemJSPrototype.shouldFetch=function(url){const path=url.split('?')[0].split('#')[0];const ext=path.slice(path.lastIndexOf('.'));return ext.match(moduleTypesRegEx);};systemJSPrototype.fetch=function(url){return fetch(url);};systemJSPrototype.instantiate=function(url,parent){const loader=this;if(this.shouldFetch(url)){return this.fetch(url).then(function(res){if(!res.ok)
throw Error(res.status+' '+res.statusText+', loading '+url+(parent?' from '+parent:''));const contentType=res.headers.get('content-type');if(contentType.match(/^(text|application)\/(x-)?javascript(;|$)/)){return res.text().then(function(source){(0,eval)(source);return loader.getRegister();});}
else if(contentType.match(/^application\/json(;|$)/)){return res.text().then(function(source){return[[],function(_export){return{execute:function(){_export('default',JSON.parse(source));}};}];});}
else if(contentType.match(/^text\/css(;|$)/)){return res.text().then(function(source){return[[],function(_export){return{execute:function(){const stylesheet=new CSSStyleSheet();stylesheet.replaceSync(source);_export('default',stylesheet);}};}];});}
else if(contentType.match(/^application\/wasm(;|$)/)){return(WebAssembly.compileStreaming?WebAssembly.compileStreaming(res):res.arrayBuffer().then(WebAssembly.compile)).then(function(module){const deps=[];const setters=[];const importObj={};if(WebAssembly.Module.imports)
WebAssembly.Module.imports(module).forEach(function(impt){const key=impt.module;if(deps.indexOf(key)===-1){deps.push(key);setters.push(function(m){importObj[key]=m;});}});return[deps,function(_export){return{setters:setters,execute:function(){return WebAssembly.instantiate(module,importObj).then(function(instance){_export(instance.exports);});}};}];});}
else{throw new Error('Unknown module type "'+contentType+'"');}});}
return instantiate.apply(this,arguments);};})(typeof self!=='undefined'?self:global);const toStringTag$1=typeof Symbol!=='undefined'&&Symbol.toStringTag;systemJSPrototype.get=function(id){const load=this[REGISTRY][id];if(load&&load.e===null&&!load.E){if(load.er)
return null;return load.n;}};systemJSPrototype.set=function(id,module){let ns;if(toStringTag$1&&module[toStringTag$1]==='Module'){ns=module;}
else{ns=Object.assign(Object.create(null),module);if(toStringTag$1)
Object.defineProperty(ns,toStringTag$1,{value:'Module'});}
const done=Promise.resolve(ns);const load=this[REGISTRY][id]||(this[REGISTRY][id]={id:id,i:[],h:false,d:[],e:null,er:undefined,E:undefined});if(load.e||load.E)
return false;Object.assign(load,{n:ns,I:undefined,L:undefined,C:done});return ns;};systemJSPrototype.has=function(id){const load=this[REGISTRY][id];return!!load;};systemJSPrototype.delete=function(id){const registry=this[REGISTRY];const load=registry[id];if(!load||load.e!==null||load.E)
return false;let importerSetters=load.i;if(load.d)
load.d.forEach(function(depLoad){const importerIndex=depLoad.i.indexOf(load);if(importerIndex!==-1)
depLoad.i.splice(importerIndex,1);});delete registry[id];return function(){const load=registry[id];if(!load||!importerSetters||load.e!==null||load.E)
return false;importerSetters.forEach(function(setter){load.i.push(setter);setter(load.n);});importerSetters=null;};};const iterator=typeof Symbol!=='undefined'&&Symbol.iterator;systemJSPrototype.entries=function(){const loader=this,keys=Object.keys(loader[REGISTRY]);let index=0,ns,key;const result={next:function(){while((key=keys[index++])!==undefined&&(ns=loader.get(key))===undefined);return{done:key===undefined,value:key!==undefined&&[key,ns]};}};result[iterator]=function(){return this};return result;};}());
/* End of File include/javascript/systemjs/system.js */

(function(app){var findDashboardPreviewLayout=function(meta,layoutName,targetLayout,layoutMeta){if(meta.name&&meta.name===layoutName){targetLayout=meta;return targetLayout;}
if(_.isArray(meta)){var len=meta.length;for(var i=0;i<len;i++){if(_.isArray(meta[i])||_.isObject(meta[i])){targetLayout=findDashboardPreviewLayout(meta[i],layoutName,targetLayout,layoutMeta);}
if(!_.isEmpty(targetLayout)){return targetLayout;}}}else{for(var prop in meta){if(_.isArray(meta[prop])||_.isObject(meta[prop])){targetLayout=findDashboardPreviewLayout(meta[prop],layoutName,targetLayout,layoutMeta);if(!_.isEmpty(targetLayout)){return targetLayout;}}}}};var addCompToLayout=function(metadata,targetModule,targetLayout,def,fieldsToAdd){var modMeta=metadata.modules[targetModule];var layoutPieces=targetLayout.split('-');var hasLayoutInModule;var dashPrevLayout;var meta;var layoutName;var view;if(def.view.name&&def.view.name.indexOf('LBL_')!==-1){def.view.name=app.lang.get(def.view.name,targetModule);}
if(def.view.description&&def.view.description.indexOf('LBL_')!==-1){def.view.description=app.lang.get(def.view.description,targetModule);}
if(modMeta){modMeta.layouts=modMeta.layouts||{};meta=modMeta.layouts[targetLayout];hasLayoutInModule=!!meta;if(layoutPieces.length===2&&_.contains(['record','list','multiline'],layoutPieces[0])&&layoutPieces[1]==='field'){var layoutName=_fixViewName(layoutPieces[0]);var layoutEventName=layoutName==='list'?'recordlist':layoutName;if(layoutName&&_.isUndefined(modMeta.views[layoutName])){return;}
view=modMeta.views[layoutName];_.each(fieldsToAdd,function(field){field.src=def.view.src;var metaField=_findFieldInMeta(field,view);if(metaField){_.extend(metaField,field);}else if(!_.isUndefined(field.panelIndex)&&!_.isUndefined(field.fieldIndex)){_spliceFieldIntoMeta(field,view,field.panelIndex,field.fieldIndex);view.meta.hasExternalFields=true;}},this);app.events.trigger('sugarApp:'+targetModule+':'+layoutEventName+':updated',fieldsToAdd);}else if(layoutPieces.length===2&&(layoutPieces[1]==='dashboard'||layoutPieces[1]==='preview')){layoutName=layoutPieces[0]==='list'?'records':'record';meta=app.metadata.getLayout(targetModule,layoutName);dashPrevLayout=findDashboardPreviewLayout(meta,layoutPieces[1]+'-pane',{});if(dashPrevLayout){dashPrevLayout.components.push(def);if(!modMeta.layouts[layoutName]){modMeta.layouts[layoutName]={};}
if(!modMeta.layouts[layoutName].meta){modMeta.layouts[layoutName].meta={};}
if(!modMeta.layouts[layoutName].meta.components){modMeta.layouts[layoutName].meta.components=[];}
metadata.modules[targetModule].layouts[layoutName].meta.components=meta.components;App.metadata.set(metadata);}else{App.logger.warn('The '+layoutName+' layout for the '+targetModule+' does not contain a '+
layoutPieces[1]+'-pane component inside the layout.');}}else if(!hasLayoutInModule){modMeta.layouts[targetLayout]={meta:app.metadata.getLayout('',targetLayout)||{components:[]}};modMeta.layouts[targetLayout].meta.components.push(def);app.events.trigger('sugarApp:'+targetModule+':'+targetLayout+':updated');}else{if(!meta.meta){meta.meta={};}
if(!meta.meta.components){meta.meta.components=[];}
meta.meta.components.push(def);}}};var _findFieldInMeta=function(fieldDef,viewMeta){var found=null;if(_.isUndefined(fieldDef)||_.isUndefined(viewMeta)){return null;}
_.some(viewMeta.meta.panels,function(panel){return _.some(panel.fields,function(metaField){if(metaField.subfields){return _.some(metaField.subfields,function(subField){if(subField.name===fieldDef.name){found=subField;return true;}});}else if(metaField.name===fieldDef.name){found=metaField;return true;}});});return found;};var _fixViewName=function(name){var nameMap={multiline:'multi-line-list',};return nameMap[name]||name;};var _spliceFieldIntoMeta=function(fieldDef,viewMeta,panelIndex,fieldIndex){var panels=viewMeta.meta.panels;var panel=panelIndex>panels.length?panels[panels.length-1]:panels[panelIndex];var fields=panel.fields;delete fieldDef.panelIndex;delete fieldDef.fieldIndex;if(fieldIndex<fields.length){fields.splice(fieldIndex,0,fieldDef);}else{fields.push(fieldDef);}};app.metadata.addSyncTask(function(metadata,options){if(!app.config.catalogEnabled){return;}
var catalogUrl=app.config.catalogUrl;if(options.getPublic){return Promise.resolve();}
if(catalogUrl&&catalogUrl!==''&&_.isString(catalogUrl)){if(!(catalogUrl.indexOf('http://')===0||catalogUrl.indexOf('https://')===0)){catalogUrl='https://'+catalogUrl;}
catalogUrl=catalogUrl.match(/^.+\:\/\/[^\/]+/)[0]+'/catalog?isAuthorized=true';var getCatalog=function(onSuccess,onError,onLogin){$.ajax({url:catalogUrl,headers:{'X-IDM-ACCESS-TOKEN':app.api.getOAuthToken()},xhrFields:{withCredentials:true,cors:true},contentType:'application/json; charset=utf-8',dataType:'json',crossDomain:true,success:function(catalog){if(catalog.loginRedirect&&onLogin){onLogin(catalog.loginRedirect);}else{onSuccess(catalog);}},error:function(error){onError(error);}});};var addCatalogToLayout=function(catalog){if(!catalog||!catalog.layouts){return;}
_.each(catalog.layouts,function(def){if(def.module&&def.layout){catalog.type='external-app';addCompToLayout(metadata,def.module,def.layout,{view:catalog},def.fields);}});};var updateManifest=function(catalog){if(catalog.customValidityCheck){return System.import(catalog.src).then(function(mod){var props=Object.getOwnPropertyNames(mod).filter(function(name){return name.substr(0,2)!=='__';});if(mod.default&&(props.length===1||mod.__useDefault)){mod=mod.default;}
return mod.updateManifest(catalog);}).then(function(result){if(_.isObject(result)){return result;}else if(result){return catalog;}else{return null;}}).catch(function(err){console.error('Failed to test module validity',err);return null;});}else{return Promise.resolve(catalog);}};return new Promise(function(res,error){var serverInfo=App.metadata.getServerInfo();var fetchAppLayout=function(app){$.ajax({url:app.src,dataType:'json',data:{flavor:serverInfo.flavor,tenantId:App.config.tenant,version:serverInfo.version,licenses:App.user.attributes.licenses},xhrFields:{withCredentials:true},crossDomain:true,contentType:'application/json; charset=utf-8',mode:'cors',success:function(catalog){updateManifest(catalog).then(function(manifest){if(manifest.apps){_.each(manifest.apps,function(app){var catEntry=_.pick(manifest,'clientFileName','scope','src','srn','version');catEntry=_.extend(catEntry,app);updateManifest(catEntry).then(addCatalogToLayout);},this);}else{addCatalogToLayout(manifest);}});},error:function(error){console.error(error);}});};var handleCatalog=function(catalog){_.each(catalog.apps,function(app){fetchAppLayout(app);});res();};var onError=function(err){app.logger.error(err.message);res();};getCatalog(handleCatalog,onError,function(loginUrl){var iframe=document.createElement('iframe');var cleanup=function(){iframe.parentElement.removeChild(iframe);window.removeEventListener('message',eventCallback);};var eventCallback=function(event){var iframeOrigin=window.location.href.match(/^.+\:\/\/[^\/]+/)[0];if(event.origin===iframeOrigin){cleanup();getCatalog(handleCatalog,onError,function(url){var err='Unable to authenticate with catalog service: Second Login URL:'+url;app.logger.error(err);res();});}};iframe.onload=function(){console.log('loaded before we got the event ',arguments);cleanup();res();};iframe.src=loginUrl;iframe.style='display:none;\n'+'position: absolute;\n'+'width: 500px;\n'+'height: 500px;\n'+'top: calc(50% - 250px);\n'+'left: calc(50% - 250px);';window.addEventListener('message',eventCallback);document.body.appendChild(iframe);});});}
return Promise.resolve();});})(SUGAR.App);
/* End of File include/javascript/sugar7/external-apps.js */

!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((t=t||self).singleSpa={})}(this,function(t){"use strict";var n=Object.freeze({get start(){return Mt},get ensureJQuerySupport(){return pt},get setBootstrapMaxTime(){return j},get setMountMaxTime(){return C},get setUnmountMaxTime(){return M},get setUnloadMaxTime(){return I},get registerApplication(){return Pt},get getMountedApps(){return yt},get getAppStatus(){return Et},get unloadApplication(){return St},get checkActivityFunctions(){return Tt},get getAppNames(){return bt},get declareChildApplication(){return Ot},get unloadChildApplication(){return Nt},get navigateToUrl(){return et},get triggerAppChange(){return Dt},get addErrorHandler(){return s},get removeErrorHandler(){return f},get mountRootParcel(){return V},get NOT_LOADED(){return p},get LOADING_SOURCE_CODE(){return m},get NOT_BOOTSTRAPPED(){return d},get BOOTSTRAPPING(){return h},get NOT_MOUNTED(){return v},get MOUNTING(){return g},get UPDATING(){return y},get MOUNTED(){return w},get UNMOUNTING(){return b},get SKIP_BECAUSE_BROKEN(){return O}}),e=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var r=function(){try{var t=new e("cat",{detail:{foo:"bar"}});return"cat"===t.type&&"bar"===t.detail.foo}catch(t){}return!1}()?e:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(t,n){var e=document.createEvent("CustomEvent");return n?e.initCustomEvent(t,n.bubbles,n.cancelable,n.detail):e.initCustomEvent(t,!1,!1,void 0),e}:function(t,n){var e=document.createEventObject();return e.type=t,n?(e.bubbles=Boolean(n.bubbles),e.cancelable=Boolean(n.cancelable),e.detail=n.detail):(e.bubbles=!1,e.cancelable=!1,e.detail=void 0),e};function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function a(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},r=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.forEach(function(n){i(t,n,e[n])})}return t}var u=[];function c(t,n){var e=l(t,n);u.length?u.forEach(function(t){return t(e)}):setTimeout(function(){throw e})}function s(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");u.push(t)}function f(t){if("function"!=typeof t)throw Error("a single-spa error handler must be a function");var n=!1;return u=u.filter(function(e){var r=e===t;return n=n||r,!r}),n}function l(t,n){var e,r=n.unmountThisParcel?"Parcel":"Application",o="".concat(r," '").concat(n.name,"' died in status ").concat(n.status,": ");if(t instanceof Error){try{t.message=o+t.message}catch(t){}e=t}else{console.warn("While ".concat(n.status,", '").concat(n.name,"' rejected its lifecycle function promise with a non-Error. This will cause stack traces to not be accurate."));try{e=Error(o+JSON.stringify(t))}catch(n){e=t}}return e.appName=n.name,e.name=n.name,e}var p="NOT_LOADED",m="LOADING_SOURCE_CODE",d="NOT_BOOTSTRAPPED",h="BOOTSTRAPPING",v="NOT_MOUNTED",g="MOUNTING",w="MOUNTED",y="UPDATING",b="UNMOUNTING",E="UNLOADING",O="SKIP_BECAUSE_BROKEN";function P(t){return t.status===w}function T(t){return!P(t)}function A(t){return t.status!==p&&t.status!==m}function N(t){return!A(t)}function S(t){try{return t.activeWhen(window.location)}catch(n){c(n,t),t.status=O}}function U(t){try{return!t.activeWhen(window.location)}catch(n){c(n,t),t.status=O}}function _(t){return t!==O&&(!t||t.status!==O)}function x(t){return t.name}var D={bootstrap:{millis:4e3,dieOnTimeout:!1},mount:{millis:3e3,dieOnTimeout:!1},unmount:{millis:3e3,dieOnTimeout:!1},unload:{millis:3e3,dieOnTimeout:!1}};function j(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("bootstrap max time must be a positive integer number of milliseconds");D.bootstrap={millis:t,dieOnTimeout:n}}function C(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("mount max time must be a positive integer number of milliseconds");D.mount={millis:t,dieOnTimeout:n}}function M(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unmount max time must be a positive integer number of milliseconds");D.unmount={millis:t,dieOnTimeout:n}}function I(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("number"!=typeof t||t<=0)throw Error("unload max time must be a positive integer number of milliseconds");D.unload={millis:t,dieOnTimeout:n}}function L(t,n,e){var r=1e3;return new Promise(function(o,i){var a=!1,u=!1;function c(t){if(!a)if(!0===t)u=!0,e.dieOnTimeout?i("".concat(n," did not resolve or reject for ").concat(e.millis," milliseconds")):console.error("".concat(n," did not resolve or reject for ").concat(e.millis," milliseconds -- we're no longer going to warn you about it."));else if(!u){var o=t,s=o*r;console.warn("".concat(n," did not resolve or reject within ").concat(s," milliseconds")),s+r<e.millis&&setTimeout(function(){return c(o+1)},r)}}t.then(function(t){a=!0,o(t)}).catch(function(t){a=!0,i(t)}),setTimeout(function(){return c(1)},r),setTimeout(function(){return c(!0)},e.millis)})}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a({},D,t)}function G(t,n){for(var e=0;e<t.length;e++)if(n(t[e]))return t[e];return null}function R(t){return t&&("function"==typeof t||(n=t,Array.isArray(n)&&!G(n,function(t){return"function"!=typeof t})));var n}function k(t,n){return 0===(t=Array.isArray(t)?t:[t]).length&&(t=[function(){return Promise.resolve()}]),function(e){return new Promise(function(r,o){!function i(a){var u=t[a](e);q(u)?u.then(function(){a===t.length-1?r():i(a+1)}).catch(o):o("".concat(n," at index ").concat(a," did not return a promise"))}(0)})}}function q(t){return t&&"function"==typeof t.then&&"function"==typeof t.catch}function W(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==d?t:(t.status=h,L(t.bootstrap(Y(t)),"Bootstrapping appOrParcel '".concat(t.name,"'"),t.timeouts.bootstrap).then(function(){return t.status=v,t}).catch(function(e){if(t.status=O,n)throw l(e,t);return c(e,t),t}))})}function K(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){if(t.status!==w)return t;t.status=b;var e=Object.keys(t.parcels).map(function(n){return t.parcels[n].unmountThisParcel()});return Promise.all(e).then(r,function(e){return r().then(function(){var r=Error(e.message);if(n){var o=l(r,t);throw t.status=O,o}c(r,t),t.status=O})}).then(function(){return t});function r(){return L(t.unmount(Y(t)),"Unmounting application ".concat(t.name,"'"),t.timeouts.unmount).then(function(){t.status=v}).catch(function(e){if(n){var r=l(e,t);throw t.status=O,r}c(e,t),t.status=O})}})}var F=!1,H=!1;function $(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Promise.resolve().then(function(){return t.status!==v?t:(F||(window.dispatchEvent(new r("single-spa:before-first-mount")),F=!0),L(t.mount(Y(t)),"Mounting application '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=w,H||(window.dispatchEvent(new r("single-spa:first-mount")),H=!0),t}).catch(function(e){return t.status=w,K(t).then(r,r);function r(){if(n){var r=l(e,t);throw t.status=O,r}return c(e,t),t.status=O,t}}))})}var J=0,Q={parcels:{}};function V(){return z.apply(Q,arguments)}function z(t,n){var e=this;if(!t||"object"!==o(t)&&"function"!=typeof t)throw Error("Cannot mount parcel without a config object or config loading function");if(t.name&&"string"!=typeof t.name)throw Error("Parcel name must be a string, if provided");if("object"!==o(n))throw Error("Parcel ".concat(name," has invalid customProps -- must be an object"));if(!n.domElement)throw Error("Parcel ".concat(name," cannot be mounted without a domElement provided as a prop"));var r,i=J++,a="function"==typeof t,u=a?t:function(){return Promise.resolve(t)},c={id:i,parcels:{},status:a?m:d,customProps:n,parentName:e.name,unmountThisParcel:function(){if(c.status!==w)throw Error("Cannot unmount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return K(c,!0).then(function(t){return c.parentName&&delete e.parcels[c.id],t}).then(function(t){return f(t),t}).catch(function(t){throw c.status=O,p(t),t})}};e.parcels[i]=c;var s=u();if(!s||"function"!=typeof s.then)throw Error("When mounting a parcel, the config loading function must return a promise that resolves with the parcel config");var f,p,h=(s=s.then(function(t){if(!t)throw Error("When mounting a parcel, the config loading function returned a promise that did not resolve with a parcel config");var n=t.name||"parcel-".concat(i);if(!R(t.bootstrap))throw Error("Parcel ".concat(n," must have a valid bootstrap function"));if(!R(t.mount))throw Error("Parcel ".concat(n," must have a valid mount function"));if(!R(t.unmount))throw Error("Parcel ".concat(n," must have a valid unmount function"));if(t.update&&!R(t.update))throw Error("Parcel ".concat(n," provided an invalid update function"));var e=k(t.bootstrap),o=k(t.mount),a=k(t.unmount);c.status=d,c.name=n,c.bootstrap=e,c.mount=o,c.unmount=a,c.timeouts=B(t.timeouts),t.update&&(c.update=k(t.update),r.update=function(t){return c.customProps=t,X(function(t){return Promise.resolve().then(function(){if(t.status!==w)throw Error("Cannot update parcel '".concat(t.name,"' because it is not mounted"));return t.status=y,L(t.update(Y(t)),"Updating parcel '".concat(t.name,"'"),t.timeouts.mount).then(function(){return t.status=w,t}).catch(function(n){var e=l(n,t);throw t.status=O,e})})}(c))})})).then(function(){return W(c,!0)}),g=h.then(function(){return $(c,!0)}),b=new Promise(function(t,n){f=t,p=n});return r={mount:function(){return X(Promise.resolve().then(function(){if(c.status!==v)throw Error("Cannot mount parcel '".concat(name,"' -- it is in a ").concat(c.status," status"));return e.parcels[i]=c,$(c)}))},unmount:function(){return X(c.unmountThisParcel())},getStatus:function(){return c.status},loadPromise:X(s),bootstrapPromise:X(h),mountPromise:X(g),unmountPromise:X(b)}}function X(t){return t.then(function(){return null})}function Y(t){var e=a({},t.customProps,{name:t.name,mountParcel:z.bind(t),singleSpa:n});return t.unmountThisParcel&&(e.unmountSelf=t.unmountThisParcel),e}function Z(t){return Promise.resolve().then(function(){return t.status!==p?t:(t.status=m,Promise.resolve().then(function(){var e=t.loadImpl(Y(t));if(!q(e))throw Error("single-spa loading function did not return a promise. Check the second argument to registerApplication('".concat(t.name,"', loadingFunction, activityFunction)"));return e.then(function(e){var r;return"object"!==o(n=e)&&(r="does not export anything"),R(n.bootstrap)||(r="does not export a bootstrap function or array of functions"),R(n.mount)||(r="does not export a mount function or array of functions"),R(n.unmount)||(r="does not export an unmount function or array of functions"),r?(c(r,t),t.status=O,t):(n.devtools&&n.devtools.overlays&&(t.devtools.overlays=a({},t.devtools.overlays,n.devtools.overlays)),t.status=d,t.bootstrap=k(n.bootstrap,"App '".concat(t.name,"' bootstrap function")),t.mount=k(n.mount,"App '".concat(t.name,"' mount function")),t.unmount=k(n.unmount,"App '".concat(t.name,"' unmount function")),t.unload=k(n.unload||[],"App '".concat(t.name,"' unload function")),t.timeouts=B(n.timeouts),t)})}).catch(function(n){return c(n,t),t.status=O,t}));var n})}var tt={hashchange:[],popstate:[]},nt=["hashchange","popstate"];function et(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)n=t;else if(this&&this.href)n=this.href;else{if(!(t&&t.currentTarget&&t.currentTarget.href&&t.preventDefault))throw Error("singleSpaNavigate must be either called with a string url, with an <a> tag as its context, or with an event whose currentTarget is an <a> tag");n=t.currentTarget.href,t.preventDefault()}var r=ft(window.location.href),o=ft(n);if(0===n.indexOf("#"))window.location.hash="#"+o.anchor;else if(r.host!==o.host&&o.host){if(e.isTestingEnv)return{wouldHaveReloadedThePage:!0};window.location.href=n}else!function(t,n){return n===t||n==="/"+t}(o.path,r.path)?window.history.pushState(null,null,n):window.location.hash="#"+o.anchor}function rt(t){var n=this;if(t){var e=t[0].type;nt.indexOf(e)>=0&&tt[e].forEach(function(e){e.apply(n,t)})}}function ot(){jt([],arguments)}window.addEventListener("hashchange",ot),window.addEventListener("popstate",ot);var it=window.addEventListener,at=window.removeEventListener;window.addEventListener=function(t,n){if(!("function"==typeof n&&nt.indexOf(t)>=0)||G(tt[t],function(t){return t===n}))return it.apply(this,arguments);tt[t].push(n)},window.removeEventListener=function(t,n){if(!("function"==typeof n&&nt.indexOf(t)>=0))return at.apply(this,arguments);tt[t]=tt[t].filter(function(t){return t!==n})};var ut=window.history.pushState;window.history.pushState=function(t){var n=ut.apply(this,arguments);return ot(st(t)),n};var ct=window.history.replaceState;function st(t){try{return new PopStateEvent("popstate",{state:t})}catch(e){var n=document.createEvent("PopStateEvent");return n.initPopStateEvent("popstate",!1,!1,t),n}}function ft(t){for(var n={strictMode:!0,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e=n.parser.strict.exec(t),r={},o=14;o--;)r[n.key[o]]=e[o]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(t,e,o){e&&(r[n.q.name][e]=o)}),r}window.history.replaceState=function(t){var n=ct.apply(this,arguments);return ot(st(t)),n},window.singleSpaNavigate=et;var lt=!1;function pt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.jQuery;if(t||window.$&&window.$.fn&&window.$.fn.jquery&&(t=window.$),t&&!lt){var n=t.fn.on,e=t.fn.off;t.fn.on=function(t,e){return mt.call(this,n,window.addEventListener,t,e,arguments)},t.fn.off=function(t,n){return mt.call(this,e,window.removeEventListener,t,n,arguments)},lt=!0}}function mt(t,n,e,r,o){return"string"!=typeof e?t.apply(this,o):(e.split(/\s+/).forEach(function(t){nt.indexOf(t)>=0&&(n(t,r),e=e.replace(t,""))}),""===e.trim()?this:t.apply(this,o))}var dt={};function ht(t){return Promise.resolve().then(function(){var n=dt[t.name];return n?t.status===p?(vt(t,n),t):t.status===E?n.promise.then(function(){return t}):t.status!==v?t:(t.status=E,L(t.unload(Y(t)),"Unloading application '".concat(t.name,"'"),t.timeouts.unload).then(function(){return vt(t,n),t}).catch(function(e){return function(t,n,e){delete dt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,c(e,t),t.status=O,n.reject(e)}(t,n,e),t})):t})}function vt(t,n){delete dt[t.name],delete t.bootstrap,delete t.mount,delete t.unmount,delete t.unload,t.status=p,n.resolve()}function gt(t,n,e,r){dt[t.name]={app:t,resolve:e,reject:r},Object.defineProperty(dt[t.name],"promise",{get:n})}var wt=[];function yt(){return wt.filter(P).map(x)}function bt(){return wt.map(x)}function Et(t){var n=G(wt,function(n){return n.name===t});return n?n.status:null}function Ot(t,n,e){return console.warn('declareChildApplication is deprecated and will be removed in the next major version, use "registerApplication" instead'),Pt(t,n,e)}function Pt(t,n,e){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("string"!=typeof t||0===t.length)throw Error("The first argument must be a non-empty string 'appName'");if(-1!==bt().indexOf(t))throw Error("There is already an app declared with name ".concat(t));if("object"!==o(i)||Array.isArray(i))throw Error("customProps must be an object");if(!n)throw Error("The application or loading function is required");if(r="function"!=typeof n?function(){return Promise.resolve(n)}:n,"function"!=typeof e)throw Error("The activeWhen argument must be a function");wt.push({name:t,loadImpl:r,activeWhen:e,status:p,parcels:{},devtools:{overlays:{options:{},selectors:[]}},customProps:i}),pt(),jt()}function Tt(t){for(var n=[],e=0;e<wt.length;e++)wt[e].activeWhen(t)&&n.push(wt[e].name);return n}function At(){return wt.filter(_).filter(N).filter(S)}function Nt(t,n){return console.warn('unloadChildApplication is deprecated and will be removed in the next major version, use "unloadApplication" instead'),St(t,n)}function St(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{waitForUnmount:!1};if("string"!=typeof t)throw Error("unloadApplication requires a string 'appName'");var e=G(wt,function(n){return n.name===t});if(!e)throw Error("Could not unload application '".concat(t,"' because no such application has been registered"));var r,o=function(t){return dt[t]}(e.name);if(n&&n.waitForUnmount){if(o)return o.promise;var i=new Promise(function(t,n){gt(e,function(){return i},t,n)});return i}return o?(r=o.promise,Ut(e,o.resolve,o.reject)):r=new Promise(function(t,n){gt(e,function(){return r},t,n),Ut(e,t,n)}),r}function Ut(t,n,e){K(t).then(ht).then(function(){n(),setTimeout(function(){jt()})}).catch(e)}var _t=!1,xt=[];function Dt(){return jt()}function jt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(_t)return new Promise(function(t,e){xt.push({resolve:t,reject:e,eventArguments:n})});_t=!0;var e=!0;return Ct?Promise.resolve().then(function(){window.dispatchEvent(new r("single-spa:before-routing-event",a()));var n=Object.keys(dt).map(function(t){return dt[t].app}).filter(T).map(ht),u=wt.filter(_).filter(P).filter(U).map(K).map(function(t){return t.then(ht)}),c=u.concat(n);c.length>0&&(e=!1);var s=Promise.all(c),f=At(),l=f.map(function(t){return Z(t).then(W).then(function(t){return s.then(function(){return $(t)})})});l.length>0&&(e=!1);var p=wt.filter(_).filter(T).filter(A).filter(S).filter(function(t){return f.indexOf(t)<0}).map(function(t){return W(t).then(function(){return s}).then(function(){return $(t)})});return p.length>0&&(e=!1),s.catch(function(t){throw i(),t}).then(function(){return i(),Promise.all(l.concat(p)).catch(function(n){throw t.forEach(function(t){return t.reject(n)}),n}).then(function(){return o(!1)})})}):Promise.resolve().then(function(){var t=At().map(Z);return t.length>0&&(e=!1),Promise.all(t).then(o).catch(function(t){throw i(),t})});function o(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=yt();n&&i(),t.forEach(function(t){return t.resolve(o)});try{var u=e?"single-spa:no-app-change":"single-spa:app-change";window.dispatchEvent(new r(u,a())),window.dispatchEvent(new r("single-spa:routing-event",a()))}catch(t){setTimeout(function(){throw t})}if(_t=!1,xt.length>0){var c=xt;xt=[],jt(c)}return o}function i(){t.forEach(function(t){rt(t.eventArguments)}),rt(n)}function a(){var t={detail:{}};return n&&n[0]&&(t.detail.originalEvent=n[0]),t}}var Ct=!1;function Mt(){Ct=!0,jt()}setTimeout(function(){Ct||console.warn("singleSpa.start() has not been called, ".concat(5e3,"ms after single-spa was loaded. Before start() is called, apps can be declared and loaded, but not bootstrapped or mounted. See https://github.com/CanopyTax/single-spa/blob/master/docs/single-spa-api.md#start"))},5e3);var It={getRawAppData:function(){return[].concat(wt)},reroute:jt,NOT_LOADED:p,toLoadPromise:Z,toBootstrapPromise:W,unregisterApplication:function(t){if(!wt.find(function(n){return n.name===t}))throw Error("Cannot unregister application '".concat(t,"' because no such application has been registered"));return St(t).then(function(){var n=wt.findIndex(function(n){return n.name===t});wt.splice(n,1)})}};window&&window.__SINGLE_SPA_DEVTOOLS__&&(window.__SINGLE_SPA_DEVTOOLS__.exposedMethods=It),t.BOOTSTRAPPING=h,t.LOADING_SOURCE_CODE=m,t.MOUNTED=w,t.MOUNTING=g,t.NOT_BOOTSTRAPPED=d,t.NOT_LOADED=p,t.NOT_MOUNTED=v,t.SKIP_BECAUSE_BROKEN=O,t.UNMOUNTING=b,t.UPDATING=y,t.addErrorHandler=s,t.checkActivityFunctions=Tt,t.declareChildApplication=Ot,t.ensureJQuerySupport=pt,t.getAppNames=bt,t.getAppStatus=Et,t.getMountedApps=yt,t.mountRootParcel=V,t.navigateToUrl=et,t.registerApplication=Pt,t.removeErrorHandler=f,t.setBootstrapMaxTime=j,t.setMountMaxTime=C,t.setUnloadMaxTime=I,t.setUnmountMaxTime=M,t.start=Mt,t.triggerAppChange=Dt,t.unloadApplication=St,t.unloadChildApplication=Nt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=single-spa.min.js.map

/* End of File include/javascript/single-spa/single-spa.min.js */

(function($){"use strict";$.fn.select2.locales=[];$.fn.select2.locales['ar']={formatNoMatches:function(){return"لم يتم العثور على مطابقات";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"الرجاء إدخال حرف واحد على الأكثر";}return n==2?"الرجاء إدخال حرفين على الأكثر":"الرجاء إدخال "+n+" على الأكثر";},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"الرجاء إدخال حرف واحد على الأقل";}return n==2?"الرجاء إدخال حرفين على الأقل":"الرجاء إدخال "+n+" على الأقل ";},formatSelectionTooBig:function(limit){if(limit==1){return"يمكنك أن تختار إختيار واحد فقط";}return limit==2?"يمكنك أن تختار إختيارين فقط":"يمكنك أن تختار "+limit+" إختيارات فقط";},formatLoadMore:function(pageNumber){return"تحميل المزيد من النتائج…";},formatSearching:function(){return"البحث…";}};$.fn.select2.locales['az']={formatMatches:function(matches){return matches+" nəticə mövcuddur, hərəkət etdirmək üçün yuxarı və aşağı düymələrindən istifadə edin.";},formatNoMatches:function(){return"Nəticə tapılmadı";},formatInputTooShort:function(input,min){var n=min-input.length;return n+" simvol daxil edin";},formatInputTooLong:function(input,max){var n=input.length-max;return n+" simvol silin";},formatSelectionTooBig:function(limit){return"Sadəcə "+limit+" element seçə bilərsiniz";},formatLoadMore:function(pageNumber){return"Daha çox nəticə yüklənir…";},formatSearching:function(){return"Axtarılır…";}};$.fn.select2.locales['bg']={formatNoMatches:function(){return"Няма намерени съвпадения";},formatInputTooShort:function(input,min){var n=min-input.length;return"Моля въведете още "+n+" символ"+(n>1?"а":"");},formatInputTooLong:function(input,max){var n=input.length-max;return"Моля въведете с "+n+" по-малко символ"+(n>1?"а":"");},formatSelectionTooBig:function(limit){return"Можете да направите до "+limit+(limit>1?" избора":" избор");},formatLoadMore:function(pageNumber){return"Зареждат се още…";},formatSearching:function(){return"Търсене…";}};$.fn.select2.locales['ca']={formatNoMatches:function(){return"No s'ha trobat cap coincidència";},formatInputTooShort:function(input,min){var n=min-input.length;return"Introduïu "+n+" caràcter"+(n==1?"":"s")+" més";},formatInputTooLong:function(input,max){var n=input.length-max;return"Introduïu "+n+" caràcter"+(n==1?"":"s")+"menys";},formatSelectionTooBig:function(limit){return"Només podeu seleccionar "+limit+" element"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"S'estan carregant més resultats…";},formatSearching:function(){return"S'està cercant…";}};var smallNumbersCs={2:function(masc){return(masc?"dva":"dvě");},3:function(){return"tři";},4:function(){return"čtyři";}};$.fn.select2.locales['cs']={formatNoMatches:function(){return"Nenalezeny žádné položky";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"Prosím zadejte ještě jeden znak";}else if(n<=4){return"Prosím zadejte ještě další "+smallNumbersCs[n](true)+" znaky";}else{return"Prosím zadejte ještě dalších "+n+" znaků";}},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"Prosím zadejte o jeden znak méně";}else if(n<=4){return"Prosím zadejte o "+smallNumbersCs[n](true)+" znaky méně";}else{return"Prosím zadejte o "+n+" znaků méně";}},formatSelectionTooBig:function(limit){if(limit==1){return"Můžete zvolit jen jednu položku";}else if(limit<=4){return"Můžete zvolit maximálně "+smallNumbersCs[limit](false)+" položky";}else{return"Můžete zvolit maximálně "+limit+" položek";}},formatLoadMore:function(pageNumber){return"Načítají se další výsledky…";},formatSearching:function(){return"Vyhledávání…";}};$.fn.select2.locales['da']={formatNoMatches:function(){return"Ingen resultater fundet";},formatInputTooShort:function(input,min){var n=min-input.length;return"Angiv venligst "+n+" tegn mere";},formatInputTooLong:function(input,max){var n=input.length-max;return"Angiv venligst "+n+" tegn mindre";},formatSelectionTooBig:function(limit){return"Du kan kun vælge "+limit+" emne"+(limit===1?"":"r");},formatLoadMore:function(pageNumber){return"Indlæser flere resultater…";},formatSearching:function(){return"Søger…";}};$.fn.select2.locales['de']={formatNoMatches:function(){return"Keine Übereinstimmungen gefunden";},formatInputTooShort:function(input,min){var n=min-input.length;return"Bitte "+n+" Zeichen mehr eingeben";},formatInputTooLong:function(input,max){var n=input.length-max;return"Bitte "+n+" Zeichen weniger eingeben";},formatSelectionTooBig:function(limit){return"Sie können nur "+limit+" Eintr"+(limit===1?"ag":"äge")+" auswählen";},formatLoadMore:function(pageNumber){return"Lade mehr Ergebnisse…";},formatSearching:function(){return"Suche…";},formatMatches:function(matches){return matches+" Ergebnis "+(matches>1?"se":"")+" verfügbar, zum Navigieren die Hoch-/Runter-Pfeiltasten verwenden.";}};$.fn.select2.locales['el']={formatNoMatches:function(){return"Δεν βρέθηκαν αποτελέσματα";},formatInputTooShort:function(input,min){var n=min-input.length;return"Παρακαλούμε εισάγετε "+n+" περισσότερο"+(n>1?"υς":"")+" χαρακτήρ"+(n>1?"ες":"α");},formatInputTooLong:function(input,max){var n=input.length-max;return"Παρακαλούμε διαγράψτε "+n+" χαρακτήρ"+(n>1?"ες":"α");},formatSelectionTooBig:function(limit){return"Μπορείτε να επιλέξετε μόνο "+limit+" αντικείμεν"+(limit>1?"α":"ο");},formatLoadMore:function(pageNumber){return"Φόρτωση περισσότερων…";},formatSearching:function(){return"Αναζήτηση…";}};$.fn.select2.locales['en']={formatMatches:function(matches){if(matches===1){return"One result is available, press enter to select it.";}return matches+" results are available, use up and down arrow keys to navigate.";},formatNoMatches:function(){return"No matches found";},formatInputTooShort:function(input,min){var n=min-input.length;return"Please enter "+n+" or more character"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Please delete "+n+" character"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"You can only select "+limit+" item"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Loading more results…";},formatSearching:function(){return"Searching…";}};$.fn.select2.locales['es']={formatMatches:function(matches){if(matches===1){return"Un resultado disponible, presione enter para seleccionarlo.";}return matches+" resultados disponibles, use las teclas de dirección para navegar.";},formatNoMatches:function(){return"No se encontraron resultados";},formatInputTooShort:function(input,min){var n=min-input.length;return"Por favor, introduzca "+n+" car"+(n==1?"ácter":"acteres");},formatInputTooLong:function(input,max){var n=input.length-max;return"Por favor, elimine "+n+" car"+(n==1?"ácter":"acteres");},formatSelectionTooBig:function(limit){return"Sólo puede seleccionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Cargando más resultados…";},formatSearching:function(){return"Buscando…";},formatAjaxError:function(){return"La carga falló";}};$.fn.select2.locales['et']={formatNoMatches:function(){return"Tulemused puuduvad";},formatInputTooShort:function(input,min){var n=min-input.length;return"Sisesta "+n+" täht"+(n==1?"":"e")+" rohkem";},formatInputTooLong:function(input,max){var n=input.length-max;return"Sisesta "+n+" täht"+(n==1?"":"e")+" vähem";},formatSelectionTooBig:function(limit){return"Saad vaid "+limit+" tulemus"+(limit==1?"e":"t")+" valida";},formatLoadMore:function(pageNumber){return"Laen tulemusi..";},formatSearching:function(){return"Otsin..";}};$.fn.select2.locales['fa']={formatMatches:function(matches){return matches+" نتیجه موجود است، کلیدهای جهت بالا و پایین را برای گشتن استفاده کنید.";},formatNoMatches:function(){return"نتیجه‌ای یافت نشد.";},formatInputTooShort:function(input,min){var n=min-input.length;return"لطفاً "+n+" نویسه بیشتر وارد نمایید";},formatInputTooLong:function(input,max){var n=input.length-max;return"لطفاً "+n+" نویسه را حذف کنید.";},formatSelectionTooBig:function(limit){return"شما فقط می‌توانید "+limit+" مورد را انتخاب کنید";},formatLoadMore:function(pageNumber){return"در حال بارگیری موارد بیشتر…";},formatSearching:function(){return"در حال جستجو…";}};$.fn.select2.locales['fi']={formatNoMatches:function(){return"Ei tuloksia";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ole hyvä ja anna "+n+" merkkiä lisää";},formatInputTooLong:function(input,max){var n=input.length-max;return"Ole hyvä ja anna "+n+" merkkiä vähemmän";},formatSelectionTooBig:function(limit){return"Voit valita ainoastaan "+limit+" kpl";},formatLoadMore:function(pageNumber){return"Ladataan lisää tuloksia…";},formatSearching:function(){return"Etsitään…";}};$.fn.select2.locales['fr']={formatMatches:function(matches){return matches+" résultats sont disponibles, utilisez les flèches haut et bas pour naviguer.";},formatNoMatches:function(){return"Aucun résultat trouvé";},formatInputTooShort:function(input,min){var n=min-input.length;return"Saisissez "+n+" caractère"+(n==1?"":"s")+" supplémentaire"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Supprimez "+n+" caractère"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"Vous pouvez seulement sélectionner "+limit+" élément"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Chargement de résultats supplémentaires…";},formatSearching:function(){return"Recherche en cours…";}};$.fn.select2.locales['he']={formatNoMatches:function(){return"לא נמצאו התאמות";},formatInputTooShort:function(input,min){var n=min-input.length;return"נא להזין עוד "+n+" תווים נוספים";},formatInputTooLong:function(input,max){var n=input.length-max;return"נא להזין פחות "+n+" תווים";},formatSelectionTooBig:function(limit){return"ניתן לבחור "+limit+" פריטים";},formatLoadMore:function(pageNumber){return"טוען תוצאות נוספות…";},formatSearching:function(){return"מחפש…";}};$.fn.select2.locales['hr']={formatNoMatches:function(){return"Nema rezultata";},formatInputTooShort:function(input,min){return"Unesite još"+(min-input.length);},formatInputTooLong:function(input,max){return"Unesite"+(input.length-max)+" manje";},formatSelectionTooBig:function(limit){return"Maksimalan broj odabranih stavki je "+limit;},formatLoadMore:function(pageNumber){return"Učitavanje rezultata…";},formatSearching:function(){return"Pretraga…";}};$.fn.select2.locales['hu']={formatNoMatches:function(){return"Nincs találat.";},formatInputTooShort:function(input,min){var n=min-input.length;return"Túl rövid. Még "+n+" karakter hiányzik.";},formatInputTooLong:function(input,max){var n=input.length-max;return"Túl hosszú. "+n+" karakterrel több, mint kellene.";},formatSelectionTooBig:function(limit){return"Csak "+limit+" elemet lehet kiválasztani.";},formatLoadMore:function(pageNumber){return"Töltés…";},formatSearching:function(){return"Keresés…";}};$.fn.select2.locales['id']={formatNoMatches:function(){return"Tidak ada data yang sesuai";},formatInputTooShort:function(input,min){var n=min-input.length;return"Masukkan "+n+" huruf lagi"+(n==1?"":"s");},formatInputTooLong:function(input,max){var n=input.length-max;return"Hapus "+n+" huruf"+(n==1?"":"s");},formatSelectionTooBig:function(limit){return"Anda hanya dapat memilih "+limit+" pilihan"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Mengambil data…";},formatSearching:function(){return"Mencari…";}};$.fn.select2.locales['it']={formatNoMatches:function(){return"Nessuna corrispondenza trovata";},formatInputTooShort:function(input,min){var n=min-input.length;return"Inserisci ancora "+n+" caratter"+(n==1?"e":"i");},formatInputTooLong:function(input,max){var n=input.length-max;return"Inserisci "+n+" caratter"+(n==1?"e":"i")+" in meno";},formatSelectionTooBig:function(limit){return"Puoi selezionare solo "+limit+" element"+(limit==1?"o":"i");},formatLoadMore:function(pageNumber){return"Caricamento in corso…";},formatSearching:function(){return"Ricerca…";}};$.fn.select2.locales['ja']={formatNoMatches:function(){return"該当なし";},formatInputTooShort:function(input,min){var n=min-input.length;return"後"+n+"文字入れてください";},formatInputTooLong:function(input,max){var n=input.length-max;return"検索文字列が"+n+"文字長すぎます";},formatSelectionTooBig:function(limit){return"最多で"+limit+"項目までしか選択できません";},formatLoadMore:function(pageNumber){return"読込中･･･";},formatSearching:function(){return"検索中･･･";}};$.fn.select2.locales['ko']={formatNoMatches:function(){return"결과 없음";},formatInputTooShort:function(input,min){var n=min-input.length;return"너무 짧습니다. "+n+"글자 더 입력해주세요.";},formatInputTooLong:function(input,max){var n=input.length-max;return"너무 깁니다. "+n+"글자 지워주세요.";},formatSelectionTooBig:function(limit){return"최대 "+limit+"개까지만 선택하실 수 있습니다.";},formatLoadMore:function(pageNumber){return"불러오는 중…";},formatSearching:function(){return"검색 중…";}};$.fn.select2.locales['lt']={formatNoMatches:function(){return"Atitikmenų nerasta";},formatInputTooShort:function(input,min){return"Įrašykite dar"+characterLt(min-input.length);},formatInputTooLong:function(input,max){return"Pašalinkite"+characterLt(input.length-max);},formatSelectionTooBig:function(limit){return"Jūs galite pasirinkti tik "+limit+" element"+((limit%100>9&&limit%100<21)||limit%10==0?"ų":limit%10>1?"us":"ą");},formatLoadMore:function(pageNumber){return"Kraunama daugiau rezultatų…";},formatSearching:function(){return"Ieškoma…";}};function characterLt(n){return" "+n+" simbol"+((n%100>9&&n%100<21)||n%10==0?"ių":n%10>1?"ius":"į");}
$.fn.select2.locales['lv']={formatNoMatches:function(){return"Sakritību nav";},formatInputTooShort:function(input,min){var n=min-input.length;return"Lūdzu ievadiet vēl "+n+" simbol"+(n==11?"us":n%10==1?"u":"us");},formatInputTooLong:function(input,max){var n=input.length-max;return"Lūdzu ievadiet par "+n+" simbol"+(n==11?"iem":n%10==1?"u":"iem")+" mazāk";},formatSelectionTooBig:function(limit){return"Jūs varat izvēlēties ne vairāk kā "+limit+" element"+(limit==11?"us":limit%10==1?"u":"us");},formatLoadMore:function(pageNumber){return"Datu ielāde…";},formatSearching:function(){return"Meklēšana…";}};$.fn.select2.locales['mk']={formatNoMatches:function(){return"Нема пронајдено совпаѓања";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ве молиме внесете уште "+n+" карактер"+(n==1?"":"и");},formatInputTooLong:function(input,max){var n=input.length-max;return"Ве молиме внесете "+n+" помалку карактер"+(n==1?"":"и");},formatSelectionTooBig:function(limit){return"Можете да изберете само "+limit+" ставк"+(limit==1?"а":"и");},formatLoadMore:function(pageNumber){return"Вчитување резултати…";},formatSearching:function(){return"Пребарување…";}};$.fn.select2.locales['nb']={formatMatches:function(matches){if(matches===1){return"Ett resultat er tilgjengelig, trykk enter for å velge det.";}return matches+" resultater er tilgjengelig. Bruk piltastene opp og ned for å navigere.";},formatNoMatches:function(){return"Ingen treff";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vennligst skriv inn "+n+(n>1?" flere tegn":" tegn til");},formatInputTooLong:function(input,max){var n=input.length-max;return"Vennligst fjern "+n+" tegn";},formatSelectionTooBig:function(limit){return"Du kan velge maks "+limit+" elementer";},formatLoadMore:function(pageNumber){return"Laster flere resultater …";},formatSearching:function(){return"Søker …";}};$.fn.select2.locales['nl']={formatNoMatches:function(){return"Geen resultaten gevonden";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vul nog "+n+" karakter"+(n==1?"":"s")+" in";},formatInputTooLong:function(input,max){var n=input.length-max;return"Haal "+n+" karakter"+(n==1?"":"s")+" weg";},formatSelectionTooBig:function(limit){return"Maximaal "+limit+" item"+(limit==1?"":"s")+" toegestaan";},formatLoadMore:function(pageNumber){return"Meer resultaten laden…";},formatSearching:function(){return"Zoeken…";}};$.fn.select2.locales['pl']={formatNoMatches:function(){return"Brak wyników";},formatInputTooShort:function(input,min){return"Wpisz co najmniej"+characterPl(min-input.length,"znak","i");},formatInputTooLong:function(input,max){return"Wpisana fraza jest za długa o"+characterPl(input.length-max,"znak","i");},formatSelectionTooBig:function(limit){return"Możesz zaznaczyć najwyżej"+characterPl(limit,"element","y");},formatLoadMore:function(pageNumber){return"Ładowanie wyników…";},formatSearching:function(){return"Szukanie…";}};function characterPl(n,word,pluralSuffix){var suffix='';if(n>1&&n<5){suffix=pluralSuffix;}else if(n==0||n>=5){suffix='ów';}
return" "+n+" "+word+suffix;}
$.fn.select2.locales['pt-BR']={formatNoMatches:function(){return"Nenhum resultado encontrado";},formatAjaxError:function(){return"Erro na busca";},formatInputTooShort:function(input,min){var n=min-input.length;return"Digite "+(min==1?"":"mais")+" "+n+" caracter"+(n==1?"":"es");},formatInputTooLong:function(input,max){var n=input.length-max;return"Apague "+n+" caracter"+(n==1?"":"es");},formatSelectionTooBig:function(limit){return"Só é possível selecionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"Carregando mais resultados…";},formatSearching:function(){return"Buscando…";}};$.fn.select2.locales['pt-PT']={formatNoMatches:function(){return"Nenhum resultado encontrado";},formatInputTooShort:function(input,min){var n=min-input.length;return"Introduza "+n+" car"+(n==1?"ácter":"acteres");},formatInputTooLong:function(input,max){var n=input.length-max;return"Apague "+n+" car"+(n==1?"ácter":"acteres");},formatSelectionTooBig:function(limit){return"Só é possível selecionar "+limit+" elemento"+(limit==1?"":"s");},formatLoadMore:function(pageNumber){return"A carregar mais resultados…";},formatSearching:function(){return"A pesquisar…";}};$.fn.select2.locales['ro']={formatNoMatches:function(){return"Nu a fost găsit nimic";},formatInputTooShort:function(input,min){var n=min-input.length;return"Vă rugăm să introduceți incă "+n+" caracter"+(n==1?"":"e");},formatInputTooLong:function(input,max){var n=input.length-max;return"Vă rugăm să introduceți mai puțin de "+n+" caracter"+(n==1?"":"e");},formatSelectionTooBig:function(limit){return"Aveți voie să selectați cel mult "+limit+" element"+(limit==1?"":"e");},formatLoadMore:function(pageNumber){return"Se încarcă…";},formatSearching:function(){return"Căutare…";}};$.fn.select2.locales['rs']={formatNoMatches:function(){return"Ništa nije pronađeno";},formatInputTooShort:function(input,min){var n=min-input.length;return"Ukucajte bar još "+n+" simbol"+(n%10==1&&n%100!=11?"":"a");},formatInputTooLong:function(input,max){var n=input.length-max;return"Obrišite "+n+" simbol"+(n%10==1&&n%100!=11?"":"a");},formatSelectionTooBig:function(limit){return"Možete izabrati samo "+limit+" stavk"+(limit%10==1&&limit%100!=11?"u":(limit%10>=2&&limit%10<=4&&(limit%100<12||limit%100>14)?"e":"i"));},formatLoadMore:function(pageNumber){return"Preuzimanje još rezultata…";},formatSearching:function(){return"Pretraga…";}};$.fn.select2.locales['ru']={formatNoMatches:function(){return"Совпадений не найдено";},formatInputTooShort:function(input,min){return"Пожалуйста, введите еще хотя бы"+(min-input.length);},formatInputTooLong:function(input,max){return"Пожалуйста, введите на"+(input.length-max)+" меньше";},formatSelectionTooBig:function(limit){return"Вы можете выбрать не более "+limit+" элемент"+(limit%10==1&&limit%100!=11?"а":"ов");},formatLoadMore:function(pageNumber){return"Загрузка данных…";},formatSearching:function(){return"Поиск…";}};var smallNumbersSk={2:function(masc){return(masc?"dva":"dve");},3:function(){return"tri";},4:function(){return"štyri";}};$.fn.select2.locales['sk']={formatNoMatches:function(){return"Nenašli sa žiadne položky";},formatInputTooShort:function(input,min){var n=min-input.length;if(n==1){return"Prosím, zadajte ešte jeden znak";}else if(n<=4){return"Prosím, zadajte ešte ďalšie "+smallNumbersSk[n](true)+" znaky";}else{return"Prosím, zadajte ešte ďalších "+n+" znakov";}},formatInputTooLong:function(input,max){var n=input.length-max;if(n==1){return"Prosím, zadajte o jeden znak menej";}else if(n>=2&&n<=4){return"Prosím, zadajte o "+smallNumbersSk[n](true)+" znaky menej";}else{return"Prosím, zadajte o "+n+" znakov menej";}},formatSelectionTooBig:function(limit){if(limit==1){return"Môžete zvoliť len jednu položku";}else if(limit>=2&&limit<=4){return"Môžete zvoliť najviac "+smallNumbersSk[limit](false)+" položky";}else{return"Môžete zvoliť najviac "+limit+" položiek";}},formatLoadMore:function(pageNumber){return"Načítavajú sa ďalšie výsledky…";},formatSearching:function(){return"Vyhľadávanie…";}};$.fn.select2.locales['sv']={formatNoMatches:function(){return"Inga träffar";},formatInputTooShort:function(input,min){var n=min-input.length;return"Var god skriv in "+n+(n>1?" till tecken":" tecken till");},formatInputTooLong:function(input,max){var n=input.length-max;return"Var god sudda ut "+n+" tecken";},formatSelectionTooBig:function(limit){return"Du kan max välja "+limit+" element";},formatLoadMore:function(pageNumber){return"Laddar fler resultat…";},formatSearching:function(){return"Söker…";}};$.fn.select2.locales['th']={formatNoMatches:function(){return"ไม่พบข้อมูล";},formatInputTooShort:function(input,min){var n=min-input.length;return"โปรดพิมพ์เพิ่มอีก "+n+" ตัวอักษร";},formatInputTooLong:function(input,max){var n=input.length-max;return"โปรดลบออก "+n+" ตัวอักษร";},formatSelectionTooBig:function(limit){return"คุณสามารถเลือกได้ไม่เกิน "+limit+" รายการ";},formatLoadMore:function(pageNumber){return"กำลังค้นข้อมูลเพิ่ม…";},formatSearching:function(){return"กำลังค้นข้อมูล…";}};$.fn.select2.locales['tr']={formatNoMatches:function(){return"Sonuç bulunamadı";},formatInputTooShort:function(input,min){var n=min-input.length;return"En az "+n+" karakter daha girmelisiniz";},formatInputTooLong:function(input,max){var n=input.length-max;return n+" karakter azaltmalısınız";},formatSelectionTooBig:function(limit){return"Sadece "+limit+" seçim yapabilirsiniz";},formatLoadMore:function(pageNumber){return"Daha fazla…";},formatSearching:function(){return"Aranıyor…";}};$.fn.select2.locales['uk']={formatMatches:function(matches){return characterUk(matches,"результат")+" знайдено, використовуйте клавіші зі стрілками вверх та вниз для навігації.";},formatNoMatches:function(){return"Нічого не знайдено";},formatInputTooShort:function(input,min){return"Введіть буль ласка ще "+characterUk(min-input.length,"символ");},formatInputTooLong:function(input,max){return"Введіть буль ласка на "+characterUk(input.length-max,"символ")+" менше";},formatSelectionTooBig:function(limit){return"Ви можете вибрати лише "+characterUk(limit,"елемент");},formatLoadMore:function(pageNumber){return"Завантаження даних…";},formatSearching:function(){return"Пошук…";}};function characterUk(n,word){return n+" "+word+(n%10<5&&n%10>0&&(n%100<5||n%100>19)?n%10>1?"и":"":"ів");}
$.fn.select2.locales['zh-CN']={formatNoMatches:function(){return"没有找到匹配项";},formatInputTooShort:function(input,min){var n=min-input.length;return"请再输入"+n+"个字符";},formatInputTooLong:function(input,max){var n=input.length-max;return"请删掉"+n+"个字符";},formatSelectionTooBig:function(limit){return"你只能选择最多"+limit+"项";},formatLoadMore:function(pageNumber){return"加载结果中…";},formatSearching:function(){return"搜索中…";}};$.fn.select2.locales['zh-TW']={formatNoMatches:function(){return"沒有找到相符的項目";},formatInputTooShort:function(input,min){var n=min-input.length;return"請再輸入"+n+"個字元";},formatInputTooLong:function(input,max){var n=input.length-max;return"請刪掉"+n+"個字元";},formatSelectionTooBig:function(limit){return"你只能選擇最多"+limit+"項";},formatLoadMore:function(pageNumber){return"載入中…";},formatSearching:function(){return"搜尋中…";}};})(jQuery);
/* End of File include/javascript/select2/language.js */

!function(e,a){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?a(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],a):a(e.moment)}(this,function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,a,_){return e<12?_?"vm":"VM":_?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});function E(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function a(n){return function(e,a,_,s){var d=E(e),t=J[n][E(e)];return(t=2===d?t[a?0:1]:t).replace(/%d/i,e)}}function F(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function _(n){return function(e,a,_,s){var d=F(e),t=N[n][F(e)];return(t=2===d?t[a?0:1]:t).replace(/%d/i,e)}}function z(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5}function s(n){return function(e,a,_,s){var d=z(e),t=B[n][z(e)];return(t=2===d?t[a?0:1]:t).replace(/%d/i,e)}}var J={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},d=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],I=(e.defineLocale("ar-dz",{months:d,monthsShort:d,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:0,doy:4}}),e.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}}),{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"}),N={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},d=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],R=(e.defineLocale("ar-ly",{months:d,monthsShort:d,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:_("s"),ss:_("s"),m:_("m"),mm:_("m"),h:_("h"),hh:_("h"),d:_("d"),dd:_("d"),M:_("M"),MM:_("M"),y:_("y"),yy:_("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return I[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),e.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),C={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},K=(e.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return C[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return R[e]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}}),e.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),G={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},B={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},d=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],q=(e.defineLocale("ar",{months:d,monthsShort:d,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return G[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return K[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),{1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"});function t(e,a,_){return"m"===_?a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===_?a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:a?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[_]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,a,_){return e<4?"gec\u0259":e<12?"s\u0259h\u0259r":e<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-\u0131nc\u0131";var a=e%10;return e+(q[a]||q[e%100-a]||q[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:t,mm:t,h:t,hh:t,d:"\u0434\u0437\u0435\u043d\u044c",dd:t,M:"\u043c\u0435\u0441\u044f\u0446",MM:t,y:"\u0433\u043e\u0434",yy:t},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u044b":e<12?"\u0440\u0430\u043d\u0456\u0446\u044b":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-\u044b":e+"-\u0456";case"D":return e+"-\u0433\u0430";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,_=e%100;return 0===e?e+"-\u0435\u0432":0==_?e+"-\u0435\u043d":10<_&&_<20?e+"-\u0442\u0438":1==a?e+"-\u0432\u0438":2==a?e+"-\u0440\u0438":7==a||8==a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var U={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},$={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},Q=(e.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return $[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return U[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===a?e<4?e:e+12:"\u09ad\u09cb\u09b0"===a||"\u09b8\u0995\u09be\u09b2"===a?e:"\u09a6\u09c1\u09aa\u09c1\u09b0"===a?3<=e?e:e+12:"\u09ac\u09bf\u0995\u09be\u09b2"===a||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u09b0\u09be\u09a4":e<6?"\u09ad\u09cb\u09b0":e<12?"\u09b8\u0995\u09be\u09b2":e<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<18?"\u09ac\u09bf\u0995\u09be\u09b2":e<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}}),{1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"}),V={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"},Z=(e.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return V[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Q[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u09b0\u09be\u09a4"===a&&4<=e||"\u09a6\u09c1\u09aa\u09c1\u09b0"===a&&e<5||"\u09ac\u09bf\u0995\u09be\u09b2"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u09b0\u09be\u09a4":e<10?"\u09b8\u0995\u09be\u09b2":e<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":e<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}}),{1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"}),X={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};function ee(e,a,_){return e+" "+(_={mm:"munutenn",MM:"miz",dd:"devezh"}[_],2!==(e=e)?_:void 0!==(e={m:"v",b:"v",d:"z"})[(_=_).charAt(0)]?e[_.charAt(0)]+_.substring(1):_)}e.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return X[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Z[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===a&&4<=e||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===a&&e<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":e<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":e<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":e<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}});var d=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],n=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,r=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];function i(e,a,_){var s=e+" ";switch(_){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return s+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}e.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:r,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:r,monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:ee,h:"un eur",hh:"%d eur",d:"un devezh",dd:ee,M:"ur miz",MM:ee,y:"ur bloaz",yy:function(e){switch(function e(a){if(9<a)return e(a%10);return a}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,a,_){return e<12?"a.m.":"g.m."}}),e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:i,m:i,mm:i,h:i,hh:i,d:"dan",dd:i,M:"mjesec",MM:i,y:"godinu",yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,a){return e+("w"!==a&&"W"!==a?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8":"a")},week:{dow:1,doy:4}});var r={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},n="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),d=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],m=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function o(e){return 1<e&&e<5&&1!=~~(e/10)}function u(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return a||s?d+(o(e)?"sekundy":"sekund"):d+"sekundami";case"m":return a?"minuta":s?"minutu":"minutou";case"mm":return a||s?d+(o(e)?"minuty":"minut"):d+"minutami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?d+(o(e)?"hodiny":"hodin"):d+"hodinami";case"d":return a||s?"den":"dnem";case"dd":return a||s?d+(o(e)?"dny":"dn\xed"):d+"dny";case"M":return a||s?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return a||s?d+(o(e)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):d+"m\u011bs\xedci";case"y":return a||s?"rok":"rokem";case"yy":return a||s?d+(o(e)?"roky":"let"):d+"lety"}}function l(e,a,_,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[_][0]:e[_][1]}function M(e,a,_,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[_][0]:e[_][1]}function L(e,a,_,s){e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return a?e[_][0]:e[_][1]}e.defineLocale("cs",{months:r,monthsShort:n,monthsRegex:m,monthsShortRegex:m,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:u,ss:u,m:u,mm:u,h:u,hh:u,d:u,dd:u,M:u,MM:u,y:u,yy:u},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(e)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}}),e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var a="";return 20<e?a=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(a=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+a},week:{dow:1,doy:4}}),e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:l,mm:"%d Minuten",h:l,hh:"%d Stunden",d:l,dd:l,w:l,ww:"%d Wochen",M:l,MM:l,y:l,yy:l},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:M,mm:"%d Minuten",h:M,hh:"%d Stunden",d:M,dd:M,w:M,ww:"%d Wochen",M:M,MM:M,y:M,yy:M},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:L,mm:"%d Minuten",h:L,hh:"%d Stunden",d:L,dd:L,w:L,ww:"%d Wochen",M:L,MM:L,y:L,yy:L},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});r=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],n=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];e.defineLocale("dv",{months:r,monthsShort:r,weekdays:n,weekdaysShort:n,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"\u0789\u078a"===e},meridiem:function(e,a,_){return e<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:7,doy:12}}),e.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(e,a){return e?("string"==typeof a&&/D/.test(a.substring(0,a.indexOf("MMMM")))?this._monthsGenitiveEl:this._monthsNominativeEl)[e.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(e,a,_){return 11<e?_?"\u03bc\u03bc":"\u039c\u039c":_?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(e){return"\u03bc"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT";default:return"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,a){var _,e=this._calendarEl[e],s=a&&a.hours();return _=e,(e="undefined"!=typeof Function&&_ instanceof Function||"[object Function]"===Object.prototype.toString.call(_)?e.apply(a):e).replace("{}",s%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}}),e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:0,doy:4}}),e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")}}),e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")}}),e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:0,doy:6}}),e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,a,_){return 11<e?_?"p.t.m.":"P.T.M.":_?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var ae="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),_e="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),m=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],d=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,se=(e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?_e:ae)[e.month()]:ae},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:m,longMonthsParse:m,shortMonthsParse:m,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),de="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],n=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,te=(e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?de:se)[e.month()]:se},monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),ne="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),d=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],m=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,re=(e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?ne:te)[e.month()]:te},monthsRegex:m,monthsShortRegex:m,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}}),"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_")),ie="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),n=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function Y(e,a,_,s){e={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[e+" minuti",e+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[e+" tunni",e+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[e+" kuu",e+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[e+" aasta",e+" aastat"]};return a?e[_][2]||e[_][1]:s?e[_][0]:e[_][1]}e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?ie:re)[e.month()]:re},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"}),e.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:Y,ss:Y,m:Y,mm:Y,h:Y,hh:Y,d:Y,dd:"%d p\xe4eva",M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var me={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},oe={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"},ue=(e.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,a,_){return e<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return oe[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return me[e]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}}),"nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" ")),le=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",ue[7],ue[8],ue[9]];function h(e,a,_,s){var d="";switch(_){case"s":return s?"muutaman sekunnin":"muutama sekunti";case"ss":d=s?"sekunnin":"sekuntia";break;case"m":return s?"minuutin":"minuutti";case"mm":d=s?"minuutin":"minuuttia";break;case"h":return s?"tunnin":"tunti";case"hh":d=s?"tunnin":"tuntia";break;case"d":return s?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":d=s?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return s?"kuukauden":"kuukausi";case"MM":d=s?"kuukauden":"kuukautta";break;case"y":return s?"vuoden":"vuosi";case"yy":d=s?"vuoden":"vuotta";break}return _=s,d=((e=e)<10?(_?le:ue)[e]:e)+" "+d}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:h,ss:h,m:h,mm:h,h:h,hh:h,d:h,dd:h,M:h,MM:h,y:h,yy:h},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),e.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var m=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,d=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i],Me=(e.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:m,monthsShortRegex:m,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,a){switch(a){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_")),Le="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?Le:Me)[e.month()]:Me},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),e.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});function y(e,a,_,s){e={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[e+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",e+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[e+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",e+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[e+" \u0935\u0930\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[e+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",e+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[e+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",e+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[e+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",e+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return s?e[_][0]:e[_][1]}function c(e,a,_,s){e={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return s?e[_][0]:e[_][1]}e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:y,ss:y,m:y,mm:y,h:y,hh:y,d:y,dd:y,M:y,MM:y,y:y,yy:y},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(e,a){switch(a){case"D":return e+"\u0935\u0947\u0930";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u0940"===a?e<4?e:e+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===a?e:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===a?12<e?e:e+12:"\u0938\u093e\u0902\u091c\u0947"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0930\u093e\u0924\u0940":e<12?"\u0938\u0915\u093e\u0933\u0940\u0902":e<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":e<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}}),e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:c,ss:c,m:c,mm:c,h:c,hh:c,d:c,dd:c,M:c,MM:c,y:c,yy:c},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,a){switch(a){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,a){return 12===e&&(e=0),"rati"===a?e<4?e:e+12:"sokallim"===a?e:"donparam"===a?12<e?e:e+12:"sanje"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});var Ye={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},he={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"},ye=(e.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(e){return he[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ye[e]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0ab0\u0abe\u0aa4"===a?e<4?e:e+12:"\u0ab8\u0ab5\u0abe\u0ab0"===a?e:"\u0aac\u0aaa\u0acb\u0ab0"===a?10<=e?e:e+12:"\u0ab8\u0abe\u0a82\u0a9c"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0ab0\u0abe\u0aa4":e<10?"\u0ab8\u0ab5\u0abe\u0ab0":e<17?"\u0aac\u0aaa\u0acb\u0ab0":e<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}}),e.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(e){return 2===e?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":e+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(e){return 2===e?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":e+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(e){return 2===e?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":e+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(e){return 2===e?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":e%10==0&&10!==e?e+" \u05e9\u05e0\u05d4":e+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,a,_){return e<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":e<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":e<12?_?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":e<18?_?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),ce={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},r=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];function k(e,a,_){var s=e+" ";switch(_){case"ss":return s+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return s+=1!==e&&(2===e||3===e||4===e)?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return s+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return s+=1===e?"dan":"dana";case"MM":return s+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return s+=1!==e&&(2===e||3===e||4===e)?"godine":"godina"}}e.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return ce[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ye[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924"===a?e<4?e:e+12:"\u0938\u0941\u092c\u0939"===a?e:"\u0926\u094b\u092a\u0939\u0930"===a?10<=e?e:e+12:"\u0936\u093e\u092e"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0930\u093e\u0924":e<10?"\u0938\u0941\u092c\u0939":e<17?"\u0926\u094b\u092a\u0939\u0930":e<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}}),e.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:k,m:k,mm:k,h:k,hh:k,d:"dan",dd:k,M:"mjesec",MM:k,y:"godinu",yy:k},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var ke="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function D(e,a,_,s){var d=e;switch(_){case"s":return s||a?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return d+(s||a)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(s||a?" perc":" perce");case"mm":return d+(s||a?" perc":" perce");case"h":return"egy"+(s||a?" \xf3ra":" \xf3r\xe1ja");case"hh":return d+(s||a?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(s||a?" nap":" napja");case"dd":return d+(s||a?" nap":" napja");case"M":return"egy"+(s||a?" h\xf3nap":" h\xf3napja");case"MM":return d+(s||a?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(s||a?" \xe9v":" \xe9ve");case"yy":return d+(s||a?" \xe9v":" \xe9ve")}return""}function De(e){return(e?"":"[m\xfalt] ")+"["+ke[this.day()]+"] LT[-kor]"}function p(e){return e%100==11||e%10!=1}function T(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return p(e)?d+(a||s?"sek\xfandur":"sek\xfandum"):d+"sek\xfanda";case"m":return a?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return p(e)?d+(a||s?"m\xedn\xfatur":"m\xedn\xfatum"):a?d+"m\xedn\xfata":d+"m\xedn\xfatu";case"hh":return p(e)?d+(a||s?"klukkustundir":"klukkustundum"):d+"klukkustund";case"d":return a?"dagur":s?"dag":"degi";case"dd":return p(e)?a?d+"dagar":d+(s?"daga":"d\xf6gum"):a?d+"dagur":d+(s?"dag":"degi");case"M":return a?"m\xe1nu\xf0ur":s?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return p(e)?a?d+"m\xe1nu\xf0ir":d+(s?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):a?d+"m\xe1nu\xf0ur":d+(s?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return a||s?"\xe1r":"\xe1ri";case"yy":return p(e)?d+(a||s?"\xe1r":"\xe1rum"):d+(a||s?"\xe1r":"\xe1ri")}}e.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,a,_){return e<12?!0===_?"de":"DE":!0===_?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return De.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return De.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:D,ss:D,m:D,mm:D,h:D,hh:D,d:D,dd:D,M:D,MM:D,y:D,yy:D},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":e<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":e<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,a){switch(a){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-\u056b\u0576":e+"-\u0580\u0564";default:return e}},week:{dow:1,doy:7}}),e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"siang"===a?11<=e?e:e+12:"sore"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),e.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:T,ss:T,m:T,mm:T,h:"klukkustund",hh:T,d:T,dd:T,M:T,MM:T,y:T,yy:T},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(1<this.hours()?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(e,a){return"\u5143"===a[1]?1:parseInt(a[1]||e,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"\u5348\u5f8c"===e},meridiem:function(e,a,_){return e<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(e){return e.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(e){return this.week()!==e.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,a){switch(a){case"y":return 1===e?"\u5143\u5e74":e+"\u5e74";case"d":case"D":case"DDD":return e+"\u65e5";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}}),e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,a){return 12===e&&(e=0),"enjing"===a?e:"siyang"===a?11<=e?e:e+12:"sonten"===a||"ndalu"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),e.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(e,a,_){return"\u10d8"===_?a+"\u10e8\u10d8":a+_+"\u10e8\u10d8"})},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):e},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-\u10da\u10d8":e<20||e<=100&&e%20==0||e%100==0?"\u10db\u10d4-"+e:e+"-\u10d4"},week:{dow:1,doy:7}});var pe={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"},Te=(e.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(pe[e]||pe[e%10]||pe[100<=e?100:null])},week:{dow:1,doy:7}}),{1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"}),fe={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"},we=(e.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"\u179b\u17d2\u1784\u17b6\u1785"===e},meridiem:function(e,a,_){return e<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(e){return fe[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Te[e]})},week:{dow:1,doy:4}}),{1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"}),ge={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"},He=(e.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(e){return ge[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return we[e]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===a?e<4?e:e+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===a?e:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===a?10<=e?e:e+12:"\u0cb8\u0c82\u0c9c\u0cc6"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":e<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":e<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":e<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}}),e.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\uc77c";case"M":return e+"\uc6d4";case"w":case"W":return e+"\uc8fc";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"\uc624\ud6c4"===e},meridiem:function(e,a,_){return e<12?"\uc624\uc804":"\uc624\ud6c4"}}),{1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"}),be={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},n=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"],Se=(e.defineLocale("ku",{months:n,monthsShort:n,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(e){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(e)},meridiem:function(e,a,_){return e<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return be[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return He[e]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}}),{0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"});function ve(e,a,_,s){var d={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return a?d[_][0]:d[_][1]}function je(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;var a;if(e<100)return je(0==(a=e%10)?e/10:a);if(e<1e4){for(;10<=e;)e/=10;return je(e)}return je(e/=1e3)}e.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(Se[e]||Se[e%10]||Se[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return je(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return je(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:ve,mm:"%d Minutten",h:ve,hh:"%d Stonnen",d:ve,dd:"%d Deeg",M:ve,MM:"%d M\xe9int",y:ve,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===e},meridiem:function(e,a,_){return e<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"\u0e97\u0eb5\u0ec8"+e}});var xe={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function Pe(e,a,_,s){return a?f(_)[0]:s?f(_)[1]:f(_)[2]}function We(e){return e%10==0||10<e&&e<20}function f(e){return xe[e].split("_")}function Ae(e,a,_,s){var d=e+" ";return 1===e?d+Pe(0,a,_[0],s):a?d+(We(e)?f(_)[1]:f(_)[0]):s?d+f(_)[1]:d+(We(e)?f(_)[1]:f(_)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function(e,a,_,s){return a?"kelios sekund\u0117s":s?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:Ae,m:Pe,mm:Ae,h:Pe,hh:Ae,d:Pe,dd:Ae,M:Pe,MM:Ae,y:Pe,yy:Ae},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var Oe={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Ee(e,a,_){return _?a%10==1&&a%100!=11?e[2]:e[3]:a%10==1&&a%100!=11?e[0]:e[1]}function Fe(e,a,_){return e+" "+Ee(Oe[_],e,a)}function ze(e,a,_){return Ee(Oe[_],e,a)}e.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function(e,a){return a?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:Fe,m:ze,mm:Fe,h:ze,hh:Fe,d:ze,dd:Fe,M:ze,MM:Fe,y:ze,yy:Fe},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var w={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,_){var s=w.words[_];return 1===_.length?a?s[0]:s[1]:e+" "+w.correctGrammaticalCase(e,s)}};function g(e,a,_,s){switch(_){case"s":return a?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return e+(a?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return e+(a?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return e+(a?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return e+(a?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return e+(a?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return e+(a?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return e}}e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:w.translate,m:w.translate,mm:w.translate,h:w.translate,hh:w.translate,d:"dan",dd:w.translate,M:"mjesec",MM:w.translate,y:"godinu",yy:w.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var a=e%10,_=e%100;return 0===e?e+"-\u0435\u0432":0==_?e+"-\u0435\u043d":10<_&&_<20?e+"-\u0442\u0438":1==a?e+"-\u0432\u0438":2==a?e+"-\u0440\u0438":7==a||8==a?e+"-\u043c\u0438":e+"-\u0442\u0438"},week:{dow:1,doy:7}}),e.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===a&&4<=e||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===a||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===a?e+12:e},meridiem:function(e,a,_){return e<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":e<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":e<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":e<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}}),e.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"\u04ae\u0425"===e},meridiem:function(e,a,_){return e<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:g,ss:g,m:g,mm:g,h:g,hh:g,d:g,dd:g,M:g,MM:g,y:g,yy:g},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+" \u04e9\u0434\u04e9\u0440";default:return e}}});var Je={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Ie={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function H(e,a,_,s){var d="";if(a)switch(_){case"s":d="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":d="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":d="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":d="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":d="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":d="%d \u0924\u093e\u0938";break;case"d":d="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":d="%d \u0926\u093f\u0935\u0938";break;case"M":d="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":d="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":d="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":d="%d \u0935\u0930\u094d\u0937\u0947";break}else switch(_){case"s":d="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":d="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":d="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":d="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":d="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":d="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":d="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":d="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":d="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":d="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":d="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":d="%d \u0935\u0930\u094d\u0937\u093e\u0902";break}return d.replace(/%d/i,e)}e.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:H,ss:H,m:H,mm:H,h:H,hh:H,d:H,dd:H,M:H,MM:H,y:H,yy:H},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return Ie[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Je[e]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u092a\u0939\u093e\u091f\u0947"===a||"\u0938\u0915\u093e\u0933\u0940"===a?e:"\u0926\u0941\u092a\u093e\u0930\u0940"===a||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===a||"\u0930\u093e\u0924\u094d\u0930\u0940"===a?12<=e?e:e+12:void 0},meridiem:function(e,a,_){return 0<=e&&e<6?"\u092a\u0939\u093e\u091f\u0947":e<12?"\u0938\u0915\u093e\u0933\u0940":e<17?"\u0926\u0941\u092a\u093e\u0930\u0940":e<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}}),e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,a){return 12===e&&(e=0),"pagi"===a?e:"tengahari"===a?11<=e?e:e+12:"petang"===a||"malam"===a?e+12:void 0},meridiem:function(e,a,_){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});var Ne={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Re={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"},Ce=(e.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return Re[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ne[e]})},week:{dow:1,doy:4}}),e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),{1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"}),Ke={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},Ge=(e.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return Ke[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ce[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0930\u093e\u0924\u093f"===a?e<4?e:e+12:"\u092c\u093f\u0939\u093e\u0928"===a?e:"\u0926\u093f\u0909\u0901\u0938\u094b"===a?10<=e?e:e+12:"\u0938\u093e\u0901\u091d"===a?e+12:void 0},meridiem:function(e,a,_){return e<3?"\u0930\u093e\u0924\u093f":e<12?"\u092c\u093f\u0939\u093e\u0928":e<16?"\u0926\u093f\u0909\u0901\u0938\u094b":e<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Be="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),m=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],d=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,qe=(e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?Be:Ge)[e.month()]:Ge},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:m,longMonthsParse:m,shortMonthsParse:m,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),"jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_")),Ue="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],n=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,$e=(e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,a){return e?(/-MMM-/.test(a)?Ue:qe)[e.month()]:qe},monthsRegex:n,monthsShortRegex:n,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,a){return e+("w"!==a&&"W"!==a?1===e?"r":2===e?"n":3===e?"r":4===e?"t":"\xe8":"a")},week:{dow:1,doy:4}}),{1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"}),Qe={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"},Ve=(e.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(e){return Qe[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return $e[e]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0a30\u0a3e\u0a24"===a?e<4?e:e+12:"\u0a38\u0a35\u0a47\u0a30"===a?e:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===a?10<=e?e:e+12:"\u0a38\u0a3c\u0a3e\u0a2e"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0a30\u0a3e\u0a24":e<10?"\u0a38\u0a35\u0a47\u0a30":e<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":e<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}}),"stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_")),Ze="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),d=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function Xe(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function b(e,a,_){var s=e+" ";switch(_){case"ss":return s+(Xe(e)?"sekundy":"sekund");case"m":return a?"minuta":"minut\u0119";case"mm":return s+(Xe(e)?"minuty":"minut");case"h":return a?"godzina":"godzin\u0119";case"hh":return s+(Xe(e)?"godziny":"godzin");case"ww":return s+(Xe(e)?"tygodnie":"tygodni");case"MM":return s+(Xe(e)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return s+(Xe(e)?"lata":"lat")}}function S(e,a,_){return e+(20<=e%100||100<=e&&e%100==0?" de ":" ")+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[_]}function v(e,a,_){return"m"===_?a?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[_]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}e.defineLocale("pl",{months:function(e,a){return e?(/D MMMM/.test(a)?Ze:Ve)[e.month()]:Ve},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:b,m:b,mm:b,h:b,hh:b,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:b,M:"miesi\u0105c",MM:b,y:"rok",yy:b},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"}),e.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}}),e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:S,m:"un minut",mm:S,h:"o or\u0103",hh:S,d:"o zi",dd:S,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:S,M:"o lun\u0103",MM:S,y:"un an",yy:S},week:{dow:1,doy:7}});m=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i],e.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:m,longMonthsParse:m,shortMonthsParse:m,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:v,m:v,mm:v,h:"\u0447\u0430\u0441",hh:v,d:"\u0434\u0435\u043d\u044c",dd:v,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:v,M:"\u043c\u0435\u0441\u044f\u0446",MM:v,y:"\u0433\u043e\u0434",yy:v},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u0438":e<12?"\u0443\u0442\u0440\u0430":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":return e+"-\u0439";case"D":return e+"-\u0433\u043e";case"w":case"W":return e+"-\u044f";default:return e}},week:{dow:1,doy:4}}),n=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],r=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"],e.defineLocale("sd",{months:n,monthsShort:n,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),e.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"\u0db4.\u0dc0."===e||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===e},meridiem:function(e,a,_){return 11<e?_?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":_?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}}),d="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),m="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function ea(e){return 1<e&&e<5}function j(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return a||s?d+(ea(e)?"sekundy":"sek\xfand"):d+"sekundami";case"m":return a?"min\xfata":s?"min\xfatu":"min\xfatou";case"mm":return a||s?d+(ea(e)?"min\xfaty":"min\xfat"):d+"min\xfatami";case"h":return a?"hodina":s?"hodinu":"hodinou";case"hh":return a||s?d+(ea(e)?"hodiny":"hod\xedn"):d+"hodinami";case"d":return a||s?"de\u0148":"d\u0148om";case"dd":return a||s?d+(ea(e)?"dni":"dn\xed"):d+"d\u0148ami";case"M":return a||s?"mesiac":"mesiacom";case"MM":return a||s?d+(ea(e)?"mesiace":"mesiacov"):d+"mesiacmi";case"y":return a||s?"rok":"rokom";case"yy":return a||s?d+(ea(e)?"roky":"rokov"):d+"rokmi"}}function x(e,a,_,s){var d=e+" ";switch(_){case"s":return a||s?"nekaj sekund":"nekaj sekundami";case"ss":return d+=1===e?a?"sekundo":"sekundi":2===e?a||s?"sekundi":"sekundah":e<5?a||s?"sekunde":"sekundah":"sekund";case"m":return a?"ena minuta":"eno minuto";case"mm":return d+=1===e?a?"minuta":"minuto":2===e?a||s?"minuti":"minutama":e<5?a||s?"minute":"minutami":a||s?"minut":"minutami";case"h":return a?"ena ura":"eno uro";case"hh":return d+=1===e?a?"ura":"uro":2===e?a||s?"uri":"urama":e<5?a||s?"ure":"urami":a||s?"ur":"urami";case"d":return a||s?"en dan":"enim dnem";case"dd":return d+=1===e?a||s?"dan":"dnem":2===e?a||s?"dni":"dnevoma":a||s?"dni":"dnevi";case"M":return a||s?"en mesec":"enim mesecem";case"MM":return d+=1===e?a||s?"mesec":"mesecem":2===e?a||s?"meseca":"mesecema":e<5?a||s?"mesece":"meseci":a||s?"mesecev":"meseci";case"y":return a||s?"eno leto":"enim letom";case"yy":return d+=1===e?a||s?"leto":"letom":2===e?a||s?"leti":"letoma":e<5?a||s?"leta":"leti":a||s?"let":"leti"}}e.defineLocale("sk",{months:d,monthsShort:m,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 4:case 5:return"[minul\xfd] dddd [o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:j,ss:j,m:j,mm:j,h:j,hh:j,d:j,dd:j,M:j,MM:j,y:j,yy:j},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:x,ss:x,m:x,mm:x,h:x,hh:x,d:x,dd:x,M:x,MM:x,y:x,yy:x},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,a,_){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var P={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(e,a){return 1<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?e%10==1?a[0]:a[1]:a[2]},translate:function(e,a,_,s){var d=P.words[_];return 1===_.length?"y"===_&&a?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":s||a?d[0]:d[1]:(s=P.correctGrammaticalCase(e,d),"yy"===_&&a&&"\u0433\u043e\u0434\u0438\u043d\u0443"===s?e+" \u0433\u043e\u0434\u0438\u043d\u0430":e+" "+s)}},W=(e.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:P.translate,m:P.translate,mm:P.translate,h:P.translate,hh:P.translate,d:P.translate,dd:P.translate,M:P.translate,MM:P.translate,y:P.translate,yy:P.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),{words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,a){return 1<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?e%10==1?a[0]:a[1]:a[2]},translate:function(e,a,_,s){var d=W.words[_];return 1===_.length?"y"===_&&a?"jedna godina":s||a?d[0]:d[1]:(s=W.correctGrammaticalCase(e,d),"yy"===_&&a&&"godinu"===s?e+" godina":e+" "+s)}}),aa=(e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:W.translate,m:W.translate,mm:W.translate,h:W.translate,hh:W.translate,d:W.translate,dd:W.translate,M:W.translate,MM:W.translate,y:W.translate,yy:W.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,a,_){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,a){return 12===e&&(e=0),"ekuseni"===a?e:"emini"===a?11<=e?e:e+12:"entsambama"===a||"ebusuku"===a?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var a=e%10;return e+(1!=~~(e%100/10)&&(1==a||2==a)?":a":":e")},week:{dow:1,doy:4}}),e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}}),{1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"}),_a={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"},sa=(e.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"\u0bb5\u0ba4\u0bc1"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return _a[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return aa[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,a,_){return e<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":e<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":e<10?" \u0b95\u0bbe\u0bb2\u0bc8":e<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":e<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":e<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(e,a){return 12===e&&(e=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===a?e<2?e:e+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===a||"\u0b95\u0bbe\u0bb2\u0bc8"===a||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===a&&10<=e?e:e+12},week:{dow:0,doy:6}}),e.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===a?e<4?e:e+12:"\u0c09\u0c26\u0c2f\u0c02"===a?e:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===a?10<=e?e:e+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":e<10?"\u0c09\u0c26\u0c2f\u0c02":e<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":e<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}}),e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),{0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"}),da=(e.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u0448\u0430\u0431"===a?e<4?e:e+12:"\u0441\u0443\u0431\u04b3"===a?e:"\u0440\u04ef\u0437"===a?11<=e?e:e+12:"\u0431\u0435\u0433\u043e\u04b3"===a?e+12:void 0},meridiem:function(e,a,_){return e<4?"\u0448\u0430\u0431":e<11?"\u0441\u0443\u0431\u04b3":e<16?"\u0440\u04ef\u0437":e<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(sa[e]||sa[e%10]||sa[100<=e?100:null])},week:{dow:1,doy:7}}),e.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===e},meridiem:function(e,a,_){return e<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}}),{1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"}),ta=(e.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var _=e%10;return e+(da[_]||da[e%100-_]||da[100<=e?100:null])}},week:{dow:1,doy:7}}),e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),"pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"));function na(e,a,_,s){var d=function(e){var a=Math.floor(e%1e3/100),_=Math.floor(e%100/10),e=e%10,s="";0<a&&(s+=ta[a]+"vatlh");0<_&&(s+=(""!==s?" ":"")+ta[_]+"maH");0<e&&(s+=(""!==s?" ":"")+ta[e]);return""===s?"pagh":s}(e);switch(_){case"ss":return d+" lup";case"mm":return d+" tup";case"hh":return d+" rep";case"dd":return d+" jaj";case"MM":return d+" jar";case"yy":return d+" DIS"}}e.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"leS":-1!==e.indexOf("jar")?a.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?a.slice(0,-3)+"nem":a+" pIq"},past:function(e){var a=e;return a=-1!==e.indexOf("jaj")?a.slice(0,-3)+"Hu\u2019":-1!==e.indexOf("jar")?a.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?a.slice(0,-3)+"ben":a+" ret"},s:"puS lup",ss:na,m:"wa\u2019 tup",mm:na,h:"wa\u2019 rep",hh:na,d:"wa\u2019 jaj",dd:na,M:"wa\u2019 jar",MM:na,y:"wa\u2019 DIS",yy:na},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ra={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};function A(e,a,_,s){e={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[e+" m\xeduts",e+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[e+" \xfeoras",e+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return s||a?e[_][0]:e[_][1]}function O(e,a,_){return"m"===_?a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===_?a?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":e+" "+(e=+e,a=(a={ss:a?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:a?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:a?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[_]).split("_"),e%10==1&&e%100!=11?a[0]:2<=e%10&&e%10<=4&&(e%100<10||20<=e%100)?a[1]:a[2])}function ia(e){return function(){return e+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}e.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(e,a,_){return e<12?_?"\xf6\xf6":"\xd6\xd6":_?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(e){return"\xf6s"===e||"\xd6S"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'\u0131nc\u0131";var _=e%10;return e+(ra[_]||ra[e%100-_]||ra[100<=e?100:null])}},week:{dow:1,doy:7}}),e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,a,_){return 11<e?_?"d'o":"D'O":_?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),e.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),e.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}}),e.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===a||"\u0633\u06d5\u06be\u06d5\u0631"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"!==a&&"\u0643\u06d5\u0686"!==a&&11<=e?e:e+12},meridiem:function(e,a,_){e=100*e+a;return e<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":e<900?"\u0633\u06d5\u06be\u06d5\u0631":e<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":e<1230?"\u0686\u06c8\u0634":e<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return e+"-\u06be\u06d5\u067e\u062a\u06d5";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:7}}),e.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function(e,a){var _={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===e?_.nominative.slice(1,7).concat(_.nominative.slice(0,1)):e?_[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(a)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(a)?"genitive":"nominative"][e.day()]:_.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:ia("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:ia("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:ia("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:ia("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ia("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return ia("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:O,m:O,mm:O,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:O,d:"\u0434\u0435\u043d\u044c",dd:O,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:O,y:"\u0440\u0456\u043a",yy:O},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,a,_){return e<4?"\u043d\u043e\u0447\u0456":e<12?"\u0440\u0430\u043d\u043a\u0443":e<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,a){switch(a){case"M":case"d":case"DDD":case"w":case"W":return e+"-\u0439";case"D":return e+"-\u0433\u043e";default:return e}},week:{dow:1,doy:7}});n=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],r=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];return e.defineLocale("ur",{months:n,monthsShort:n,weekdays:r,weekdaysShort:r,weekdaysMin:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"\u0634\u0627\u0645"===e},meridiem:function(e,a,_){return e<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"\u060c")},week:{dow:1,doy:4}}),e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),e.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}}),e.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,a,_){return e<12?_?"sa":"SA":_?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),e.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var a=e%10;return e+(1==~~(e%100/10)?"th":1==a?"st":2==a?"nd":3==a?"rd":"th")},week:{dow:1,doy:4}}),e.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}}),e.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a||"\u4e0b\u5348"!==a&&"\u665a\u4e0a"!==a&&11<=e?e:e+12},meridiem:function(e,a,_){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(e){return e.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(e){return this.week()!==e.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u5468";default:return e}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}}),e.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,_){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1200?"\u4e0a\u5348":1200===e?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),e.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,_){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),e.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,a){return 12===e&&(e=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?e:"\u4e2d\u5348"===a?11<=e?e:e+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?e+12:void 0},meridiem:function(e,a,_){e=100*e+a;return e<600?"\u51cc\u6668":e<900?"\u65e9\u4e0a":e<1130?"\u4e0a\u5348":e<1230?"\u4e2d\u5348":e<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,a){switch(a){case"d":case"D":case"DDD":return e+"\u65e5";case"M":return e+"\u6708";case"w":case"W":return e+"\u9031";default:return e}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}}),e.locale("en"),e});
//# sourceMappingURL=locales.min.js.map
/* End of File sidecar/node_modules/moment/min/locales.min.js */

!function(){var e=function(e){"use strict";function t(e){if(e.paused||e.ended||m)return!1;try{c.clearRect(0,0,h,l),c.drawImage(e,0,0,h,l)}catch(o){}p=setTimeout(t,O.duration,e),L.setIcon(s)}function o(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,o,n){return t+t+o+o+n+n});var o=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return o?{r:parseInt(o[1],16),g:parseInt(o[2],16),b:parseInt(o[3],16)}:!1}function n(e,t){var o,n={};for(o in e)n[o]=e[o];for(o in t)n[o]=t[o];return n}function r(){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden}e=e?e:{};var i,a,l,h,s,c,f,d,u,y,g,m,w,x,p,b={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1};w={},w.ff="undefined"!=typeof InstallTrigger,w.chrome=!!window.chrome,w.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,w.ie=/*@cc_on!@*/!1,w.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,w.supported=w.chrome||w.ff||w.opera;var v=[];g=function(){},d=m=!1;var C=function(){i=n(b,e),i.bgColor=o(i.bgColor),i.textColor=o(i.textColor),i.position=i.position.toLowerCase(),i.animation=O.types[""+i.animation]?i.animation:b.animation;var t=i.position.indexOf("up")>-1,r=i.position.indexOf("left")>-1;if(t||r)for(var d=0;d<O.types[""+i.animation].length;d++){var u=O.types[""+i.animation][d];t&&(u.y=u.y<.6?u.y-.4:u.y-2*u.y+(1-u.w)),r&&(u.x=u.x<.6?u.x-.4:u.x-2*u.x+(1-u.h)),O.types[""+i.animation][d]=u}i.type=M[""+i.type]?i.type:b.type,a=L.getIcon(),s=document.createElement("canvas"),f=document.createElement("img"),a.hasAttribute("href")?(f.setAttribute("src",a.getAttribute("href")),f.onload=function(){l=f.height>0?f.height:32,h=f.width>0?f.width:32,s.height=l,s.width=h,c=s.getContext("2d"),I.ready()}):(f.setAttribute("src",""),l=32,h=32,f.height=l,f.width=h,s.height=l,s.width=h,c=s.getContext("2d"),I.ready())},I={};I.ready=function(){d=!0,I.reset(),g()},I.reset=function(){d&&(v=[],u=!1,y=!1,c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),L.setIcon(s),window.clearTimeout(x),window.clearTimeout(p))},I.start=function(){if(d&&!y){var e=function(){u=v[0],y=!1,v.length>0&&(v.shift(),I.start())};if(v.length>0){y=!0;var t=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(e){e in v[0].options&&(i[e]=v[0].options[e])}),O.run(v[0].options,function(){e()},!1)};u?O.run(u.options,function(){t()},!0):t()}}};var M={},T=function(e){return e.n="number"==typeof e.n?Math.abs(0|e.n):e.n,e.x=h*e.x,e.y=l*e.y,e.w=h*e.w,e.h=l*e.h,e.len=(""+e.n).length,e};M.circle=function(e){e=T(e);var t=!1;2===e.len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,t=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,t=!0),c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),c.beginPath(),c.font=i.fontStyle+" "+Math.floor(e.h*(e.n>99?.85:1))+"px "+i.fontFamily,c.textAlign="center",t?(c.moveTo(e.x+e.w/2,e.y),c.lineTo(e.x+e.w-e.h/2,e.y),c.quadraticCurveTo(e.x+e.w,e.y,e.x+e.w,e.y+e.h/2),c.lineTo(e.x+e.w,e.y+e.h-e.h/2),c.quadraticCurveTo(e.x+e.w,e.y+e.h,e.x+e.w-e.h/2,e.y+e.h),c.lineTo(e.x+e.h/2,e.y+e.h),c.quadraticCurveTo(e.x,e.y+e.h,e.x,e.y+e.h-e.h/2),c.lineTo(e.x,e.y+e.h/2),c.quadraticCurveTo(e.x,e.y,e.x+e.h/2,e.y)):c.arc(e.x+e.w/2,e.y+e.h/2,e.h/2,0,2*Math.PI),c.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",c.fill(),c.closePath(),c.beginPath(),c.stroke(),c.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?c.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):c.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),c.closePath()},M.rectangle=function(e){e=T(e);var t=!1;2===e.len?(e.x=e.x-.4*e.w,e.w=1.4*e.w,t=!0):e.len>=3&&(e.x=e.x-.65*e.w,e.w=1.65*e.w,t=!0),c.clearRect(0,0,h,l),c.drawImage(f,0,0,h,l),c.beginPath(),c.font=i.fontStyle+" "+Math.floor(e.h*(e.n>99?.9:1))+"px "+i.fontFamily,c.textAlign="center",c.fillStyle="rgba("+i.bgColor.r+","+i.bgColor.g+","+i.bgColor.b+","+e.o+")",c.fillRect(e.x,e.y,e.w,e.h),c.fillStyle="rgba("+i.textColor.r+","+i.textColor.g+","+i.textColor.b+","+e.o+")","number"==typeof e.n&&e.n>999?c.fillText((e.n>9999?9:Math.floor(e.n/1e3))+"k+",Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.2*e.h)):c.fillText(e.n,Math.floor(e.x+e.w/2),Math.floor(e.y+e.h-.15*e.h)),c.closePath()};var E=function(e,t){t=("string"==typeof t?{animation:t}:t)||{},g=function(){try{if("number"==typeof e?e>0:""!==e){var n={type:"badge",options:{n:e}};if("animation"in t&&O.types[""+t.animation]&&(n.options.animation=""+t.animation),"type"in t&&M[""+t.type]&&(n.options.type=""+t.type),["bgColor","textColor"].forEach(function(e){e in t&&(n.options[e]=o(t[e]))}),["fontStyle","fontFamily"].forEach(function(e){e in t&&(n.options[e]=t[e])}),v.push(n),v.length>100)throw"Too many badges requests in queue.";I.start()}else I.reset()}catch(r){throw"Error setting badge. Message: "+r.message}},d&&g()},A=function(e){g=function(){try{var t=e.width,o=e.height,n=document.createElement("img"),r=o/l>t/h?t/h:o/l;n.setAttribute("src",e.getAttribute("src")),n.height=o/r,n.width=t/r,c.clearRect(0,0,h,l),c.drawImage(n,0,0,h,l),L.setIcon(s)}catch(i){throw"Error setting image. Message: "+i.message}},d&&g()},U=function(e){g=function(){try{if("stop"===e)return m=!0,I.reset(),void(m=!1);e.addEventListener("play",function(){t(this)},!1)}catch(o){throw"Error setting video. Message: "+o.message}},d&&g()},R=function(e){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(e){return e}),w.supported){var o=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,g=function(){try{if("stop"===e)return m=!0,I.reset(),void(m=!1);o=document.createElement("video"),o.width=h,o.height=l,navigator.getUserMedia({video:!0,audio:!1},function(e){o.src=URL.createObjectURL(e),o.play(),t(o)},function(){})}catch(n){throw"Error setting webcam. Message: "+n.message}},d&&g()}},L={};L.getIcon=function(){var e=!1,t="",o=function(){for(var e=document.getElementsByTagName("head")[0].getElementsByTagName("link"),t=e.length,o=t-1;o>=0;o--)if(/(^|\s)icon(\s|$)/i.test(e[o].getAttribute("rel")))return e[o];return!1};if(i.element?e=i.element:i.elementId?(e=document.getElementById(i.elementId),e.setAttribute("href",e.getAttribute("src"))):(e=o(),e===!1&&(e=document.createElement("link"),e.setAttribute("rel","icon"),document.getElementsByTagName("head")[0].appendChild(e))),t=i.elementId?e.src:e.href,"data:"!==t.substr(0,5)&&-1===t.indexOf(document.location.hostname))throw new Error("Error setting favicon. Favicon image is on different domain (Icon: "+t+", Domain: "+document.location.hostname+")");return e.setAttribute("type","image/png"),e},L.setIcon=function(e){var t=e.toDataURL("image/png");if(i.element)i.element.setAttribute("src",t);else if(i.elementId)document.getElementById(i.elementId).setAttribute("src",t);else if(w.ff||w.opera){var o=a;a=document.createElement("link"),w.opera&&a.setAttribute("rel","icon"),a.setAttribute("rel","icon"),a.setAttribute("type","image/png"),document.getElementsByTagName("head")[0].appendChild(a),a.setAttribute("href",t),o.parentNode&&o.parentNode.removeChild(o)}else a.setAttribute("href",t)};var O={};return O.duration=40,O.types={},O.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],O.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],O.run=function(e,t,o,a){var l=O.types[r()?"none":i.animation];return a=o===!0?"undefined"!=typeof a?a:l.length-1:"undefined"!=typeof a?a:0,t=t?t:function(){},a<l.length&&a>=0?(M[i.type](n(e,l[a])),x=setTimeout(function(){o?a-=1:a+=1,O.run(e,t,o,a)},O.duration),L.setIcon(s),void 0):void t()},C(),{badge:E,video:U,image:A,webcam:R,reset:I.reset,browser:{supported:w.supported}}};"undefined"!=typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof module&&module.exports?module.exports=e:this.Favico=e}();
/* End of File include/javascript/favicon.js */

if(typeof(SUGAR)=='undefined')SUGAR={};if(typeof(SUGAR.util)=='undefined')SUGAR.util={};if(typeof(SUGAR.expressions)=='undefined')SUGAR.expressions={};(function(){SUGAR.util.extend=SUGAR.util.extend||(SUGAR.App?SUGAR.App.utils.extendFrom:null);var SEE=SUGAR.expressions.Expression=function(context){this.context=context;};SEE.INFINITY=-1;SEE.STRING_TYPE="string";SEE.NUMERIC_TYPE="number";SEE.DATE_TYPE="date";SEE.TIME_TYPE="time";SEE.BOOLEAN_TYPE="boolean";SEE.ENUM_TYPE="enum";SEE.RELATE_TYPE="relate";SEE.GENERIC_TYPE="generic";SEE.TRUE="true";SEE.FALSE="false";SEE.isTruthy=function(v){return _.isString(v)?(v=="1"||v==SEE.TRUE):!!v;};SUGAR.expressions.NumericConstants={pi:3.14159265,e:2.718281828459045}
SEE.prototype.init=function(params){if(params instanceof Array&&params.length==1){this.params=params[0];}
else{this.params=params;}
this.validateParameters();};SEE.prototype.getParameters=function(){if(!this.params){return this.params;}
var params,param,result=[],types=this.getParameterTypes(),oneParam=this.getParamCount()==1,type,i;if(oneParam||(!_.isArray(this.params)&&_.isObject(this.params))){params=[this.params];}else{params=this.params;}
if(!(types instanceof Array)){type=types;types=[];for(i=0;i<params.length;i++){types.push(type);}}
var map=this.constructor.TYPE_CAST_MAP;for(i=0;i<params.length;i++){param=params[i];if(param instanceof SEE){type=SEP.prototype.getType(param);if(type!=types[i]&&types[i]in map){param=new SUGAR.expressions[map[types[i]]](param,this.context);}}
result.push(param);}
if(oneParam){result=result.shift();}
return result;};SEE.prototype.validateParameters=function(){var params=this.params;var count=this.getParamCount();var types=this.getParameterTypes();if(typeof(count)!='number'){throw(this.getClass()+": Number of paramters required must be a number");}
if(typeof(types)!='string'&&!(types instanceof Array)){throw(this.getClass()+": Parameter types must be valid and match the parameter count");}
if(types instanceof Array&&count!=SEE.INFINITY&&count!=types.length){throw(this.getClass()+": Parameter types must be valid and match the parameter count");}
if(typeof(types)=='string'){if(SEE.TYPE_MAP[types]==null){throw(this.getClass()+": Invalid type requirement '"+types+"'");}}else{for(var i=0;i<types.length;i++){if(typeof(SEE.TYPE_MAP[types[i]])=='undefined'){throw(this.getClass()+": Invalid type requirement '"+types[i]+"'");}}}
if(count==0&&typeof(params)=='undefined'){return;}
if(count==1&&this.isProperType(params,types)){return;}
if(count>1&&!(params instanceof Array)){throw(this.getClass()+": Requires exactly "+count+" parameter(s)");}
if(count==1&&params instanceof Array){throw(this.getClass()+": Requires exactly 1 parameter");}
if(count!=SEE.INFINITY&&params instanceof Array&&params.length!=count){throw(this.getClass()+": Requires exactly "+count+" parameter(s)");}
if(typeof(types)=='string'){if(!(params instanceof Array)){if(this.isProperType(params,types)){return;}
throw(this.getClass()+": Parameter must be of type '"+types+"'");}
for(var i=0;i<params.length;i++){if(!this.isProperType(params[i],types)){throw(this.getClass()+": All parameters must be of type '"+types+"'");}}}
else{if(!(params instanceof Array)){if(this.isProperType(params,types[0])){return;}
throw(this.getClass()+": Parameter must be of type '"+types[0]+"'");}
for(var i=0;i<types.length;i++){if(!this.isProperType(params[i],types[i])){throw(this.getClass()+": The parameter at index "+i+" must be of type "+types[i]);}}}};SEE.prototype.getParamCount=function(){return SEE.INFINITY;};SEE.prototype.isProperType=function(variable,type){var see=SEE;if(type instanceof Array){return false;}
var c=see.TYPE_MAP[type];if(typeof(c)=='undefined'||c==null||c==''){return false;}
if(variable instanceof c||variable instanceof see.TYPE_MAP.generic||type==see.GENERIC_TYPE)
return true;if(variable instanceof see){variable=variable.evaluate();}
switch(type){case see.STRING_TYPE:return(typeof(variable)=='string'||typeof(variable)=='number'||variable instanceof see.TYPE_MAP[see.NUMERIC_TYPE]);break;case see.NUMERIC_TYPE:return(typeof(variable)=='number'||SUGAR.expressions.isNumeric(variable));break;case see.BOOLEAN_TYPE:return variable==see.TRUE||variable==see.FALSE||variable===1||variable===0||variable==='1'||variable==='0'||variable==='';break;case see.DATE_TYPE:case see.TIME_TYPE:if(variable===null||variable===''||(typeof(variable)=='string'&&SUGAR.util.DateUtils.guessFormat(variable)))
return true;break;case see.RELATE_TYPE:return true;break;}
return false;};SEE.prototype.evaluate=function(){};SEE.prototype.getClass=function(exp){for(var i in SUGAR.FunctionMap){if(typeof SUGAR.FunctionMap[i]=="function"&&SUGAR.FunctionMap[i].prototype&&this instanceof SUGAR.FunctionMap[i])
return i;}
return false;};SEE.prototype.getParameterTypes=function(){};SUGAR.expressions.GenericExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.GenericExpression,SEE,{getParameterTypes:function(){return SEE.GENERIC_TYPE;}});SUGAR.expressions.NumericExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.NumericExpression,SEE,{getParameterTypes:function(){return SEE.NUMERIC_TYPE;}});SUGAR.expressions.StringExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.StringExpression,SEE,{getParameterTypes:function(){return SEE.STRING_TYPE;}});SUGAR.expressions.BooleanExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.BooleanExpression,SEE,{getParameterTypes:function(){return SEE.BOOLEAN_TYPE;}});SUGAR.expressions.EnumExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.EnumExpression,SEE,{getParameterTypes:function(){return SEE.ENUM_TYPE;}});SUGAR.expressions.DateExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.DateExpression,SEE,{getParameterTypes:function(){return SEE.DATE_TYPE;}});SUGAR.expressions.TimeExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.TimeExpression,SEE,{getParameterTypes:function(){return SEE.TIME_TYPE;}});SUGAR.expressions.RelateExpression=function(params){};SUGAR.util.extend(SUGAR.expressions.RelateExpression,SEE,{getParameterTypes:function(){return SEE.GENERIC_TYPE;}});SEE.TYPE_MAP={"number":SUGAR.expressions.NumericExpression,"string":SUGAR.expressions.StringExpression,"date":SUGAR.expressions.DateExpression,"time":SUGAR.expressions.TimeExpression,"boolean":SUGAR.expressions.BooleanExpression,"enum":SUGAR.expressions.EnumExpression,"relate":SUGAR.expressions.RelateExpression,"generic":SUGAR.expressions.GenericExpression};SEE.TYPE_CAST_MAP={"number":"ValueOfExpression","string":"DefineStringExpression"};SUGAR.expressions.ConstantExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.ConstantExpression,SUGAR.expressions.NumericExpression,{evaluate:function(){return this.getParameters();},getParamCount:function(){return 1;}});SUGAR.expressions.StringLiteralExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.StringLiteralExpression,SUGAR.expressions.StringExpression,{evaluate:function(){return this.getParameters();},getParamCount:function(){return 1;}});SUGAR.expressions.FalseExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.FalseExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return SEE.FALSE;},getParamCount:function(){return 0;}});SUGAR.expressions.TrueExpression=function(params){this.init(params);}
SUGAR.util.extend(SUGAR.expressions.TrueExpression,SUGAR.expressions.BooleanExpression,{evaluate:function(){return SEE.TRUE;},getParamCount:function(){return 0;}});var SEP=SUGAR.expressions.ExpressionParser=function(){};SEP.prototype.getFieldsFromExpression=function(expression){return _.map(expression.match(/\$(\w+)/g),function(match){return match.replace(/\$/g,'');});}
SEP.prototype._generateRange=function(prefix,start,end){var str="";var i=parseInt(start);if(typeof(end)=='undefined')
while(this.getElement(prefix+''+i)!=null)
str+='$'+prefix+''+(i++)+',';else
for(;i<=end;i++){var t=prefix+''+i;if(this.getElement(t)!=null)
str+='$'+t+',';}
return str.substring(0,str.length-1);}
SEP.prototype._valueReplace=function(val){if(!(/^\$.*$/).test(val)){return val;}
return this.getValue(val.substring(1));}
SEP.prototype._performRangeReplace=function(expression){var isInQuotes=false;var prev;var inRange;for(var i=0;;i++){if(i==expression.length)break;var ch=expression.charAt(i);if(ch=='"'&&prev!='\\')isInQuotes=!isInQuotes;if(!isInQuotes&&ch=='%'){inRange=true;var loc_start=expression.indexOf('[',i+1);var loc_comma=expression.indexOf(',',loc_start);var loc_end=expression.indexOf(']',loc_start);if(loc_start<0||loc_end<0)throw("Invalid range syntax");var prefix=expression.substring(i+1,loc_start);var start,end;if(loc_comma>-1&&loc_comma<loc_end){start=expression.substring(loc_start+1,loc_comma);end=expression.substring(loc_comma+1,loc_end);}else{start=expression.substring(loc_start+1,loc_end);}
if(loc_comma>-1&&loc_comma<loc_end)end=expression.substring(loc_comma+1,loc_end);var result=this._generateRange(prefix,this._valueReplace(start),this._valueReplace(end));if(typeof(end)=='undefined')
expression=expression.replace('%'+prefix+'['+start+']',result);else
expression=expression.replace('%'+prefix+'['+start+','+end+']',result);i=i+result.length-1;}
prev=ch;}
return expression;}
SEP.prototype.validate=function(expr){if(typeof(expr)!='string')throw"ExpressionParser requires a string expression.";var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined')
return true;if((/^[\w\-]+\(.*\)$/).exec(expr)==null){throw("Syntax Error (Expression Format Incorrect '"+expr+"' )");}
if(expr.indexOf('(')<0)
throw("Syntax Error (No opening paranthesis found)");return true;}
SEP.prototype.tokenize=function(expr){var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined'){return{type:"constant",returnType:this.getType(fixed),value:fixed.evaluate()}}
if(/^[$]\w+$/.test(expr)){return{type:"variable",name:expr.trim().substr(1)}}
if(/^[$]\w+\.\w+$/.test(expr)){expr=expr.trim();return{type:"variable",name:expr.substr(1,expr.indexOf('.')-1),relate:expr.substr(expr.indexOf('.')+1)}}
var open_paren_loc=expr.indexOf('(');if(open_paren_loc<1)
throw(expr+": Syntax Error, no open parentheses found");if(expr.charAt(expr.length-1)!=')')
throw(expr+": Syntax Error, no close parentheses found");var func=expr.substring(0,open_paren_loc);var params=expr.substring(open_paren_loc+1,expr.length-1);var level=0;var length=params.length;var argument="";var args=new Array();var currChar=null;var lastCharRead=null;var justReadString=false;var justReadComma=false;var isInQuotes=false;var isPrevCharBK=false;for(var i=0;i<=length;i++){lastCharRead=currChar;justReadComma=false;if(i==length){argument=argument.trim();if(argument!="")
args[args.length]=this.tokenize(argument);break;}
isPrevCharBK=(lastCharRead=='\\');currChar=params.charAt(i);if(isInQuotes&&currChar!='"'&&!isPrevCharBK){argument+=currChar;continue;}
if(currChar=='"'&&!isPrevCharBK&&level==0){if(isInQuotes){var end_reg=params.indexOf(",",i);if(end_reg<0)end_reg=params.length-1;var start_reg=(i<length-1?i+1:length-1);var temp=params.substring(start_reg,end_reg);if((/^\s*$/).exec(temp)==null)
throw(func+": Syntax Error (Improperly Terminated String '"+temp+"')"+(start_reg)+" "+end_reg);}
isInQuotes=!isInQuotes;}
if(currChar=='('){level++;}else if(currChar==')'){level--;}
else if(currChar==','&&level==0){argument=argument.trim();if(argument=="")
throw("Syntax Error: Unexpected ','");args[args.length]=this.tokenize(argument);argument="";justReadComma=true;continue;}
argument+=currChar;}
if(isInQuotes)throw("Syntax Error (Unterminated String Literal)");if(level!=0)throw("Syntax Error (Incorrectly Matched Parantheses)");if(justReadComma)throw("Syntax Error (No parameter after comma near <b>"+func+"</b>)");return{type:"function",name:func.trim(),args:args}}
SEP.prototype.getType=function(variable){for(var type in SEE.TYPE_MAP){if(variable instanceof SEE.TYPE_MAP[type]){return type;}}
return false;};SEP.prototype.evaluate=function(expr,context){if(typeof(expr)!='string')throw"ExpressionParser requires a string expression.";expr=expr.replace(/^\s+|\s+$|\n/g,"");var fixed=this.toConstant(expr);if(fixed!=null&&typeof(fixed)!='undefined')
return fixed;if(expr.match(/^\$\w+$/)){if(typeof(context)=="undefined")
throw("Syntax Error: variable "+expr+" without context");return context.getValue(expr.substring(1));}
if(expr.match(/^\$\w+\.\w+$/)){return context.getRelatedValue(expr.substr(1,expr.indexOf('.')-1),expr.substr(expr.indexOf('.')+1));}
if((/^[\w\-]+\(.*\)$/).exec(expr)==null){throw("Syntax Error (Expression Format Incorrect '"+expr+"' )");}
var open_paren_loc=expr.indexOf('(');if(open_paren_loc<0)
throw("Syntax Error (No opening paranthesis found)");var func=expr.substring(0,open_paren_loc);if(SUGAR.FunctionMap[func]==null)
throw(func+": No such function defined");var params=expr.substring(open_paren_loc+1,expr.length-1);var level=0;var length=params.length;var argument="";var args=new Array();var currChar=null;var lastCharRead=null;var justReadString=false;var isInQuotes=false;var isPrevCharBK=false;var isInVar=false;if(length>0){for(var i=0;i<=length;i++){lastCharRead=currChar;if(i==length){args[args.length]=this.evaluate(argument,context);break;}
isPrevCharBK=(lastCharRead=='\\');currChar=params.charAt(i);if(isInQuotes&&currChar!='"'&&!isPrevCharBK){argument+=currChar;continue;}
if(isInVar&&(currChar==" "||currChar==","))
isInVar=false;if(currChar=='"'&&!isPrevCharBK&&level==0){if(isInQuotes){var end_reg=params.indexOf(",",i);if(end_reg<0)end_reg=params.length-1;var start_reg=(i<length-1?i+1:length-1);var temp=params.substring(start_reg,end_reg);if((/^\s*$/).exec(temp)==null)
throw(func+": Syntax Error (Improperly Terminated String '"+temp+"')"+(start_reg)+" "+end_reg);}
isInQuotes=!isInQuotes;}
if(currChar=='$'&&!isPrevCharBK&&!isInQuotes&&level==0){if(isInVar)
throw(func+": Syntax Error (unexpeted '$' in  '"+argument+"')");else{isInVar=true;}}
if(currChar=='('){level++;}else if(currChar==')'){level--;}
else if(currChar==','&&level==0){args[args.length]=this.evaluate(argument,context);argument="";continue;}
argument+=currChar;}}
if(isInQuotes)throw("Syntax Error (Unterminated String Literal)");if(level!=0)throw("Syntax Error (Incorrectly Matched Parantheses)");return new SUGAR.FunctionMap[func](args,context);}
SEP.prototype.toConstant=function(expr){if(isFinite(expr)&&!isNaN(parseFloat(expr))){return new SUGAR.expressions.ConstantExpression(parseFloat(expr));}
var fixed=SUGAR.expressions.NumericConstants[expr];if(fixed!=null&&typeof(fixed)!='undefined')
return new SUGAR.expressions.ConstantExpression(parseFloat(fixed));if((/^"[\s\S]*"$/).exec(expr)!=null){expr=expr.substring(1,expr.length-1);return new SUGAR.expressions.StringLiteralExpression(expr);}
if(expr==''){return new SUGAR.expressions.StringLiteralExpression(expr);}
if(expr=="true"){return new SUGAR.expressions.TrueExpression();}else if(expr=="false"){return new SUGAR.expressions.FalseExpression();}
if((/^(0[0-9]|1[0-2])\/([0-2][0-9]|3[0-1])\/[0-3][0-9]{3,3}$/).exec(expr)!=null){var month=parseFloat(expr.substring(0,2));var day=parseFloat(expr.substring(3,2));var year=parseFloat(expr.substring(6,4));return new SUGAR.expressions.DateExpression([month,day,year]);}
if((/^([0-1][0-9]|2[0-4]):[0-5][0-9]:[0-5][0-9]$/).exec(expr)!=null){var hour=parseFloat(expr.substring(0,2));var minute=parseFloat(expr.substring(3,2));var second=parseFloat(expr.substring(6,2));return new SUGAR.expressions.TimeExpression([hour,minute,second]);}
return null;};SEP.prototype.getRelatedFieldsFromFormula=function(expr,actionTarget){var fields=[],relateFunctions=['related','count','rollupSum','rollupMax','rollupMin','rollupAve','rollupAvg','rollupCurrencySum','rollupConditionalSum','countConditional','maxRelatedDate','rollupConditionalMinDate'];var recurseTokens=function(t,actionTarget){if(t.type=="variable"&&t.relate){fields.push({type:"related",link:t.name,relate:t.relate});}else if(t.type=="function"&&relateFunctions.indexOf(t.name)!=-1){switch(t.name){case"related":if(t.args[1].type=="constant")
fields.push({type:"related",link:t.args[0].name,relate:t.args[1].value});break;case'rollupConditionalSum':var field={type:'rollupConditionalSum',link:t.args[0].name,relate:t.args[1].value,condition_field:t.args[2].value};if(t.args[3].type=='function'){var condVals=[];for(var i=0;i<t.args[3].args.length;i++){condVals.push('"'+t.args[3].args[i].value+'"');}
field.condition_expr=t.args[3].name+'('+condVals.join(',')+')';}else{field.condition_expr=t.args[3].value;}
fields.push(field);break;case'rollupConditionalMinDate':var field={type:'rollupConditionalMinDate',link:t.args[0].name,relate:t.args[1].value};var parseConditions=function(conditions){if(conditions.type=='function'){var conditionList=[];for(var i=0;i<conditions.args.length;i++){conditionList.push(conditions.args[i].value);}
return conditionList;}else{return conditions.value;}}
field.conditionFields=parseConditions(t.args[2]);field.conditionValues=parseConditions(t.args[3]);fields.push(field);break;case'countConditional':var field={target:actionTarget,type:'countConditional',link:t.args[0].name,condition_field:t.args[1].value};if(t.args[2].type=='function'){var condVals=[];for(var i=0;i<t.args[2].args.length;i++){condVals.push('"'+t.args[2].args[i].value+'"');}
field.condition_expr=t.args[2].name+'('+condVals.join(',')+')';}else{field.condition_expr=t.args[2].value;}
fields.push(field);break;case"count":fields.push({type:"count",link:t.args[0].name});break;default:if(t.args[1].type=="constant"){fields.push({type:t.name,link:t.args[0].name,relate:t.args[1].value});}}}else if(t.type=="function"){for(var i=0;i<t.args.length;i++){recurseTokens(t.args[i],actionTarget);}}}
try{var t=this.tokenize(expr);recurseTokens(t,actionTarget);}
catch(e){}
return fields;}
var SEC=SUGAR.expressions.ExpressionContext=function(){}
SEC.prototype.getValue=function(varname){return"";}
SEC.prototype.setValue=function(varname,value){return"";}
SEC.prototype.addListener=function(varname,callback,scope){return"";}
SEC.prototype.getRelatedValue=function(linkField,relField){return new SUGAR.RelatedFieldExpression([new SUGAR.expressions.StringLiteralExpression(linkField),new SUGAR.expressions.StringLiteralExpression(relField)]);}
SUGAR.expressions.isNumeric=function(str){if(typeof(str)!='number'&&typeof(str)!='string'){return false;}
str=SUGAR.expressions.unFormatNumber(str);return(isFinite(str)&&!isNaN(parseFloat(str)));};SUGAR.expressions.unFormatNumber=function(num){if(typeof num=='string'){var SE=SUGAR.expressions;var ts=",",ds=".";if(SE.userPrefs){ts=SE.userPrefs.num_grp_sep;ds=SE.userPrefs.dec_sep;};num=SE.replaceAll(num,ts,"");num=SE.replaceAll(num,ds,".");}
return num;};SUGAR.expressions.replaceAll=function(haystack,needle,rpl){if(needle==rpl||haystack==""||needle=="")return haystack;var str=haystack;while(str.indexOf(needle)>-1){str=str.replace(needle,rpl);}
return str;};SUGAR.util.DateUtils={parse:function(date,oldFormat){if(date instanceof Date)
return date;if(oldFormat=="user"){if(SUGAR.expressions.userPrefs&&SUGAR.expressions.userPrefs.datef){oldFormat=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;}else{oldFormat=SUGAR.util.DateUtils.guessFormat(date);}}
if(oldFormat==null||oldFormat==""){oldFormat=SUGAR.util.DateUtils.guessFormat(date);}
if(oldFormat==false){if(/^\d+$/.test(date))
return new Date(date);return false;}
let dateParts={Y:1970,m:0,d:1,H:0,i:0};var part="";var dateRemain=date.trim();oldFormat=oldFormat.trim()+" ";for(var j=0;j<oldFormat.length;j++){var c=oldFormat.charAt(j);if(c==':'||c=='/'||c=='-'||c=='.'||c==" "||c=='a'||c=="A"||c=="T"){var i=dateRemain.indexOf(c);if(i==-1)i=dateRemain.length;var v=dateRemain.substring(0,i);dateRemain=dateRemain.substring(i+1);switch(part){case'm':if(!(v>0&&v<13))return false;dateParts.m=v-1;break;case'd':if(!(v>0&&v<32))return false;dateParts.d=v;break;case'Y':if(!(v>0))return false;dateParts.Y=v;break;case'h':var timeformat=oldFormat.substring(oldFormat.length-4);if(timeformat.toLowerCase()=="i a "||timeformat.toLowerCase()==c+"ia "){if(dateRemain.substring(dateRemain.length-2).toLowerCase()=='pm'){v=v*1;if(v<12){v+=12;}}}
case'H':dateParts.H=v;break;case'i':v=v.substring(0,2);dateParts.i=v;break;}
part="";}else{part=c;}}
return new Date(dateParts.Y,dateParts.m,dateParts.d,dateParts.H,dateParts.i);},guessFormat:function(date){if(typeof date!="string")
return false;var time="";var dateTimeSep;if(date.indexOf(" ")!=-1){dateTimeSep=" ";}else if(date.indexOf("T")!=-1){dateTimeSep="T";}
if(dateTimeSep){time=date.substring(date.indexOf(dateTimeSep)+1,date.length);date=date.substring(0,date.indexOf(dateTimeSep));}
var dateSep="/";if(date.indexOf("/")!=-1){}
else if(date.indexOf("-")!=-1){dateSep="-";}
else if(date.indexOf(".")!=-1){dateSep=".";}
else{return false;}
var dateParts=date.split(dateSep);var dateFormat="";var jsDate=new Date("Jan 1, 1970 00:00:00");if(dateParts[0].length==4){dateFormat="Y"+dateSep+"m"+dateSep+"d";}
else if(dateParts[2].length==4){dateFormat="m"+dateSep+"d"+dateSep+"Y";}
else{return false;}
if(time!=""){var timeFormat="";var timeSep=":";if(time.indexOf(".")==2){timeSep=".";}
if(time.indexOf(" ")!=-1){var timeParts=time.split(" ");if(timeParts[1]=="am"||timeParts[1]=="pm"){return dateFormat+dateTimeSep+"h"+timeSep+"i a";}else if(timeParts[1]=="AM"||timeParts[1]=="PM"){return dateFormat+dateTimeSep+"h"+timeSep+"i A";}}
else{var timeEnd=time.substring(time.length-2,time.length);if(timeEnd=="AM"||timeEnd=="PM"){return dateFormat+dateTimeSep+"h"+timeSep+"iA";}
if(timeEnd=="am"||timeEnd=="pm"){return dateFormat+dateTimeSep+"h"+timeSep+"iA";}
return dateFormat+dateTimeSep+"H"+timeSep+"i";}}
return dateFormat;},formatDate:function(date,useTime,format){if(!format&&SUGAR.expressions.userPrefs.datef&&SUGAR.expressions.userPrefs.timef){if(useTime)
format=SUGAR.expressions.userPrefs.datef+" "+SUGAR.expressions.userPrefs.timef;else
format=SUGAR.expressions.userPrefs.datef;}
var out="";for(var i=0;i<format.length;i++){var c=format.charAt(i);switch(c){case'm':var m=date.getMonth()+1;out+=m<10?"0"+m:m;break;case'd':var d=date.getDate();out+=d<10?"0"+d:d;break;case'Y':out+=date.getFullYear();break;case'H':case'h':var h=date.getHours();if(c=="h")h=h>12?h-12:h;out+=h<10?"0"+h:h;break;case'i':var m=date.getMinutes();out+=m<10?"0"+m:m;break;case'a':if(date.getHours()<12)
out+="am";else
out+="pm";break;case'A':if(date.getHours()<12)
out+="AM";else
out+="PM";break;default:out+=c;}}
return out;},roundTime:function(date){var min=date.getMinutes();if(min<1){min=0;}
else if(min<16){min=15;}
else if(min<31){min=30;}
else if(min<46){min=45;}
else{min=0;date.setHours(date.getHours()+1)}
date.setMinutes(min);return date;},getUserTime:function(){var date=new Date();if(SUGAR.expressions.userPrefs&&typeof(SUGAR.expressions.userPrefs.gmt_offset)!='undefined'){var offset=SUGAR.expressions.userPrefs.gmt_offset;date.setMinutes(date.getMinutes()+(date.getTimezoneOffset()+offset));}
return date;}};})();
/* End of File sidecar/lib/sugarlogic/expressions.js */

(function(){SUGAR.forms=SUGAR.forms||{};SUGAR.forms.animation=SUGAR.forms.animation||{};var SE=SUGAR.expressions;var App=SUGAR.App||App;var SEC=SE.SidecarExpressionContext=function(view,model,collection){this.view=view;if(collection instanceof App.data.beanCollection){this.collection=collection;}else{this.collection=view.collection||view.context.get('collection');}
this.model=model||view.model||view.context.get('model');};App.utils.extendFrom(SEC,SE.ExpressionContext,{dispose:function(){if(!this.view.disposed){var scContext=this.view.context;_.each(this.dependencies,function(dep){scContext.off('list:editrow:fire',null,dep);});}},initialize:function(depsMeta,isCreate){var relatedFields=[];var isCreate=isCreate||false;let scContext=this.view.context;let isCreateSubpanel=scContext.get('isCreateSubpanel');this.dependencies=[];var updateCollection=_.bind(function(models,trigger){_.each(models,function(model){if(trigger.dependency.testOnLoad||model.isNew()||isCreateSubpanel){trigger.context.isOnLoad=true;trigger.context.inCollection=true;SUGAR.forms.Trigger.fire.apply(trigger,[model]);trigger.context.isOnLoad=null;trigger.context.inCollection=null;}},this);},this);_.each(depsMeta,function(dep){var newDep=SUGAR.forms.Dependency.fromMeta(dep,this);if(newDep){relatedFields=_.union(relatedFields,newDep.getRelatedFields());this.dependencies.push(newDep);}},this);this._setupLinks(relatedFields);_.each(this.dependencies,function(newDep){if(scContext.isCreate()||newDep.fireLinkOnlyDependency()||isCreate){SUGAR.forms.Trigger.fire.apply(newDep.trigger);this.view.trigger('sugarlogic:initialize');}
if(newDep.testOnLoad){scContext.on('list:editrow:fire',function(){scContext.isOnLoad=true;SUGAR.forms.Trigger.fire.apply(this.trigger,arguments);scContext.isOnLoad=null;},newDep);}
if(this.collection instanceof SUGAR.App.data.beanCollection){this.collection.on('sync',function(synced,syncData){var models;var ids;if(synced instanceof SUGAR.App.data.beanCollection){ids=_.pluck(syncData,'id');models=synced.filter(function(model){return _.contains(ids,model.id);});_.defer(updateCollection,models,newDep.trigger);}else{updateCollection([synced],newDep.trigger);}},this);this.collection.on('add',function(model){updateCollection([model],newDep.trigger)},this);updateCollection(this.collection.models,newDep.trigger);}},this);this._requestRollups(relatedFields);this.view.on('render',function(){_.each(this.dependencies,function(dep){if(scContext.isCreate()||dep.fireLinkOnlyDependency()){SUGAR.forms.Trigger.fire.apply(dep.trigger);this.view.trigger('sugarlogic:initialize');}},this);},this);},getValue:function(varname){var value=this.model.get(varname),def=this.model.fields[varname],result;if(!def){SUGAR.App.logger.warn('Attempted to get a value for field '+varname
+' which is not a field in '+this.model.module);}
if(def&&def.type=='link'){value=varname;}
if(typeof(value)=="string"){value=value.replace(/\n/g,"");if((/^(\s*)$/).exec(value)!=null||value===""){result=SEC.parser.toConstant('""');}
else if((def.type!=='currency'&&def.type!=='enum')&&SE.isNumeric(value)){result=SEC.parser.toConstant(SE.unFormatNumber(value));}else if(def.type=="date"||def.type=="datetime"){value=App.date.stripIsoTimeDelimterAndTZ(value);value=App.date.parse(value);value.type=def.type;result=this.getDateExpression(value);}
else{result=SEC.parser.toConstant('"'+value+'"');}}else if(Array.isArray(value)){result=this.getEnumExpression(value);}else if(_.isObject(value)&&def.type==='json'){result=SEC.parser.toConstant(`"${JSON.stringify(value)}"`);}else if(typeof(value)=="object"&&value!=null&&value.getTime){result=this.getDateExpression(value);}else if(typeof(value)=="number"){result=SEC.parser.toConstant(""+value);}else if(_.isBoolean(value)){result=value?new SUGAR.expressions.TrueExpression():new SUGAR.expressions.FalseExpression();}else{result=SEC.parser.toConstant('""');}
return result;},setValue:function(varname,value){if(typeof(this.model.fields[varname])!='object'){return;}
var targetDef=this.model.fields[varname];this.lockedFields=this.lockedFields||[];if(typeof(value)=='object'&&value.length>0&&targetDef.type!='multienum'){value=value.join(', ');}else if(value&&targetDef.type==='date'){value=App.date(value).formatServer(true);}else if(value&&targetDef.type==='datetimecombo'){value=App.date(value).format();}
if(targetDef.type=='bool'&&_.isString(value)){value=SUGAR.expressions.Expression.isTruthy(value);}
if(value&&(targetDef.type==='decimal'||targetDef.type==='float')){value=App.utils.formatNumber(value,targetDef.round||6,targetDef.precision||6,null,null);}
if(_.isString(value)&&targetDef.len&&value.length>targetDef.len){var self=this;value=value.substring(0,targetDef.len);this.model.once('change:'+varname,function(){var msg=SUGAR.App.lang.getAppString('LBL_FIELD_TRIMMED');SUGAR.forms.markField(varname,self.getElement(varname),msg);});}else if(SUGAR.forms.markedField[varname]){SUGAR.forms.unmarkField(varname,this.getElement(varname));}
if(!this.lockedFields[varname]){this.lockedFields[varname]=true;var el=this.getElement(varname);if(el){SUGAR.forms.FlashField($(el).parents('[data-fieldname="'+varname+'"]'),null,varname);}
var ret=this.model.set(varname,value);this.lockedFields=[];return ret;}},addListener:function(varname,callback,scope){if(this.collection){this.collection.off("change:"+varname,callback,scope);this.collection.on("change:"+varname,callback,scope);}
if(this.model){this.model.off("change:"+varname,callback,scope);this.model.on("change:"+varname,callback,scope);}},getElement:function(varname){var field=this.getField(varname);if(field&&field.el)
return field.el;},getField:function(varname){return this.view.getField(varname,this.model);},addClass:function(varname,css_class,includeLabel){var def=this.view.getFieldMeta(varname,true),props=includeLabel?["css_class","cell_css"]:["css_class"],el=this.getElement(varname),parent=$(el).closest('div.record-cell');_.each(props,function(prop){if(!def[prop]){def[prop]=css_class;}else if(def[prop].indexOf(css_class)==-1){def[prop]+=" "+css_class;}});this.view.setFieldMeta(varname,def);$(el).addClass(css_class);if(!def._isChild&&includeLabel&&parent){parent.addClass(css_class);}},removeClass:function(varname,css_class,includeLabel){var def=this.view.getFieldMeta(varname,true),field=this.view.getField(varname),props=includeLabel?["css_class","cell_css"]:["css_class"],el=this.getElement(varname),parent=$(el).closest('div.record-cell');_.each([field.def,def],function(d){_.each(props,function(prop){if(d[prop]&&d[prop].indexOf(css_class)!=-1){var defProp=(" "+d[prop]+" ").replace(new RegExp(' '+css_class+' '),"");d[prop]=defProp.trim();}});});this.view.setFieldMeta(varname,def);$(el).removeClass(css_class);if(!def._isChild&&includeLabel&&parent){parent.removeClass(css_class);parent.find("."+css_class).removeClass(css_class);}},getLink:function(variable){var model=this.model;if(model&&model.fields&&model.fields[variable])
return model.fields[variable];},showError:function(variable,error){},clearError:function(variable){},setStyle:function(variable,styles){},setRelatedFields:function(fields,silent,model){silent=!!silent;model=model||this.model;for(var link in fields){var linkVar=this._linkValueVarname(link),currValue=model.get(linkVar),forceChangeEvent=!!currValue,value=currValue||{};_.each(fields[link],function(values,type){if(_.isObject(values)){values=_.mapObject(values,function(val){return _.isArray(val)?_.object(val):val;});value[type]=_.extend(value[type]||{},values);}else{value[type]=values;}});var toSet={};toSet[linkVar]=value;model.set(toSet,{silent:silent});if(!silent&&forceChangeEvent){model.trigger("change:"+link,model);}}},getRelatedFieldValues:function(fields,module,record,silent){var self=this,api=App.api,model=record instanceof App.data.beanModel?record:this.model;if(fields.length>0){module=module||model.module||this.view.context.get('module');record=_.isString(record)?record:model.get("id");for(var i=0;i<fields.length;i++){var link=fields[i].link,toSet={};if(fields[i].type=="related"){var linkDef=model.fields[link];if(linkDef&&linkDef.id_name&&linkDef.module){var relId=model.get(linkDef.id_name);if(relId){fields[i].relId=relId
fields[i].relModule=linkDef.module;}}}
if(fields[i].relate){toSet[link]={};toSet[link][fields[i].type]={};toSet[link][fields[i].type][fields[i].relate]="";self.setRelatedFields(toSet,true,model);}}
var data={id:record,action:"related"};var params={module:module,fields:self._getUniqueFieldsList(fields)};api.call('create',api.buildURL('ExpressionEngine','related',data),_.extend(data,params),{success:function(resp){self.setRelatedFields(resp,silent,model);return resp;}});}
return null;},_getUniqueFieldsList:function(fieldsList){var newFieldsList=[];for(var i=0;i<fieldsList.length;i++){var fieldAlreadyExists=_.find(newFieldsList,function(field){return _.isEqual(field,fieldsList[i]);});if(!fieldAlreadyExists){newFieldsList.push(fieldsList[i]);}}
return newFieldsList;},updateRelatedFieldValue:function(link,ftype,field,value,isNew){var linkValues=this.model.get(this._linkValueVarname(link))||{},isNew=isNew||false,newValues={};if(!_.isUndefined(linkValues[ftype])||isNew){if(!field){linkValues[ftype]=value;}else if(!isNew&&!_.isUndefined(linkValues[ftype][field])){linkValues[ftype][field]=value;}else if(isNew){if(_.isUndefined(linkValues[ftype])){linkValues[ftype]={};}
linkValues[ftype][field]=value;}}
newValues[link]=linkValues;this.setRelatedFields(newValues,true);},_linkValueVarname:function(link){return'_'+link+'-rel_exp_values';},getRelatedCollectionValues:function(model,link,ftype,field){model=model||this.model;var linkValues=model.get(this._linkValueVarname(link))||{};var fieldVal=field+'_values';if(ftype){if(linkValues[ftype]&&linkValues[ftype][fieldVal]){return linkValues[ftype][fieldVal];}
return[];}
return linkValues;},updateRelatedCollectionValues:function(model,link,ftype,field,relModel,operation){model=model||this.model;var link=this._linkValueVarname(link);var linkValues=model.get(link)||{};var fTypes=[ftype];var fields=[field];if(!ftype){fTypes=_.keys(linkValues);}
_.each(fTypes,function(fType){if(fType=='related'){return;}
if(!field){fields=_.filter(_.keys(linkValues[fType]),function(field){return field.substr(-7)!='_values';});}
_.each(fields,function(field){var fieldVal=field+'_values';var isCurrency=relModel.fields[field]&&relModel.fields[field].type==='currency';var current=linkValues[fType]&&linkValues[fType][fieldVal]||{};if(!_.isEmpty(current)&&operation=='remove'){if(relModel.id in current){delete current[relModel.id];}
if(relModel.cid in current){delete current[relModel.cid];}}
if(!operation||operation=='add'){if(current[relModel.cid]&&relModel.id){delete current[relModel.cid];}
var id=relModel.id?relModel.id:relModel.cid;var value=relModel.get(field);if(isCurrency&&relModel.has(field)&&relModel.has('currency_id')&&!_.isUndefined(value)){value=App.currency.convertToBase(value,relModel.get('currency_id'));}
if(!_.isUndefined(value)){current[id]=value;}}
linkValues[fType]=linkValues[fType]||{};linkValues[fType][fieldVal]=current;},this);},this);model.set(link,linkValues);},getRelatedField:function(link,ftype,field){if(field&&ftype==='related'){if(this.model.link&&this.model.link.bean){let bean=this.model.link.bean;let module=bean.get('_module');if(module&&module.toLowerCase()===link){return bean.get(field);}}
let values=this.model.get(link)||{};if(values&&!_.isEmpty(values[field])){return values[field];}}
var linkVar=this._linkValueVarname(link);var linkValues=this.model.get(linkVar)||{};if(ftype=="related"&&!this.inCollection){return this._handleRelateExpression(link,field);}
if(typeof(linkValues[ftype])!="undefined"){if(!field){return linkValues[ftype];}else if(typeof(linkValues[ftype][field])!="undefined"){return linkValues[ftype][field];}}
if(this.inCollection){linkValues[ftype]=linkValues[ftype]||{};linkValues[ftype][field]=linkValues[ftype][field]||"";this.model.set(linkVar,linkValues,{silent:true});return"";}
if(this.model.isNew()){return"";}
var params={link:link,type:ftype};if(field){params.relate=field;}
this.getRelatedFieldValues([params]);linkValues=this.model.get(linkVar)||{};if(!_.isUndefined(linkValues[ftype])){if(!field){return linkValues[ftype];}else if(!_.isUndefined(linkValues[ftype][field])){return linkValues[ftype][field];}}
return'';},_handleRelateExpression:function(link,field){this.view.context.set("model",this.model);var isSubpanel=this.view.context.get('isSubpanel')===true;if(isSubpanel){var relContext=this.view.context.parent;}else{var relContext=this.view.context.getChildContext({link:link});}
relContext.prepare();var col=relContext.get("collection"),fields=relContext.get('fields')||[],self=this,rField=_.find(this.model.fields,function(def){return(def.type&&def.type=="relate"&&def.id_name&&def.link&&def.link==link)})||{},relModel=relContext.get("model");if(relContext.isDataFetched()&&!relContext.get("modelId")){relModel=col.length>0?col.models[0]:null;}
var idName=this.model.get(rField.id_name);var differentModel=relModel&&relModel.get('id')!==idName;var relationID;if(!_.isEmpty(rField)&&(!idName||differentModel)&&!isSubpanel){relContext.set({model:null});relContext.resetLoadFlag();if(!idName){return"";}}
if(_.isUndefined(this.view._loadedRelatedFields)){this.view._loadedRelatedFields={};}
if(idName){relationID=idName;}else{var relationship=this.model.fields[link].relationship;relationID=relationship?relationship:'';}
var cachedKey=link+'_'+field+'_'+relationID;if(field&&(!relContext.isDataFetched()||(relModel&&_.isUndefined(relModel.get(field))&&!relModel.getFetchRequest()))&&!this.view._loadedRelatedFields.hasOwnProperty(cachedKey)){_.each(fields,_.bind(function(iterField){var fieldCacheKey=link+'_'+iterField+'_'+relationID;this.view._loadedRelatedFields[fieldCacheKey]=fieldCacheKey;},this));if(!_.contains(fields,field)){fields.push(field);}
this._loadRelatedData(link,fields,relContext,rField);if(rField.id_name){this.addListener(rField.id_name,function(){this.view._loadedRelatedFields={};},this);}}
else if(relModel){var value=relModel.get(field);if(value){var def=relModel.fields[field];if(def.type=="date"||def.type=="datetime"){value=App.date.stripIsoTimeDelimterAndTZ(value);value=App.date.parse(value);value.type=def.type;}}
return value;}else if(!col.page){var model=this.model;SUGAR.App.utils.doWhen(function(){return col.page>0},function(){model.trigger("change:"+link,model);});}
return"";},getDateExpression:function(date){var d=new SE.DateExpression("");d.evaluate=function(){return this.value};d.value=date;return d;},getEnumExpression:function(array){var e=new SE.EnumExpression("");e.evaluate=function(){return this.value};e.value=array;return e;},_loadRelatedData:function(link,fields,relContext,rField){var self=this;if(!_.isEmpty(rField)&&this.model.get(rField.id_name)){var modelId=this.model.get(rField.id_name),model=relContext.get("model")||SUGAR.App.data.createRelatedBean(this.model,this.model.get(rField.id_name),link);relContext.set({modelId:modelId,model:model});}else{if(_.isEmpty(this.model.get("id")))
return"";}
relContext.prepare();relContext.set({'fields':_.union(relContext.get("fields")||[],fields),skipFetch:false});if(relContext.isDataFetched()){relContext.resetLoadFlag();}
var model=this.model;relContext.loadData({relate:_.isEmpty(rField),success:function(){model.trigger("change:"+link,model);}});},_setupLinks:function(relatedFields){_.each(relatedFields,function(field){if(field.link&&field.relate&&(field.type==="related"||field.type==="rollupSum")){var relContext=this.view.context.getChildContext({link:field.link});if(relContext){relContext.set("fields",_.union(relContext.get("fields")||[],[field.relate]));}}},this);},_requestRollups:function(relatedFields,model){model=model||this.model;if(!model.isNew()){this.getRelatedFieldValues(relatedFields,model.module,model,true);}},fireOnLoad:function(dep){},getAppListStrings:function(list){return SUGAR.App.lang.getAppListStrings(list);},parseDate:function(date,type){return SUGAR.App.date.parse(date);},setFieldDisabled:function(target,disabled){disabled=(_.isUndefined(disabled))?true:disabled;var field=this.getField(target);if(field){field.setDisabled(disabled,{trigger:true});if(_.isEqual(disabled,false)&&!_.isEqual(field.currentState,'edit')&&_.isEqual(this.view.currentState,'edit')&&!_.isEqual(this.view.inlineEditMode,true)){field.setMode('edit');this.view.editableFields.push(field);}
if(_.isFunction(this.view.setEditableFields)){this.view.setEditableFields();}}},setFieldRequired:function(target,required){required=SUGAR.expressions.Expression.isTruthy(required);var field=this.view.getField(target,this.model);if(field){field.def.required=required;field.render();}},setAssignedUserName:function(target,username){if(this.model.has('assigned_user_name')&&this.model.has('assigned_user_id')){var self=this,options={},usersCollection=SUGAR.App.data.createBeanCollection('Users');options.filter={filter:[{user_name:username}]}
options.success=function(collection){var userModel=collection.first();if(userModel){self.model.set({'assigned_user_name':userModel.get('full_name'),'assigned_user_id':userModel.get('id')});var field=self.view.getField(target,self.model);if(field&&field.el){SUGAR.forms.FlashField(field.el,null,target);}}}
options.error=function(){SUGAR.App.alert.show('server-error',{level:'error',title:SUGAR.App.lang.get('ERR_GENERIC_TITLE'),messages:SUGAR.App.lang.get('ERR_ASSIGNTO_ACTION')});}
usersCollection.fetch({fields:['full_name'],limit:1,params:options.filter,success:options.success,error:options.error});}},setModel:function(model){this.model=model;},setRelatedModel:function(model){this.relatedModel=model;},add:function(start,add){return SUGAR.App.math.add(start,add,6,true);},subtract:function(start,subtract){return SUGAR.App.math.sub(start,subtract,6,true);},multiply:function(start,multiply){return SUGAR.App.math.mul(start,multiply,6,true);},divide:function(start,divide){return SUGAR.App.math.div(start,divide,6,true);},round:function(start,precision){return SUGAR.App.math.round(start,precision,true);},getNestedCollectionFromModel:function(linkName,model){var nestedCollection;model=model||this.model;var collectionFields=_.pluck(model.fieldsOfType('collection'),'name');if(!_.isEmpty(collectionFields)){var collectionField=_.chain(collectionFields).filter(function(f){return _.contains(model.fields[f].links,linkName);},this).value();if(_.size(collectionField)===1){var cf=_.first(collectionField);if(model.has(cf)){nestedCollection=model.get(cf);if(!(nestedCollection instanceof SUGAR.App.data.beanCollection)){nestedCollection=undefined;}}else{nestedCollection=cf;}}}
return nestedCollection;},getLinkContext:function(view,linkName){var LinkContext=view.context.getChildContext({link:linkName});LinkContext.prepare();return LinkContext;}});SEC.parser=new SUGAR.expressions.ExpressionParser();SEC.evalVariableExpression=function(expression,view){return SEC.parser.evaluate(expression,new SEC(view));}
SUGAR.forms.Dependency=function(trigger,actions,falseActions,testOnLoad,context){this.actions=actions;this.falseActions=falseActions;this.context=context;this.testOnLoad=testOnLoad;this.trigger=trigger;trigger.setContext(this.context);trigger.setDependency(this);if(testOnLoad){context.fireOnLoad(this);}}
SUGAR.forms.Dependency.fromMeta=function(meta,context){var condition=meta.trigger||'true',triggerFields=meta.triggerFields||SE.ExpressionParser.prototype.getFieldsFromExpression(condition),relatedFields=meta.relatedFields||[],actions=meta.actions||[],falseActions=meta.notActions||[],onLoad=meta.onload||false,isNew=context.model&&_.isEmpty(context.model.get('id')),actionObjects=[],falseActionObjects=[];if(_.isEmpty(triggerFields)&&!onLoad&&!isNew)
return null;if(_.isEmpty(actions)&&_.isEmpty(falseActions))
return null;_.each(actions,function(actionDef){if(!actionDef.action||!SUGAR.forms[actionDef.action+'Action'])
return;var addAction=true;if(actionDef.action==='SetValue'&&actionDef.params.target){addAction=SUGAR.App.acl.hasAccess('edit',this.model.module,undefined,actionDef.params.target);}
if(addAction){actionObjects.push(new SUGAR.forms[actionDef.action+'Action'](actionDef.params));}},context);_.each(falseActions,function(actionDef){if(!actionDef.action||!SUGAR.forms[actionDef.action+'Action'])
return;var addAction=true;if(actionDef.action==='SetValue'&&actionDef.params.target){addAction=SUGAR.App.acl.hasAccess('edit',this.model.module,undefined,actionDef.params.target);}
if(addAction){falseActionObjects.push(new SUGAR.forms[actionDef.action+'Action'](actionDef.params));}},context);return new SUGAR.forms.Dependency(new SUGAR.forms.Trigger(triggerFields,condition,context,relatedFields),actionObjects,falseActionObjects,onLoad,context);};SUGAR.forms.Dependency.prototype.fireLinkOnlyDependency=function(){if(!this.testOnLoad){return false;}
var fire=true;if(this.context.model.fields){_.each(this.trigger.variables,function(field){fire=(fire&&this.context.model.fields[field]&&this.context.model.fields[field].type=="link");},this);}
return fire;}
SUGAR.forms.Dependency.prototype.fire=function(undo){if(this.context.view.disposed||!this.context.view.context){return;}
try{var model=this.context.model;this.lastTriggeredActions=this.lastTriggeredActions||[];if(model.inSync&&!this.testOnLoad){return;}
var actions=this.actions;if(undo&&this.falseActions!=null)
actions=this.falseActions;_.each(this.lastTriggeredActions,function(action){this.context.view.off(null,null,action);},this);if(actions instanceof SUGAR.forms.AbstractAction)
actions=[actions];for(var i in actions){var action=actions[i];if(typeof action.exec=="function"){action.setContext(this.context);action.exec();if(this.testOnLoad&&action.afterRender){if(this.context.view.action==='list'){this.context.view.on('render',function(){var prevModel=action.context.model;action.context.setModel(model);action.exec();action.context.setModel(prevModel);},action);}}}}
this.lastTriggeredActions=actions;}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log('ERROR: '+e);}
return;}};SUGAR.forms.Dependency.prototype.getRelatedFields=function(){var parser=SEC.parser,fields=parser.getRelatedFieldsFromFormula(this.trigger.condition);var parse=function(actions){if(actions instanceof SUGAR.forms.AbstractAction){actions=[actions];}
for(var i in actions){var action=actions[i],actionTarget=action.target||undefined;if(typeof action.exec=="function"){for(var p in action){if(typeof action[p]=="string"&&action[p].indexOf('$')>-1){fields=$.merge(fields,parser.getRelatedFieldsFromFormula(action[p],actionTarget));}}}}}
parse(this.actions);parse(this.falseActions);return fields;}
SUGAR.forms.AbstractAction=function(target){this.target=target;};SUGAR.forms.AbstractAction.prototype.exec=function(){}
SUGAR.forms.AbstractAction.prototype.setContext=function(context){this.context=context;}
SUGAR.forms.AbstractAction.prototype.evalExpression=function(exp,context){context=context||this.context;return SEC.parser.evaluate(exp,context).evaluate();}
SUGAR.forms.AbstractAction.prototype.canSetValue=function(context){if(context.options&&context.options.revert){return false;}
let isCreateSubpanel=context.view&&context.view.context&&context.view.context.get('isCreateSubpanel');if(context.isOnLoad&&!context.model.isNew()&&!isCreateSubpanel){return false;}
return true;};SUGAR.forms.Trigger=function(variables,condition,context,relatedFields){this.variables=variables;this.condition=condition;this.context=context;this.relatedFields=relatedFields||[];this.dependency={};};SUGAR.forms.Trigger.prototype._findRelatedCollection=function(link_name,model){model=model||this.context.model;var varContextCollection=this.context.getNestedCollectionFromModel(link_name,model);if(_.isUndefined(varContextCollection)){var varContext=this.context.getLinkContext(this.context.view,link_name);if(varContext&&varContext.has('collection')){varContextCollection=varContext.get('collection');}}
return varContextCollection;};SUGAR.forms.Trigger.prototype._attachListeners=function(){if(!(this.variables instanceof Array)){this.variables=[this.variables];}
for(var i=0;i<this.variables.length;i++){this.context.addListener(this.variables[i],SUGAR.forms.Trigger.fire,this,true);}
var models=[this.context.model];if(this.context.useCollection){models=this.context.collection.models;this.context.collection.off('add',null,this);this.context.collection.off('remove',null,this);this.context.collection.on('add',function(model,collection,options){this._attachCollectionListeners(model);},this);this.context.collection.on('remove',function(model,collection,options){_.each(model._relatedCollections,function(collection){collection.off(null,null,this);})
model.off(null,null,this);},this);}
_.each(models,function(model){this._attachCollectionListeners(model);},this);};SUGAR.forms.Trigger.prototype._attachCollectionListeners=function(model,triggerLink,relModel){var relFields=this.relatedFields,linkFields=[],changingField,isRemoveEvent=false;triggerLink=triggerLink||false;_.each(this.dependency.getRelatedFields(),function(field){linkFields[field.link]=_.union(linkFields[field.link]||[],[field.relate],[field.condition_field]||[]);});var colChangeCallback=_.bind(function(relModel,value,event){if(value!==null&&!_.isUndefined(value)){_.find(relModel.changed,function(v,k){if(_.contains(relFields,k)&&v===value){changingField=k;return true;}});}else if(event&&event.type=='remove'){this.context.isRemoveEvent=true;}
if(event&&event.link){this.context.updateRelatedCollectionValues(model,event.link,null,null,relModel,event.type);}
var prevModel=this.context.model;this.context.model=model;this.context.changingField=changingField;SUGAR.forms.Trigger.fire.call(this,relModel,null,{fromRelated:true,changingField:changingField,isRemoveEvent:isRemoveEvent});this.context.model=prevModel;delete this.context.isRemoveEvent
delete this.context.changingField;},this);for(var i=0;i<this.variables.length;i++){var link=this.variables[i];var linkRelatedFields=linkFields[link]||[];var varContextCollection=this._findRelatedCollection(link,model);if(varContextCollection instanceof Backbone.Collection){varContextCollection.off('add',null,this);varContextCollection.on('add',function(relModel){colChangeCallback(relModel,null,{type:'add',link:link});},this);varContextCollection.off('remove',null,this);varContextCollection.on('remove',function(relModel){colChangeCallback(relModel,null,{type:'remove',link:link});},this);if(!_.isEmpty(linkRelatedFields)){var events='change:'+_.unique(linkRelatedFields).join(' change:');varContextCollection.off(events,null,this);varContextCollection.on(events,colChangeCallback,this);}}else if(_.isString(varContextCollection)){model.once('change:'+varContextCollection,function(parentModel,changedRelatedModel){this._attachListeners();if(_.isObject(changedRelatedModel)&&_.intersection(_.keys(changedRelatedModel.changed),relFields).length>0){SUGAR.forms.Trigger.fire.call(this,model);}},this);return varContextCollection;}}
if(triggerLink&&_.contains(this.variables,triggerLink)){colChangeCallback(relModel,null,'add');}};SUGAR.forms.Trigger.prototype.setDependency=function(dep){this.dependency=dep;this._attachListeners();}
SUGAR.forms.Trigger.prototype.setContext=function(context){this.context=context;}
SUGAR.forms.Trigger.fire=function(model,value,options){options=options||{};var evaluation,val,prevModel,prevRelatedModel;if(model){var fromRelated=options.fromRelated||false;if(!fromRelated&&model){prevModel=this.context.model;this.context.setModel(model);}else if(fromRelated){prevRelatedModel=this.context.relatedModel;this.context.setRelatedModel(model);}}
this.context.options=options;try{evaluation=SEC.parser.evaluate(this.condition,this.context);}catch(e){if(!SUGAR.isIE&&console&&console.log){console.log('ERROR:'+e+'; in Condition: '+this.condition);}}
if(!_.isUndefined(evaluation)){val=evaluation.evaluate();}
if(val==SUGAR.expressions.Expression.TRUE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(false);}}else if(val==SUGAR.expressions.Expression.FALSE){if(this.dependency instanceof SUGAR.forms.Dependency){this.dependency.fire(true);}}
if(!fromRelated&&model){this.context.setModel(prevModel);}
if(fromRelated){this.context.setRelatedModel(prevModel);}};SUGAR.forms.flashInProgress={};SUGAR.forms.markedField={};SUGAR.forms.exclamationMarkTemplate=Handlebars.compile('<span class="warning-tooltip add-on" data-container="body" rel="tooltip" title="{{this}}"><i class="fa fa-warning"></i></span>');SUGAR.forms.FlashField=function(field,to_color,key){if(typeof(field)=='undefined'||(!key&&!field.id))
return;key=key||field.id;if(SUGAR.forms.flashInProgress[key])
return;SUGAR.forms.flashInProgress[key]=true;let $field=$(field);if(!$field.length){return;}
to_color=to_color||'#FF8F8F';let original=window.getComputedStyle($field[0],null).getPropertyValue('background-color');$field.css('backgroundColor',original);$field.animate({backgroundColor:to_color},200,function(){$field.animate({backgroundColor:original},200,function(){delete SUGAR.forms.flashInProgress[key];});});};SUGAR.forms.markField=function(key,el,text){if(SUGAR.forms.markedField[key])
return;if(!el)
return;var field=$(el).parents('[data-fieldname="'+key+'"]');var $ftag=$(el).children();field.addClass('warning');var $tooltip=$(SUGAR.forms.exclamationMarkTemplate(text));var isWrapped=$ftag.parent().hasClass('input-append');if(!isWrapped){$ftag.wrap('<div class="input-append warning">');}
$ftag.parent().addClass('warning');$ftag.after($tooltip);SUGAR.forms.markedField[key]=$tooltip;};SUGAR.forms.unmarkField=function(key,el){if(!SUGAR.forms.markedField[key])
return;if(!el)
return;var field=$(el).parents('[data-fieldname="'+key+'"]');field.removeClass('warning');SUGAR.forms.markedField[key].remove();SUGAR.forms.markedField[key]=null;};SE.plugin={onAttach:function(){this.on('init',function(){this.startSugarLogic();},this);},startSugarLogic:function(){this._slCtx=this.initSugarLogic();Object.defineProperty(this,'slContext',{get:function(){SUGAR.App.logger.warn('`View.slContext` has been deprecated since 7.9.');return this._slCtx;},configurable:true,enumerable:true,});this.context.addFields(this._getDepFields());},initSugarLogic:function(model,dependencies,isCreate){model=model||this.model;this._dependencies=dependencies||this.getApplicableDeps();isCreate=isCreate||false;var slContext=new SUGAR.expressions.SidecarExpressionContext(this,model,this.collection);if(_.isEmpty(this._dependencies)){return slContext;}
slContext.initialize(this._dependencies,isCreate);return slContext;},_getDepFields:function(){var fields;var getFields=SE.ExpressionParser.prototype.getFieldsFromExpression;var deps=this.getApplicableDeps();_.each(deps,function(dep){if(dep.trigger){fields=_.union(fields,getFields(dep.trigger));}
_.each(dep.actions,function(action){_.each(action.params,function(param){if(_.isString(param)){fields=_.union(fields,getFields(param));}});});});if(this.model){fields=_.filter(fields,function(field){return this.model.fields&&this.model.fields[field]&&this.model.fields[field].type!=='link';},this);}
return fields;},getApplicableDeps:function(){var meta=_.extend({},this.meta,this.options.meta),modDeps=SUGAR.App.metadata.getModule(this.context.get("module"),"dependencies"),action=(_.contains(this.plugins,'Editable')||this.name=='edit'||this.name=='create')?"edit":"view",deps=meta.dependencies;if(!_.isEmpty(modDeps)){var filteredModDeps=_.filter(modDeps,function(dep){if(_.contains(dep.hooks,"all")||_.contains(dep.hooks,action)){return true;}
return false;});deps=(!_.isEmpty(deps))?_.union(deps,filteredModDeps):filteredModDeps;}
return deps;},stopSugarLogic:function(){this.off(null,null,this._slCtx);this.model&&this.model.off(null,null,this._slCtx);this.collection&&this.collection.off(null,null,this._slCtx);_.each(this._slCtx.dependencies,function(dep){this.context.off('list:editrow:fire',null,dep);_.each(dep.actions,function(action){this.off(null,null,action);},this);},this);},onDetach:function(){this.stopSugarLogic();},};if(SUGAR.App&&SUGAR.App.plugins){SUGAR.App.plugins.register('SugarLogic','view',SE.plugin);}else if(console.error){console.error("unable to find the plugin manager");}})();
/* End of File sidecar/lib/sugarlogic/sidecarExpressionContext.js */

(function register(app){app.events.on('app:init',function init(){function AssignRecord(def){this.def=def;}
AssignRecord.prototype.fetchAndApplyChanges=function(model,updatedFields){let changes=model.changedAttributes(model.getSynced());changes=!_.isEmpty(changes)?_.pick(model.changedAttributes(),_.keys(changes)):{};changes=_.omit(changes,_.keys(updatedFields));changes=_.omit(changes,['date_modified']);model.fetch({complete:function reapplyChanges(){model.set(changes);}});},AssignRecord.prototype.run=function(opts,currentExecution){let actionDef=this.def;const assignToCurrentUser=actionDef.properties.assignToCurrentUser;let newUserId=assignToCurrentUser?app.user.get('id'):actionDef.properties.id;let useUserName=assignToCurrentUser?app.user.get('full_name'):actionDef.properties.name;let recordModel=opts.recordModel;if(!this.hasEditAccess(opts.recordModel)){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();return;};let updatedFields={assigned_user_id:newUserId||'',assigned_user_name:useUserName||''};let patchModel=app.data.createBean(recordModel.module,_.assign({id:recordModel.get('id'),},updatedFields));patchModel.save({},{showAlerts:true,success:_.bind(function successSave(){this.fetchAndApplyChanges(recordModel,updatedFields);currentExecution.nextAction();},this),error:_.bind(function errorSave(){this.fetchAndApplyChanges(recordModel,updatedFields);currentExecution.nextAction();},this)});};AssignRecord.prototype.hasEditAccess=function(model){let hasAccess=app.acl.hasAccessToModel('edit',model)&&app.acl.hasAccessToModel('edit',model,'assigned_user_id')&&app.acl.hasAccessToModel('edit',model,'assigned_user_name');return hasAccess;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{AssignRecord:AssignRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/AssignRecordAction.js */

(function register(app){app.events.on('app:init',function init(){function ComposeEmail(def){this.def=def;}
ComposeEmail.prototype.run=function(opts,currentExecution){const recordModel=opts.recordModel;const def=this.def;const properties=def.properties;const pmseTemplatePath='actionButton/evaluateBPMEmailTemplate';const emailTemplatePath='actionButton/evaluateEmailTemplate';const templateId=properties.id;const usePmseTemplate=app.utils.isTruthy(properties.pmse);const templatePath=usePmseTemplate?pmseTemplatePath:emailTemplatePath;const requestType='create';const callbacks={success:_.bind(function loadEmailDrawer(emailData){if(this.getEmailClientType()==='sugar'){this.composeEmailBySugarClient(recordModel,templateId,emailData,currentExecution);}else{this.composeEmailByExternalClient(recordModel,emailData,currentExecution);}},this)};const requestMeta=this.createRequestParamForSugarClient(recordModel,properties);const apiUrl=app.api.buildURL(templatePath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,callbacks);};ComposeEmail.prototype.getEmailClientType=function(){const emailType=app.user.get('preferences').email_client_preference.type;return emailType;};ComposeEmail.prototype.composeEmailByExternalClient=function(recordModel,emailData,currentExecution){var emailBody=emailData.body.replace(/\n/g,'\r\n').replace(/<p>/g,'\r\n').replace(/(<([^>]+)>)/ig,'');var emailToAddresses='';if(emailData.emailTo){emailToAddresses=_.chain(emailData.emailTo).pluck('email_address').value().join(';');}
if(emailToAddresses===''){emailToAddresses=_.chain(recordModel.get('email')).pluck('email_address').value().join(';');}
currentExecution.nextAction();this.mailto('mailto:'+emailToAddresses+'?subject='+encodeURIComponent(emailData.subject)+'&body='+encodeURIComponent(emailBody));};ComposeEmail.prototype.mailto=function(location){window.location.href=location;};ComposeEmail.prototype.composeEmailBySugarClient=function(recordModel,templateId,emailData,currentExecution){let emailModel=this.createEmailForSugarClient(recordModel,templateId,emailData);app.drawer.open({layout:'compose-email',context:{create:true,module:'Emails',model:emailModel}});currentExecution.nextAction();};ComposeEmail.prototype.createEmailForSugarClient=function(recordModel,templateId,emailData){let emailModel=app.data.createBean('Emails');emailModel.set({related:recordModel,parent:recordModel,parent_id:recordModel.get('id'),parent_type:recordModel.module,parent_name:recordModel.get('name'),mustLinkRecord:true,emailTemplateId:templateId,name:emailData.subject,description:emailData.description,description_html:emailData.body});if(emailData.emailTo!==false&&!_.isEmpty(emailData.emailTo)){const toCollection=this.createEmailToCollection(emailModel,emailData);emailModel.set('to_collection',toCollection);}
return emailModel;};ComposeEmail.prototype.createEmailToCollection=function(emailModel,emailData){const emailAddresses=emailData.emailTo;let emailToCollection=app.data.createMixedBeanCollection();let linkedCollection=app.data.createBeanCollection();linkedCollection._create=[];_.each(emailAddresses,function getEmail(emailMeta){const emailParticipantMeta={_link:'to',email_address:emailMeta.email_address,email_address_id:emailMeta.email_address_id,invalid_email:false,deleted:false};let emailParticipant=app.data.createBean('EmailParticipants',emailParticipantMeta);emailToCollection.add(emailParticipant);linkedCollection._create.push(emailParticipant);});linkedCollection.link={name:'to',bean:emailModel};emailToCollection._linkedCollections={'to':linkedCollection};return emailToCollection;};ComposeEmail.prototype.createRequestParamForSugarClient=function(recordModel,properties){let requestParam={emailToData:{formulaElement:properties.emailToFormula,validFormula:true,validationMessage:''},emailToField:true,targetRecordId:recordModel.get('id'),targetTemplateId:properties.id,targetRecordModule:recordModel.module};return requestParam;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{ComposeEmail:ComposeEmail});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/ComposeEmailAction.js */

(function register(app){app.events.on('app:init',function init(){function CreateRecord(def){this.def=def;this.deniedFields=['id','_acl','_hash','_module','user_sync','created_by','modified_by_name','modified_user_id','modified_user_link','created_by_link','created_by_name','date_entered','date_modified','locked_fields','_erased_fields','acl_team_names','acl_team_set_id','created_by_link','sync_key','team_count_link'];}
CreateRecord.prototype.run=function(opts,currentExecution){if(this.hasEditAccess(this.def.properties.module)){this._createRecord(opts,currentExecution);}else{this.noAccessAlert(currentExecution);}};CreateRecord.prototype._createRecord=function(opts,currentExecution){const parentRecordModel=opts.recordModel;const parentRecordView=opts.recordView;const actionProperties=this.def.properties;const module=actionProperties.module;const shouldLink=actionProperties.mustLinkRecord;const relLink=actionProperties.link;var bean=null;if(shouldLink){bean=opts.createLinkModelFct(parentRecordModel,relLink);}else{bean=app.data.createBean(module);}
if(actionProperties.copyFromParent){bean=this._populateModelFromParent(bean,parentRecordModel);}
bean=this._populateModelWithParentAttributes(bean,parentRecordModel,actionProperties.parentAttributes);this._resolveModelWithCustomAttributes(bean,parentRecordView,actionProperties,opts,currentExecution);};CreateRecord.prototype._hasAsyncLogic=function(attributes){const calculatedFields=_.filter(attributes,function checkCalculatedFields(item){return item.isCalculated||(_.has(item,'required_formula')&&item.required_formula);});return calculatedFields.length>0;};CreateRecord.prototype._resolveModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,opts,currentExecution){const targetFields=actionProperties.attributes;const module=actionProperties.module;let recordViewFields=[];if(module===parentRecordView.module){recordViewFields=parentRecordView.getFields(module,opts.recordModel);}else{recordViewFields=this._getRecordViewFields(module);}
const requiredFields=this._getRequiredFieldsWithFormula(recordViewFields);_.each(requiredFields,function(field){const fN=field.name;const tField=targetFields[fN];if(tField&&tField.value&&tField.value[fN]&&!newBean.get(fN)){newBean.set(fN,tField.value[fN]);}
targetFields[fN]=field;});if(this._hasAsyncLogic(targetFields)){this._populateAsyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,opts,currentExecution,recordViewFields);}else{this._populateSyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution,recordViewFields);}};CreateRecord.prototype._populateSyncModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution,recordViewFields=[]){const module=actionProperties.module;newBean=this._populateModelWithCustomAttributes(newBean,targetFields);if(actionProperties.autoCreate){this._trySetTeam(newBean);var validationErrors={};newBean.on('error:validation',function handleValidationError(errors){validationErrors=errors;});newBean.doValidate(recordViewFields,_.bind(function modelValidated(isValid){if(isValid){newBean.save({},{showAlerts:false,success:_.bind(function successSave(model,changed){app.alert.show('create-success',{level:'success',messages:this._displayMessage(model,module),autoClose:true,autoCloseDelay:10000,onLinkClick:function(){app.alert.dismiss('create-success');}});this._refreshCollection(parentRecordView,actionProperties);currentExecution.nextAction();},this)});}else{var fields=_.chain(validationErrors).keys().map(function getFieldLabel(f){return'<li>'+app.lang.get(recordViewFields[f].vname,newBean.module)+'</li>';}).value();var msg=_.union([app.lang.get('LBL_ACTIONBUTTON_INVALID_FIELD_VALUES')],fields);app.alert.show('invalid-data',{level:'error',messages:msg});currentExecution.nextAction();}},this));}else{if(module==='Quotes'){this._navigateCreateQuote(newBean,module,parentRecordView);}else{this._openCreateDrawer(newBean,module,parentRecordView,actionProperties);}
currentExecution.nextAction();}};CreateRecord.prototype._getRecordViewFields=function(module){let fields=[];let fieldDefs=[];const moduleMeta=app.metadata.getView(module,'record');if(moduleMeta&&moduleMeta.panels){const fieldNames=_.map(moduleMeta.panels,function(panel){const panelFields=panel.fields;const nestedFieldNames=_.chain(panelFields).pluck('fields').compact().flatten().pluck('name').value();const panelFieldNames=_.pluck(panelFields,'name');const relatedFields=_.chain(panelFields).pluck('related_fields').compact().flatten().value();return[...nestedFieldNames,...panelFieldNames,...relatedFields];});fields=_.reduce(fieldNames,function(memo,tempFields){return memo.concat(tempFields);});}
fields=_.chain(fields).uniq().compact().value();const fieldMetadata=app.metadata.getModule(module,'fields');if(fieldMetadata){fields=_.reject(fields,function(name){return _.isUndefined(fieldMetadata[name]);});let relates=[];_.each(fields,function(name){const field=fieldMetadata[name];if(field.type==='relate'){relates.push(field.id_name);}else if(field.type==='parent'){relates.push(field.id_name);relates.push(field.type_name);}
if(_.isArray(field.fields)){relates=relates.concat(field.fields);}});fields=_.union(fields,relates);}
_.each(fields,function(fieldName){fieldDefs.push(app.metadata.getField({module:module,name:fieldName}));});return fieldDefs;};CreateRecord.prototype._getRequiredFieldsWithFormula=function(fields){let requiredFields=[];_.each(fields,function(field){if(_.has(field,'required_formula')&&field.required_formula){requiredFields.push(field);}});return requiredFields;};CreateRecord.prototype._trySetTeam=function(bean){if(_.isEmpty(bean.get('team_name'))){var teams=app.utils.deepCopy(app.user.getPreference('default_teams'));bean.set('team_name',teams);bean.set('team_count',teams.length);}
if(!_.isEmpty(bean.get('team_name'))&&_.isEmpty(bean.get('team_count'))){let teams=bean.get('team_name');bean.set('team_count',teams.length);}};CreateRecord.prototype._navigateCreateQuote=function(bean,module,parentRecordView){var loadViewObj={module:'Quotes',layout:'create',action:'edit',convert:false,create:true,model:bean,collection:app.data.createBeanCollection('Quotes')};app.controller.loadView(loadViewObj);app.router.navigate('#Quotes/create',{trigger:false});};CreateRecord.prototype._openCreateDrawer=function(newBean,module,parentView,actionProperties){app.drawer.open({layout:'create',context:{create:true,model:newBean,module:module,parentView:parentView}},_.bind(function drawerClose(context,model){if(!model){return;}
if(parentView.type==='dashlet-toolbar'){parentView.refreshClicked();}else{let context=parentView.context;context.set('skipFetch',false);context.reloadData();this._refreshCollection(parentView,actionProperties);}},this));};CreateRecord.prototype._populateAsyncModelWithCustomAttributes=function(newBean,parentRecordView,actionProperties,opts,currentExecution,recordViewFields){let targetFields=actionProperties.attributes;const recordModule=parentRecordView.model.module;const recordId=parentRecordView.model.id;const requestType='create';const apiPath='actionButton/evaluateExpression';const calculatedFields=_.pick(targetFields,function pickCalculated(item){return item.isCalculated||(_.has(item,'required_formula')&&item.required_formula);});const simpleFields=_.pick(targetFields,function pickCalculated(item){return!item.isCalculated&&(!_.has(item,'required_formula')&&!item.required_formula);});newBean=this._populateModelWithCustomAttributes(newBean,simpleFields);const beanFieldsData=newBean.attributes;let requestMeta={targetFields:calculatedFields,targetRecordId:recordId,targetModule:recordModule,beanData:beanFieldsData,};const apiCallbacks={success:_.bind(function calculatedFormula(result){_.each(result,function addNewValues(item,key){if(typeof(targetFields[key])==='string'){targetFields={};}
const value={};value[key]=item;targetFields[key]={fieldName:key,isCalculated:false,formula:'',value:value};},this);this._populateSyncModelWithCustomAttributes(newBean,parentRecordView,actionProperties,targetFields,opts,currentExecution,recordViewFields);},this)};const apiUrl=app.api.buildURL(apiPath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,apiCallbacks);};CreateRecord.prototype._populateModelWithCustomAttributes=function(newBean,targetFields){let fieldValues=_.chain(targetFields).values().map(a=>this.normalizeFieldValue(a,newBean)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._cloneParentFieldValue=function(fieldInfo,record,parent){const recordField=fieldInfo.fieldName;const parentField=fieldInfo.parentFieldName;const recordFieldDef=record.fields[recordField];const parentFieldDef=parent.fields[parentField];let value={};if(this.deniedFields.indexOf(recordField)!==-1){return value;};if(this._validateFieldsRelationship(recordFieldDef,parentFieldDef,'relate','relate')){value=this._getParentFieldValues(recordField,parentField,recordFieldDef,parentFieldDef,parent);}else if(this._validateFieldsRelationship(recordFieldDef,parentFieldDef,'parent','relate')){value=this._getParentFieldValues(recordField,parentField,recordFieldDef,parentFieldDef,parent);value.parent_type=parentFieldDef.module;}else{value[recordField]=parent.get(parentField);};return value;};CreateRecord.prototype._getParentFieldValues=function(recordField,parentField,recordFieldDef,parentFieldDef,parent){let value={};value[recordField]=parent.get(parentField);value[recordFieldDef.id_name]=parent.get(parentFieldDef.id_name);return value;};CreateRecord.prototype._validateFieldsRelationship=function(recordFieldDef,parentFieldDef,recordFieldType,parentFieldType){return recordFieldDef.type===recordFieldType&&parentFieldDef.type===parentFieldType&&!_.isEmpty(recordFieldDef.id_name)&&!_.isEmpty(parentFieldDef.id_name);};CreateRecord.prototype._populateModelWithParentAttributes=function(newBean,parentRecordModel,targetFields){let fieldValues=_.chain(targetFields).values().map(a=>this._cloneParentFieldValue(a,newBean,parentRecordModel)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._populateModelFromParent=function(newBean,parentRecordModel){let fieldValues=_.chain(newBean.fields).filter(function filterCloneableFields(f){return(this.deniedFields.indexOf(f.name)===-1&&!_.isEmpty(parentRecordModel.fields[f.name])&&f.type===parentRecordModel.fields[f.name].type&&!_.isUndefined(parentRecordModel.get(f.name)));},this).map(function createCloneTuple(f){return[f.name,parentRecordModel.get(f.name)];}).object().value();newBean.set(fieldValues);return newBean;};CreateRecord.prototype._refreshCollection=function(parentRecordView,actionProperties){if(actionProperties.mustLinkRecord){var collection=parentRecordView.model.getRelatedCollection(actionProperties.link);collection.fetch({relate:true});}};CreateRecord.prototype._displayMessage=function(model,module){var modelAttributes;var successLabel='LBL_RECORD_SAVED_SUCCESS';var successMessageContext;if(model&&model.attributes){modelAttributes=model.attributes;if(model.get('no_success_label_link')){successLabel='LBL_RECORD_SAVED_SUCCESS_NO_LINK';}}else{modelAttributes={};successLabel='LBL_RECORD_SAVED';}
successMessageContext=_.extend({module:module,moduleSingularLower:app.lang.getModuleName(module).toLowerCase()},modelAttributes);return app.lang.get(successLabel,module,successMessageContext);};CreateRecord.prototype.hasEditAccess=function(module){const access=app.acl.hasAccess('edit',module);return access;};CreateRecord.prototype.noAccessAlert=function(currentExecution){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();};CreateRecord.prototype.normalizeFullameValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])&&_.isUndefined(fieldData.value.first_name)&&_.isUndefined(fieldData.value.last_name)){let nameParts=fieldData.value[fieldData.fieldName].split(' ');let lastName=nameParts.pop().trim();let firstName=nameParts.join(' ').trim();return{first_name:firstName,last_name:lastName};}else{return fieldData.value;}};CreateRecord.prototype.normalizeDatetimeValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};const userDateTimeFormat=`${app.date.getUserDateFormat()} ${app.date.getUserTimeFormat()}`;const dateValue=fieldData.value[fieldData.fieldName];const date=app.date(dateValue,userDateTimeFormat);if(date.isValid()){value[fieldData.fieldName]=date.format();}else{value[fieldData.fieldName]=app.date.utc(fieldData.value[fieldData.fieldName]).format();}
return value;}else{return fieldData.value;}};CreateRecord.prototype.normalizeRelateValue=function(fieldDef,fieldData){let idName=fieldDef.id_name;if(!_.isEmpty(fieldData.value[idName])){return fieldData.value;}else{let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[idName]=fieldData.value[fieldData.fieldName];return value;}};CreateRecord.prototype.normalizeParentValue=function(fieldDef,fieldData){let typeName=fieldDef.type_name;let idName=fieldDef.id_name;let value={};if(_.isObject(fieldData.value.parent)){value[fieldData.fieldName]=fieldData.value.parent.name;value[typeName]=fieldData.value.parent._module;value[idName]=fieldData.value.parent.id;}else if(!_.isEmpty(fieldData.value[typeName])&&!_.isEmpty(fieldData.value[idName])){value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[typeName]=fieldData.value[typeName];value[idName]=fieldData.value[idName];}else{let parentParts=fieldData.value[fieldData.fieldName].split('|');let recordModule=(parentParts.shift()||'').trim();let recordId=(parentParts.shift()||'').trim();let recordName=(parentParts.join('')||'').trim();value[fieldData.fieldName]=recordName;value[typeName]=recordModule;value[idName]=recordId;}
return value;};CreateRecord.prototype.normalizeTagValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName].split(',');return value;}else{return fieldData.value;}};CreateRecord.prototype.normalizeFieldValue=function(fieldData,model){let result=[];let fieldDef=model.fields[fieldData.fieldName];switch(fieldDef.type){case'fullname':result.push(this.normalizeFullameValue(fieldDef,fieldData));break;case'datetime':case'datetimecombo':result.push(this.normalizeDatetimeValue(fieldDef,fieldData));break;case'relate':result.push(this.normalizeRelateValue(fieldDef,fieldData));break;case'parent':result.push(this.normalizeParentValue(fieldDef,fieldData));break;case'tag':result.push(this.normalizeTagValue(fieldDef,fieldData));break;default:result.push(fieldData.value);break;}
return result;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{CreateRecord:CreateRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/CreateRecordAction.js */

(function register(app){app.events.on('app:init',function init(){function DocumentMerge(def){this.def=def;}
DocumentMerge.prototype.run=function(opts,currentExecution){const actionDef=this.def;const templateId=actionDef.properties.id;const templateName=actionDef.properties.name;const isPdf=actionDef.properties.pdf;this.mergeDocument(opts,templateId,templateName,isPdf,currentExecution);};DocumentMerge.prototype.mergeDocument=function(opts,templateId,templateName,isPdf,currentExecution){const recordModel=opts.recordModel;const currentRecordId=recordModel.get('id');const currentRecordModule=recordModel.module;app.events.trigger('document_merge:show_widget');app.events.trigger('document:merge',{currentRecordId,currentRecordModule,templateId,templateName,isPdf,});app.alert.show('wdocs_loading',{level:'info',messages:app.lang.getModString('LBL_DOCUMENT_MERGIN_ACTION_PROCESS','DocumentMerges'),autoClose:true,});currentExecution.nextAction();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{DocumentMerge:DocumentMerge,});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/DocumentMergeAction.js */

(function register(app){app.events.on('app:init',function init(){function OpenUrl(def){this.def=def;}
OpenUrl.prototype.run=function(opts,currentExecution){let actionDef=this.def;let formula=actionDef.properties.formula;let url=actionDef.properties.url;if(app.utils.isTruthy(actionDef.properties.calculated)){this.getCalculatedUrl(opts,formula,currentExecution);}else{this.openWindowAndContinue(url,currentExecution);}};OpenUrl.prototype.getCalculatedUrl=function(opts,formula,currentExecution){let recordModel=opts.recordModel;const reqType='create';const url=app.api.buildURL('actionButton','evaluateCalculatedUrl');const reqMeta={keepTempFieldForCalculatedURL:{buildUrlTempField:{targetField:'buildUrlTempField',formula:formula}},recordType:recordModel.module,recordId:recordModel.get('id')};let apiCallbacks={success:function success(resp){const calculatedUrl=resp.buildUrlTempField.value;this.openWindowAndContinue(calculatedUrl,currentExecution);}.bind(this)};app.api.call(reqType,url,reqMeta,apiCallbacks);};OpenUrl.prototype.openWindowAndContinue=function(url,currentExecution){this.openNewWindow(url);currentExecution.nextAction();};OpenUrl.prototype.openNewWindow=function(url){const protocolRegex=/^([a-zA-Z]*):.*/gm;url=(url||'').trim();if(!url.match(protocolRegex)){url='https://'+url;}
var newWindow=window.open(url,'_blank');newWindow.focus();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{OpenUrl:OpenUrl});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/OpenUrlAction.js */

(function register(app){app.events.on('app:init',function init(){function RunReport(def){this.def=def;}
RunReport.prototype.run=function(opts,currentExecution){const def=this.def;const properties=def.properties;const reportId=properties.id;const url=this.createUrl(reportId);this.open(url);currentExecution.nextAction();};RunReport.prototype.open=function(url){window.open(url,'_blank');};RunReport.prototype.createUrl=function(reportId){const url=window.location.origin+
window.location.pathname+'#Reports/'+
reportId;return url;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{RunReport:RunReport});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/RunReportAction.js */

(function register(app){app.events.on('app:init',function init(){function UpdateRecord(def){this.def=def;}
UpdateRecord.prototype.run=function(opts,currentExecution){const fieldDef=this.def;const properties=fieldDef.properties;const fieldsToBeUpdated=properties.fieldsToBeUpdated;if(!this.hasEditAccess(opts.recordModel,fieldsToBeUpdated)){app.alert.show('alert_no_access',{level:'error',title:app.lang.get('ERR_NO_VIEW_ACCESS_TITLE'),messages:app.lang.get('ERR_NO_VIEW_ACCESS_ACTION'),autoClose:true,autoCloseDelay:5000});currentExecution.nextAction();return;};let computedFields={};let hardCodedFields={};_.each(fieldsToBeUpdated,function update(fieldMeta,fieldKey){const isCalculated=fieldMeta.isCalculated;if(isCalculated){computedFields[fieldKey]=fieldMeta;}else{hardCodedFields[fieldKey]=fieldMeta;}});const totalComputedFields=Object.keys(computedFields).length;const totalHardCodedFields=Object.keys(hardCodedFields).length;if(totalHardCodedFields===0&&totalComputedFields===0){currentExecution.nextAction();}else if(totalComputedFields===0){this.updateRecord(fieldsToBeUpdated,opts,currentExecution);}else{this.resolveComputedValues(fieldsToBeUpdated,computedFields,opts,currentExecution);}};UpdateRecord.prototype.hasEditAccess=function(model,fieldsToBeUpdated){let hasAccess=app.acl.hasAccessToModel('edit',model)&&_.chain(fieldsToBeUpdated).values().map(function getFieldName(field){return field.fieldName;}).reduce(function verifyFieldAccess(hasAccess,fieldName){return hasAccess&&app.acl.hasAccessToModel('edit',model,fieldName);},true).value();return hasAccess;};UpdateRecord.prototype.resolveComputedValues=function(allFieldsMeta,computedFieldsMeta,opts,currentExecution){let recordModel=opts.recordModel;const requestType='create';const apiPath='actionButton/evaluateExpression';let requestMeta={targetFields:computedFieldsMeta,targetRecordId:recordModel.id,targetModule:recordModel.module};const apiCallbacks={success:_.bind(function fieldsCalculatedCallback(result){_.each(result,function assignNewValues(item,key){const value={};value[key]=item;allFieldsMeta[key].value=value;});this.updateRecord(allFieldsMeta,opts,currentExecution);},this)};const apiUrl=app.api.buildURL(apiPath,requestType,requestMeta,{});app.api.call(requestType,apiUrl,requestMeta,null,apiCallbacks);};UpdateRecord.prototype.fetchAndApplyChanges=function(model,updatedFields,currentExecution){let changes=model.changedAttributes(model.getSynced());changes=!_.isEmpty(changes)?_.pick(model.changedAttributes(),_.keys(changes)):{};changes=_.omit(changes,_.keys(updatedFields));changes=_.omit(changes,['date_modified']);model.fetch({complete:function reapplyChanges(){model.set(changes);currentExecution.nextAction();}});};UpdateRecord.prototype.normalizeFullameValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])&&_.isUndefined(fieldData.value.first_name)&&_.isUndefined(fieldData.value.last_name)){let nameParts=fieldData.value[fieldData.fieldName].split(' ');let lastName=nameParts.pop().trim();let firstName=nameParts.join(' ').trim();return{first_name:firstName,last_name:lastName};}else{return fieldData.value;}};UpdateRecord.prototype.normalizeDatetimeValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};const userDateTimeFormat=`${app.date.getUserDateFormat()} ${app.date.getUserTimeFormat()}`;const dateValue=fieldData.value[fieldData.fieldName];const date=app.date(dateValue,userDateTimeFormat);if(date.isValid()){value[fieldData.fieldName]=date.format();}else{value[fieldData.fieldName]=app.date.utc(fieldData.value[fieldData.fieldName]).format();}
return value;}else{return fieldData.value;}};UpdateRecord.prototype.normalizeRelateValue=function(fieldDef,fieldData){let idName=fieldDef.id_name;if(!_.isEmpty(fieldData.value[idName])){return fieldData.value;}else{let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[idName]=fieldData.value[fieldData.fieldName];return value;}};UpdateRecord.prototype.normalizeParentValue=function(fieldDef,fieldData){let typeName=fieldDef.type_name;let idName=fieldDef.id_name;let value={};if(_.isObject(fieldData.value.parent)){value[fieldData.fieldName]=fieldData.value.parent.name;value[typeName]=fieldData.value.parent._module;value[idName]=fieldData.value.parent.id;}else if(!_.isEmpty(fieldData.value[typeName])&&!_.isEmpty(fieldData.value[idName])){value[fieldData.fieldName]=fieldData.value[fieldData.fieldName];value[typeName]=fieldData.value[typeName];value[idName]=fieldData.value[idName];}else{let parentParts=fieldData.value[fieldData.fieldName].split('|');let recordModule=(parentParts.shift()||'').trim();let recordId=(parentParts.shift()||'').trim();let recordName=(parentParts.join('')||'').trim();value[fieldData.fieldName]=recordName;value[typeName]=recordModule;value[idName]=recordId;}
return value;};UpdateRecord.prototype.normalizeTagValue=function(fieldDef,fieldData){if(_.isString(fieldData.value[fieldData.fieldName])){let value={};value[fieldData.fieldName]=fieldData.value[fieldData.fieldName].split(',');return value;}else{return fieldData.value;}};UpdateRecord.prototype.normalizeFieldValue=function(fieldData,model){let result=[];let fieldDef=model.fields[fieldData.fieldName];switch(fieldDef.type){case'fullname':result.push(this.normalizeFullameValue(fieldDef,fieldData));break;case'datetime':case'datetimecombo':result.push(this.normalizeDatetimeValue(fieldDef,fieldData));break;case'relate':result.push(this.normalizeRelateValue(fieldDef,fieldData));break;case'parent':result.push(this.normalizeParentValue(fieldDef,fieldData));break;case'tag':result.push(this.normalizeTagValue(fieldDef,fieldData));break;default:result.push(fieldData.value);break;}
return result;};UpdateRecord.prototype.updateRecord=function(fieldValues,opts,currentExecution){let recordModel=opts.recordModel;fieldValues=_.chain(fieldValues).values().map(a=>this.normalizeFieldValue(a,recordModel)).flatten(1).map(a=>_.pairs(a)).flatten(1).object().value();if(this.def.properties.autoSave){let patchValues=_.assign({},fieldValues,{id:recordModel.get('id')});let patchModel=app.data.createBean(recordModel.module,patchValues);patchModel.save({},{showAlerts:true,success:_.bind(function successSave(){this.fetchAndApplyChanges(recordModel,fieldValues,currentExecution);},this),error:_.bind(function errorSave(){this.fetchAndApplyChanges(recordModel,fieldValues,currentExecution);},this)});}else{recordModel.set(fieldValues);if(opts.recordView&&opts.recordView.name==='dashablerecord'){opts.recordView.editRecord();}else if(opts.recordView&&opts.recordView.name==='preview'){let previewHeader=opts.recordView.layout.getComponent('preview-header');if(previewHeader){previewHeader.triggerEdit();}}else if(opts.recordView&&(opts.recordView.type==='subpanel-list'||opts.recordView.type==='recordlist')){opts.recordView.editClicked(opts.recordModel,opts.buttonField);}else if(opts.recordView&&opts.recordView.name==='dashlet-toolbar'){opts.recordView.layout.getComponent('dashablerecord').editRecord();}else{if(opts.recordView&&opts.recordView.context){opts.recordView.context.trigger('button:edit_button:click');}
app.controller.context.trigger('button:edit_button:click');}
currentExecution.nextAction();}};app.actions=app.actions||{};app.actions=_.extend(app.actions,{UpdateRecord:UpdateRecord});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/UpdateRecordAction.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('ActionRunner',['field','view','layout'],{execute(actionsDef,opts){let actions=this.resolveDefsToActions(actionsDef);let runner=app.actions.Runner.create(actions,opts);runner.execute();return runner;},resolveDefToAction(actionDef){let actionFactory=new app.actions.ActionFactory();let action=actionFactory.create(actionDef);return action;},resolveDefsToActions(actionDefs){let actions=_.chain(actionDefs).map(function each(action){return this.resolveDefToAction(action);},this).sortBy(function sortBy(item){return item.def.orderNumber;}).value();return actions;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ActionRunner.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('ActionButton',['field','view','layout'],{onAttach:function(component,plugin){this.on('init',function registerActionrRunner(){if(app.config.platform==='portal'||!_.contains(['record','recordlist','subpanel-list','dashboard'],this.type)){return true;}
if(_.isObject(this.meta)){this.meta.actionButtons=this.getActionButtonsMeta();this.insertActionButtonsRows();}});},insertActionButtonsRows(){const rowActionButtons=this.getActionButtonsRowActions();if(this.type==='record'){this.insertInRecord(rowActionButtons);}else if(this.type==='dashablerecord'){this.insertInDashableRecord(rowActionButtons);}else if(this.type==='recordlist'||this.type==='subpanel-list'){this.insertInRecordList(rowActionButtons);}else if(this.type==='dashboard'){this.insertInDashboardHeader(rowActionButtons);}},insertInDashboardHeader(rowActionButtons){if(_.isEmpty(rowActionButtons)){return;}
let rowActions={type:'actiondropdown',no_default_action:true,decodedOptions:{settings:{displayOnFocusDashboard:true}},buttons:rowActionButtons};this.meta.actionButtons.push(rowActions);},insertInRecord(rowActionButtons){if(_.isEmpty(rowActionButtons)){return;}
_.each(this.meta.buttons,function insertActionButtonsRows(metaButton){if(metaButton.type==='actiondropdown'&&metaButton.name==='main_dropdown'&&_.isArray(metaButton.buttons)){let insertAtIdx=metaButton.buttons.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=metaButton.buttons.length;}
_.each(rowActionButtons,function insertButton(actionButton){metaButton.buttons.splice(insertAtIdx,0,{type:'divider'});metaButton.buttons.splice(insertAtIdx+1,0,actionButton);insertAtIdx=insertAtIdx+2;},this);metaButton.buttons.splice(insertAtIdx,0,{type:'divider'});}},this);},insertInDashableRecord(rowActionButtons){_.each(this._headerButtons,function insertActionButtonsRows(metaButton){if(metaButton.type==='actiondropdown'&&metaButton.name==='dashlet_main_dropdown'&&_.isArray(metaButton.buttons)){_.each(rowActionButtons,function insertButton(actionButton){if(!_.findWhere(metaButton.buttons,{name:actionButton.name})){if(metaButton.buttons.length>1){metaButton.buttons.push({type:'divider'});}
metaButton.buttons.push(actionButton);}},this);}},this);},insertInRecordList(rowActionButtons){if(_.isEmpty(rowActionButtons)){return;}
let insertAtIdx=this.meta.rowactions.actions.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=this.meta.rowactions.actions.length;}
_.each(rowActionButtons,function insertButton(actionButton){this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});this.meta.rowactions.actions.splice(insertAtIdx+1,0,actionButton);insertAtIdx=insertAtIdx+2;},this);this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});},_getCurrentModule:function(){return this.type==='dashboard'&&!_.isEmpty(this.context)&&!_.isEmpty(this.context.parent)?this.context.parent.get('module'):this.module;},getActionButtonsRowActions(){const mappingTable={'record':'recordView','recordlist':'listView','subpanel-list':'subpanels','dashablerecord':'recordViewDashlet','dashboard':'focusDashboardHeader',};let validButtons=[];if(!this.model){return validButtons;}
let actionButtons=app.utils.deepCopy(this.getActionButtons());_.each(actionButtons,function selectValidButtons(button){let parsedData=JSON.parse(button.options);let decodedData=this.base64Parse(parsedData,false);if(decodedData.actionMenu&&decodedData.actionMenu[mappingTable[this.type]]){button.actionMenuOrder=decodedData.actionMenu.orderNumber;decodedData.settings.type='button';decodedData.settings.isRowAction=true;let encodedData=this.base64Parse(decodedData,true);button.options=JSON.stringify(encodedData);validButtons.push(button);}},this);validButtons=_.sortBy(validButtons,'actionMenuOrder');return validButtons;},getActionButtonsMeta(){const maxAllowedSize=45;let actionButtons=this.getActionButtons();let currentModule=this._getCurrentModule();let composedActionButtons=[];let composedMeta={buttons:{},settings:{hideOnEdit:false,showFieldLabel:false,showInRecordHeader:true,size:'default',type:'dropdown'}};let currentSize=0;let orderNumber=0;_.each(actionButtons,function composeButtons(item,key){const encode=false;let parsedData=JSON.parse(item.options);let decodedData=this.base64Parse(parsedData,encode);if(!decodedData.settings.showInRecordHeader){return;}
if(_.has(decodedData,'actionMenu')&&_.has(decodedData.actionMenu,'orderNumber')){let sortedButtons=_(decodedData.buttons).chain().sortBy('orderNumber').map(function(val,key){return val.buttonId;}).value();item.actionMenuOrder=decodedData.actionMenu.orderNumber;item.buttonsIds=sortedButtons;}
_.each(decodedData.buttons,function calculateLabelSize(button,buttonKey){let buttonProp=button.properties;if(buttonProp.showLabel){let label=app.lang.get(buttonProp.label,currentModule);if(label.length<3){currentSize+=3;}else{currentSize+=label.length;}}else{currentSize+=2;}
if(buttonProp.showIcon){currentSize+=3;}
decodedData.buttons[buttonKey].orderNumber=orderNumber;orderNumber++;});Object.assign(composedMeta.buttons,decodedData.buttons);},this);if(currentSize>maxAllowedSize){const encode=true;var sortedFields=_.sortBy(actionButtons,'actionMenuOrder');composedMeta=this.sortHeaderDropdownButtons(composedMeta,sortedFields);let mainActionButton=Object.assign({},sortedFields.pop());mainActionButton.options=JSON.stringify(this.base64Parse(composedMeta,encode));composedActionButtons.push(mainActionButton);return composedActionButtons;}else{return actionButtons;}},sortHeaderDropdownButtons(meta,sortedFields){let currentPosition=0;_.each(sortedFields,function iterateFields(buttonField){if(!_.has(buttonField,'buttonsIds')){return;}
_.each(buttonField.buttonsIds,function iterateButtons(buttonId){meta.buttons[buttonId].orderNumber=currentPosition;currentPosition++;});});return meta;},base64Parse(data,encode){_.each(data,function parseButtons(childData,key){if(typeof childData==='object'&&childData!==null){data[key]=this.base64Parse(childData,encode);}else if(typeof childData==='string'){data[key]=encode?btoa(childData):atob(childData);}},this);return data;},getActionButtons(){let fieldsDef=this.model.fields;if(_.isEmpty(fieldsDef)&&_.isFunction(this.getFieldsForAB)){fieldsDef=this.getFieldsForAB();}
const actionButtons=_.filter(fieldsDef,function filter(field){if(field.type==='actionbutton'){field.readonly=false;try{field.decodedOptions=JSON.parse(field.options);}catch(e){app.logger.fatal(e.stack);}
return true;}});return actionButtons;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ActionButton.js */

(function register(app){app.events.on('app:init',function init(){function ActionFactory(){}
ActionFactory.prototype.create=function(actionDef){let actionType=app.utils.capitalizeHyphenated(actionDef.actionType);let Action=app.actions[actionType];let action=Action&&new Action(actionDef);return action;};app.actions=app.actions||{};app.actions=_.extend(app.actions,{ActionFactory:ActionFactory});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/Factory.js */

(function register(app){app.events.on('app:init',function init(){let Runner=function(actions,ops){this.actions=actions;this.ops=ops||{};this.queue=[];};Runner.create=function(actions,ops){return new Runner(actions,ops);};Runner.prototype.consume=function(){if(this.queue.length===0){return;}
let ops=this.ops;let nextAction=this.queue.shift();try{nextAction.run(ops,{nextAction:_.bind(function nextExecution(){this.consume();},this)});}catch(err){let failedActions=[nextAction.constructor.name];let nActions=failedActions.join(', ');const message=app.lang.get('LBL_ACTIONBUTTON_TASK_SEQUENCE_FAILED');const bTagS='<b>';const bTagE='</b> ';if(ops.stopOnError){failedActions=failedActions.concat(this.queue.map(function getActionType(action){return action.constructor.name;}));nActions=failedActions.join(', ');app.alert.show('actionbutton-action-stop',{level:'warning',messages:message+bTagS+nActions+bTagE,autoClose:true,autoCloseDelay:10000,});}else{app.alert.show('actionbutton-action-continue',{level:'warning',messages:message+bTagS+nActions+bTagE,autoClose:true,autoCloseDelay:10000,});this.consume();}}};Runner.prototype.execute=function(){_.each(this.actions,function pushAction(val,key){this.queue.push(val);},this);this.consume();};app.actions=app.actions||{};app.actions=_.extend(app.actions,{Runner:Runner});});})(SUGAR.App);
/* End of File include/javascript/sugar7/actions/Runner.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('RecurringEvents',['view','field'],{isView:false,isField:false,recurringEventFields:['repeat_type','repeat_interval','repeat_dow','repeat_selector','repeat_days','repeat_ordinal','repeat_unit','repeat_end_type','repeat_until','repeat_count','recurrence',],onAttach:function(component,plugin){if(component instanceof app.view.Field){this.isField=true;this._fieldOnAttach(component);}else if(component instanceof app.view.View){this.isView=true;this._viewOnAttach(component);}},_fieldOnAttach:function(component){this.before('render',function(){if(this.name==='repeat_interval'){this.prepareRepeatIntervalValues();}
if(this.name==='repeat_ordinal'){this.prepareRepeatOrdinalValues();}});},_viewOnAttach:function(component){this.once('init',function(){this._setNoEditFields();},this);},prepareRepeatIntervalValues:function(){const repeatType=this.getRepeatIntervalKeyword();if(!repeatType||_.isEmpty(this.items)){return;}
_.each(this.items,function(value,key){let repeatIntervalValue=this.getRepeatIntervalString(key,repeatType);if(!repeatIntervalValue){return;}
this.items[key]=repeatIntervalValue;},this);},getRepeatIntervalKeyword:function(){const repeatType=this.model.get('repeat_type');if(!repeatType){return;}
switch(repeatType){case'Daily':return app.lang.get('LBL_CALENDAR_DAY');case'Weekly':return app.lang.get('LBL_CALENDAR_WEEK');case'Monthly':return app.lang.get('LBL_CALENDAR_MONTH');case'Yearly':return app.lang.get('LBL_CALENDAR_YEAR');default:return'';}},getRepeatIntervalString:function(key,keyword){if(!keyword){return;}
const firstValueKey='1';const interval=key===firstValueKey?'':app.lang.get(`LBL_CALENDAR_REPEAT_INTERVAL_VALUE_${key}`);return app.lang.get('TPL_REPEAT_INTERVAL',this.module,{repeatIntervalValue:interval,repeatTypeValue:keyword});},prepareRepeatOrdinalValues:function(){if(_.isEmpty(this.items)){return;}
if(this.action==='detail'){const repeatOrdinal=this.model.get('repeat_ordinal');if(repeatOrdinal){this.items[repeatOrdinal]=repeatOrdinal.charAt(0).toUpperCase()+repeatOrdinal.slice(1);}}else{const options=app.lang.getAppListStrings(this.def.options);if(options){this.items=this._filterOptions(options);}}},_setNoEditFields:function(){if(_.isUndefined(this.noEditFields)){this.noEditFields=[];}
_.each(this.recurringEventFields,function(field){this.noEditFields.push(field);},this);},_handleNoEventsGenerated:function(){this.model.revertAttributes();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/RecurringEvents.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DocumentMerge',['view'],{modulesDenyList:['Calendar','DocuSignEnvelopes',],onAttach:function(component,plugin){this.on('init',function(){this.templatesModule='DocumentTemplates';this.acceptedViews={'record':'record','recordlist':'recordlist','subpanellist':'subpanel-list'};this._addDocumentMergeButtons();},this);},onDetach:function(component,plugin){this.context.off('button:merge_template_pdf:click',this.mergeTemplate,this);this.context.off('button:merge_template:click',this.mergeTemplate,this);},_addDocumentMergeButtons:function(){let isUsersSubpanel=this.context.get('isSubpanel')&&this.context.get('parentModule')==='Users';let mergeButtonsMeta=[{'type':'rowaction','event':'button:merge_template:click','name':'merge_template','icon':'sicon-document-lg','label':'LBL_MERGE_TEMPLATE_BUTTON_LABEL','acl_action':isUsersSubpanel?'admin':'view',},{'type':'rowaction','event':'button:merge_template_pdf:click','name':'merge_template_pdf','label':'LBL_MERGE_TEMPLATE_PDF_BUTTON_LABEL','acl_action':isUsersSubpanel?'admin':'view',},{'type':'divider',}];let viewName=this.name;let dropdown=this.getDropdown(viewName);if(_.isArray(dropdown)&&this.hasAccess()&&!this.modulesDenyList.includes(this.module)){dropdown.push(...mergeButtonsMeta);if(viewName==='recordlist'){let rowActionsDropdown=this.getRowActionsDropdown(viewName);rowActionsDropdown.push(...mergeButtonsMeta);}
this._registerTemplateButtonsEvents();}},_registerTemplateButtonsEvents:function(){let convertAction='convert';let mergeAction='merge';if(this.context.get('dataView')==='list'){mergeAction='multimerge';convertAction='multimerge_convert';}
this.context.on('button:merge_template_pdf:click',this.mergeTemplate.bind(this,convertAction),this);this.context.on('button:merge_template:click',this.mergeTemplate.bind(this,mergeAction),this);},mergeTemplate:function(mergeType,model){this.mergeType=this._processMergeType(mergeType);let collectionOptions={persistentFilter:{template_module:this.module,}};if(this._isMultiMerge()){this.selectedModels=this.context.get('mass_collection').models;collectionOptions.persistentFilter.file_ext='docx';}
let filterCollection=app.data.createBeanCollection(this.templatesModule,null,collectionOptions);filterCollection.setOption('endpoint',this.documentTemplatesCollectionEndpoint);app.drawer.open({layout:'selection-list',context:{module:this.templatesModule,collection:filterCollection,model:app.data.createBean(this.templatesModule),fields:['name','filename','use_revisions','file_ext','label_merging',],}},_.bind(this._templateSelectedCallback,this,model));},documentTemplatesCollectionEndpoint:function(method,collection,options,callbacks){const ctxCollection=this.context.get('collection');const templateModule=ctxCollection._persistentOptions.persistentFilter.template_module;if(!_.isUndefined(templateModule)){if(!options.params.filter){options.params.filter=[];}
options.params.filter.push({'template_module':{'$starts':templateModule}});}
const fileExt=ctxCollection._persistentOptions.persistentFilter.file_ext;if(!_.isUndefined(fileExt)){if(!options.params.filter){options.params.filter=[];}
options.params.filter.push({'file_ext':{'$equals':fileExt}});}
var url=app.api.buildURL(this.context.get('module'),null,{},options.params);return app.api.call('read',url,null,callbacks);},_processMergeType:function(mergeType){if(this.context.get('dataView')==='list'){const collection=this.context.get('mass_collection');if(!collection.length){if(mergeType==='multimerge'){mergeType='merge';}else if(mergeType==='multimerge_convert'){mergeType='convert';}}}
return mergeType;},_templateSelectedCallback:function(model,template){if(_.isEmpty(template)){return;}
this._setMergeType(template.file_ext,template.label_merging);if(!this.mergeType){app.alert.show('merge_error',{level:'error',messages:app.lang.getModString('LBL_MERGE_NOT_SUPPORTED','DocumentMerges'),});return;}
let payload={'mergeType':this.mergeType,'useRevision':template.use_revisions,'templateName':template.value,'templateId':template.id,'recordId':model.get('id'),'recordModule':model.get('_module')};if(this._isMultiMerge()){payload.selectedRecords=_.map(this.selectedModels,function(model){return{id:model.get('id'),name:model.get('name'),module:model.get('_module')};});payload.recordModule=this.module;}
const mergeUrl=App.api.buildURL('DocumentMerge','merge');app.api.call('create',mergeUrl,payload,{success:_.bind(function(documentMergeId){app.events.trigger('document_merge:show_widget');app.events.trigger('document_merge:poll_merge',documentMergeId);},this),error:function(errorMessage){app.alert.show('merge_error',{level:'error',messages:errorMessage});}});},getDropdown:function(viewName){let dropdown=null;switch(viewName){case this.acceptedViews.record:dropdown=this.getRecordMainDropdown();break;case this.acceptedViews.recordlist:dropdown=this.getRecordListDropdown();break;case this.acceptedViews.subpanellist:dropdown=this.getRowActionsDropdown();break;}
if(!dropdown&&this.type===this.acceptedViews.subpanellist){dropdown=this.getRowActionsDropdown();}
return dropdown;},getRecordMainDropdown:function(){if(this.meta.buttons){let mainDropdown=_.filter(this.meta.buttons,function(button){return button.name==='main_dropdown';});if(_.isArray(mainDropdown)&&_.isEmpty(mainDropdown)===false){return _.first(mainDropdown).buttons;}}
return null;},getRecordListDropdown:function(){if(_.has(this.meta,'selection')&&_.has(this.meta.selection,'actions')){return this.meta.selection.actions;}
return null;},getRowActionsDropdown:function(){if(_.has(this.meta,'rowactions')&&_.has(this.meta.rowactions,'actions')){return this.meta.rowactions.actions;}
return null;},_isMultiMerge:function(){return(this.mergeType==='multimerge'||this.mergeType==='multimerge_convert'||this.mergeType==='labelsgenerate'||this.mergeType==='labelsgenerate_convert');},_setMergeType:function(ext,labelMerging){switch(ext){case'pptx':if(this._isMultiMerge()){this.mergeType=null;}else if(this.mergeType==='convert'){this.mergeType='presentation_convert';}else{this.mergeType='presentation';}
break;case'xlsx':if(this._isMultiMerge()){this.mergeType=null;}else if(this.mergeType==='convert'){this.mergeType='excel_convert';}else{this.mergeType='excel';}
break;}
if(labelMerging){if(this.mergeType==='multimerge'){this.mergeType='labelsgenerate';}else if(this.mergeType==='multimerge_convert'){this.mergeType='labelsgenerate_convert';}
if(!this._isMultiMerge()){this.mergeType=null;}}},hasAccess:function(){var documentTemplateAccess=app.acl.hasAccess('view','DocumentTemplates');var documentMergesAccess=app.acl.hasAccess('edit','DocumentMerges');return documentMergesAccess&&documentTemplateAccess&&this._isAvailable();},_isAvailable:function(){return app.api.isAuthenticated()&&app.user.isSetupCompleted();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DocumentMerge.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DocumentMergeActions',['view'],{events:{'click .send-email':'openEmailDrawer','click .send-link':'openUsersDrawer','click .send-docusign':'sendToDocuSign'},onAttach:function(component,plugin){this.on('init',function(){this.acceptedViews={'document-merge-widget-list':'document-merge-widget-list',};},this);},openEmailDrawer:function(evt){var generatedDocumentId=this._getDocumentId(evt);if(_.isString(generatedDocumentId)){this.getEmailDrawerData(generatedDocumentId,this._openEmailDrawer);}},getEmailDrawerData:function(generatedDocumentId,callback){app.data.createBean('Documents',{id:generatedDocumentId}).fetch({fields:['name','filename','document_revision_id','latest_revision_file_size','latest_revision_file_ext','latest_revision_file_mime_type'],success:_.bind(this._documentRetrieved,this,callback),error:this._showError});},_documentRetrieved:function(callback,generatedDocumentModel){callback.apply(this,[generatedDocumentModel]);},_openEmailDrawer:function(documentModel){var file=app.data.createBean('Notes',{_link:'attachments',upload_id:documentModel.get('document_revision_id'),name:documentModel.get('filename')||documentModel.get('name'),filename:documentModel.get('filename')||documentModel.get('name'),file_mime_type:documentModel.get('latest_revision_file_mime_type'),file_size:documentModel.get('latest_revision_file_size'),file_ext:documentModel.get('latest_revision_file_ext'),file_source:'DocumentRevisions'});var emailModel=app.data.createBean('Emails');if(emailModel.get('attachments_collection')){emailModel.get('attachments_collection').add(file,{});}
var layout=app.controller.layout;var emailList=layout?layout.model.get('email'):[];var toRecords=this._addEmailParticipants(emailList);if(emailModel.get('to_collection')instanceof app.data.beanCollection){emailModel.get('to_collection').add(toRecords);}
if(this._isRecordView()){emailModel.set({'parent_id':layout.model.get('id'),'parent_name':layout.model.get('name'),'parent':layout.model});}
app.drawer.open({layout:'compose',context:{create:true,model:emailModel,module:'Emails',}},_.bind(this._triggerEmailsSubpanelReload,this));},_addEmailParticipants:function(emailList){var toRecords=[];if(!_.isArray(emailList)){return toRecords;}
for(var i=0;i<emailList.length;i++){toRecords.push(app.data.createBean('EmailParticipants',{_link:'to',deleted:false,email_address:emailList[i].email_address||'',email_address_id:emailList[i].email_address_id||'',invalid_email:false}));}
return toRecords;},_isRecordView:function(){if(app.controller.context.get('layout')==='record'&&app.controller.context.get('module')!=='Home'){return true;}
return false;},_triggerEmailsSubpanelReload:function(email,model){if(typeof model==='object'){app.controller.context.trigger('subpanel:reload',{links:['archived_emails']});}},openUsersDrawer:function(evt){var generatedDocumentId=this._getDocumentId(evt);if(_.isString(generatedDocumentId)){this.getEmailDrawerData(generatedDocumentId,this._sendNotification);}},_sendNotification:function(generatedDocumentModel){app.drawer.open({layout:'multi-selection-list',context:{module:'Users',isMultiSelect:true}},_.bind(this.createNotification,this,generatedDocumentModel));},createNotification:function(generatedDocumentModel,selectedUsers){if(_.isArray(selectedUsers)){var documentName=generatedDocumentModel.get('filename')||generatedDocumentModel.get('name');var documentId=generatedDocumentModel.get('id');var documentLink=this._getDocumentLink(documentId,documentName);for(var index=0;index<selectedUsers.length;index++){var user=selectedUsers[index];const options={name:documentName,assigned_user_id:user.id,created_by:app.user.id,description:documentLink,severity:'Document Widget List',is_read:false};const mergedRecord=_.find(this.merges,function(merge){return merge.generated_document_id===generatedDocumentModel.get('id');});if(!_.isUndefined(mergedRecord)){options.parent_id=mergedRecord.parent_id;options.parent_type=mergedRecord.parent_type;}
const notification=app.data.createBean('Notifications',options);notification.save();}
app.alert.dismiss('create_notification');}else{app.alert.show('select-users',{level:'info',title:app.lang.getModString('LBL_NO_USERS_SELECTED','DocumentMerges'),});}},sendToDocuSign:function(evt){const clickedMergeId=this._getMergeId(evt);const mergeObject=_.find(this.merges,function(merge){return merge.id===clickedMergeId;});if(_.isUndefined(mergeObject)){return;}
const parentModule=mergeObject.parent.type;const parentId=mergeObject.parent.id;const documentId=this._getDocumentId(evt);const documents=[documentId];app.events.trigger('docusign:send:initiate',{returnUrlParams:{parentRecord:parentModule,parentId:parentId,token:app.api.getOAuthToken()},documents:documents,},'openEnvelope');},_getDocumentLink:function(documentId,documentName){var documentPath=app.api.buildFileURL({module:'Documents',id:documentId,field:'filename'});var link='<a href=\''+
documentPath+'\'>'+
documentName+'</a>';return link;},_getDocumentId:function(evt){var downloadElement=$(evt.target).closest('.merge-row').find('.download');if(downloadElement instanceof jQuery){var generatedDocumentId=downloadElement.attr('document-id');return generatedDocumentId;}
return null;},_getMergeId:function(evt){var rowElement=$(evt.target).closest('.merge-row');if(rowElement instanceof jQuery){return rowElement.attr('merge-id');}
return null;},_showError:function(error){app.alert.show('merges-error',{level:'error',autoClose:true,messages:error.message,});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DocumentMergeActions.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CloudDrive',['view'],{_searchForDashlet:function(type){let layout=app.controller.layout;if(layout.name!=='record'){return false;}
let sidebar=layout.getComponent('sidebar');if(!sidebar){return false;}
let dashboardPane=sidebar.getComponent('dashboard-pane');if(!dashboardPane){return false;}
let base=dashboardPane.getComponent('base');let baseDashboard=base.getComponent('dashboard');if(!baseDashboard){return false;}
let dashletMain=baseDashboard.getComponent('dashlet-main');if(!dashletMain){return false;}
let dashlets=dashletMain.getComponent('dashboard-grid');if(!dashlets){return false;}
for(let dashlet of dashlets._components){if(dashlet.getComponent('cloud-drive')){let _dashlet=dashlet.getComponent('cloud-drive');if(_dashlet&&_dashlet.options.driveType===type){return{cid:_dashlet.cid,pathFolders:_dashlet.pathFolders,};}}}
return false;},syncDriveDashlet:function(dashletCid,result){app.alert.show('file-upload',{level:'info',messages:app.lang.get(result.message),});app.events.trigger(`${dashletCid}:cloud-drive:reload`);},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CloudDrive.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('FilterOperatorManager',['view'],{onAttach:function(){this.on('init',function registerFilterOperatorManager(){this.operatorController=false;this.tempRelateController=false;});},updateFilterInput:function(){const qualifierName=this._filterData?this._filterData.qualifier_name:'';const fieldType=this._fieldType;const operatorType=this.getOperatorType(qualifierName,fieldType);this._loading=true;this._inputValue=false;this._inputValue1=false;this._inputValue2=false;this._inputValue3=false;this.operatorController=this.createOperatorController(operatorType,qualifierName,fieldType);this.operatorController.getUpdatedInput(_.bind(this.updateInputValues,this));},getOperatorType:function(qualifierName,fieldType){let operatorType='DefaultOperator';if(qualifierName==='anything'){operatorType='EmptyOperator';}else if(qualifierName==='between'){operatorType='BetweenOperator';}else if(_.contains(['between_dates','between_datetimes'],qualifierName)){operatorType='DateOperator';}else if(qualifierName.includes('_n_days')){operatorType='DateOperator';}else if(_.contains(['empty','not_empty'],qualifierName)){operatorType='EmptyOperator';}else if(_.contains(['date','datetime','datetimecombo'],fieldType)){operatorType='DateOperator';}else if(_.contains(['id','name','fullname','relate'],fieldType)){operatorType='RelateOperator';}else if(_.contains(['username','assigned_user_name'],fieldType)){operatorType='UsernameOperator';}else if(_.contains(['enum','multienum','parent_type','timeperiod','currency_id','radioenum'],fieldType)){operatorType='EnumOperator';}else if(fieldType==='bool'){operatorType='BoolOperator';}else{operatorType='DefaultOperator';}
return operatorType;},updateInputValues:function(updates){if(this.disposed){return;}
_.each(updates.properties,(inputValue,inputKey)=>{this[inputKey]=inputValue;});_.each(updates.events,(eventData)=>{this.listenTo(eventData.entity,eventData.eventName,_.bind(this.executeCallback,this,eventData.callback),this);});this._loading=false;if(updates.needsRendering){this.render();}else{if(!_.isEmpty(this._searchTerm)){this._setupSearchOptions();}
this._setupSelectAll();}
if(updates.needsUpdating){this.updateFilterOperatorWidget();}},executeCallback:function(callback,data){const response=callback(data);_.each(response,(inputValue,inputKey)=>{this[inputKey]=inputValue;});this._initProperties();},createOperatorController:function(operatorType,qualifierName,fieldType){const operatorController=new app.filterOperators[operatorType]({_qualifierName:qualifierName,_fieldType:fieldType,_filterData:this._filterData,_seedModule:this._seedModule,_seedFieldDef:this._seedFieldDef,_optionsList:this._optionsList,_users:this._users,});return operatorController;},isValid:function(){const data=this._filterData;const fieldTypesRequiringDates=['date','date-between','datetime-between','after','before','on','datetimecombo'];if(_.contains(fieldTypesRequiringDates,this._inputType)){let requiredValuesAreGiven;if(this._inputType==='datetime-between'){requiredValuesAreGiven=data.input_name0&&data.input_name1&&data.input_name2&&data.input_name3;}else if(this._inputType==='date-between'||this._inputType==='datetimecombo'){requiredValuesAreGiven=data.input_name0&&data.input_name1;}else{requiredValuesAreGiven=!_.isEmpty(data.input_name0);}
if(!requiredValuesAreGiven){return false;}
if(!_.isEmpty(data.input_name0)&&!this.isValidDatePickerFormat(this._inputValue)){return false;}
if(!_.isEmpty(data.input_name1)&&(this._inputType==='date-between'&&!this.isValidDatePickerFormat(this._inputValue1))||(this._inputType==='datetime-between'&&!this.isValidTimePickerFormat(this._inputValue1))){return false;}
if(!_.isEmpty(data.input_name2)&&this._inputType!=='datetimecombo'&&!this.isValidDatePickerFormat(this._inputValue2)){return false;}
if(!_.isEmpty(data.input_name3)&&(this._inputType==='date-between'&&!this.isValidDatePickerFormat(this._inputValue3))||(this._inputType==='datetime-between'&&!this.isValidTimePickerFormat(this._inputValue3))){return false;}}
if(!this._inputType||this._inputType==='empty'){return true;}
return(data.input_name0||data.input_name1||data.input_name2||data.input_name3);},isValidTimePickerFormat:function(time){const timeRegex=/^(?:(?:0?\d|1[0-2]):[0-5]\d)$/;const meridianLength=2;const validTime=time.substring(0,time.length-meridianLength);return timeRegex.test(validTime);},createTempRelateController:function(){this.disposeTempRelateController();this.tempRelateController=app.view.createField({def:this._seedFieldDef,view:this,viewName:'edit',model:this._inputValue,});this.tempRelateController._checkAccessToAction=function(){return true;};this.tempRelateController.render();this.$('[data-container="relate-input-container"]').append(this.tempRelateController.$el);},disposeTempRelateController:function(){if(this.tempRelateController){this.tempRelateController.dispose();this.tempRelateController=false;}},getSummaryText:function(){let filterValue=this._filterData.input_name0;let filterValue2=this._filterData.input_name1;const qualifierName=this._filterData.qualifier_name;if(_.isUndefined(filterValue)||filterValue==='undefined'){filterValue='';}
if(_.isUndefined(filterValue2)||filterValue2==='undefined'){filterValue2='';}
let prefixLabel=_.filter(this._operators,function getOperator(label,type){return type===this._filterData.qualifier_name;},this);let prefixEl=document.createElement('i');prefixEl.innerText=app.lang.get(_.first(prefixLabel),'Reports');let prefix=prefixEl.outerHTML;if(qualifierName===filterValue){return prefix;}
if(_.isArray(filterValue)){let filterValueLabels=[];if(!_.isEmpty(this._optionsList)){_.each(filterValue,function getLabels(filterValueKey){const filterValueLabel=this._optionsList[filterValueKey];if(filterValueLabel){filterValueLabels.push(filterValueLabel);}},this);filterValue=filterValueLabels;}else if(!this._seedFieldDef.options&&!this._seedFieldDef.enumOptions){_.each(filterValue,function translateLabels(value){filterValueLabels.push(this._users[value]||value);},this);filterValue=filterValueLabels;}
return prefix+' '+_.escape(_.sortBy(filterValue).join(', '));}
const fieldTypesRequiringDates=['date','date-between','datetime-between','after','before','on','datetimecombo'];if(_.contains(fieldTypesRequiringDates,this._inputType)){filterValue=this.toDisplayDate(filterValue);}
if(_.contains(['text-between','date-between'],this._inputType)){return prefix+' '+_.escape(filterValue+' '+app.lang.get('LBL_AND')+' '+this._inputValue1);}
if(_.contains(['datetimecombo'],this._inputType)){return prefix+' '+_.escape(this._inputValue+' '+this._inputValue1);}
if(_.contains(['datetime-between'],this._inputType)){return prefix+' '+_.escape(this._inputValue+' '+this._inputValue1+' '+
app.lang.get('LBL_AND')+' '+this._inputValue2+' '+this._inputValue3);}
return prefix+' '+_.escape((this._inputType==='relate'?filterValue2:filterValue));},getTooltipText:function(){const summaryText=this.getSummaryText();const title='<div class="runtime-filter-summary-tooltip">'+'<b>'+this._tooltipTitle+'</b><br>'+
summaryText+'</div>';return title;},toDisplayDate(filterDate){let dateFragments=filterDate.match(/([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})/);const yearIdx=1;const monthIdx=2;const dayIdx=3;if(!dateFragments){return filterDate;}
let displayDate=app.user.getPreference('datepref');displayDate=displayDate.replace('Y',dateFragments[yearIdx]);displayDate=displayDate.replace('m',dateFragments[monthIdx]);displayDate=displayDate.replace('d',dateFragments[dayIdx]);return displayDate;},changeFilterTime:function(dateKey,timeKey,newValue){const timeFragmentIdx=1;const datetimeFragments=this._filterData[dateKey].split(' ');const timeFragment=datetimeFragments[timeFragmentIdx];const time=app.date(newValue,['h:mma']).format('HH:mm:ss');this._filterData[dateKey]=this._filterData[dateKey].replace(timeFragment,time);this._filterData[timeKey]=newValue;this._initProperties();},toFilterDate:function(userDate,useTime,timeKey){timeKey=timeKey||'input_name1';const userDatePref=app.user.getPreference('datepref').toUpperCase();const unformattedDateTime=`${userDate} ${this._filterData[timeKey]}`;const tempFormat=`${userDatePref} h:mma`;const date=moment(unformattedDateTime,tempFormat);return useTime?date.format('YYYY-MM-DD HH:mm:ss'):date.format('YYYY-MM-DD');},isValidDatePickerFormat:function(date){const formattedDate=_.first(date.split(' '));const acceptedFormat=app.user.getPreference('datepref').toUpperCase();return moment(formattedDate,acceptedFormat,true).isValid();},showDatePrefMissmatchAlert:function(){const dateFormatMapping={'Y-m-d':'YYYY-MM-DD','m-d-Y':'MM-DD-YYYY','d-m-Y':'DD-MM-YYYY','Y/m/d':'YYYY/MM/DD','m/d/Y':'MM/DD/YYYY','d/m/Y':'DD/MM/YYYY','Y.m.d':'YYYY.MM.DD','d.m.Y':'DD.MM.YYYY','m.d.Y':'MM.DD.YYYY',};let userFormat=app.user.getPreference('datepref');const displayFormat=dateFormatMapping[userFormat]||userFormat;app.alert.show('date-format-error',{level:'warning',messages:app.lang.get('LBL_RUNTIME_FILTER_DATE_PREF_MISSMATCH')+displayFormat,});this.context.trigger('dashboard:filter:broken');},onDetach:function(){this.operatorController=false;this.disposeTempRelateController();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FilterOperatorManager.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('DashboardFilters',['view'],{onAttach:function(){this.on('init',function registerDashboardFilters(){});},initFiltersProperties:function(){this._activeFilterGroupId=false;this._hasGroupFilters=false;this._isGroupClicked=false;this._filterGroups={};this._filterGroupsView={};},invalidGroupSave:function(invalidGroups){this.markInvalidGroups(invalidGroups);},isValid:function(){let isValid=true;_.each(this._filterGroupsView,(group)=>{const groupValid=group.isValid();group.toggleGroupInvalid(!groupValid);if(isValid){isValid=groupValid;}});return isValid;},markInvalidGroups:function(groups){_.each(groups,(key)=>{const groupView=this._filterGroupsView[key];groupView.toggleGroupInvalid(true);});},destroyCurrentViews:function(){_.each(this._filterGroupsView,(group)=>{if(group&&_.isFunction(group.dispose)){group.dispose();}});this._filterGroupsView={};},createGroup:function(groupId,groupMeta,isSelected){this._filterGroups[groupId]=groupMeta;if(this.layout instanceof app.view.Layout&&_.isArray(this.layout.currentUserRestrictedGroups)){groupMeta.currentUserRestrictedGroup=_.contains(this.layout.currentUserRestrictedGroups,groupId);}
if(this._editMode&&isSelected){this.context.trigger('dashboard-filter-group-selected',groupId);this._activeFilterGroupId=groupId;}
this.createGroupFilter(groupId,groupMeta);},createGroupFilter:function(groupId,groupMeta){const widgetNo=Object.keys(this._filterGroups).length;const filterWidget=app.view.createView({type:'dashboard-filter-group-widget',module:'Home',editMode:this._editMode,groupId,groupMeta,widgetNo,});filterWidget.render();this.$('[data-container="group-filters-container"]').append(filterWidget.$el);this._filterGroupsView[groupId]=filterWidget;},handleDashboardFilters:function(filterGroups){this._activeFilterGroupId=false;this.destroyCurrentViews();this._filterGroups=filterGroups;if(!_.isEmpty(this._filterGroups)){this._activeFilterGroupId=_.first(_.keys(this._filterGroups));}
_.each(this._filterGroups,function createGroup(groupMeta,groupId){this.createGroup(groupId,groupMeta,groupId===this._activeFilterGroupId);},this);if(this._editMode){if(_.isEmpty(this._filterGroups)){this._createNewGroup();}}
this.notifyGroupsUpdated();},notifyGroupsUpdated:function(){this.context.trigger('filter-groups-updated',this._filterGroups,this._activeFilterGroupId);},notifyGroupsSelected:function(){this._isGroupClicked=true;this.context.trigger('filter-groups-updated',this._filterGroups,this._activeFilterGroupId,this._isGroupClicked);},onDetach:function(){this.destroyCurrentViews();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DashboardFilters.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('DashboardFiltersVisibility',['view','layout'],{getDashboardFilterActiveKey:function(){const dashboardFilterActiveKey=this.model.get('id')+':'+app.user.id+':'+this._dashboardFilterActiveKey;return dashboardFilterActiveKey;},initFiltersVisibilityProperties:function(){this._dashboardFilterActiveKey='dashboard-filter-active';this._filtersOnScreen=this.isDashboardFiltersPanelActive();},isDashboardFiltersPanelActive:function(){const dashboardFilterActiveKey=this.getDashboardFilterActiveKey();const dashboardFiltersActive=!!app.user.lastState.get(dashboardFilterActiveKey);return dashboardFiltersActive;},storeFilterPanelState:function(active){const dashboardFilterActiveKey=this.getDashboardFilterActiveKey();app.user.lastState.set(dashboardFilterActiveKey,active);},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DashboardFiltersVisibility.js */

(function register(app){app.events.on('app:init',function init(){function DateOperator(def){this.def=def;}
DateOperator.prototype.getUpdatedInput=function(callback){if(this.def._qualifierName==='between_dates'){callback(this.updateBetweenDatesFilterData());}else if(this.def._qualifierName==='between_datetimes'){callback(this.updateBetweenDatetimesFilterData());}else if(this.def._qualifierName.indexOf('_n_days')!=-1){callback(this.updateNthDays());}else if(_.contains(['date','datetime'],this.def._fieldType)){callback(this.updateDatetimeFilterData());}else if(this.def._fieldType==='datetimecombo'){callback(this.updateDatetimecomboFilterData());}
return{};};DateOperator.prototype.updateBetweenDatesFilterData=function(){return{properties:{_inputType:'date-between',_inputValue:this.toDisplayDate(this.def._filterData.input_name0),_inputValue1:this.toDisplayDate(this.def._filterData.input_name1),},};};DateOperator.prototype.updateBetweenDatetimesFilterData=function(){return{properties:{_inputType:'datetime-between',_inputValue:this.toDisplayDate(this.def._filterData.input_name0),_inputValue1:this.def._filterData.input_name1,_inputValue2:this.toDisplayDate(this.def._filterData.input_name2),_inputValue3:this.def._filterData.input_name3,},};},DateOperator.prototype.updateNthDays=function(){return{properties:{_inputType:'text',_inputValue:this.def._filterData.input_name0,},};},DateOperator.prototype.updateDatetimeFilterData=function(){return this.getDatetimeFilterData(this.def._qualifierName,'date',false);},DateOperator.prototype.updateDatetimecomboFilterData=function(){return this.getDatetimeFilterData(this.def._qualifierName,'datetimecombo',true);},DateOperator.prototype.getDatetimeFilterData=function(qualifierName,dateType,useTime){if(qualifierName.indexOf('tp_')===0){return{properties:{_inputType:'empty',},};}else{const updatedInputs={_inputType:dateType,_inputValue:this.toDisplayDate(this.def._filterData.input_name0),};if(useTime){updatedInputs._inputValue1=this.def._filterData.input_name1;}
return{properties:updatedInputs,};}},DateOperator.prototype.toDisplayDate=function(filterDate){let dateFragments=filterDate.match(/([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})/);const yearIdx=1;const monthIdx=2;const dayIdx=3;if(!dateFragments){return filterDate;}
let displayDate=app.user.getPreference('datepref');displayDate=displayDate.replace('Y',dateFragments[yearIdx]);displayDate=displayDate.replace('m',dateFragments[monthIdx]);displayDate=displayDate.replace('d',dateFragments[dayIdx]);return displayDate;},app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{DateOperator:DateOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/DateOperator.js */

(function register(app){app.events.on('app:init',function init(){function BetweenOperator(def){this.def=def;};BetweenOperator.prototype.getUpdatedInput=function(callback){callback({properties:{_inputType:'text-between',_inputValue:this.def._filterData.input_name0,_inputValue1:this.def._filterData.input_name1,},});};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{BetweenOperator:BetweenOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/BetweenOperator.js */

(function register(app){app.events.on('app:init',function init(){function EnumOperator(def){this.def=def;}
EnumOperator.prototype.getUpdatedInput=function(callback){this.updateEnumFilterData(callback);};EnumOperator.prototype.updateEnumFilterData=function(callback){if(this.def._optionsList){this.updateEnumOptionsList(callback,false);return;}
app.api.call('read',app.api.buildURL(`${this.def._seedModule}/enum/${this.def._seedFieldDef.name}`),null,{success:(optionsList)=>{this.def._optionsList=optionsList;this.updateEnumOptionsList(callback,true);},error:()=>{callback({properties:{_loading:false,},});},});},EnumOperator.prototype.updateEnumOptionsList=function(callback,needsUpdating){let _inputData=this.def._optionsList;let _inputType='';let _inputValue={};let _inputValue1={};let _needsRendering=true;if(!_.isEmpty(this.def._seedFieldDef.enumOptions)){_inputData=this.def._seedFieldDef.enumOptions;}
if(!_.isEmpty(_inputData)){delete _inputData[''];}
if(_.contains(['one_of','not_one_of'],this.def._qualifierName)){_inputType='enum-multiple';_inputValue={};_inputValue1={};if(!needsUpdating){_needsRendering=false;}
_.each(this.def._filterData.input_name0,function getOptions(option){_inputValue[option]=_inputData[option];},this);_.each(_inputData,function getOptions(option,key){if(!_.has(_inputValue,key)&&option){_inputValue1[key]=option;}},this);}else{_inputType='enum-single';const choices=this.def._filterData.input_name0;_inputValue=_.first(choices);if(!_inputValue){const firstEnumChoice=_.chain(_inputData).keys().first().value();_inputValue=firstEnumChoice;this.def._filterData.input_name0=[_inputValue];}}
callback({properties:{_optionsList:this.def._optionsList,_filterData:this.def._filterData,_loading:false,_inputData,_inputType,_inputValue,_inputValue1,},needsUpdating,needsRendering:_needsRendering,});},app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{EnumOperator:EnumOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/EnumOperator.js */

(function register(app){app.events.on('app:init',function init(){function EmptyOperator(def){this.def=def;};EmptyOperator.prototype.getUpdatedInput=function(callback){callback({properties:{_inputType:false,},});};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{EmptyOperator:EmptyOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/EmptyOperator.js */

(function register(app){app.events.on('app:init',function init(){function DefaultOperator(def){this.def=def;};DefaultOperator.prototype.getUpdatedInput=function(callback){callback({properties:{_inputType:'text',_inputValue:this.def._filterData?this.def._filterData.input_name0:'',},});};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{DefaultOperator:DefaultOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/DefaultOperator.js */

(function register(app){app.events.on('app:init',function init(){function BoolOperator(def){this.def=def;};BoolOperator.prototype.getUpdatedInput=function(callback){let _inputValue=_.first(this.def._filterData.input_name0);if(!_inputValue){_inputValue='yes';this.def._filterData.input_name0=[_inputValue];}
callback({properties:{_inputType:'enum-single',_inputData:{yes:'yes',no:'no'},_inputValue,},});};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{BoolOperator:BoolOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/BoolOperator.js */

(function register(app){app.events.on('app:init',function init(){function RelateOperator(def){this.def=def;};RelateOperator.prototype.getUpdatedInput=function(callback){if(_.contains(['is','is_not'],this.def._qualifierName)){const _seedFieldDef=this.def._seedFieldDef;const filterData=this.def._filterData;_seedFieldDef.type='relate';_seedFieldDef.id_name='id_relate_filter_operator';_seedFieldDef.module=_seedFieldDef.ext2?_seedFieldDef.ext2:this.def._seedModule;const _inputValue=app.data.createBean(_seedFieldDef.module);_inputValue.set(_seedFieldDef.id_name,filterData.input_name0);_inputValue.set(_seedFieldDef.name,filterData.input_name1);callback({properties:{_inputType:'relate',_seedFieldDef,_inputValue,},events:{relateChangeEvent:{entity:_inputValue,eventName:'change:'+_seedFieldDef.name,callback:_.bind(this.relateChanged,this),},},});}else{callback({properties:{_inputType:'text',_inputValue:this.def._filterData.input_name0,},});}};RelateOperator.prototype.relateChanged=function(model){const _filterData=this.def._filterData;const _seedFieldDef=this.def._seedFieldDef;_filterData.input_name0=model.get(_seedFieldDef.id_name);_filterData.input_name1=model.get(_seedFieldDef.name);return{_filterData,};};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{RelateOperator:RelateOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/RelateOperator.js */

(function register(app){app.events.on('app:init',function init(){function UsernameOperator(def){this.def=def;};UsernameOperator.prototype.getUpdatedInput=function(callback){if(_.contains(['one_of','not_one_of'],this.def._qualifierName)){let _inputType='select-multiple';let _inputValue={};let _inputValue1={};_.each(this.def._filterData.input_name0,function getOptions(option){_inputValue[option]=this.def._users[option];},this);_.each(this.def._users,function getOptions(option,key){if(!_.has(_inputValue,key)){_inputValue1[key]=option;}},this);callback({properties:{_inputType,_inputValue,_inputValue1,},needsRendering:true,});}else{const choices=this.def._filterData.input_name0;_inputValue=_.first(choices);if(!_inputValue){this.def._filterData.input_name0=[_.chain(this.def._users).keys().first().value()];}
callback({properties:{_inputType:'select-single',_inputValue:_.first(this.def._filterData.input_name0),},needsRendering:true,});}};app.filterOperators=app.filterOperators||{};app.filterOperators=_.extend(app.filterOperators,{UsernameOperator:UsernameOperator});});})(SUGAR.App);
/* End of File include/javascript/sugar7/filter-operators/UsernameOperator.js */

(function(){const maps={getBingPreviewUrl:function getBingScriptUrl(){return'https://www.bing.com/mapspreview/sdk/mapcontrol';},loadScript:function(src){let scriptEl=document.createElement('script');scriptEl.type='text/javascript';scriptEl.src=src;scriptEl=this._loadScriptErrorHandling(scriptEl);document.head.append(scriptEl);},_loadScriptErrorHandling:function(script){script.addEventListener('error',function errorLoadScript(){reject(new Error('Error loading'+script));});return script;}};const bingUrl=maps.getBingPreviewUrl();maps.loadScript(bingUrl);}());
/* End of File include/javascript/bingMaps/bingMaps.js */

(function register(app){app.events.on('app:init',function init(){app.plugins.register('MappableList',['view'],{listMapView:null,onAttach:function(component,plugin){this.on('init',function registerActionrRunner(){this._injectMapButtons();return true;});},onDetach:function(){if(_.has(this,'layout')&&this.layout&&_.isFunction(this.layout.off)){this.layout.off('list:massmapdraw:fire',null,this);this.layout.off('list:massdirectionsfromuserdraw:fire',null,this);this.layout.off('list:massdirectionsfromrecorddraw:fire',null,this);}},delegateListFireEvents:function(){if(_.has(this,'layout')&&this.layout&&_.isFunction(this.layout.on)){this.layout.on('list:massmapdraw:fire',_.bind(this.handleDrawMap,this));this.layout.on('list:massdirectionsfromuserdraw:fire',_.bind(this.handleDrawDirectionsFromUser,this));this.layout.on('list:massdirectionsfromrecorddraw:fire',_.bind(this.handleDrawDirectionsFromRecord,this));}},handleDrawMap:function(e){const selectedRecords=_.extend({},this.context.get('mass_collection').models);this.listMapView.createMap(selectedRecords);},handleDrawDirections:function(startPoint){const selectedRecords=_.extend({},this.context.get('mass_collection').models);this.listMapView.createMap(selectedRecords,{directions:{startPoint:startPoint,},});},handleDrawDirectionsFromUser:function(e){this.handleDrawDirections({module:'Users',id:app.user.id});},handleDrawDirectionsFromRecord:function(record){this.handleDrawDirections({module:record.module,id:record.get('id')});},_injectMapButtons:function(){if(!app.user.hasMapsLicense()){return false;}
if(!_.has(app.config,'maps')){return false;}
if(!_.has(app.config.maps,'enabled_modules')){return false;}
const enabledModulesKey='enabled_modules';const allowedModules=app.config.maps[enabledModulesKey];const directionButton={name:'drawdirections_button',label:'LBL_MAP_DIRECTIONS_FROM_USER',events:{click:'list:massdirectionsfromuserdraw:fire',},type:'button',};const mapButton={name:'drawmap_button',label:'LBL_MAP_MAP',events:{click:'list:massmapdraw:fire',},type:'button',};this.listMapView=this._getListMapComponent(this.layout);if(!this.listMapView||!this.meta||!_.contains(allowedModules,this.module)){return;}
this.meta.selection.actions.push(mapButton);this.meta.selection.actions.push(directionButton);this.delegateListFireEvents();if(this.type==='recordlist'){let insertAtIdx=this.meta.rowactions.actions.findIndex(function find(btn){return btn.name==='delete_button'||btn.name==='unlink_button';});if(insertAtIdx===-1){insertAtIdx=this.meta.rowactions.actions.length;}
const listDirectionButton=_.extend(app.utils.deepCopy(directionButton),{label:'LBL_MAP_DIRECTIONS_FROM_RECORD',events:{click:'list:massdirectionsfromrecorddraw:fire',},});this.meta.rowactions.actions.splice(insertAtIdx,0,{type:'divider'});this.meta.rowactions.actions.splice(insertAtIdx+1,0,listDirectionButton);this.meta.rowactions.actions.splice(insertAtIdx+2,0,{type:'divider'});}},_getListMapComponent:function(layout){if(layout){return layout.getComponent('list-map')||this._getListMapComponent(layout.layout);}
return false;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MappableList.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MappableRecord',['view'],{onAttach:function(component,plugin){this.on('init',function(){if(!app.user.hasMapsLicense()){return;}
if(!this._isModuleEnabled()){return;}
let geocodingMeta=[{'type':'rowaction','event':'button:geocoding_record:click','name':'geocoding_record','label':'LBL_MAP_GEOCODING_RECORD','acl_action':'view',},{'type':'divider',},{'type':'rowaction','event':'button:showmap:click','name':'showmap_button','label':'LBL_MAP_MAP','acl_action':'view',},{'type':'divider',},{'type':'rowaction','event':'button:directionsfromuser:click','name':'drawdirections_button','label':'LBL_MAP_DIRECTIONS_FROM_USER','acl_action':'view',},{'type':'divider',},];let dropdown=this.getRecordMainDropdown();if(_.isArray(dropdown)){dropdown.push(...geocodingMeta);this._registerGeocodingButtonEvents();}},this);},onDetach:function(component,plugin){this.context.off('button:geocoding_record:click',this.openManualGeocodingDrawer,this);this.context.off('button:directionsfromuser:click',this.showDirectionsFromUser,this);this.context.off('button:showmap:click',this.showMap,this);},_registerGeocodingButtonEvents:function(){this.context.on('button:geocoding_record:click',this.openManualGeocodingDrawer,this);this.context.on('button:directionsfromuser:click',this.showDirectionsFromUser,this);this.context.on('button:showmap:click',this.showMap,this);},openManualGeocodingDrawer:function(){app.drawer.open({layout:'maps-manual-geocoding',module:'Geocode',context:app.controller.context,},_.bind(function notifyListeners(){this.trigger('maps-manual-geocoding-finished');},this));},showDirectionsFromUser:function(){app.controller.context.showDirections=true;app.drawer.open({layout:'record-map',context:app.controller.context,meta:{showDirections:true,}});},showMap:function(){app.controller.context.showDirections=false;app.drawer.open({layout:'record-map',context:app.controller.context,});},getRecordMainDropdown:function(){if(this.meta.buttons){let mainDropdown=_.filter(this.meta.buttons,function(button){return button.name==='main_dropdown';});if(_.isArray(mainDropdown)&&_.isEmpty(mainDropdown)===false){return _.first(mainDropdown).buttons;}}
return null;},_isModuleEnabled:function(){if(!_.has(app.config.maps,'enabled_modules')){return false;}
const enabledModulesKey='enabled_modules';const allowedModules=app.config.maps[enabledModulesKey];if(allowedModules.indexOf(this.module)>-1){return true;}
return false;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MappableRecord.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FieldErrorCollection',['view'],{_errorCollection:undefined,onAttach:function(component,plugin){this._errorCollection=new Backbone.Collection();this.once('init',function(){this.context.on('field:error',this.handleErrorEvent,this);},this);},onDetach:function(component,plugin){this.context.off('field:error',null,this);},handleErrorEvent:function(field,addError){addError=_.isUndefined(addError)?true:addError;if(addError){this._errorCollection.add(field.model);}else{this._errorCollection.remove(field.model);}
this.context.trigger('plugin:fieldErrorCollection:hasFieldErrors',this._errorCollection,this.hasFieldErrors());},hasFieldErrors:function(){return(this._errorCollection.length>0);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FieldErrorCollection.js */

(function(app){app.events.on("app:init",function(){var sync=function(method,model,options){options=app.data.parseOptionsForSync(method,model,options);var callbacks=app.data.getSyncCallbacks(method,model,options),path=(this.dashboardModule==='Home'||model.id)?this.apiModule:this.apiModule+'/'+this.dashboardModule;app.api.records(method,path,model.attributes,options.params,callbacks);},Dashlet=app.Bean.extend({sync:sync,apiModule:'Dashboards',module:'Home'});app.plugins.register('Dashlet','view',{rowHeight:42,maxHeightTarget:'',onAttach:function(){this.on("init",function(){this.dashletConfig=app.metadata.getView(this.module,this.name);this.dashModel=this.layout.context.get('model');var settings=_.extend({},this.meta),viewName='main',buildGrid=false;delete settings.panels;delete settings.action;delete settings.dependencies;delete settings.buttons;this.settings=new Dashlet(settings);if(_.contains(['multi-line','focus'],this.context.get('layout'))&&settings.module===null){settings.module=this.module;}
if(settings.module&&this.context.parent){this.model=this.context.parent.get('model');}
if(this.meta&&this.meta.config){viewName='config';this.action='edit';this.model=this.context.parent?this.context.parent.get('model'):this.model;this.dashModel.set(settings);this.dashModel.set("componentType",(this instanceof app.view.Layout)?"layout":"view");this.settings.on("change",function(model){this.dashModel.set(model.changed);},this);this.meta.panels=this.dashletConfig.panels;var templateName=this.name+'.dashlet-config';this.template=app.template.getView(templateName,this.module)||app.template.getView(templateName);if(!this.template){this.template=app.template.getView('dashletconfiguration-edit')||app.template.empty;var originalPlugins=this.plugins;this.plugins=['GridBuilder'];app.plugins.attach(this,'view');this.plugins=_.union(this.plugins,originalPlugins);buildGrid=true;}}else if(this.meta&&this.meta.preview){viewName='preview';this.settings.module=this.module;var templateName=this.name+'.dashlet-preview';this.template=app.template.getView(templateName,this.module)||app.template.getView(templateName)||this.template;}else{this.settings.module=this.module;}
if(this.initDashlet&&_.isFunction(this.initDashlet)){this.initDashlet(viewName);var height=this.calculateMaxHeight();if(_.isNumber(height)){var $target=this.$(this.maxHeightTarget||this.$el);$target.css('max-height',height+'px');}}
if(buildGrid){this._buildGridsFromPanelsMetadata();}
if(!_.isUndefined(this.layout)){this.listenTo(this.layout.context,'dashboard-filter-mode-changed',this.toggleFilterMode,this);this.listenTo(this.layout.context,'refresh-dashlet-results',this.refreshDashletResults,this);this.listenTo(this.layout.context,'silent-refresh-dashlet-results',this.silentRefreshDashletResults,this);this.listenTo(this.context,'refresh-results-complete',this.refreshDashletComplete,this);this.listenTo(this.context,'filters-loaded-successfully',this.sendDashboardFilters,this);this.listenTo(this.layout.context,'dashboard-filter-group-highlight',this.highlightFilterGroup,this);this.listenTo(this.context,'dashlet-finished-loading',this.dashletFinishedLoading,this);}});this.once('render',function(){app.analytics.trackPageView('/dashlet/'+this.name);});},sendDashboardFilters:function(){const dashboardFilters=this.layout.model.get('metadata').filters;const dashletId=this.layout.el.getAttribute('data-gs-id');const filtersAffected=[];_.each(dashboardFilters,(filterGroup)=>{_.each(filterGroup.fields,(field)=>{if(field.dashletId===dashletId){filtersAffected.push(field);}});});this.context.trigger('dashboard-filters-meta-ready',filtersAffected);},toggleFilterMode:function(state,refetch){if(state==='edit'){this._createFilterMode();}else{this.refreshDashletResults(refetch);}},dashletFinishedLoading:function(){this.isDashletLoading=false;},_createFilterMode:function(){this.$el.children().hide();this._filterModeController=app.view.createView({context:this.layout.context,type:'dashlet-filter-mode',module:this.module,layout:this.layout,model:this.settings,dashletSpecificData:this.getDashletSpecificData?this.getDashletSpecificData():{},manager:this,});this._filterModeController.show();this.$el.append(this._filterModeController.$el);},_destroyFilterMode:function(){if(this._filterModeController){this._filterModeController.hide();this._filterModeController.dispose();this._filterModeController=false;this.$el.children().show();this.context.trigger('dashlet:mode:loaded');}},refreshDashletComplete:function(){this._destroyFilterMode();},highlightFilterGroup:function(dashletIds,highlight){const dashletId=this.layout.el.getAttribute('data-gs-id');const dashletEl=this.layout.$el.find('[data-type="dashlet"]');if(_.includes(dashletIds,dashletId)&&dashletEl.length===1){dashletEl.toggleClass('dashlet-widget-highlight',highlight);dashletEl.toggleClass('border-none',!highlight);}},refreshDashletResults:function(refetch){if(_.isFunction(this.refreshResults)&&refetch){this.refreshResults();}else{this._destroyFilterMode();}},silentRefreshDashletResults:function(refetch){if(_.isFunction(this.silentRefreshResults)&&refetch){this.silentRefreshResults();}else{this._destroyFilterMode();}},_buildGridsFromPanelsMetadata:function(){_.each(this.meta.panels,function(panel){if(!_.isUndefined(this.getLabelPlacement)){panel.labelsOnTop=this.getLabelPlacement();}
_.each(panel.fields,function(field,index){if(_.isString(field)){panel.fields[index]=field={name:field};}
field.labelsOnTop=panel.labelsOnTop;},this);if(_.isUndefined(panel.labels)){panel.labels=true;}
if(panel.hide){this.hiddenPanelExists=true;}
if(_.isFunction(this.getGridBuilder)){var options={fields:panel.fields,columns:panel.columns,labels:panel.labels,labelsOnTop:panel.labelsOnTop,tabIndex:0},gridResults=this.getGridBuilder(options).build();panel.grid=gridResults.grid;}},this);},calculateMaxHeight:function(){if(!this.triggerBefore('calculateMaxHeight')){return false;}
if(!this.meta.config&&this.settings.has('limit')){return this.settings.get('limit')*this.rowHeight;}},onDetach:function(){this.settings.off();delete this.dashletConfig;delete this.dashModel;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Dashlet.js */

(function(app){app.events.on("app:init",function(){var hashKey=null;var pinged=false;app.plugins.register('Connector',['view'],{checkConnector:function(name,successCall,errorCall,connectorCriteria){var connectors,connector=null;var self=this;var successCallWrapper=_.bind(function(){this.checkConnector(name,successCall,errorCall,connectorCriteria);},this);if(hashKey===null){pinged=true;this.getConnectors(name,successCallWrapper);}
else{connectors=app.cache.get(hashKey);if(connectors&&connectors[name]){connector=connectors[name];}
if((connector)&&(this.checkCriteria(connector,connectorCriteria))){connector.connectorHash=hashKey;successCall(connector);}
else{if(pinged===false){pinged=true;_.defer(function(){self.getConnectors(name,successCallWrapper);});}
else{pinged=false;errorCall(connector);}}}},checkCriteria:function(connector,criteria){var check=true;_.each(criteria,function(criterion){if(criterion==='test_passed'){if(connector.testing_enabled){check=check&&connector.test_passed;}}
else{check=check&&connector[criterion];}
if(!check){return check;}});return check;},getConnectorModuleFieldMapping:function(connector,module){var connectors=app.cache.get(hashKey);var mappings={};if(connectors[connector]&&connectors[connector].field_mapping&&connectors[connector].field_mapping.beans&&connectors[connector].field_mapping.beans[module]){mappings=connectors[connector].field_mapping.beans[module];}
return mappings;},getConnectors:function(name,successCall){var connectorURL=app.api.buildURL('connectors');app.api.call('GET',connectorURL,{},{success:function(data){hashKey=data['_hash'];app.cache.set(hashKey,data['connectors']);successCall();}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Connector.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Audit',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:audit_button:click',this.auditClicked,this);});},auditClicked:function(){var context=this.context.getChildContext({module:'Audit',model:this.context&&this.context.get('model')||this.model});app.drawer.open({layout:'audit',context:context});},onDetach:function(component,plugin){this.context.off('button:audit_button:click',this.auditClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Audit.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CommittedDeleteWarning',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('record:deleted',this.showDeleteRecordCommitWarning,this);this.layout.on('list:records:deleted',this.showDeleteRecordCommitWarning,this);this.layout.on('list:record:deleted',this.showDeleteRecordCommitWarning,this);});},showDeleteRecordCommitWarning:function(deletedModel){var message=null;if(this.checkDeletedModel(deletedModel)){var forecastModuleSingular=app.lang.getModuleName('Forecasts');message=app.lang.get('WARNING_DELETED_RECORD_RECOMMIT_1','Forecasts')
+'<a href="#Forecasts">'+forecastModuleSingular+'</a>.  '
+app.lang.get('WARNING_DELETED_RECORD_RECOMMIT_2','Forecasts')
+'<a href="#Forecasts">'+forecastModuleSingular+'</a>.';app.alert.show('included_list_delete_warning',{level:'warning',messages:message,onLinkClick:function(){app.alert.dismissAll();}});}
return message;},checkDeletedModel:function(deletedModel){var showWarning=false;if(_.isArray(deletedModel)){showWarning=_.find(deletedModel,function(model){return this._checkDeletedModel(model);},this);}else{showWarning=this._checkDeletedModel(deletedModel);}
return showWarning;},_checkDeletedModel:function(deletedModel){var showDeleteWarning=false;if(deletedModel.module==='Opportunities'&&deletedModel.get('included_revenue_line_items')){showDeleteWarning=true;}else{var config=app.metadata.getModule('Forecasts','config');if(_.contains(config.commit_stages_included,deletedModel.get('commit_stage'))){showDeleteWarning=true;}}
return showDeleteWarning;},onDetach:function(component,plugin){this.context.off('record:deleted',null,this);this.layout.off('list:record:deleted',null,this);this.layout.off('list:records:deleted',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CommittedDeleteWarning.js */

(function(app){app.events.on('app:init',function(){var createDuplicateCollection,duplicateCheckIsDisabledHandler;duplicateCheckIsDisabledHandler=function(collection,options){var errorMessage;options=options||{};collection.dataFetched=true;errorMessage=app.lang.get('ERR_DUPLICATE_CHECK_IS_DISABLED',collection.module,{module:collection.module});collection.trigger('duplicatecheck:error',new Error(errorMessage));if(options.success){options.success(collection,undefined,{});}};createDuplicateCollection=function(dupeCheckModel,module){var collection=app.data.createBeanCollection(module||this.module),collectionSync=collection.sync;_.extend(collection,{dupeCheckModel:dupeCheckModel,sync:function(method,model,options){var checkForDuplicates,metadata;options=options||{};checkForDuplicates=_.isEmpty(model.filterDef);metadata=app.metadata.getModule(this.module);if(checkForDuplicates){options.endpoint=_.bind(this.endpoint,this);}
if(checkForDuplicates&&!metadata.dupCheckEnabled){duplicateCheckIsDisabledHandler(this,options);}else{collectionSync(method,model,options);}},endpoint:function(method,model,options,callbacks){var url=app.api.buildURL(this.module,'duplicateCheck');var data=app.data.getEditableFields(this.dupeCheckModel);return app.api.call('create',url,data,callbacks);}});return collection;};app.plugins.register('FindDuplicates',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:find_duplicates_button:click',this.findDuplicatesClicked,this);});},findDuplicatesClicked:function(){this.findDuplicates(this.model);},findDuplicates:function(dupeCheckModel){app.drawer.open({layout:'find-duplicates',context:{layoutName:'records',dupelisttype:'dupecheck-list-multiselect',collection:this.createDuplicateCollection(dupeCheckModel),model:app.data.createBean(this.module),module:this.module}},_.bind(function(refresh,primaryRecord){if(this.closestComponent('side-drawer')){if(primaryRecord){let currentTabIndex=app.sideDrawer.activeTabIndex;if(dupeCheckModel.id===primaryRecord.id){app.sideDrawer.switchTab(currentTabIndex);}else{app.sideDrawer.closeTab(currentTabIndex);}}}else if(refresh&&dupeCheckModel.id===primaryRecord.id){app.router.refresh();}else if(refresh){app.navigate(this.context,primaryRecord);}},this));},createDuplicateCollection:createDuplicateCollection,onDetach:function(component,plugin){this.context.off('button:find_duplicates_button:click',this.findDuplicatesClicked,this);}});app.plugins.register('FindDuplicates',['layout'],{createDuplicateCollection:createDuplicateCollection});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FindDuplicates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MergeDuplicates',['view'],{_minRecordsToMerge:2,_maxRecordsToMerge:5,mergeDuplicates:function(mergeCollection,primaryRecord){if(_.isEmpty(mergeCollection)){return;}
if(!_.isEmpty(primaryRecord)){mergeCollection.add(primaryRecord,{at:0,silent:true});}
var models=this._validateModelsForMerge(mergeCollection.models);if(!this.triggerBefore('mergeduplicates',models)){return;}
if(this._validateAcl(models,mergeCollection)===false){this._showAclAlert(models,mergeCollection,primaryRecord);return;}
if(this._validateIsAnyEditable(models)===false){this._showNoEditAlert();return;}
if(this._hasLockedFields(models)===true){this._showLockedAlert();return;}
if(this._validateSize(models)===false){this._showSizeAlert();return;}
this._openMergeDrawer(models,mergeCollection,primaryRecord);},_validateAcl:function(models,collection){return models.length===collection.models.length;},_showAclAlert:function(models,collection,primary){var self=this;app.alert.show('invalid-record-access',{level:'confirmation',messages:app.lang.get('LBL_MERGE_NO_ACCESS_TO_A_FEW_RECORDS',this.module),onConfirm:function(){if(self._validateIsAnyEditable(models)===false){self._showNoEditAlert();return;}
if(self._validateSize(models)===false){self._showSizeAlert();return;}
self._openMergeDrawer(models,collection,primary);}});},_validateIsAnyEditable:function(models){return _.some(models,function(model){return app.acl.hasAccessToModel('edit',model);});},_hasLockedFields:function(models){return _.some(models,function(model){return!_.isEmpty(model.get('locked_fields'));});},_showNoEditAlert:function(){var msg=app.lang.get('LBL_MERGE_NO_ACCESS',this.module);app.alert.show('no-record-to-edit',{level:'error',messages:msg});},_showLockedAlert:function(){var msg=app.lang.get('LBL_MERGE_LOCKED',this.module);app.alert.show('contains-locked-fields',{level:'warning',autoclose:false,messages:msg});},_validateSize:function(models){var isValidSize=models.length&&models.length>=this._minRecordsToMerge&&models.length<=this._maxRecordsToMerge;return isValidSize;},_showSizeAlert:function(){var msg=app.lang.get('TPL_MERGE_INVALID_NUMBER_RECORDS',this.module,{minRecords:this._minRecordsToMerge,maxRecords:this._maxRecordsToMerge});app.alert.show('invalid-record-count',{level:'error',messages:msg});},_openMergeDrawer:function(models,collection,primary){var primaryId=(primary&&primary.id)||null;app.drawer.open({layout:'merge-duplicates',context:{primary:primary||null,module:this.module,selectedDuplicates:models}},_.bind(function(refresh,primary){if(refresh){this.trigger('mergeduplicates:complete',primary);collection.reset();}else{collection.remove(primaryId);}},this));},_validateModelsForMerge:function(models){return _.filter(models,function(model){return _.every(['view','delete'],function(acl){return app.acl.hasAccessToModel(acl,model);});},this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MergeDuplicates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DragdropAttachments',['view','field'],{events:{'dragenter [data-attachable=true]':'expandNewPost','dragover [data-attachable=true]':'dragoverNewPost','dragleave [data-attachable=true]':'shrinkNewPost','drop [data-attachable=true]':'dropAttachment'},expandNewPost:function(event){this.$(event.currentTarget).addClass('dragdrop');return false;},dragoverNewPost:function(event){return false;},shrinkNewPost:function(event){event.stopPropagation();event.preventDefault();this.$(event.currentTarget).removeClass('dragdrop');return false;},dropAttachment:function(event){if(!this.triggerBefore('attachments:drop',event)){return;}
this._onAttachmentDropDefault(event);this.trigger('attachments:drop',event);},_onAttachmentDropDefault:function(event){var text=event.originalEvent.dataTransfer.getData('text').trim();var container=this.$(event.currentTarget);this.shrinkNewPost(event);if(text.length){container.append(' '+text).trigger('change');}
_.each(event.originalEvent.dataTransfer.files,function(file,i){var fileReader=new FileReader();fileReader.onload=(function(file,view){return function(e){var container,sizes=['B','KB','MB','GB'],size_index=0,size=file.size,unique=_.uniqueId('activitystream_attachment');if(size>app.config.uploadMaxsize){app.alert.show('file_too_big',{level:'error',messages:'ERROR_MAX_FILESIZE_EXCEEDED'});return;}
while(size>1024&&size_index<sizes.length-1){size_index++;size /=1024;}
size=Math.round(size);view.dragdrop_attachments=view.dragdrop_attachments||{};view.dragdrop_attachments[unique]=file;container=$("<div class='activitystream-pending-attachment' id='"+unique+"'></div>");var $close=$('<a class="close">&times;</a>');$close.on('click',function(e){container.trigger('close');}).appendTo(container);app.accessibility.run($close,'click');container.append(file.name+' ('+size+' '+sizes[size_index]+')');if(file.type.indexOf('image/')!==-1){container.append("<img style='display:block;' src='"+e.target.result+"' />");}else{container.append('<div>No preview available</div>');}
container.appendTo(view.$(event.currentTarget).parent());container.on('close',function(){$(this).remove();delete view.dragdrop_attachments[container.attr('id')];view.trigger('attachments:remove');});view.trigger('attachments:add');};})(file,this);fileReader.readAsDataURL(file);},this);event.stopPropagation();event.preventDefault();},getAttachments:function(){return this.dragdrop_attachments||{};},clearAttachments:function(){this.$('.activitystream-pending-attachment').trigger('close');this.dragdrop_attachments={};},onAttach:function(component,plugin){component.on('render',function(){this.$('[data-attachable=true]').attr('dropzone','copy');});component.on('attachments:process',function(){var self=this,attachments=this.getAttachments(),callback=_.after(_.size(attachments),this.clearAttachments),noteAttrs=this._mapNoteParentAttributes();component.trigger('attachments:start');if(_.size(attachments)>0){app.alert.show('uploading_attachments',{level:'process',title:app.lang.get('LBL_UPLOADING')});}
_.each(attachments,function(file){var note=app.data.createBean('Notes');note.set(_.extend({'name':file.name,'assigned_user_id':app.user.id},noteAttrs));async.waterfall([function(callback){note.save(null,{success:function(noteModel){callback(null,noteModel);},error:function(){callback(true);}});},function(note,callback){var data=new FormData(),url=app.api.buildFileURL({module:note.module,id:note.id,field:'filename'});data.append('filename',file);data.append('OAuth-Token',app.api.getOAuthToken());$.ajax({url:url,type:'POST',data:data,processData:false,contentType:false}).then(function(){callback(null);},function(){callback(true);});},function(callback){var activity=app.data.createBean('Activities'),payload={activity_type:'attach',parent_id:noteAttrs.parent_id||null,parent_type:noteAttrs.parent_type||null,data:{noteId:note.id,filename:file.name,mimetype:file.type,size:file.size}};activity.save(payload,{success:function(activityModel){self.collection.add(activityModel);callback(null,activityModel);},error:function(){callback(true);}});}],function(err,activity){var options;app.alert.dismiss('uploading_attachments');component.trigger('attachments:end');if(err){app.alert.show('upload_failed',{level:'error',messages:app.lang.get('LBL_EMAIL_ATTACHMENT_UPLOAD_FAILED')});}else{options=_.extend({recursive:false},self.context.get('collectionOptions')||{});self.context.reloadData(options);self.clearAttachments.call(self);}});});});},_mapNoteParentAttributes:function(){var parentId=this.context.parent.get('model').id;var parentType=this.context.parent.get('model').module;if(parentType&&parentId){switch(parentType){case'Contacts':return{'parent_id':parentId,'parent_type':parentType,'contact_id':parentId};case'Home':return{'parent_type':parentType};default:return{'parent_id':parentId,'parent_type':parentType};}}else if(parentType){return{'parent_type':parentType};}
return{};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DragdropAttachments.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('FileDragoff',['view'],{events:{'dragstart .dragoff':'saveAttachment'},saveAttachment:function(event){if(event.dataTransfer&&event.dataTransfer.constructor==Clipboard&&event.dataTransfer.setData('DownloadURL','http://www.sugarcrm.com')){var el=$(event.currentTarget),mime,name,file;while(el!==this.$el&&!el.data("url")){el=el.parent();}
mime=el.data("mime");name=el.data("filename");file=el.data("url");event.dataTransfer.setData("DownloadURL",mime+":"+name+":"+file);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FileDragoff.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Dropdown',['layout','view'],{events:{'keydown':'handleDropdownKeydown','shown.bs.dropdown .dropdown':'_toggleAria','hidden.bs.dropdown .dropdown':'_toggleAria'},onAttach:function(component,plugin){this.on('init',function(){if(app.bwc){this.listenTo(app.bwc,'clicked',this.closeDropdown);}
app.routing.before('route',this.closeDropdown,this);});this.on('render',function(){this.$('[data-bs-toggle="dropdown"]').attr('aria-haspopup',true).attr('aria-expanded',false);});},isDropdownOpen:function(){return!!this.$('[data-bs-toggle="dropdown"]').hasClass('show');},handleDropdownKeydown:function(event){var $items,$focusItem,keysCaptured;if(!this.isDropdownOpen()){return;}
if(event.keyCode===$.ui.keyCode.ESCAPE||event.keyCode===$.ui.keyCode.TAB){this.closeDropdown();}else{$items=this._getDropdownItems();$focusItem=$items.filter(':focus');this._focusSubmenuItem(event.keyCode,$items.index($focusItem),$items);}
keysCaptured=[$.ui.keyCode.ESCAPE,$.ui.keyCode.UP,$.ui.keyCode.DOWN];if(_.contains(keysCaptured,event.keyCode)){event.stopPropagation();event.preventDefault();}},handleDropdownToggle:function(event){this._toggleAria(event);},_getDropdownItems:function(){let selector='[role=menu] li:not(.divider) a:visible, [role=menu] li:not(.divider) button:visible';return this.$(this.dropdownItemSelector||selector);},_focusSubmenuItem:function(key,index,$items){var $menuItemToFocus;if(key===$.ui.keyCode.UP&&index>0){index--;}
if(key===$.ui.keyCode.DOWN&&index<$items.length-1){index++;}
if(!~index){index=0;}
$menuItemToFocus=$items.eq(index).focus();this._scrollToMenuItem($menuItemToFocus);},_scrollToMenuItem:function($menuItem){var $dropdownMenu=this.$('.dropdown-menu'),menuHeight,menuItemHeight,menuItemTopPosition;if($dropdownMenu.hasClass('scroll')){menuHeight=$dropdownMenu.height();menuItemHeight=$menuItem.height();if(!$menuItem.position()){return;}
menuItemTopPosition=$menuItem.position().top;if((menuItemTopPosition+menuItemHeight)>menuHeight){$dropdownMenu.scrollTop($dropdownMenu.scrollTop()+menuHeight/2);}else if(menuItemTopPosition<0){$dropdownMenu.scrollTop($dropdownMenu.scrollTop()-menuHeight/2);}}},_toggleSubmenu:function($dropdown){var $submenuButton=$dropdown.find('.dropdown-submenu');if($submenuButton.length>0){$submenuButton.click();}},_toggleAria:function(e){this.$('[data-bs-toggle="dropdown"]').attr('aria-expanded',this.isDropdownOpen());},closeDropdown:function(){this.$('.show').parent().find('.dropdown-menu').trigger('click.bs.dropdown');this.$('[data-bs-toggle="dropdown"]').attr('aria-expanded','false');},unbindBeforeHandler:function(){app.routing.offBefore('route',this.closeDropdown,this);},onDetach:function(){app.events.off('app:view:change',null,this);app.routing.offBefore('route',this.closeDropdown,this);this.unbindBeforeHandler();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Dropdown.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListColumnEllipsis',['view'],{events:{'click [data-field-toggle]':'toggleColumn'},toggleColumn:function(event){var column=$(event.currentTarget).data('fieldToggle');if(this.isLastColumnVisible(column)){event.stopPropagation();return;}
this._toggleColumn(column);this.render();this._reopenFieldsDropdown(event);},_toggleColumn:function(column){var changedColumn={};var f=this._fields._byId[column];if(f){f.selected=!f.selected;changedColumn=f;}
this._fields.visible=_.where(this._fields.all,{selected:true});this.trigger('list:toggle:column',column,changedColumn.selected,changedColumn);},isLastColumnVisible:function(column){if(this._fields.visible.length===1){var f=this._fields._byId[column];return f&&f.selected;}
return false;},_reopenFieldsDropdown:function(event){this.$('[data-action="fields-toggle"]').dropdown('toggle');event.stopPropagation();},onAttach:function(component,plugin){this.before('render',function(){var lastActionColumn=_.last(this.rightColumns);if(lastActionColumn){lastActionColumn.isColumnDropdown=true;}},this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListColumnEllipsis.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MassCollection',['view'],{_fieldsToFetch:[],onAttach:function(){this.on('init',this._initMassCollectionPlugin,this);},_initMassCollectionPlugin:function(){if(!this.meta||!this.meta.selection||this.meta.selection.type!=='multi'){return;}
this.createMassCollection();this._preselectModels();this._initTemplates();this._bindMassCollectionEvents();this.on('render',this._onViewRender,this);},_onViewRender:function(){if(this.collection.length!==0){var event=this._isAllChecked()?'all:checked':'not:all:checked';this.massCollection.trigger(event);this.toggleSelectAllAlert();}},createMassCollection:function(){this.massCollection=this.context.get('mass_collection');if(!this.massCollection){this.massCollection=this.context.get('collection').clone();this.context.set('mass_collection',this.massCollection);}},_preselectModels:function(){this.preselectedModelIds=this.context.get('preselectedModelIds');if(_.isEmpty(this.preselectedModelIds)){return;}
if(!_.isArray(this.preselectedModelIds)){this.preselectedModelIds=[this.preselectedModelIds];}
var preselectedCollection=app.data.createBeanCollection(this.module);preselectedCollection.fetch({fields:['name'],params:{filter:[{'id':{'$in':this.preselectedModelIds}}]},success:_.bind(function(collection){this.addModel(collection.models);},this)});},_bindMassCollectionEvents:function(){this.context.on('mass_collection:add',this.addModel,this);this.context.on('mass_collection:add:all',this.addAllModels,this);this.context.on('mass_collection:remove',this.removeModel,this);this.context.on('mass_collection:remove:all',this.removeAllModels,this);this.context.on('mass_collection:clear',this.clearMassCollection,this);this.context.on('toggleSelectAllAlert',this.toggleSelectAllAlert,this);this.collection.on('reset',function(){if(this.disposed||this.independentMassCollection){return;}
this.clearMassCollection();},this);this.collection.on('add',function(){if(!this.disposed&&!this._isAllChecked()){this.massCollection.trigger('not:all:checked');}},this);},addModel:function(models){models=_.isArray(models)?models:[models];this.massCollection.add(models);if(this._isAllChecked()){this.massCollection.trigger('all:checked');}},addAllModels:function(){if(!this.independentMassCollection){this.massCollection.reset(this.collection.models);}else{this.massCollection.add(this.collection.models);}
this.massCollection.trigger('all:checked');},removeModel:function(models){models=_.isArray(models)?models:[models];this.massCollection.remove(models);if(!this._isAllChecked()){this.massCollection.trigger('not:all:checked');}},removeAllModels:function(){if(!this.independentMassCollection){this.clearMassCollection();}else{this.massCollection.remove(this.collection.models);this.massCollection.trigger('not:all:checked');}},clearMassCollection:function(){this.massCollection.entire=false;this.massCollection.reset();this.massCollection.trigger('not:all:checked');},_isAllChecked:function(){if(this.massCollection.length<this.collection.length){return false;}
var allChecked=_.every(this.collection.models,function(model){return this.massCollection.get(model.id);},this);return allChecked;},toggleSelectAllAlert:function(){var alert;if(!this.collection.length){return;}
var selectedRecordsInPage=_.intersection(this.massCollection.models,this.collection.models);if(selectedRecordsInPage.length===this.collection.length){if(this.collection.next_offset>0){alert=this._buildAlertForEntire();}else{alert=this._buildAlertForReset();}}else if(this.massCollection.entire||(this.massCollection.length>0&&this.independentMassCollection)){alert=this._buildAlertForReset();}
if(alert){this.layout.trigger('list:alert:show',alert);}else{this.layout.trigger('list:alert:hide');}},_buildAlertForReset:function(offset){var self=this;if(_.isUndefined(this._selectedOffsetTpl)){return null;}
var alert=$('<span></span>').append(this._selectedOffsetTpl({offset:offset,num:this.massCollection.length,all_selected:this.massCollection.length===this.massCollection.maximum}));alert.find('[data-action=clear]').each(function(){var $el=$(this);$el.on('click',function(){self.context.trigger('mass_collection:clear');$el.off('click');});app.accessibility.run($el,'click');});return alert;},_buildAlertForEntire:function(){var self=this;var alert=$('<span></span>').append(this._selectAllTpl({num:this.massCollection.length,link:this._selectAllLinkTpl}));alert.find('[data-action=select-all]').each(function(){var $el=$(this);$el.on('click',function(){self.massCollection.entire=true;self.getTotalRecords();$el.off('click');});app.accessibility.run($el,'click');});return alert;},getTotalRecords:function(){var limit=(this.meta.selection.isLinkAction&&app.config.maxRecordLinkFetchSize)||app.config.maxRecordFetchSize;var fields=['id'];_.each(this.meta.selection.actions,function(button){if(_.isArray(button.related_fields)){fields=_.union(fields,button.related_fields);}},this);fields=_.union(fields,this._fieldsToFetch);var options={fields:fields,limit:limit,filter:this.context.get('collection').filterDef,showAlerts:true,success:_.bind(function(collection){if(_.isEmpty(collection.filterDef)){this.massCollection.maximum=this.massCollection.length;}
this.toggleSelectAllAlert();},this)};_.extend(this.massCollection,{orderBy:this.context.get('collection').orderBy,});this.massCollection.trigger('massupdate:estimate');this.massCollection.fetch(options);},_initTemplates:function(){this._selectedOffsetTpl=app.template.getView('list.selected-offset')||app.template.getView('list.selected-offset',this.module);this._selectAllLinkTpl=new Handlebars.SafeString('<button type="button" class="btn btn-link btn-inline" data-action="select-all">'+
app.lang.get('LBL_LISTVIEW_SELECT_ALL_RECORDS')+'</button>');this._selectAllTpl=app.template.compile(null,app.lang.get('TPL_LISTVIEW_SELECT_ALL_RECORDS'));return this;},onDetach:function(){$(window).off('resize.'+this.cid);this.context.off('mass_collection:add',null,this);this.context.off('mass_collection:add:all',null,this);this.context.off('mass_collection:remove',null,this);this.context.off('mass_collection:remove:all',null,this);this.context.off('toggleSelectAllAlert',null,this);this.context.off('mass_collection:clear',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MassCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Pii',['view'],{_getButtonsFromMeta:function(meta){if(!_.isArray(meta.buttons)){meta.buttons=_.toArray(meta.buttons);}
return meta.buttons;},_insertViewPiiButton:function(fields){var piiFields=_.where(fields,{pii:true});if(piiFields.length>0){var actionDropDown=_.findWhere(this.meta.buttons,{type:'actiondropdown'});if(actionDropDown){var buttons=this._getButtonsFromMeta(actionDropDown);var auditButtonMeta=_.findWhere(buttons,{name:'audit_button'});var auditButtonIndex=_.indexOf(buttons,auditButtonMeta);var viewPiiButtonMeta={type:'rowaction',event:'button:view_pii_button:click',name:'view_pii_button',label:'LBL_DATAPRIVACY_VIEW_PII',acl_action:'view'};if(auditButtonIndex>-1){buttons.splice(auditButtonIndex+1,0,viewPiiButtonMeta);}else{buttons.push(viewPiiButtonMeta);}}}},onAttach:function(component,plugin){this.on('init',function(){var model=this.context.get('model')||this.model;this._insertViewPiiButton(model.fields);this.context.on('button:view_pii_button:click',this.viewPiiClicked,this);});},viewPiiClicked:function(){var context=this.context.getChildContext({name:'Pii',model:app.data.createBean('Pii')});context.set('pModule',this.module);context.set('pId',this.model.id);app.drawer.open({layout:'pii',context:context});},onDetach:function(component,plugin){this.context.off('button:view_pii_button:click',this.viewPiiClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Pii.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ReorderableColumns',['view'],{_listDragColumnSelector:'th[data-fieldname]',_listDragItemSelector:'th[data-fieldname] [data-draggable="true"]',_listDragColumn:[],_makeColumnReorderable:function(){if(this.disposed){return;}
if(!this.$('table').hasClass('reorderable-columns')){app.logger.error('ReorderableColumns plugin expects the table to have .draggable-columns class '+'in order to work.');return;}
this._listDragColumn=_.map(this.$(this._listDragColumnSelector),function(column){return $(column).data('fieldname');});this.$(this._listDragItemSelector).draggable({revert:'invalid',axis:'x',stop:_.bind(function(event,ui){if(ui.helper._renderView&&!this.disposed){this.render();}},this)});this.$('.th-droppable-placeholder').droppable({accept:this._listDragItemSelector,hoverClass:'th-droppable-placeholder-highlight',tolerance:'touch',drop:_.bind(this._onColumnDrop,this)});},_onColumnDrop:function(event,ui){var $draggedItem=$(ui.draggable),$droppedInItem=$(event.target),draggedIndex,droppedInIndex,initialOrder,visibleOrder,hasChanged;draggedIndex=$draggedItem.closest('th').find('.th-droppable-placeholder:first').data('droppableindex');droppedInIndex=$droppedInItem.data('droppableindex');if(droppedInIndex>draggedIndex){droppedInIndex--;}
initialOrder=_.clone(this._listDragColumn);visibleOrder=_.moveIndex(this._listDragColumn,draggedIndex,droppedInIndex);hasChanged=!_.isEqual(visibleOrder,initialOrder);if(!hasChanged){$draggedItem.draggable('option','revert',true);return;}
var newOrder=this._calculateNewOrder($draggedItem,$droppedInItem);this.trigger('list:reorder:columns',this._fields,newOrder);ui.draggable._renderView=true;},_calculateNewOrder:function($draggedItem,$droppedInItem){var globalOrder,draggedIndex,droppedInIndex;globalOrder=_.pluck(this._fields.all,'name');draggedIndex=_.indexOf(globalOrder,$draggedItem.closest('th').data('fieldname'));droppedInIndex=_.indexOf(globalOrder,$droppedInItem.closest('th').data('fieldname'));if($droppedInItem.hasClass('th-droppable-placeholder-last')){droppedInIndex++;}
if(droppedInIndex>draggedIndex){droppedInIndex--;}
return _.moveIndex(globalOrder,draggedIndex,droppedInIndex);},onAttach:function(component,plugin){this.on('render',_.debounce(this._makeColumnReorderable,200),this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ReorderableColumns.js */

(function($){'use strict';var definer=$('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>').appendTo('body')[0],type='reverse';if(definer.scrollLeft>0){type='default';}else{definer.scrollLeft=1;if(definer.scrollLeft===0){type='negative';}}
$(definer).remove();$.support.rtlScrollType=type;}(jQuery));
/* End of File include/javascript/jquery/jquery.rtl-scroll.js */

var __bind=function(fn,me){return function(){return fn.apply(me,arguments);};},__slice=[].slice;(function($,window){var ResizableColumns,pointerX,stripPx,_parseWidth,_setWidth;var uniqueIds=0;stripPx=function(width){if(!width){return 0;}else{if(typeof width==='string'){return width.replace('px','');}else{return width;}}};_parseWidth=function(_usePixels,node){return parseFloat((node.offsetWidth+'').replace((_usePixels?'px':'%'),''));};_setWidth=function(_usePixels,node,width){if(_usePixels){width=width.toFixed(2);width=width+'px';node.style.minWidth=width;node.style.width=width;node.style.maxWidth=width;}else{width=width.toFixed(2);width=""+width+"%";node.style.width=width;}
return width;};pointerX=function(e){if(e.type.indexOf('touch')===0){return(e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]).pageX;}
return e.pageX;};ResizableColumns=(function(){ResizableColumns.prototype.defaults={usePixels:false,selector:'tr th:visible',store:window.store,syncHandlers:true,resizeFromBody:true,maxWidth:null,minWidth:null};function ResizableColumns($table,options){this.pointerdown=__bind(this.pointerdown,this);this.constrainWidth=__bind(this.constrainWidth,this);var usePixels;this.options=$.extend({},this.defaults,options);this.$table=$table;usePixels=this.options.usePixels;this.parseWidth=function(node){return _parseWidth(usePixels,node);};this.setWidth=function(node,width){return _setWidth(usePixels,node,width);};this.setHeaders();if(this.options.store!=null){this.restoreColumnWidths();}
this.syncHandleWidths();this._uniqueId=++uniqueIds;$(window).on('resize.rc'+this._uniqueId,((function(_this){return function(){var sync=_this.syncHandleWidths();var minTableWidth=_this.options.getMinTableWidth&&_this.options.getMinTableWidth();if(minTableWidth){_this._minTableWidth=minTableWidth;}
if(_this.options.restore){_this.options.restore();}
_this._currentTableWidth=_this.$table.width();return sync;};})(this)));if(this.options.start){this.$table.bind('column:resize:start.rc',this.options.start);}
if(this.options.resize){this.$table.bind('column:resize.rc',this.options.resize);}
if(this.options.stop){this.$table.bind('column:resize:stop.rc',this.options.stop);}
if(this.options.restore){this.$table.bind('column:resize:restore.rc',this.options.restore);}}
ResizableColumns.prototype.triggerEvent=function(type,args,original){var event;event=$.Event(type);event.originalEvent=$.extend({},original);return this.$table.trigger(event,[this].concat(args||[]));};ResizableColumns.prototype.getColumnId=function($el){return this.$table.data('resizable-columns-id')+'-'+$el.data('resizable-column-id');};ResizableColumns.prototype.setHeaders=function(){this._leftoverWidth=this.$table.width();this.$tableHeaders=this.$table.find(this.options.selector);var i=this.$tableHeaders.length;var width;while(i){i--;width=$(this.$tableHeaders[i]).outerWidth();this._leftoverWidth-=width;}
if(this.options.usePixels){this.assignPixelWidths();}else{this.assignPercentageWidths();}
return this.createHandles();};ResizableColumns.prototype.destroy=function(){$(window).off('resize.rc'+this._uniqueId);this.$handleContainer.remove();this.$table.removeData('resizableColumns');};ResizableColumns.prototype.assignPercentageWidths=function(){return this.$tableHeaders.each((function(_this){return function(_,el){var $el;$el=$(el);return _this.setWidth($el[0],$el.outerWidth()/ _this.$table.width()*100);};})(this));};ResizableColumns.prototype.assignPixelWidths=function(){var columns=[];var self=this;this.$tableHeaders.each((function(_this){return function(_,el){var $el;$el=$(el);columns.push($el.outerWidth()-stripPx($el.css('paddingLeft')-stripPx($el.css('paddingRight'))));};})(this));return this.$tableHeaders.each(function(i,el){return self.setWidth(el,columns[i]);});};ResizableColumns.prototype.createHandles=function(){var _ref;if((_ref=this.$handleContainer)!=null){_ref.remove();}
this.$table.before((this.$handleContainer=$("<div class='rc-handle-container' />")));this.$tableHeaders.each((function(_this){return function(i,el){var $handle;if(_this.$tableHeaders.eq(i+1).length===0||(_this.$tableHeaders.eq(i).attr('data-noresize')!=null)||(_this.$tableHeaders.eq(i+1).attr('data-noresize')!=null)){return;}
$handle=$("<div class='rc-handle' />");$handle.data('th',$(el));return $handle.appendTo(_this.$handleContainer);};})(this));return this.$handleContainer.on('mousedown touchstart','.rc-handle',this.pointerdown);};ResizableColumns.prototype.syncHandleWidths=function(){if(this.options.usePixels){return this.syncHandleWidthsPx();}
return this.$handleContainer.width(this.$table.width()).find('.rc-handle').each((function(_this){return function(_,el){var $el;$el=$(el);return $el.css({left:$el.data('th').outerWidth()+($el.data('th').offset().left-_this.$handleContainer.offset().left),height:_this.options.resizeFromBody?_this.$table.height():_this.$table.find('thead').height()});};})(this));};ResizableColumns.prototype.saveColumnWidths=function(){var columns;columns=[];this.$tableHeaders.each((function(_this){return function(_,el){var $el,width;$el=$(el);if($el.attr('data-noresize')==null){width=_this.parseWidth($el[0]);columns.push(width);if(_this.options.store!=null){return _this.options.store.set(_this.getColumnId($el),width);}}};})(this));this._expectedWidths=columns;return this.$table.trigger('column:resize:save',[columns]);};ResizableColumns.prototype.restoreColumnWidths=function(){return this.$tableHeaders.each((function(_this){return function(_,el){var $el,width;$el=$(el);if((_this.options.store!=null)&&(width=_this.options.store.get(_this.getColumnId($el)))){return _this.setWidth($el[0],width);}};})(this));};ResizableColumns.prototype.totalColumnWidths=function(){var total;if(this.options.usePixels){return this.totalColumnWidthsPx();}
total=0;this.$tableHeaders.each((function(_this){return function(_,el){return total+=parseFloat($(el)[0].style.width.replace('%',''));};})(this));return total;};ResizableColumns.prototype.syncHandleWidthsPx=function(){return this.$handleContainer.css('minWidth','100%').find('.rc-handle').each((function(_this){return function(_,el){var $el,height,left;$el=$(el);left=$el.data('th').innerWidth();left-=stripPx($el.css('paddingLeft'));left-=stripPx($el.css('paddingRight'));left+=$el.data('th').offset().left;left-=_this.$handleContainer.offset().left;height=_this.options.resizeFromBody?_this.$table.height():_this.$table.find('thead').height();return $el.css({left:left,height:height});};})(this));};ResizableColumns.prototype.totalColumnWidthsPx=function(){var total;total=0;this.$table.each((function(_this){return function(_,el){var $el;$el=$(el);return total+=parseFloat(stripPx($el.outerWidth()));};})(this));return total;};ResizableColumns.prototype.constrainWidth=function(width){if(this.options.minWidth!=null){width=Math.max(this.options.minWidth,width);}
if(this.options.maxWidth!=null){width=Math.min(this.options.maxWidth,width);}
return width;};ResizableColumns.prototype.pointerdown=function(e){var $currentGrip,$leftColumn,$ownerDocument,$rightColumn,isLtr,newWidths,startPosition,widths;e.preventDefault();isLtr=this.$table.css('direction')!=='rtl';$ownerDocument=$(e.currentTarget.ownerDocument);startPosition=pointerX(e);$currentGrip=$(e.currentTarget);if(isLtr){$leftColumn=$currentGrip.data('th');$rightColumn=this.$tableHeaders.eq(this.$tableHeaders.index($leftColumn)+1);}else{$rightColumn=$currentGrip.data('th');$leftColumn=this.$tableHeaders.eq(this.$tableHeaders.index($rightColumn)-1);}
widths={left:this.parseWidth($leftColumn[0]),right:this.parseWidth($rightColumn[0])};newWidths={left:widths.left,right:widths.right};this.$handleContainer.add(this.$table).addClass('rc-table-resizing');$leftColumn.add($rightColumn).add($currentGrip).addClass('rc-column-resizing');this.triggerEvent('column:resize:start',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);$ownerDocument.on('mousemove.rc touchmove.rc',(function(_this){return function(e){var difference;var localWidths={left:newWidths.left,right:newWidths.right};difference=pointerX(e)-startPosition;startPosition=pointerX(e);if(!isLtr){difference=-difference;}
if(!_this.options.usePixels){difference=difference / _this.$table.width()*100;}
if(_this.options.usePixels){_this._currentTableWidth=_this.$table.width()+difference;var shouldRestrict=_this._minTableWidth&&(_this._currentTableWidth<_this._minTableWidth);if(shouldRestrict){_this.setWidth($rightColumn[0],newWidths.right=_this.constrainWidth(localWidths.right-difference));}
_this.setWidth($leftColumn[0],newWidths.left=_this.constrainWidth(localWidths.left+difference));}else{_this.setWidth($leftColumn[0],newWidths.left=_this.constrainWidth(widths.left+difference));_this.setWidth($rightColumn[0],newWidths.right=_this.constrainWidth(widths.right-difference));}
if(_this.options.syncHandlers!=null){_this.syncHandleWidths();}
return _this.triggerEvent('column:resize',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);};})(this));return $ownerDocument.one('mouseup touchend',(function(_this){return function(){$ownerDocument.off('mousemove.rc touchmove.rc');_this.$handleContainer.add(_this.$table).removeClass('rc-table-resizing');$leftColumn.add($rightColumn).add($currentGrip).removeClass('rc-column-resizing');_this.syncHandleWidths();_this.saveColumnWidths();return _this.triggerEvent('column:resize:stop',[$leftColumn,$rightColumn,newWidths.left,newWidths.right],e);};})(this));};return ResizableColumns;})();return $.fn.extend({resizableColumns:function(){var args,option;option=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[];return this.each(function(){var $table,data;$table=$(this);data=$table.data('resizableColumns');if(!data){$table.data('resizableColumns',(data=new ResizableColumns($table,option)));}
if(typeof option==='string'){return data[option].apply(data,args);}});}});})(window.jQuery,window);
/* End of File include/javascript/jquery/sugar.resizableColumns.js */

(function(app){var _sum=function(array){return _.reduce(array,function(memo,num){return memo+num;},0);};var _mapClassesToPixels={'xxsmall':21,'xsmall':42,'small':68,'medium':110,'large':178,'xlarge':288,'xxlarge':466};app.events.on('app:init',function(){app.plugins.register('ResizableColumns',['view'],{_listResizableColumnSelector:'thead tr:first-child th[data-fieldname]',_makeColumnResizable:function(){if(this.disposed){return;}
var proto=Object.getPrototypeOf(this);var getMinTableWidth;if(_.isFunction(proto.getMinTableWidth)){getMinTableWidth=_.bind(proto.getMinTableWidth,this);}
var self=this;var $table=this.$('table');$table.resizableColumns({usePixels:true,selector:this._listResizableColumnSelector,minWidth:1,store:null,restore:function(event,columns){if(self.disposed){return;}
var resizableColumns=$table.data('resizableColumns');if(columns){resizableColumns._expectedWidths=columns;}else{columns=resizableColumns._expectedWidths;}
var expectedWidth=_sum(columns);var availableWidth=resizableColumns.options.getMinTableWidth()-resizableColumns._leftoverWidth;availableWidth=availableWidth-columns.length;var rate=expectedWidth / availableWidth;if(rate<1){columns=_.map(columns,function(col){return parseInt(col / rate,10);});}
var i=0;resizableColumns.$tableHeaders.each(function(index,el){var $el,width;$el=$(el);width=columns[i++];if($el.attr('data-noresize')==null&&width){return resizableColumns.setWidth($el[0],width);}});resizableColumns.syncHandleWidths();},getMinTableWidth:!_.isUndefined(getMinTableWidth)?getMinTableWidth:function(){return $table.parent().width();}});var cachedSizes=this.getCacheWidths();if(_.isEmpty(cachedSizes)){cachedSizes=_.map(this._fields.visible,function(field){var width=field.expectedWidth||'medium';return _mapClassesToPixels[width]||width;});}
$table.trigger('column:resize:restore',[cachedSizes]);$(window).resize();$table.on('column:resize:save',_.bind(function(event,columns){this.trigger('list:column:resize:save',columns);},this));},_unbindResizableColumns:function(){if(this.disposed){return;}
var $table=this.$('table');$table.off('column:resize:save');$table.resizableColumns('destroy');},onAttach:function(component,plugin){this.before('render',this._unbindResizableColumns);this.on('render',this._makeColumnResizable);},onDetach:function(component,plugin){this._unbindResizableColumns();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ResizableColumns.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ToggleMoreLess',['view'],{events:{'click [data-moreless]':'moreLessClicked'},MORE_LESS_KEY:'show_more',MORE_LESS_STATUS:{MORE:'more',LESS:'less'},onAttach:function(){this.on('init',function(){this.meta=this.meta||{};this.meta.last_state=this.meta.last_state||{id:this.name+'_view',defaults:{}};this.meta.last_state['defaults'][this.MORE_LESS_KEY]='less';this.SHOW_MORE_KEY=app.user.lastState.key(this.MORE_LESS_KEY,this);app.user.lastState.register(this);});this.before('render',function(){var lastStatus=app.user.lastState.get(this.SHOW_MORE_KEY);if(_.contains(this.MORE_LESS_STATUS,lastStatus)){this._setVisibility(lastStatus);}},this);},moreLessClicked:function(evt){if(_.isUndefined(this._CJ)||_.isNull(this._CJ)){let moreLess=this.$(evt.currentTarget).data('moreless');this.toggleMoreLess(moreLess);}},toggleMoreLess:function(moreLess,skipSetState){this._setVisibility(moreLess);this.$('[data-moreless=more]').toggleClass('hide',this.hideMoreButton);this.$('[data-moreless=less]').toggleClass('hide',this.hideLessButton);var target=this.$('[data-moreless='+moreLess+']').data('target')||'.panel-hidden';this.$(target).toggleClass('hide',this.hidePanel);if(!skipSetState){app.user.lastState.set(this.SHOW_MORE_KEY,moreLess);}
this.trigger('more-less:toggled',moreLess);},_setVisibility:function(moreLess){this.hideMoreButton=(moreLess===this.MORE_LESS_STATUS.MORE);this.hideLessButton=(moreLess===this.MORE_LESS_STATUS.LESS);this.hidePanel=(moreLess===this.MORE_LESS_STATUS.LESS);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ToggleMoreLess.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ContactsPortalMetadataFilter',['view'],{removePortalFieldsIfPortalNotActive:function(meta){if(!_.isObject(meta)){return;}
var portalFields=['portal_name','portal_active','portal_password','portal_user_company_name'];var serverInfo=app.metadata.getServerInfo();if(!serverInfo.portal_active){_.each(meta.panels,function(panel){panel.fields=_.reject(panel.fields,function(field){var name=_.isObject(field)?field.name:field;return _.contains(portalFields,name);});});}}});});})(SUGAR.App);
/* End of File modules/Contacts/clients/base/plugins/ContactsPortalMetadataFilter.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ConfigDrivenList',['layout','view'],{onAttach(component,plugin){this.before('render',this._beforeRenderActions,this);},_beforeRenderActions(){this._toggleFrozenHeaders();this._toggleFrozenFirstColumn();},_toggleFrozenHeaders(){const state=app.config.freezeListHeaders;this.$el.toggleClass('frozen-list-headers',state);},_toggleFrozenFirstColumn(){const hasFrozenColumn=this._getFrozenColumnConfig();const state=app.config.allowFreezeFirstColumn&&hasFrozenColumn;this.$el.toggleClass('sticky-first-column',state);const hasScrollContainer=!_.isNull(this.scrollContainer)||!_.isUndefined(this.scrollContainer);if(state&&hasScrollContainer&&this.action==='list'){this.listenToOnce(this,'render',()=>{this.scrollContainer.on('scroll',_.throttle(_.bind(this._toggleFrozenColumnBorder,this),200));});}},_getFrozenColumnConfig(){let settings;const listName=this.name;switch(listName){case'dashablelist':case'dashlet-console-list':settings=this.settings;break;case'dashablerecord':if(this._getActiveTab().type==='list'){settings=this.model;}else{settings=false;}
break;default:settings=false;}
if(!settings){return false;}
if(app.config.allowFreezeFirstColumn){return settings.get('freeze_first_column');}else{return false;}},_toggleFrozenColumnBorder(){const firstCol=this.$('table tbody tr td:first-child, table thead tr th:first-child');firstCol.toggleClass('border-r',this.scrollContainer[0].scrollLeft>0);},filterConfigFieldsForDashlet(){this.meta.panels.forEach(panel=>{panel.fields=_.filter(panel.fields,function(field){return field.showOnConfig?app.config[field.showOnConfig]:true;});});},onDetach:function(component,plugin){this.off('render',this._toggleFrozenHeaders,this);this.off('render',this._toggleFrozenFirstColumn,this);this.stopListening();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ConfigDrivenList.js */

var PMSE=PMSE||{};(function(app){app.events.on('app:init',function(){app.plugins.register('ProcessActions',['view','layout'],{getHistory:function(cas_id){var logPanel,w2,label;var pmseHistoryUrl=app.api.buildURL('pmse_Inbox/historyLog',null,{id:cas_id});logPanel=new HistoryPanel({logType:'difList',items:[],callback:{'loaded':function(data){var i,newLog,duration;app.api.call('read',pmseHistoryUrl,{},{success:function(logs){if(logs){for(i=0;i<logs.result.length;i+=1){var log=logs.result[i];var end_date=log.end_date;var delegate_date=log.delegate_date;label=log.data_info;if(log.completed){duration='<strong>( ';if(end_date){duration+=app.date(end_date).fromNow();}else{duration+=app.date(delegate_date).fromNow();}
duration+=' )</strong>';}else{duration='<strong>';duration+=app.lang.get('LBL_PMSE_HISTORY_LOG_NO_YET_STARTED','pmse_Inbox');duration+='</strong>';}
var pictureUrl=app.api.buildFileURL({module:'Users',id:log.cas_user_id,field:'picture'});newLog={name:'log'+i,label:label,user:log.user,showUser:log.show_user,startDate:app.date(delegate_date).formatUser(),picture:(log.script)?log.image:pictureUrl,duration:duration,completed:log.completed,script:(log.script)?log.script:false};logPanel.addLog(newLog);}}
app.alert.dismiss('upload');w2.html.style.display='inline';},error:function(error){app.alert.dismiss('upload');var message=(error&&error.message)?error.message:'EXCEPTION_FATAL_ERROR';app.alert.show('error_history',{level:'error',messages:message});}});}}});w2=new PMSE.Window({width:800,height:350,modal:true,title:'# '+cas_id+': '+app.lang.get('LBL_PMSE_TITLE_HISTORY','pmse_Inbox')});w2.addPanel(logPanel);w2.show();w2.html.style.display='none';app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoClose:false});},showStatus:function(cas_id){var url,w,hp,img,ih,iw,a;var id=cas_id;url=app.api.buildFileURL({module:'pmse_Inbox',id:id,field:'id'},{cleanCache:true});app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoclose:false});img=new Image();img.src=url;img.onload=function(){if(img.width<760){ih=img.height;iw=img.width;}else{ih=parseInt(img.height*(760 / img.width),10);iw=760;}
a='<img width="'+iw+'" src="'+img.src+'" />';hp=new HtmlPanel({source:a,scroll:((ih+45)>400)});w=new PMSE.Window({width:iw+40,height:((ih+45)<400)?ih+45:400,modal:true,title:app.lang.get('LBL_PMSE_TITLE_IMAGE_GENERATOR_OBJ','pmse_Inbox',{'id':id})});w.addPanel(hp);w.show();app.alert.dismiss('upload');};},showNotes:function(caseId,caseIndex){var w,np,notesTextArea,proxy,log,newLog,pictureUrl,i,url;url=app.api.buildURL('pmse_Inbox/note_list/'+caseId);notesTextArea=new TextareaField({name:'notesTextArea',label:'',fieldWidth:'80%'});app.alert.show('upload',{level:'process',title:'LBL_LOADING',autoclose:false});np=new NotePanel({items:[notesTextArea],caseId:caseId,caseIndex:caseIndex,callback:{'loaded':function(data){app.api.call('read',url,{},{success:function(notes){for(i=0;i<notes.rowList.length;i+=1){log=notes.rowList[i];pictureUrl=app.api.buildFileURL({module:'Users',id:log.not_user_id,field:'picture'});var currentDate=Date.parse(notes.currentDate);var dateEntered=Date.parse(log.date_entered);if(isNaN(currentDate)){currentDate=Date.parse(notes.currentDate.replace(/\s/g,'T'));}
if(isNaN(dateEntered)){dateEntered=Date.parse(log.date_entered.replace(/\s/g,'T'));}
newLog={name:'log',label:DOMPurify.sanitize(log.not_content),user:log.last_name,picture:pictureUrl,duration:'<strong> '+app.date(log.date_entered).fromNow()+' </strong>',startDate:app.date(log.date_entered).formatUser(),logId:log.id};np.addLog(newLog);}
app.alert.dismiss('upload');},error:function(error){app.alert.dismiss('upload');var message=(error&&error.message)?error.message:'EXCEPTION_FATAL_ERROR';app.alert.show('error_note',{level:'error',messages:message});}});}}});w=new PMSE.Window({width:800,height:380,modal:true,title:app.lang.get('LBL_PMSE_TITLE_PROCESS_NOTES','pmse_Inbox')+' # '+caseId});w.addPanel(np);w.show();},showForm:function(casId,casIndex,wtype,flowId,pmseInboxId,taskName,values){showModalWindow(casId,casIndex,wtype,flowId,pmseInboxId,taskName,values,this.recordModel);}});});})(SUGAR.App);
/* End of File modules/pmse_Inbox/clients/base/plugins/ProcessActions.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Cascade',['field'],{baseFieldName:null,baseFieldType:null,fieldNames:null,field:null,model:null,attachAction:null,readOnlyProp:null,createActions:['create','create-nodupecheck'],editableActions:['edit','create','create-nodupecheck'],onAttach:function(field,plugin){let oppConfig=app.metadata.getModule('Opportunities','config');if(!oppConfig||oppConfig.opps_view_by!=='RevenueLineItems'){field.displayCheckbox=false;return;}
this._initPluginProperties(field);this._initModelProperties();this._initViewProperties();this._initFieldProperties();this._initDefaultValues();this._initListeners();this.view.cascadeFields[this.baseFieldName].initialized=true;},_initPluginProperties:function(field){this.field=field;this.view=this.field.options.view;this.model=this.field.options.model;this.baseFieldName=this.field.options.def.name;this.baseFieldType=this.field.options.def.type;this.attachAction=this.field.action;this.hasCascadeError=false;if(this.baseFieldType==='fieldset-cascade'){this.fieldNames=_.map(this.field.options.def.fields,function(field){return field.name;});}else{this.fieldNames=[this.field.baseFieldName];}},_initModelProperties:function(){if(this.createActions.includes(this.field.options.view.action)){this.cascadeValidationTask=`cascade_${this.field.name}_${this.field.cid}`;this.model.addValidationTask(this.cascadeValidationTask,_.bind(this._validateCascadeOnCreate,this));}},_initViewProperties:function(){this.view.cascadeFields=this.view.cascadeFields||{};this.view.cascadeFields[this.baseFieldName]=this.view.cascadeFields[this.baseFieldName]||{initialized:false};},_initFieldProperties:function(){if(this._isOnLeadConvert()&&!this._isOnLeadConvertWithProperty('enableRlis')){this.field.displayCheckbox=false;this.field.action='disabled';return;}
this.field.displayCheckbox=true;this.field.lblString=this.getCheckboxLabel();this.field.setMode=_.wrap(this.field.setMode,_.bind(function(setMode,args){setMode.call(this.field,args);this.handleModeChange(args);},this));this.field._render=_.wrap(this.field._render,_.bind(function(_render,args){this._beforeRender();_render.call(this.field,args);this._afterRender();},this));},_initDefaultValues:function(){if(!this.view.cascadeFields[this.baseFieldName].initialized&&this.createActions.includes(this.field.options.view.action)){this.view.cascadeFields[this.baseFieldName].defaultValues={};let valuesToSet={};this.fieldNames.forEach(fieldName=>{let defaultValue=this.model.get(fieldName);this.view.cascadeFields[this.baseFieldName].defaultValues[fieldName]=defaultValue;valuesToSet[fieldName]='';});this.model.set(valuesToSet,{hideDbvWarning:true});}},_initListeners:function(){_.each(this.fieldNames,function(fieldName){this.listenTo(this.model,'change:'+fieldName,this.setCascadeValue,this);},this);this.listenTo(this.model,'sync',this.clearCascadeValue,this);let hasDisableConditions=this.options&&this.options.def&&this.options.def.disable_field;if(hasDisableConditions&&!this.createActions.includes(this.options.view.name)){let disableFieldName=this.options.def.disable_field;if(_.isArray(disableFieldName)){_.each(disableFieldName,function(fieldName){this.listenTo(this.model,'change:'+fieldName,this.handleReadOnly,this);},this);}else{this.listenTo(this.model,'change:'+disableFieldName,this.handleReadOnly,this);}}
this.listenTo(this.field,'editable:toggle-field',this._handleEditableFieldToggled,this);this.listenTo(this.view,'record:edit:cancel',this._handleEditableFieldToggled,this);this.listenTo(this.view,'editable:toggle_fields',this._handleEditableFieldsToggled,this);},_handleEditableFieldToggled:function(viewAction){if(!this.editableActions.includes(viewAction)){this.model.unset(`${this.baseFieldName}_cascade_checked`);this.clearCascadeValue();}},_handleEditableFieldsToggled:function(fieldsToggled,viewAction){if(!this.editableActions.includes(viewAction)){_.each(fieldsToggled,function(field){if(field.name===this.baseFieldName){this._handleEditableFieldToggled(viewAction);}},this);}},_beforeRender:function(){let checkboxChecked=this.model.get(this.baseFieldName+'_cascade_checked')||false;let fieldHasErrors=!_.isEmpty(this.field._errors)||this.hasCascadeError;if((this.readOnlyProp||!checkboxChecked)&&!fieldHasErrors){let oldAction=this.field._previousAction||this.field.action;if(oldAction!==undefined||!this.field.view||this.field.view.name!=='multi-line-list'){this.field._removeViewClass(oldAction);this.field._previousAction=oldAction;this.field.action='disabled';}
this.field.shouldCascade=false;this.field.cascadeCheckboxDisabled=this.readOnlyProp;}else{this.field.shouldCascade=checkboxChecked;this.field.cascadeCheckboxDisabled=false;if(_.isUndefined(this.field.action)){this.field.action=this.field.options.view.action;}}
let isCreate=this.createActions.includes(this.field.options.view.action);let isLeadConvertWithOptionalRlis=this._isOnLeadConvert()&&!this._isOnLeadConvertWithProperty('requireRlis');if(isCreate&&this.field.displayCheckbox&&(this._hasNoRliCollection()&&!isLeadConvertWithOptionalRlis)){this.field.displayCheckbox=false;}},_afterRender:function(){this.bindEditActions();},handleModeChange:function(toTemplate){if(!this.field.$el){return;}
var action=toTemplate||this.field.action||this.field.view.action||'detail';if(this.editableActions.includes(action)){this.handleReadOnly();}else{this.field.setDisabled(false,{trigger:true});}},bindEditActions:function(){if(this.editableActions.includes(this.attachAction)){this.attachAction=null;this.field.render();}
var checkbox=this.field.$el.find('input[type=checkbox]');var self=this;checkbox.click(function(){if(this.checked===false){self.model.unset(self.field.name+'_cascade_checked');self.field.setDisabled(true,{trigger:true});self.resetModelValue();self.model.trigger('cascade:checked:'+self.field.name,false);}else{self.model.set(self.field.name+'_cascade_checked',true);self.field.setDisabled(false,{trigger:true});self.setDefaultValue();self.setCascadeValue();self.model.trigger('cascade:checked:'+self.field.name,true);}});},handleReadOnly:function(){let hasDisableConditions=this.options&&this.options.def&&this.options.def.disable_field;if(this.model&&hasDisableConditions&&!this.createActions.includes(this.options.view.name)){let disableFieldName=this.options.def.disable_field;let calculatedValue=null;if(_.isArray(disableFieldName)){let fieldValue1=this.model.get(disableFieldName[0]);let fieldValue2=this.model.get(disableFieldName[1]);calculatedValue=(!_.isUndefined(fieldValue1)&&!_.isUndefined(fieldValue2))?(fieldValue1-fieldValue2):null;}else if(typeof disableFieldName==='string'){var disableFieldValue=this.model.get(disableFieldName);calculatedValue=!_.isUndefined(disableFieldValue)?disableFieldValue:null;}
if(calculatedValue!==null){if(!_.isUndefined(this.field.def)&&_.isUndefined(this.field.def.readOnlyProp)){this.field.def.readOnlyProp=false;}
let setReadOnly=calculatedValue<=0;if(this.options.def.disable_positive){setReadOnly=calculatedValue>0;}
this.readOnlyProp=setReadOnly||this.field.def.readOnlyProp;}}
this.render();},resetModelValue:function(){_.each(this.fieldNames,function(fieldName){this.model.set(fieldName,this.model.getSynced(fieldName)||'');this.model.unset(`${fieldName}_cascade`);this.setRliValueForField(fieldName,'');},this);},setDefaultValue:function(){let defaultValues=this.view.cascadeFields[this.baseFieldName].defaultValues;if(!this.createActions.includes(this.options.view.name)||_.isEmpty(defaultValues)){return;}
let valuesToSet={};this.fieldNames.forEach(fieldName=>{if(!_.isUndefined(defaultValues[fieldName])){valuesToSet[fieldName]=defaultValues[fieldName];}else{valuesToSet[fieldName]='';}});this.model.set(valuesToSet);},setCascadeValue:function(){if(!this.editableActions.includes(this.action)){return;}
_.each(this.fieldNames,function(fieldName){let fieldValue=this.model.get(fieldName);this.model.set(fieldName+'_cascade',fieldValue);this.setRliValueForField(fieldName,fieldValue);},this);},_getRliCollection:function(){let rliContext=this.context.getChildContext({link:'revenuelineitems'});rliContext.prepare();return rliContext.get('collection');},setRliValueForField:function(fieldName,fieldValue){if(!this.createActions.includes(this.options.view.name)){return;}
let rliCollection=this._getRliCollection();if(_.isEmpty(rliCollection.models)){return;}
rliCollection.models.forEach(model=>{if(app.utils.isRliFieldValidForCascade(model,fieldName)){model.set(fieldName,fieldValue);}});},clearCascadeValue:function(){if(this.context&&this.context.get('layout')&&this.context.get('layout')==='record'){_.each(this.fieldNames,function(fieldName){this.model.unset(`${fieldName}_cascade`);this.setRliValueForField(fieldName,'');},this);}},getCheckboxLabel:function(){let labelKey=this.createActions.includes(this.field.options.view.action)?'LBL_CASCADE_RLI_CREATE':'LBL_CASCADE_RLI_EDIT';return app.lang.get(labelKey,'Opportunities');},_isOnLeadConvert:function(){return this.field.options&&this.field.options.context&&this.field.options.context.parent&&this.field.options.context.parent.get('convertModuleList');},_isOnLeadConvertWithProperty:function(property){if(!this._isOnLeadConvert()){return false;}
let convertModuleList=this.field.options.context.parent.get('convertModuleList');return convertModuleList.find(moduleMeta=>moduleMeta.id==='Opportunities')[property];},_hasNoRliCollection:function(){let rliCollection=this._getRliCollection();return _.isEmpty(rliCollection)||rliCollection.length===0;},_validateCascadeOnCreate:function(fields,errors,callback){this.hasCascadeError=false;let isChecked=this.model.get(`${this.name}_cascade_checked`);let rliCollection=this._getRliCollection();let fieldValues=this.fieldNames.map(field=>this.model.get(field));let isEmpty=fieldValues.some(value=>!value);if(isChecked&&!_.isEmpty(rliCollection)&&isEmpty){this.fieldNames.forEach(field=>{if(this.model.get(field)){return;}
if(rliCollection.models.some(model=>app.utils.isRliFieldValidForCascade(model,field))){errors[field]=errors[field]||{};errors[field].required=true;this.hasCascadeError=true;}});}
callback(null,fields,errors);},onDetach:function(){this.stopListening(null,null,this.setCascadeValue);this.stopListening(null,null,this.clearCascadeValue);this.stopListening(null,null,this.handleReadOnly);this.stopListening(null,null,this._handleEditableFieldToggled);this.stopListening(null,null,this._handleEditableFieldsToggled);this.model.removeValidationTask(this.cascadeValidationTask);}});});})(SUGAR.App);
/* End of File modules/Opportunities/clients/base/plugins/Cascade.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('PurchaseAndServiceChangeHandler',['view'],{bindDataChange:function(){this._super('bindDataChange');this.model.on('change:service',this.handleServiceChange,this);this.model.on('change:purchase_name',this.handlePurchaseChange,this);},handleServiceChange:function(){this._updateServiceDuration();this._updateStartEndDate();},_updateServiceDuration:function(){var service=this.model.get('service');if(service&&_.isEmpty(this.model.get('service_duration_unit'))){this.model.set('service_duration_unit','year');}else if(!service){this.model.set({'service_duration_unit':'day','service_duration_value':1});}},_updateStartEndDate:function(){if(this.model.get('service')){var endDate=this.getField('service_end_date');if(!_.isUndefined(endDate)){endDate.calculateEndDate();}}else{var closeDate=this.model.get('date_closed');this.model.set({'service_start_date':closeDate,'service_end_date':closeDate});}},handlePurchaseChange:function(){var purchase=!_.isUndefined(this.model.get('purchase'))?this.model.get('purchase'):{};var prodTemplateId=purchase.product_template_id||'';if(!_.isEmpty(prodTemplateId)){var modelFields=this.model.fields||{};var populateList={};if(!_.isUndefined(modelFields.product_template_name)&&!_.isUndefined(modelFields.product_template_name.populate_list)){populateList=modelFields.product_template_name.populate_list;}
this.setProductAutoPopulateFields(prodTemplateId,populateList);}},setProductAutoPopulateFields:function(prodTemplateId,populateList){if(!_.isEmpty(prodTemplateId)){app.api.call('read',app.api.buildURL('ProductTemplates/'+prodTemplateId),{},{success:_.bind(function(data){var productPopulateList=_.pick(data,_.keys(populateList));if(!_.isUndefined(productPopulateList.name)&&!_.isEmpty(this.model.get('name'))){delete productPopulateList.name;}
this.model.set(productPopulateList);if(this.model.get('service')!==true){this.model.set('service_duration_unit','day');this.model.set('service_duration_value','1');}
this.model.set('catalog_service_duration_value',data.service_duration_value);this.model.set('catalog_service_duration_unit',data.service_duration_unit);this.changed=true;},this)});}}});});})(SUGAR.App);
/* End of File modules/PurchasedLineItems/clients/base/plugins/PurchaseAndServiceChangeHandler.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('HistoricalSummary',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.context.on('button:historical_summary_button:click',this.historicalSummaryClicked,this);});},historicalSummaryClicked:function(){let context=this.context.getChildContext({name:'history',module:this.module,model:this.model});app.drawer.open({layout:'history-summary',context:context});},onDetach:function(component,plugin){this.context.off('button:historical_summary_button:click',this.auditClicked,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/HistoricalSummary.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('MetadataEventDriven',['field'],{triggerMetadataEvent:function(domEvent,metadataEvent){if(this.view.context){this.view.context.trigger(metadataEvent,this.model);}
if(this.view.layout){this.view.layout.trigger(metadataEvent,this.model);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MetadataEventDriven.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DisableDelete',['field'],{running:false,onAttach:function(component,plugin){this.once('init',function(){if(_.contains(['list:deleterow:fire','button:delete_button:click'],this.def.event)){this.on('render',this.removeDelete,this);this.model.on('change:'+this._getFieldName(),this.removeDelete,this);}},this);},removeDelete:function(){if(this.running){return;}
this.running=true;var config=app.metadata.getModule('Forecasts','config')||{},sales_stage_won=config.sales_stage_won||['Closed Won'],sales_stage_lost=config.sales_stage_lost||['Closed Lost'],label_key='_STAGE',closed_RLI_count=0,message=null,status=null,button=this.getFieldElement(),field=this._getFieldName();if(button.length&&_.contains(["list:deleterow:fire","button:delete_button:click"],this.def.event)){if(app.metadata.getModule('Opportunities','config').opps_view_by==='RevenueLineItems'){closed_RLI_count=this.model.get('closed_revenue_line_items');if(_.isNull(closed_RLI_count)){closed_RLI_count=0;}
label_key='_STATUS';}
status=this.model.get(field);if(closed_RLI_count>0){message=app.lang.get('NOTICE_NO_DELETE_CLOSED_RLIS','Opportunities');}
if(_.contains(sales_stage_won,status)||_.contains(sales_stage_lost,status)){message=app.lang.get('NOTICE_NO_DELETE_CLOSED'+label_key);}
if(!_.isEmpty(message)){this.setDisabled(true);button.attr('data-event','');button.tooltip({title:message});if(this.view.name==='pipeline-recordlist-content'){var deleteButton=_.find(this.view.nestedFields,function(f){return f.cid===this.cid;},this);if(deleteButton){deleteButton.options.def.tooltip=message;deleteButton.def.tooltip=message;deleteButton.$('a').attr('title',message);deleteButton.render();}}}else{this.setDisabled(false);button.attr('data-event',this.def.event);if($.fn.tooltip&&$.fn.tooltip.Constructor){button.tooltip('dispose');}}}
this.running=false;return message;},_getFieldName:function(){if(this.model.module=='Opportunities'&&app.metadata.getModule('Opportunities','config').opps_view_by==='RevenueLineItems'){return'sales_status';}
return'sales_stage';}});});})(SUGAR.App);
/* End of File modules/Forecasts/clients/base/plugins/DisableDelete.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DisableMassDelete',['view'],{onAttach:function(component,plugin){this.once('init',function(){this.layout.off('list:massdelete:fire',this.warnDelete,this);this.layout.on('list:massdelete:fire',this._warnDelete,this);},this);},_warnDelete:function(){var massCollection=this.context.get('mass_collection');if(!massCollection){return;}
var massUpdateModel=this.getMassUpdateModel(this.module),closedModelObj=this._getClosedModels(massUpdateModel,true),closedModels=closedModelObj.closedModels,message=closedModelObj.message;if(closedModels.length){this._uncheckClosedModels(massCollection,closedModels,'delete_warning',message);}else if(massUpdateModel.models.length>0){this.warnDelete();}
return message;},checkMassUpdateClosedModels:function(){var massCollection=this.context.get('mass_collection');if(!massCollection){return;}
var massUpdateModel=this.getMassUpdateModel(this.module),closedModelObj=this._getClosedModels(massUpdateModel,false),closedModels=closedModelObj.closedModels,message=closedModelObj.message;if(closedModels.length){this._uncheckClosedModels(massCollection,closedModels,'massupdate_closed_models_warning',message);}
return!!closedModels.length;},_uncheckClosedModels:function(massCollection,closedModels,alertId,message){var progressView=this.getProgressView();massCollection.remove(closedModels);_.each(closedModels,function(item){var id=item.module+'_'+item.id;$("[name='"+id+"'] input").attr('checked',false);});app.alert.show(alertId,{level:'warning',messages:message});progressView.dispose();this.layout.removeComponent(progressView);},_getClosedModels:function(massUpdateModel,isDelete){var config=app.metadata.getModule('Forecasts','config')||{},sales_stage_won=config.sales_stage_won||['Closed Won'],sales_stage_lost=config.sales_stage_lost||['Closed Lost'],closed_RLI_count=0,lang_key=isDelete?'WARNING_NO_DELETE_':'WARNING_NO_MASSUPDATE_',label_key='_STAGE',message=null,status=null,opp_view_by=app.metadata.getModule('Opportunities','config').opps_view_by,closedModels=_.filter(massUpdateModel.models,function(model){status=null;if(opp_view_by==='RevenueLineItems'){status=model.get('sales_status');closed_RLI_count=model.get('closed_revenue_line_items');if(_.isNull(closed_RLI_count)){closed_RLI_count=0;}
label_key='_STATUS';}
if(_.isEmpty(status)){status=model.get('sales_stage');}
if(_.contains(sales_stage_won,status)||_.contains(sales_stage_lost,status)){message=app.lang.get(lang_key+'SELECTED'+label_key);return true;}
if(closed_RLI_count>0){message=app.lang.get(lang_key+'CLOSED_SELECTED'+label_key,'Opportunities');return true;}
return false;});return{closedModels:closedModels,message:message};}});});})(SUGAR.App);
/* End of File modules/Forecasts/clients/base/plugins/DisableMassDelete.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('QuotesLineNumHelper',['view'],{lineNumFieldDef:undefined,hasLineNumField:undefined,lineNumGroupIdMap:undefined,showLineNums:undefined,onAttach:function(component,plugin){this.once('init',function(){var ctx;if(this.model.module==='Quotes'){ctx=this.context;}else{ctx=this.context.parent;this.layout.on('quotes:line_nums:reset',this.resetGroupLineNumbers,this);}
ctx.on('quotes:show_line_nums:changed',this.onShowLineNumsChanged,this);this.lineNumFieldDef=_.find(this._fields,function(field){return field.name==='line_num';});this._fields=_.reject(this._fields,function(field){return field.name==='line_num';});this.hasLineNumField=false;this.showLineNums=false;this.lineNumGroupIdMap={};if(ctx.has('model')&&ctx.get('model').has('show_line_nums')){this.onShowLineNumsChanged(ctx.get('model').get('show_line_nums'),false);}},this);},onDetach:function(component,plugin){var ctx;if(this.model.module==='Quotes'){ctx=this.context;}else{ctx=this.context.parent;this.layout.off('quotes:line_nums:reset',this.resetGroupLineNumbers,this);}
if(ctx){ctx.off('quotes:show_line_nums:changed',this.onShowLineNumsChanged,this);}
this.lineNumGroupIdMap=undefined;},onShowLineNumsChanged:function(showLineNums,doRender){var changed=false;var isBundle=this.model.module==='ProductBundles'&&this.collection.length;this.showLineNums=showLineNums;doRender=_.isUndefined(doRender)?true:false;if(this.showLineNums&&!this.hasLineNumField){this._addLineNumFieldDef();if(isBundle){this._addLineNumToModel(this.model.cid,this.collection);}
changed=true;}else if(!this.showLineNums&&this.hasLineNumField){this._removeLineNumFieldDef();if(isBundle){this._removeLineNumFromModel(this.model.cid,this.collection);}
changed=true;}
if(changed&&doRender){this.render();}},getGroupLineNumCount:function(groupId){this._checkAddGroupToMap(groupId);return this.lineNumGroupIdMap[groupId];},resetGroupLineNumbers:function(groupId,collection){var groupLineNumObj;if(!this.showLineNums){return;}
groupId=groupId||this.model.cid;collection=collection||this.collection;this._checkAddGroupToMap(groupId);groupLineNumObj=this.lineNumGroupIdMap[groupId];groupLineNumObj.ct=1;_.each(collection.models,_.bind(function(groupLineNumObj,model){if(model.module==='Products'){model.set('line_num',groupLineNumObj.ct++);}},this,groupLineNumObj),this);},_checkAddGroupToMap:function(groupId){if(!this.lineNumGroupIdMap[groupId]){this.lineNumGroupIdMap[groupId]={ct:1};}},_checkRemoveGroupFromMap:function(groupId){if(this.lineNumGroupIdMap[groupId].ct<1){delete this.lineNumGroupIdMap[groupId];}},_addLineNumFieldDef:function(){this._fields.unshift(this.lineNumFieldDef);this.hasLineNumField=true;},_removeLineNumFieldDef:function(){this._fields=_.reject(this._fields,function(field){return field.name==='line_num';});this.hasLineNumField=false;},_addLineNumToModel:function(groupId,collection){this._checkAddGroupToMap(groupId);_.each(collection.models,_.bind(function(groupId,model){if(model.module==='Products'){model.set('line_num',this.lineNumGroupIdMap[groupId].ct++);}},this,groupId),this);},_removeLineNumFromModel:function(groupId,collection){_.each(collection.models,_.bind(function(groupId,model){if(model.module==='Products'){model.unset('line_num');this.lineNumGroupIdMap[groupId].ct--;}},this,groupId),this);this._checkRemoveGroupFromMap(groupId);}});});})(SUGAR.App);
/* End of File modules/Quotes/clients/base/plugins/QuotesLineNumHelper.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('QuotesViewSaveHelper',['view'],{hasUnsavedQuoteChanges:function(){var modelDefaults;var differenceKeys;var hasUnsavedChanges;var currentNoEditFields=this.noEditFields;this.noEditFields=this.noEditFields.concat(this.calculatedFields,['bundles']);this.noEditFields=this.noEditFields.concat(this.noEditFields,this._getIgnoredTaxRateFields());hasUnsavedChanges=this._super('hasUnsavedChanges');if(hasUnsavedChanges){modelDefaults=this.model.getDefault()||{};differenceKeys=_.difference(_.keys(this.model.attributes),_.keys(modelDefaults));if(differenceKeys.length){differenceKeys=_.difference(differenceKeys,this.noEditFields);if(!differenceKeys.length){hasUnsavedChanges=false;}}}
if(hasUnsavedChanges===false&&this.type!='create'){hasUnsavedChanges=this.hasUnsavedBundleChanges();}
this.noEditFields=currentNoEditFields;return hasUnsavedChanges;},hasUnsavedBundleChanges:function(){var bundleCalculatedFields;var changedBundle;var itemCalculatedFields={};var bundles=this.model.get('bundles');var changedFields=function(model){return model.changedAttributes(model.getSynced());};var unsavedBundles=_.find(bundles.models,function(model){return model.isNew();});if(this.context.get('create')===true&&bundles.length>1&&unsavedBundles){return true;}
changedBundle=bundles.find(function(bundle){var bundleChanged;var items;var changedItem;var keysToOmit;var changedFieldsList;if(_.isUndefined(bundleCalculatedFields)){bundleCalculatedFields=_.chain(bundle.fields).where({calculated:true}).pluck('name').value();}
keysToOmit=['product_bundle_items','_justSaved'].concat(bundleCalculatedFields);bundleChanged=!_.isEmpty(_.omit(changedFields(bundle),keysToOmit));if(bundleChanged===false&&bundle.has('product_bundle_items')){items=bundle.get('product_bundle_items');changedItem=items.find(function(item){if(item.isNew()){return true;}
if(_.isUndefined(itemCalculatedFields[item.module])){itemCalculatedFields[item.module]=_.chain(item.fields).where({calculated:true}).pluck('name').value();}
changedFieldsList=changedFields(item);changedFieldsList=_.omit(changedFieldsList,'_-rel_exp_values','position');return!_.isEmpty(_.omit(changedFieldsList,itemCalculatedFields[item.module]));});bundleChanged=!_.isUndefined(changedItem);}
return bundleChanged;},this);return!_.isUndefined(changedBundle);},_getIgnoredTaxRateFields:function(){if(_.isEmpty(this.defaultTaxRateValues)){return[];}
return Object.keys(this.defaultTaxRateValues).filter(taxRateAttr=>{return this.model.get(taxRateAttr)===this.defaultTaxRateValues[taxRateAttr];});}});});})(SUGAR.App);
/* End of File modules/Quotes/clients/base/plugins/QuotesViewSaveHelper.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('MassQuote',['view'],{blacklistRLIFields:['_acl','_module','id','quote_id'],onAttach:function(component,plugin){this.once('init',function(){this.layout.on('list:massquote:fire',this.massQuote,this);},this);},massQuote:function(){var qliModels=[];var rliObj;var loadViewObj;var parentModel;if(_.isFunction(this.hideAll)){this.hideAll();}
var massQuote=this.context.get('mass_collection');var errors={'LBL_CONVERT_INVALID_RLI_PRODUCT_PLURAL':[]};var messageTpl;var invalidItems=massQuote.filter(function(model){if(_.isEmpty(model.get('product_template_id'))&&!_.isEmpty(model.get('category_id'))){errors['LBL_CONVERT_INVALID_RLI_PRODUCT_PLURAL'].push(model);return true;}
return false;},this);if(!_.isEmpty(invalidItems)){messageTpl=app.template.getView('massupdate.invalid_link',this.module);_.each(errors,function(val,key){if(val.length!=0){var messages=[];messages.push(app.lang.get(key,this.module)+'<br>');_.each(val,function(item){messages.push(messageTpl(item.attributes));});app.alert.show(('invalid_items_'+key),{level:'error',title:app.lang.get('LBL_ALERT_TITLE_ERROR',this.module)+':',messages:messages,onLinkClick:function(){app.alert.dismiss('invalid_items_'+key);}});}},this);return;}
if(massQuote){_.each(massQuote.models,function(rliModel){rliObj=rliModel.toJSON();rliObj.revenuelineitem_id=rliObj.id;rliObj.parent_rli_id=rliObj.id;_.each(this.blacklistRLIFields,function(fieldName){delete rliObj[fieldName];},this);if(_.isEmpty(rliObj.product_template_name)){rliObj.product_template_name=rliObj.name;}else{rliObj.name=rliObj.product_template_name;}
if(_.isEmpty(rliObj.discount_price)){rliObj.discount_price=rliObj.likely_case;}
qliModels.push(app.data.createBean('Products',rliObj));},this);loadViewObj={module:'Quotes',layout:'create',action:'edit',convert:true,create:true,relatedRecords:qliModels,fromSubpanel:massQuote.fromSubpanel||false,subpanelLink:massQuote.link};parentModel=this.context.parent?this.context.parent.get('model'):this.context.get('model');loadViewObj.parentModel=parentModel;loadViewObj.fromLink=this.context.get('link');app.controller.loadView(loadViewObj);app.router.navigate('#Quotes/create',{trigger:false});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/MassQuote.js */

(function(app){app.events.on("app:init",function(){let tagTextTemplate=Handlebars.compile('@[{{module}}:{{id}}:{{name}}]');let taggingHtml='<span class="sugar_tagging">&nbsp;</span>';let tagListContainerHtml='<ul class="activitystream-tag-dropdown dropdown-menu ml-0 text-xs w-full"></ul>';let mention='@';let reference='#';let keycodeAt=64;let keycodeHash=35;let keycodeEsc=27;let keycodeEnter=13;let keycodeTab=9;let keycodeUp=38;let keycodeDown=40;let tagRegExp=/@\[([\w]+):([\d\w\-]+):(.+?)\]/g;let nbspRegExp=/&nbsp;/g;app.plugins.register('Taggable',['view','field'],{events:{'keypress .taggable':'_onKeyPress','keydown .taggable':'_onKeydown','keyup .taggable':'_onKeyup','mouseover .activitystream-tag-dropdown li':'_setListOptionAsActive','click .activitystream-tag-dropdown li':'_insertTag'},taggableSearchAfter:2,taggableListLength:8,taggableCursorPosition:0,onAttach:function(component,plugin){this._searchForTags=_.debounce(this._searchForTags,300);$(document).on('click.'+component.cid,function(event){var $target=$(event.target),clickedOutsideDropdown=($target.parents('.activitystream-tag-dropdown').length===0),clickedOutsideTaggingSpan=!$target.hasClass('sugar_tagging');if(component._taggableEnabled&&clickedOutsideDropdown&&clickedOutsideTaggingSpan){component._resetTaggable();}});this.useAvatarNamePills();},useAvatarNamePills:function(){this.tagTemplate=Handlebars.compile('<span class="label label-module-color-{{color}} sugar_tag">'+'<a href="#{{buildRoute module=module id=id}}">{{name}}</a></span>');this.tagInEditTemplate=Handlebars.compile('<span>{{moduleLabel module "sm" class="mr-2" contenteditable="false"}}<a>{{name}}</a></span>');this.tagListOptionTemplate=Handlebars.compile('<li{{#if noAccess}} class="disabled"{{/if}}>'+'<a>{{moduleLabel module "sm" class="pull-left mr-2"}}{{{htmlName}}}{{#if noAccess}}'+'<div class="add-on">{{str "LBL_NO_ACCESS_LOWER"}}</div>{{/if}}</a></li>');},useSquarePills:function(){this.tagTemplate=Handlebars.compile('<span class="label label-{{module}} sugar_tag">'+'<a href="#{{buildRoute module=module id=id}}">{{name}}</a></span>');this.tagInEditTemplate=Handlebars.compile('<span class="label label-{{module}} sugar_tag" contenteditable="false">'+'<a>{{name}}</a></span>');this.tagListOptionTemplate=Handlebars.compile('<li{{#if noAccess}} class="disabled"{{/if}}><a>'+'{{moduleLabel module "sm" class="pull-left mr-2 initial"}}{{{htmlName}}}{{#if noAccess}}'+'<div class="add-on">{{str "LBL_NO_ACCESS_LOWER"}}</div>{{/if}}</a></li>');},onDetach:function(component,plugin){$(document).off('click.'+component.cid);},unformatTags:function($input){var text='',tags=[];$input.contents().each(function(){var $node=$(this),data=$node.data();if(this.nodeType===Node.TEXT_NODE){text+=this.nodeValue.replace(nbspRegExp,' ');}else if(data&&data.module&&data.id&&data.name){text+=tagTextTemplate(data);tags.push(data);}else{text+=$node.text();}});return{value:text.trim(),tags:this._filterOutDuplicateTags(tags)};},formatTags:function(text){var html='';var labelNames=['LBL_VALUE_ERASED','LBL_NO_DATA_AVAILABLE_NO_PERIOD',];if(text&&(text.length>0)){html=text.replace(tagRegExp,_.bind(function(str,module,id,name){if(_.contains(labelNames,name)){name=app.lang.get(name,module);}
name=new Handlebars.SafeString(name);module=(module==='Users')?'Employees':module;let moduleMeta=app.metadata.getModule(module);return this.tagTemplate({module:module,id:id,name:name,color:moduleMeta.color});},this));}
return html.trim();},setTaggableRecord:function(module,id){this._taggableModuleName=module;this._taggableModelId=id;},_taggableEnabled:false,_taggableModuleName:null,_taggableModelId:null,_taggableLastSearchTerm:null,_taggableListOpen:null,_onKeyPress:function(event){this.taggableCursorPosition=this._getTaggableInput().prop('selectionStart');if(!this._taggableEnabled){switch(event.which){case keycodeAt:case keycodeHash:this._enableTaggable();break;}}},_onKeydown:function(event){if(this._taggableEnabled&&!this._taggableListOpen){switch(event.which){case keycodeEsc:case keycodeEnter:case keycodeTab:event.preventDefault();this._resetTaggable();break;}}
if(this._taggableEnabled&&(this._taggableListOpen===true)){switch(event.which){case keycodeEsc:event.preventDefault();this._resetTaggable();break;case keycodeEnter:case keycodeTab:event.preventDefault();this._getCurrentlyActiveOption().click();break;case keycodeUp:event.preventDefault();this._selectNextListOption(false);break;case keycodeDown:event.preventDefault();this._selectNextListOption(true);break;}}
var isTextarea=this._isTextArea(this._getTaggableInput());if(this._taggableEnabled&&isTextarea&&this._willDeleteMention()){this._resetTaggable();}},_willDeleteMention:function(){var currentChar=this._getTaggableInput().val()[this.taggableCursorPosition];if(currentChar==='@'||currentChar==='#'){return true;}
return false;},_onKeyup:function(event){var selection=window.getSelection(),range,$container,searchTerm;var $taggable=this._getTaggableInput();var isTextarea=this._isTextArea($taggable);if(this._taggableEnabled){let denyKeyCodes=[keycodeEnter,keycodeTab,keycodeUp,keycodeDown];if(this._taggableListOpen&&_.contains(denyKeyCodes,event.which)){return;}
if(isTextarea){$container=$taggable;searchTerm=this.getCurrentSearchTerm($container);}else if(selection.rangeCount>0){range=selection.getRangeAt(0);$container=$(range.startContainer.parentNode);searchTerm=$container.text();}else{return;}
searchTerm=searchTerm.trim();if(!$container.hasClass('sugar_tagging')&&!isTextarea){this._resetTaggable();}else if(this._taggableListOpen&&(searchTerm.length<=this.taggableSearchAfter)){this._getDropdown().hide();this._taggableListOpen=null;this._taggableLastSearchTerm=null;}else{if((searchTerm.indexOf(mention)===0)||(searchTerm.indexOf(reference)===0)){this._searchForTags(searchTerm);}else{this._resetTaggable();}}}},getCurrentSearchTerm:function($container){var value=$container.val();var char=value[this.taggableCursorPosition];var start=this.taggableCursorPosition;while(char!=='@'&&char!=='#'){if(start<0){return'';}
start--;char=value[start];}
return value.substring(start,this.taggableCursorPosition+1);},_enableTaggable:function(){if(this._isTextArea(this._getTaggableInput())){this._taggableEnabled=true;}else{var selection=window.getSelection();var range=selection.getRangeAt(0);var tagElement=$(taggingHtml);var textNode=tagElement.contents()[0];var cursorPosition=_.some([/chrome/,/safari/,/opera\//,/webkit/],function(rx){return rx.test(navigator.userAgent.toLowerCase());})?1:0;if(this._shouldEnableTaggable(range)){range.insertNode(tagElement.get(0));range.setStart(textNode,cursorPosition);range.setEnd(textNode,cursorPosition);selection.removeAllRanges();selection.addRange(range);this._taggableEnabled=true;}}},_shouldEnableTaggable:function(range){var text=range.startContainer.nodeValue,charBeforeCursor,result=false;if((range.startContainer.nodeType===Node.ELEMENT_NODE)||(text.length===0)||(range.startOffset===0)){result=true;}else{charBeforeCursor=text.charAt(range.startOffset-1);if((charBeforeCursor===String.fromCharCode(160))||(charBeforeCursor===String.fromCharCode(32))){result=true;}}
return result;},_resetTaggable:function(){var $taggable=this._getTaggableInput().focus();var selection=window.getSelection();if(selection.rangeCount>0){var range=selection.getRangeAt(0);}
var isTextarea=this._isTextArea($taggable);if(this._taggableEnabled&&!isTextarea){var $taggingSpan=$taggable.find('.sugar_tagging');if($taggingSpan.length>0){range.selectNodeContents($taggingSpan.get(0));range.collapse(false);selection.removeAllRanges();selection.addRange(range);$taggingSpan.before($taggingSpan.html().trim()).remove();}else{$taggable.blur().focus();}
this._removeDropdown();this._taggableEnabled=false;this._taggableListOpen=null;this._taggableLastSearchTerm=null;}},_insertTag:function(event){var $selected=$(event.currentTarget),$taggable=this._getTaggableInput(),taggableData=$selected.data(),$tagToReplace=$taggable.find('.sugar_tagging'),selection,range,$tagHtml;var isTextArea=this._isTextArea($taggable);if(!$selected.hasClass('disabled')){$taggable.focus();if(isTextArea){this._insertIntoTextarea($taggable,taggableData);}else{selection=window.getSelection();range=selection.getRangeAt(0);$tagHtml=$(this.tagInEditTemplate(taggableData));range.selectNode($tagToReplace.get(0));range.insertNode($tagHtml.get(0));range.selectNode($tagHtml.get(0));range.collapse(false);selection.removeAllRanges();selection.addRange(range);$tagToReplace.before('&nbsp;').remove();$tagHtml.data({id:taggableData.id,name:taggableData.name,module:taggableData.module});}
this._removeDropdown();this._taggableEnabled=false;this._taggableListOpen=null;this._taggableLastSearchTerm=null;}
event.preventDefault();},_insertIntoTextarea:function($textarea,taggableData){if(!$textarea){return;}
var variable='@['+taggableData.module+':'+taggableData.id+':'+taggableData.name+']';var lengthOfSearchTerm=this.getCurrentSearchTerm($textarea).length;var startOfSearchTerm=this.taggableCursorPosition-lengthOfSearchTerm+1;var currentText=$textarea.val();var front=currentText.substring(0,startOfSearchTerm);var back=currentText.substring(this.taggableCursorPosition+1,currentText.length);$textarea.val(front+variable+back);$textarea.trigger('change');},_searchForTags:function(searchTerm){var searchParams;var referenceSearchFields=['name','first_name','last_name'];var tagAction=searchTerm.charAt(0);var filtersBeanPrototype=app.data.getBeanClass('Filters').prototype;searchTerm=searchTerm.substr(1).trim();if((searchTerm.length>=this.taggableSearchAfter)&&(searchTerm!==this._taggableLastSearchTerm)){searchParams={q:searchTerm,max_num:this.taggableListLength,fields:'name'};if((this._taggableListOpen===false)&&(searchTerm.indexOf(this._taggableLastSearchTerm)===0)){this._resetTaggable();}else{if(tagAction===mention){app.data.createBeanCollection('Users').fetch({success:_.bind(function(collection,resp){if(this._taggableEnabled&&resp){this._populateTagList(collection,searchTerm);}},this),filter:filtersBeanPrototype.buildSearchTermFilter('Users',searchTerm),params:{has_access_module:this._taggableModuleName,has_access_record:this._taggableModelId}});}else if(tagAction===reference){searchParams.search_fields=referenceSearchFields.join();app.api.search(searchParams,{success:_.bind(function(response){if(this._taggableEnabled&&response){this._populateTagList(app.data.createMixedBeanCollection(response.records),searchTerm);}},this)});}
this._taggableLastSearchTerm=searchTerm;}}},_populateTagList:function(collection,searchTerm){var $tagList=this._initializeDropdown(),currentSearchTerm;var isTextarea=this._isTextArea(this._getTaggableInput());if(collection.length>0){searchTerm=searchTerm.trim();if(isTextarea){currentSearchTerm=this.getCurrentSearchTerm(this._getTaggableInput()).trim();}else{currentSearchTerm=this._getTaggableInput().find('.sugar_tagging').text().trim();}
if(currentSearchTerm.substr(1).trim()!==searchTerm){this._taggableLastSearchTerm=null;return;}
collection.each(function(model,index){var $tagListOption,data,escapedSearchTerm,name,secureName,htmlName;name=app.utils.getRecordName(model);secureName=Handlebars.Utils.escapeExpression(name).trim();escapedSearchTerm=Handlebars.Utils.escapeExpression(searchTerm).trim();htmlName=secureName.replace(new RegExp('('+escapedSearchTerm+')','ig'),function($1,match){return'<strong>'+match+'</strong>';});data={module:model.get('_module'),id:model.get('id'),name:name,htmlName:htmlName,noAccess:(model.get('has_access')===false)};$tagListOption=$(this.tagListOptionTemplate(data)).data(data);$tagList.append($tagListOption);},this);this._selectNextListOption(true);this._taggableListOpen=true;$tagList.show();}else{this._taggableListOpen=false;$tagList.hide();}},_initializeDropdown:function(){var $dropdown=this._getDropdown(),$taggable=this._getTaggableInput();if($dropdown.length===0){$dropdown=$(tagListContainerHtml).hide().appendTo($taggable.parent());}else{$dropdown.empty();}
return $dropdown;},_getDropdown:function(){return this.$('.activitystream-tag-dropdown');},_removeDropdown:function(){this.$('.activitystream-tag-dropdown').remove();},_getCurrentlyActiveOption:function(){return this._getDropdown().find('.active');},_selectNextListOption:function(down,$current){var $next;$current=$current||this._getCurrentlyActiveOption();if($current.length===0){$next=this._getDropdown().children().first();}else{$next=down?$current.next():$current.prev();}
if($next.length>0){$current.removeClass('active');if($next.hasClass('disabled')){this._selectNextListOption(down,$next);}else{$next.addClass('active');}}},_setListOptionAsActive:function(event){var currentTarget=this.$(event.currentTarget);if(!currentTarget.hasClass('disabled')){this._getDropdown().find('.active').removeClass('active');currentTarget.addClass('active');}},_getTaggableInput:function(){return this.$('.taggable');},_isTextArea:function($input){return $input.prop('nodeName')==='TEXTAREA';},_filterOutDuplicateTags:function(tags){tags=_.uniq(tags,function(tag){return tag.id;});return tags;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Taggable.js */

(function(app){if(!$.fn.liverelativedate){return;}
app.events.on('app:init',function(){app.plugins.register('RelativeTime',['view','field'],{onAttach:function(component){component.on('render',function(){component.$('[datetime]').liverelativedate();});},_render:function(){this.$('[datetime]').liverelativedate('destroy');Object.getPrototypeOf(this)._render.call(this);},onDetach:function(component){component.$('[datetime]').liverelativedate('destroy');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/RelativeTime.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('ErrorDecoration',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.model.on('validation:start validation:success',this.clearValidationErrors,this);},this);},clearValidationErrors:function(fields){fields=fields||_.toArray(this.fields);if(fields.length>0){_.defer(function(){_.each(fields,function(field){if(_.isFunction(field.clearErrorDecoration)&&field.disposed!==true){field.isErrorState=false;field.clearErrorDecoration();}});},fields);}
_.defer(()=>{if(this.disposed){return;}
this.$('.error').removeClass('error');this.$('.error-tooltip').remove();this.$('[data-bs-toggle="tab"] .sicon-warning-circle').remove();});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ErrorDecoration.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ClickToEdit',['view','field'],{isView:false,isField:false,_viewCurrentIndex:-1,_viewCurrentCTEList:[],_fieldCanEdit:false,_fieldIsInEdit:false,_fieldErrorMessage:'',_fieldIsErrorState:false,isHiding:false,fieldTypeValidationMap:{datapoint:'currency'},onAttach:function(component,plugin){if(component instanceof app.view.Field){this.isField=true;this._fieldOnAttach(component);}else if(component instanceof app.view.View){this.isView=true;this._viewOnAttach(component);}},_viewOnAttach:function(component){this.once('init',function(){this.context.on('field:editable:click',this._viewHandleClickIndex,this);$(window).on('keydown.'+this.cid,_.bind(function(e){if(this.layout.isVisible()){this._viewHandleKeyDown(e);}},this));this.on('render',this._viewResetCTEList,this);},this);},_fieldOnAttach:function(component){this.events=_.extend(this.events,{'mouseenter div.clickToEdit':'_fieldShowClickToEdit','mouseleave div.clickToEdit':'_fieldHideClickToEdit','click div.clickToEdit':'_fieldHandleFieldClick'});this.once('init',_.bind(function(){this._fieldBindPluginEvents();this.listenTo(this,'render',()=>{if(this.options.highlightChangedValues){this._highlightChanges();}});},this));},onDetach:function(component,plugin){if(this.isField){this._fieldOnDetach(component);}else if(this.isView){this._viewOnDetach(component);}},_viewOnDetach:function(component){this.context.off('field:editable:click');$(window).off('keydown.'+this.cid);},_fieldOnDetach:function(component){$(document).off('mousedown.record'+this.cid);this.context.off('field:editable:open');this.context.off('field:editable:error');this.off('render');},_viewHandleKeyDown:function(evt){if(evt.which===9){evt.preventDefault();var $elem=$(evt.target),isValid,field=this.fields[$(this._viewCurrentCTEList[this._viewCurrentIndex]).attr('sfuuid')],val;if(field&&field.type==='enum'){val=field.$(field.fieldTag).select2('val');}else{val=$elem.val();}
if(!evt.shiftKey){if(this._viewCurrentIndex!==-1&&this._viewCurrentIndex+1<this._viewCurrentCTEList.length){isValid=this._fieldDoValidate($elem,val);if(isValid){$elem.parents('.isEditable').removeClass('error');this._viewCurrentIndex++;}else{$elem.parents('.isEditable').addClass('error');}}else{this._viewCurrentIndex=0;}}else{if(this._viewCurrentIndex-1>=0){isValid=this._fieldDoValidate($elem,val);if(isValid){$elem.parents('.isEditable').removeClass('error');this._viewCurrentIndex--;}else{$elem.parents('.isEditable').addClass('error');}}else{this._viewCurrentIndex=this._viewCurrentCTEList.length-1;}}
this.$(this._viewCurrentCTEList[this._viewCurrentIndex]).find('div.clickToEdit').click();}},_viewResetCTEList:function(){var oldLength=this._viewCurrentCTEList.length;this._viewCurrentCTEList=this.$('.isEditable');if(oldLength>this._viewCurrentCTEList.length){this._viewCurrentIndex--;}},_viewHandleClickIndex:function(field){_.find(this._viewCurrentCTEList,function(el,idx,list){var $el=$(el);if(_.isEqual($el.find('div.clickToEdit').data('cid'),field.cid)){this._viewCurrentIndex=idx;return true;}},this);},_fieldBindPluginEvents:function(){this.context.on('field:editable:open',function(cid){if(this._fieldCheckIfCanEdit()){if(this._fieldIsErrorState){this.context.trigger('field:editable:error',this.cid);}else{if(this._fieldIsInEdit&&this.cid!==cid){if(this.type==='enum'){this.$('select').select2('close');}
if(this.type!='date'){this.setMode('list');}}}}},this);this.context.on('field:editable:error',function(cid){if(this._fieldCheckIfCanEdit()){if(!_.isEqual(cid,this.cid)&&this.options.viewName==='edit'){this.setMode('list');}}},this);this.on('render',function(){if(this._fieldCheckIfCanEdit()){var cteClass='clickToEdit';let el=this.$el;if(this.cteTag){el=this.$el.find(this.cteTag);}
if(this.action==='edit'){cteClass+=' active';el.addClass('active');}else{el.removeClass('active');}
if(!el.hasClass('disabled')&&!this.disableCTE){el.addClass('isEditable');el.wrapInner('<div class="'+cteClass+'" data-cid="'+this.cid+'" />');}}},this);if(this.context.parent){this.context.parent.on('change:selectedUser',function(){if(this._fieldCheckIfCanEdit()){if(this._fieldIsErrorState){this.clearErrorDecoration();}}},this);}},_fieldCheckIfCanEdit:function(){var isEnforced=(!_.isUndefined(this.def.enforced)&&this.def.enforced===true),isClickToEdit=(!_.isUndefined(this.def.click_to_edit)&&this.def.click_to_edit===true);if(!isEnforced&&isClickToEdit&&!_.isUndefined(this.context)){var ctx=this.context.parent||this.context,selectedUser=ctx.get('selectedUser')||app.user.toJSON();this._fieldCanEdit=_.isEqual(app.user.get('id'),selectedUser.id);this._fieldCanEdit=(this._fieldCanEdit&&app.acl.hasAccess('write',this.module,app.user.get('id'),this.name));if(this._fieldCanEdit&&this.model.has('sales_stage')){var salesStage=this.model.get('sales_stage'),disableIfSalesStageIs=_.union(app.metadata.getModule('Forecasts','config').sales_stage_won,app.metadata.getModule('Forecasts','config').sales_stage_lost);if(salesStage&&_.indexOf(disableIfSalesStageIs,salesStage)!=-1){this._fieldCanEdit=false;}}}
return this._fieldCanEdit;},_fieldBindDomChange:function(){var $el=this.$(this.fieldTag);$el.on('change',_.bind(function(){var value=this._fieldDoValidate(this,$el.val());if(value!==false){if(this._fieldIsErrorState){this.clearErrorDecoration();}
this.model.set(this.name,this.unformat(value));}else{var hb=Handlebars.compile('{{str key module context}}'),args={field_name:app.lang.get(this.def.label,this.module)};this._fieldErrorMessage=hb({'key':'LBL_EDITABLE_INVALID','module':this.module,'context':args});this._fieldShowErrors();$el.select();}},this));},_fieldShowErrors:function(){if(this._fieldIsErrorState===false){var ftag=this.fieldTag||'';var $ftag=this.$(ftag);var $tooltip;this._fieldIsErrorState=true;var ctx=this.context.parent||this.context;ctx.trigger('field:error',this,true);this.$el.addClass('error');var isWrapped=$ftag.parent().hasClass('input-append');if(!isWrapped){$ftag.wrap('<div class="input-append '+ftag+'">');}
$ftag.parent().addClass('error');$tooltip=$(this.exclamationMarkTemplate([this._fieldErrorMessage]));$ftag.after($tooltip);this.$('input').addClass('local-error');}},_fieldShowClickToEdit:function(event){if(this._fieldCanEdit&&!this._fieldIsInEdit){let target=$(event.currentTarget);let icon='<span class="edit-icon"><i class="sicon sicon-sm sicon-edit"></i></span>';if(target.has('label.original').length){target=target.find('label.original').next();}
if(target.has('div.ellipsis_inline').length){target=target.find('div.ellipsis_inline');}
target.prepend(icon);}},_fieldHideClickToEdit:function(event){if(this._fieldCanEdit&&!this._fieldIsInEdit){$(event.currentTarget).find('span.edit-icon').remove();}},_fieldHandleFieldClick:function(evt){if(this._fieldCanEdit&&!this._fieldIsInEdit){this.context.trigger('field:editable:click',this);this.setMode('edit');if(_.isFunction(this.focus)){this.focus();}else{var $el=this.$(this.fieldTag+':first');$el.focus().val($el.val()).select();}
if(this.type!=='image'){if(_.isFunction(this.bindKeyDown)){this.bindKeyDown(_.bind(this._fieldOnKeyDown,this));}else{this.$(this.fieldTag).on('keydown.record'+this.cid,{field:this},_.bind(this._fieldOnKeyDown,this));}
$(document).on('mousedown.record'+this.cid,{field:this},_.bind(this._fieldMouseClicked,this));}
if(this.type==='enum'){this.model.once('change:'+this.name,function(){_.defer(_.bind(function(){this.setMode('list');},this));},this);}
if(this.type==='date'){this.$el.closest('td').addClass('td-inline-edit');}}},_fieldOnKeyDown:function(evt){this._fieldHandleKeyDown.call(this,evt,evt.data.field);},_fieldMouseClicked:_.debounce(function(evt){this._fieldClose.call(this,evt,evt.data.field);},0),_fieldClose:function(evt,field){var currFieldParent=field.$el,targetPlaceHolder=this.$(evt.target).parents('span[sfuuid="'+field.sfId+'"]'),preventPlaceholder=this.$(evt.target).closest('.prevent-mousedown');if(preventPlaceholder.length>0||targetPlaceHolder.length>0||currFieldParent.find(':focus').length>0||!_.isEmpty(app.drawer._components)){return;}
if(this._fieldIsErrorState){this.$(this.fieldTag).focus().select();return;}
this.setMode('list');},_fieldHandleKeyDown:function(evt,field){if(field.disposed){return;}
if(evt.which===27){this.setMode('list');}else if(evt.which===13){if(this._fieldValueChanged(field)){this.model.once('change:'+field.name,function(){this.setMode('list');},this);}else{this.setMode('list');}}},_fieldValueChanged:function(field){var elVal=field.$(field.fieldTag).val();if(field.type==='currency'||field.type==='int'){elVal=this._fieldParsePercentage(elVal,(field.type==='currency')?undefined:0);}
if(field.type==='currency'){var diff=Math.abs(this.unformat(elVal)-this.unformat(field.value));return((Math.round(diff*100))!=0)}else{if(field.type==='date'){if(_.isUndefined(elVal)){elVal=field.$('div').html();}
return!_.isEqual(this.unformat(elVal),this.unformat(field.value));}else{return!_.isEqual(this.unformat(elVal),this.unformat(field.value));}}},_fieldDoValidate:function(field,newValue){let fieldType=field.type||field.data('type');fieldType=this.fieldTypeValidationMap[fieldType]||fieldType;if(_.isUndefined(newValue)||_.isEmpty(newValue)){if(_.isUndefined(this.fieldTag)){return false;}
newValue=this.$(this.fieldTag).val();}
if(fieldType==='int'){newValue=this._fieldParsePercentage(newValue,0);if(this._fieldVerifyIntValue(newValue)){return newValue;}}else{if(fieldType==='currency'){newValue=this._fieldParsePercentage(newValue);if(this._fieldVerifyCurrencyValue(newValue)){return newValue;}}else{if(fieldType==='date'){var dateFormat=app.date.convertFormat(app.user.getPreference('datepref'));if(dateFormat){if(app.date(newValue,[dateFormat],true).isValid()){return newValue;}}else{if(app.date(newValue).isValid()){return newValue;}}}else{return newValue;}}}
return false;},_fieldVerifyCurrencyValue:function(value){value=value.toString().trim();var config=app.metadata.getConfig(),decSep=app.user.getPreference('decimal_separator')||config.defaultDecimalSeparator||'.',groupSep=app.user.getPreference('number_grouping_separator')||config.defaultNumberGroupingSeparator||',',currency=app.user.getPreference('currency_id')||app.currency.getBaseCurrencyId(),currency_symbol=app.currency.getCurrencySymbol(currency),regex=new RegExp('^('+this._fieldEscapeRegexChar(currency_symbol)+')?(([\\d]{1,3}(?:'
+this._fieldEscapeRegexChar(groupSep)+'?[\\d]{3})*)?((?:'
+this._fieldEscapeRegexChar(decSep)+'[\\d]+)))'),parts=value.match(regex),isValid=true;if(value.length===0||_.isNull(parts)||_.isEmpty(parts[0])||parts[0]!=value){isValid=false;}
return isValid;},_fieldEscapeRegexChar:function(character){var needs_escape=['.','\\','+','*','?','[','^',']','$','(',')','{','}','=','!','<','>','|',':','-'];if(_.indexOf(needs_escape,character)!=-1){character='\\'+character;}
return character;},_fieldVerifyIntValue:function(value){var regex=new RegExp('^\\d+$'),match=value.toString().match(regex);if(_.isNull(match)){return false;}
var defValidation=this.def.validation,isValid=true;if(defValidation&&defValidation.type==='range'&&!_.isUndefined(defValidation.min)&&!_.isUndefined(defValidation.max)&&(value<defValidation.min||value>defValidation.max)){isValid=false;}
return isValid;},_fieldParsePercentage:function(value,decimals){var orig=this.model.get(this.name),config=app.metadata.getConfig(),decSep=app.user.getPreference('decimal_separator')||config.defaultDecimalSeparator||'.',groupSep=app.user.getPreference('number_grouping_separator')||config.defaultNumberGroupingSeparator||',',regex=new RegExp('^([+-])(([\\d]{1,3}(?:'+this._fieldEscapeRegexChar(groupSep)
+'[\\d]{3})*|(?:[\\d]))*((?:'+this._fieldEscapeRegexChar(decSep)+'[\\d]+))?)(\\%)?'),parts=value.toString().match(regex),isPercent=(parts&&parts[5]==='%'),isAddition=(parts&&parts[1]==='+'),isSubtraction=(parts&&parts[1]==='-'),amount;if(parts&&parts[0]===value&&parts[2]!='0'){amount=this.unformat(parts[2]);if(isPercent){value=app.math.mul(app.math.div(amount,100),orig);}else{value=amount;}
if(isAddition){value=app.math.add(orig,value);}else{if(isSubtraction){value=app.math.sub(orig,value);}}
value=app.math.round(value,decimals);}
return this.format(value.toString());},handleHideDatePicker:function(){var $field=this.$(this.fieldTag),value=$field.val();if(this.isHiding){this.isHiding=false;return true;}
this.isHiding=true;if(_.isEmpty(value)){$field.val(this.format());return;}
value=this.unformat(value);if(!_.isEmpty(value)){this.model.set(this.name,value);this.setMode('list');return;}},bindDomChange:function(){if(this.isView){return this._super('bindDomChange');}
if(!(this.model instanceof Backbone.Model)){return;}
this._fieldBindDomChange();},clearErrorDecoration:function(){this._fieldIsErrorState=false;var ctx=this.context.parent||this.context;ctx.trigger('field:error',this,false);this._fieldErrorMessage='';},setMode:function(name){if(name==='list'){this.$(this.fieldTag).off('keydown.record'+this.cid);$(document).off('mousedown.record'+this.cid);if(this.type==='date'){$('.main-pane, .flex-list-view-content').off('scroll.'+this.cid);}}
if(this._fieldIsErrorState){this.clearErrorDecoration();}
app.view.Field.prototype.setMode.call(this,name);this._fieldIsInEdit=(this.action==='edit');if(this._fieldIsInEdit){this.context.trigger('field:editable:open',this.cid);}else{this.$el.removeClass('error');}
if(this.action!=='edit'&&this.type==='date'){this.$el.closest('td').removeClass('td-inline-edit');}},_highlightChanges:function(){let tableCell=this.$el.closest('td');if(this.action==='edit'){tableCell.removeClass('changed-value-highlight');}else{tableCell.toggleClass('changed-value-highlight',this._hasModelValueChanged());}},_hasModelValueChanged:function(){let currentValue=this.model.get(this.name);let syncedValue=this.model.getSynced()[this.name];if(this.type==='currency'){let diff=Math.abs(this.unformat(currentValue)-this.unformat(syncedValue));return Math.round(diff*100)!==0;}else if(this.type==='date'){return currentValue!==syncedValue;}else{return!_.isEqual(this.unformat(currentValue),this.unformat(syncedValue));}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ClickToEdit.js */

(function(app){app.events.on("app:init",function(){app.plugins.register("GridBuilder",["view"],{getGridBuilder:function(params){function Row(options){this.initialize(options);}
_.extend(Row.prototype,{initialize:function(options){this.cells=[];this.span=0;this.maxSpan=options.maxSpan||12;this.maxCells=options.maxCells||1;},addCell:function(field,tabIndex){if(!_.isEmpty(tabIndex)){field.index=tabIndex;}
this.cells.push(field);this.span+=field.cellSpan;},hasMoreRoom:function(cellSpan){if(this.cells.length==this.maxCells||(this.span+cellSpan)>this.maxSpan){return false;}
return true;}});function GridBuilder(options){this.initialize(options);}
_.extend(GridBuilder.prototype,{initialize:function(options){options=options||{};options.fields=options.fields||{};this.grid=[];this.fields=app.utils.deepCopy(options.fields);this.maxRowSpan=12;this.maxColumns=options.columns||1;this.tabIndex=options.tabIndex||0;},build:function(){var grid=[];_.each(this.grid,function(row,index){grid[index]=[];_.each(row.cells,function(cell){grid[index].push(cell);},this);},this);this.grid=grid;return this._getGrid();},addRow:function(){var row=new Row({maxSpan:this.maxRowSpan,maxCells:this.maxColumns});this.grid.push(row);return row;},addField:function(field){var currentRow;if(this.grid.length<1){currentRow=this.addRow();}else{currentRow=this.grid[this.grid.length-1];}
if(!currentRow.hasMoreRoom(field.cellSpan)){currentRow=this.addRow();}
currentRow.addCell(field,++this.tabIndex);},_getGrid:function(){return{grid:this.grid,lastTabIndex:this.tabIndex};},_calculateFieldSpan:function(field){if(_.isUndefined(field.span)){field.span=Math.floor(this.maxRowSpan / this.maxColumns);}
if(field.span<1){field.span=1;}
if(field.span>this.maxRowSpan){field.span=this.maxRowSpan;}
field.cellSpan=field.span;}});var LabelsInlineGridBuilder=function(options){this.initialize(options);}
app.utils.extendFrom(LabelsInlineGridBuilder,GridBuilder,{build:function(){var ratioControl=this.maxColumns>2?8:4;_.each(this.fields,function(field){this._calculateFieldSpan(field);if(_.isUndefined(field.labelSpan)){field.labelSpan=Math.floor(ratioControl / this.maxColumns);}
if(field.labelSpan<1){field.labelSpan=1;}
if(_.isUndefined(field.dismiss_label)){field.dismiss_label=false;}
if(field.dismiss_label!==true){field.span-=field.labelSpan;if(field.span<1){field.span=1;}}
this.addField(field);},this);return GridBuilder.prototype.build.call(this);}});var LabelsOnTopGridBuilder=function(options){this.initialize(options);}
app.utils.extendFrom(LabelsOnTopGridBuilder,GridBuilder,{build:function(){_.each(this.fields,function(field){this._calculateFieldSpan(field);if(_.isUndefined(field.labelSpan)){field.labelSpan=field.span}
if(_.isUndefined(field.dismiss_label)){field.dismiss_label=false;}
this.addField(field);},this);return GridBuilder.prototype.build.call(this);}});var options={fields:params.fields,columns:params.columns,tabIndex:params.tabIndex};if(params.labelsOnTop===false&&params.labels){return new LabelsInlineGridBuilder(options);}else{return new LabelsOnTopGridBuilder(options);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/GridBuilder.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('ListDisableSort',['view'],{onAttach:function(component,plugin){component._createCatalog=_.wrap(component._createCatalog,function(func,fields){_.each(fields,function(field){field.sortable=false;});return func.call(component,fields);});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListDisableSort.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Editable',['view'],{onAttach:function(component,plugin){this.editableKeyDowned=_.bind(function(evt){this.editableHandleKeyDown.call(this,evt,evt.data.field);},this);this.editableMouseClicked=_.bind(function(evt){this.editableHandleMouseDown.call(this,evt,evt.data.field);},this);this.on('init',function(){app.routing.before('route',this.beforeRouteChange,this);$(window).on('beforeunload.'+this.cid,_.bind(this.warnUnsavedChangesOnRefresh,this));this.before('unsavedchange',this.beforeViewChange,this);this.listenTo(this.model,'sync',this.manageTemplateFields);let sideDrawer=this.closestComponent('side-drawer');if(sideDrawer&&sideDrawer.before){sideDrawer.before('side-drawer:close side-drawer:content-changed',this.beforeContainerChange,this);}
var omniDashboard=this.closestComponent('omnichannel-dashboard');if(omniDashboard){omniDashboard.before('omni-dashboard:close omni-dashboard:content-changed',this.beforeContainerChange,this);}
if(_.isEmpty(app.additionalComponents['drawer'])){return;}
app.events.on('editable:beforehandlers:off',this.unbindBeforeHandler,this);this._currentUrl=Backbone.history.getFragment();});},beforeRouteChange:function(params){if(this.closestComponent('omnichannel-dashboard')){return true;}
var onConfirm=_.bind(this.onConfirmRoute,this);return this.warnUnsavedChanges(onConfirm);},beforeViewChange:function(param){if(!(param&&_.isFunction(param.callback))){app.logger.error('Custom unsavedchange must contain callback function.');return true;}
var onConfirm=_.bind(function(){app.events.trigger('editable:beforehandlers:off');if(param.callback&&_.isFunction(param.callback)){param.callback.call(this);}},this);return this.warnUnsavedChanges(onConfirm,param.message);},beforeContainerChange:function(params){var callback=params.callback;var message=params.message||'LBL_ONE_OR_MORE_UNSAVED_CHANGES';return this.beforeViewChange({callback:callback,message:message});},warnUnsavedChanges:function(onConfirm,customMessage,onCancel){if(this.resavingAfterMetadataSync){return false;}
if(this.disposed){return true;}
this.$(':focus').trigger('change');if(_.isFunction(this.hasUnsavedChanges)&&this.hasUnsavedChanges()){this._targetUrl=Backbone.history.getFragment();app.router.navigate(this._currentUrl,{trigger:false,replace:true});app.alert.show('leave_confirmation',{level:'confirmation',messages:app.lang.get(customMessage||'LBL_WARN_UNSAVED_CHANGES',this.module),onConfirm:onConfirm,onCancel:onCancel||$.noop});return false;}
return true;},warnUnsavedChangesOnRefresh:function(){if(this.resavingAfterMetadataSync){return false;}
if(_.isFunction(this.hasUnsavedChanges)&&this.hasUnsavedChanges()){return app.lang.get('LBL_WARN_UNSAVED_CHANGES',this.module);}},onConfirmRoute:function(){app.events.trigger('editable:beforehandlers:off');if(this._currentUrl===this._targetUrl){app.router.refresh();}else{app.router.navigate(this._targetUrl,{trigger:true});}},toggleFields:function(fields,isEdit,callback){if(!_.isArray(fields)){return;}
var viewName=!!isEdit?'edit':this._getViewAction();var numOfToggledFields=fields.length;var view=this;const fieldModuleData=app.metadata.getModule(this.module)||{};const templateEditableFields=fieldModuleData.templateEditableFields||[];_.each(fields,function(field){if(field.disposed){return;}
const isTemplateEditable=templateEditableFields.indexOf(field.name)>-1||!field.name;if(field.model&&field.model.get('is_template')&&!isTemplateEditable){_.defer(function(field){if(field.disposed!==true){field.setMode('detail');field.$el.closest('.record-cell').toggleClass('edit',false);numOfToggledFields--;if(numOfToggledFields===0){if(_.isFunction(callback)){callback();}
view.trigger('editable:toggle_fields',fields,viewName);}}},field);return;}
if(field.action===viewName){field.$el.closest('.record-cell').toggleClass('edit',(viewName==='edit'));numOfToggledFields--;return;}
var meta=field.def;var viewDefs=field.viewDefs||{};if(meta&&viewDefs&&isEdit&&app.utils.isFieldAlwaysReadOnly(meta,viewDefs)){numOfToggledFields--;return;}
_.defer(function(field){if(field.disposed!==true){field.setMode(viewName);field.$el.closest('.record-cell').toggleClass('edit',(viewName==='edit'));numOfToggledFields--;if(numOfToggledFields===0){if(_.isFunction(callback)){callback();}
view.trigger('editable:toggle_fields',fields,viewName);}}},field);this.turnOffFieldEvents(field);},this);},turnOffFieldEvents:function(field){if(_.isFunction(field.unbindKeyDown)){field.unbindKeyDown(this.editableKeyDowned);}else{field.$(field.fieldTag).off('keydown.record',this.editableKeyDowned);}
$(document).off('mousedown.record'+field.name,this.editableMouseClicked);},turnOffEvents:function(fields){_.each(fields,function(field){this.turnOffFieldEvents(field);},this);},toggleField:function(field,isEdit,noFocus){var viewName;if(_.isUndefined(isEdit)){if(_.contains([this.action,this.viewAction,'erased'],field.tplName)){viewName='edit';}else{viewName=this._getViewAction();}}else{viewName=!!isEdit?'edit':this._getViewAction();}
if(!field.triggerBefore('toggleField',viewName)){return false;}
if(field.hasChanged()&&viewName==='detail'){return;}
field.setMode(viewName);if(viewName==='edit'&&!noFocus){if(_.isFunction(field.focus)){field.focus();}else{var $el=field.$(field.fieldTag+':first');$el.focus().val($el.val());}
if(_.isFunction(field.bindKeyDown)){field.bindKeyDown(this.editableKeyDowned);}else{field.$(field.fieldTag).on('keydown.record',{field:field},this.editableKeyDowned);}
if(_.isFunction(field.bindDocumentMouseDown)){field.bindDocumentMouseDown(this.editableMouseClicked);}else{$(document).on('mousedown.record'+field.name,{field:field},this.editableMouseClicked);}
field.$el.closest('.record-cell').toggleClass('edit',true);}else{if(_.isFunction(field.unbindKeyDown)){field.unbindKeyDown();}else{field.$(field.fieldTag).off('keydown.record');}
$(document).off('mousedown.record'+field.name);field.$el.closest('.record-cell').toggleClass('edit',false);}
field.trigger('editable:toggle-field',viewName);},nextField:function(field,direction){if(!field){return;}
field.$(field.fieldTag).trigger('change');direction=_.contains(['nextField','prevField'],direction)?direction:'nextField';var nextField=field[direction];if(!nextField){return;}
if(_.isFunction(this.toggleMoreLess)&&nextField.$el.closest('.panel_hidden').hasClass('hide')){this.toggleMoreLess('more');}
this.toggleField(field,false);while(nextField.isDisabled()){if(nextField[direction]){nextField=nextField[direction];}else{break;}}
if(!nextField.isDisabled()){this.toggleField(nextField,true);}},getEditableFields:function(fields,noEditFields){var editableFields=[];_.each(fields,function(field){var readonlyField=this._isReadOnly(field,noEditFields);if(!readonlyField){editableFields.push(field);}},this);this._formDoublyLinkedList(editableFields);return editableFields;},_formDoublyLinkedList:function(fields){if(fields.length<=1){return;}
var firstField;var previousField;_.each(fields,function(field){if(previousField){previousField.nextField=field;field.prevField=previousField;}else{firstField=field;}
previousField=field;});if(previousField){previousField.nextField=firstField;firstField.prevField=previousField;}},_isReadOnly:function(field,noEditFields){var isLocked=_.contains(this.model.get('locked_fields'),field.def.name);if((app.utils.isFieldAlwaysReadOnly(field.def,field.viewDefs))||(field.def.type!=='fieldset'&&isLocked)||_.indexOf(noEditFields,field.name)>=0){return true;}
return false;},_getViewAction:function(){return!_.isEmpty(this.viewAction)?this.viewAction:this.action;},editableHandleMouseDown:function(evt,field){if(field.tplName===this._getViewAction()){return;}
var currFieldParent=field.$el,targetPlaceHolder=this.$(evt.target).parents("span[sfuuid='"+field.sfId+"']"),preventPlaceholder=this.$(evt.target).closest('.prevent-mousedown');if(!currFieldParent){return;}
var inPreventPlaceholder=(preventPlaceholder.length>0);var inTargetPlaceholder=(targetPlaceHolder.length>0);var isFocusInField=(currFieldParent.find(':focus').length>0);var drawerOpened=!_.isEmpty(app.drawer._components);if(inPreventPlaceholder||inTargetPlaceholder||isFocusInField||drawerOpened){return;}
this.toggleField(field,false);this.trigger('editable:mousedown',evt,field);},editableHandleKeyDown:function(evt,field){if(evt.which==27){this.toggleField(field,false);}
this.trigger('editable:keydown',evt,field);},hidePencil:function(editableFields){_.each(this.fields,function(field){const isEditableField=editableFields.indexOf(field.name)>-1||!field.name;if(!isEditableField){this.$('.record-edit-link-wrapper[data-name='+field.name+']').toggleClass('hide',true);}},this);},getTemplateEditableFields:function(){const fieldModuleData=app.metadata.getModule(this.module)||{};return fieldModuleData.templateEditableFields||[];},manageTemplateFields:function(){if(this.disposed){return;}
if(this.model.get('is_template')&&_.isFunction(this.toggleEdit)&&_.isFunction(this.hidePencil)&&this.action==='edit'){this.toggleEdit(true);const templateEditableFields=this.getTemplateEditableFields();this.hidePencil(templateEditableFields);}},unbindBeforeHandler:function(){app.routing.offBefore('route',this.beforeRouteChange,this);$(window).off('beforeunload.'+this.cid);let sideDrawer=this.closestComponent('side-drawer');if(sideDrawer&&sideDrawer.offBefore){sideDrawer.offBefore('side-drawer:close side-drawer:content-changed',this.beforeContainerChange,this);}
var omniDashboard=this.closestComponent('omnichannel-dashboard');if(omniDashboard){omniDashboard.offBefore('omni-dashboard:close omni-dashboard:content-changed',this.beforeContainerChange,this);}
if(_.isEmpty(app.additionalComponents['drawer'])){return;}
app.drawer.offBefore('reset',this.beforeRouteChange,this);this.offBefore('unsavedchange');},onDetach:function(){this.stopListening();$(document).off('mousedown',this.editableMouseClicked);this.editableKeyDowned=null;this.editableMouseClicked=null;app.events.off('editable:beforehandlers:off',null,this);this.unbindBeforeHandler();}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Editable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListEditable',['field'],{_loadTemplate:function(){Object.getPrototypeOf(this)._loadTemplate.call(this);if(this.view.action==='list'&&_.contains(['edit','disabled'],this.tplName)){var tplName='list-'+this.tplName;this.template=app.template.getField(this.type,tplName,this.module,this.tplName)||app.template.empty;this.tplName=tplName;}}});})})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListEditable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FilterSharing',['layout','view'],{predefinedFilters:null,isDashboard:function(){return this.name==='dashboard'||(this.type==='record'&&this.module==='Dashboards');},isFilteredListViewDashlet:function(dashlet){return dashlet.view&&dashlet.view.type==='dashablelist'&&dashlet.view.filter_id&&this.isCustomFilter(dashlet.view.filter_id);},getMetadataFilterIds:function(){var allFilters=_.flatten(_.compact(_.map(app.metadata.getModules(),function(module){return module.filters&&module.filters.basic&&module.filters.basic.meta&&module.filters.basic.meta.filters;})));this.predefinedFilters=_.unique(_.pluck(allFilters,'id'));return this.predefinedFilters;},isCustomFilter:function(filterId){var filters=this.predefinedFilters?this.predefinedFilters:this.getMetadataFilterIds();return!_.contains(filters,filterId);},getListViewFilterIds:function(){var ids=[];var metadata=this.model.get('metadata');if(metadata&&metadata.components){_.each(metadata.components,function(section){_.each(section.rows,function(row){_.each(row,function(dashlet){if(this.isFilteredListViewDashlet(dashlet)){ids.push(dashlet.view.filter_id);}},this);},this);},this);}
return ids;},getPrivateFilter:function(filterData){var filterModel=app.data.createBean('Filters',filterData);var filterTeams=filterModel.get('team_name');var globalTeam=_.findWhere(filterTeams,{id:'1'});filterModel.set('team_name',_.without(filterTeams,globalTeam));return filterModel;},updateListViewFilters:function(filterUsersData,filter){var filterModel=this.getPrivateFilter(filter);var isFilterTeamsUpdated=this.updateFilterTeams(filterModel,filterUsersData.dashboardTeams);if(isFilterTeamsUpdated){filterModel.save();}},updateFilterTeams:function(filterModel,dashboardTeams){var filterTeams=filterModel.get('team_name');var hasNewFilterTeam=_.some(filterTeams,function(team){return!_.findWhere(dashboardTeams,{id:team.id});});var hasNewDashboardTeam=_.some(dashboardTeams,function(team){return!_.findWhere(filterTeams,{id:team.id});});var isFilterTeamsChanged=hasNewDashboardTeam||hasNewFilterTeam;if(isFilterTeamsChanged){filterModel.set('team_name',dashboardTeams);}
return isFilterTeamsChanged;},triggerListviewFilterUpdate:function(){if(this.isDashboard()){var filterIds=this.getListViewFilterIds();var dashboardTeams=this.model.get('team_name');var assignedUserId=this.model.get('assigned_user_id');_.each(filterIds,function(filterId){var url=app.api.buildURL('Filters/'+filterId,null,null);var filterUsersData={assignedUserId:assignedUserId,dashboardTeams:dashboardTeams};app.api.call('GET',url,null,{success:_.bind(this.updateListViewFilters,this,filterUsersData),error:function(){app.logger.error('Filter can not be read, thus is not shared. Filter id: '+filterId);}});},this);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FilterSharing.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ExternalApp',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.addExternalAppFieldsToContext();},this);},addExternalAppFieldsToContext:function(){var fieldsToAdd=[];if(this.meta&&this.meta.panels){_.each(this.meta.panels,function(panel){var fields=panel.fields;_.each(fields,function(field){if(field.type==='external-app-field'&&_.isArray(field.loadField)){fieldsToAdd=fieldsToAdd.concat(field.loadField);}});});}
this.context.addFields(fieldsToAdd);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ExternalApp.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ListRemoveLinks',['view'],{onAttach:function(component,plugin){var removeLinks=function(){component.$('a:not(.rowaction, .dropdown-toggle, .dropdown-menu *)').contents().unwrap();};component.on('render',removeLinks,null,component);app.events.on('list:preview:decorate',removeLinks,this);},onDetach:function(){app.events.off('list:preview:decorate',null,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ListRemoveLinks.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('File',['field'],{bindKeyDown:function(){},bindDocumentMouseDown:function(){}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/File.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FieldDuplicate',['field'],{_duplicateBeanId:null,_duplicateBeanModule:null,duplicateFromModel:function(id,module){this._duplicateBeanId=id;this._duplicateBeanModule=module;},_onFieldDuplicate:function(model){var id=null,module=null;if(model instanceof Backbone.Model){id=model.get('id');module=model.module;}
this.duplicateFromModel((this.model&&this.model.get('id')===id)?null:id,(this.module&&this.module===module)?null:module);if(_.isFunction(this.onFieldDuplicate)){this.onFieldDuplicate.call(this,model);}},_beforeFieldDuplicate:function(params){if(_.isFunction(this.beforeFieldDuplicate)){return this.beforeFieldDuplicate.call(this,params);}
return true;},_formatFieldForDuplicate:function(){if(!this.disposed&&_.isFunction(this.formatFieldForDuplicate)){this.formatFieldForDuplicate.call(this);this.render();}},_unformatFieldForDuplicate:function(){if(_.isFunction(this.unformatFieldForDuplicate)){this.unformatFieldForDuplicate.call(this);}},onAttach:function(component,plugin){this.on('init',function(){if(this.model){this.model.on('change:'+this.name,function(){this._onFieldDuplicate();},this);this.model.on('duplicate:field',this._onFieldDuplicate,this);this.model.on('duplicate:field:'+this.name,this._onFieldDuplicate,this);this.model.on('data:sync:start',function(method,options){if(!_.isNull(this._duplicateBeanId)&&(method=='update'||method=='create')){options.params=options.params||{};options.params[this.name+'_duplicateBeanId']=this._duplicateBeanId;}},this);this.model.on('duplicate:field:prepare:save',function(model){if(this.model.get(this.name)){model[this.name+'_duplicateBeanId']=this._duplicateBeanId;}},this);this.model.on('duplicate:format:field',this._formatFieldForDuplicate,this);this.model.on('duplicate:unformat:field',this._unformatFieldForDuplicate,this);}
if(this.view){this.view.before('duplicate:field',this._beforeFieldDuplicate,this);}});},onDetach:function(component,plugin){if(this.view){this.view.offBefore('duplicate:field');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FieldDuplicate.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('LinkedModel',['view','field'],{createLinkModel:function(parentModel,link){if(this.context&&this.context.parent&&this.context.parent.isCreate()){return app.data.createBean(app.data.getRelatedModule(parentModel.module,link));}
var model=app.data.createRelatedBean(parentModel,null,link),relatedFields=app.data.getRelateFields(parentModel.module,link),parentModule=app.metadata.getModule(parentModel.module);if(parentModule&&parentModule.fields[link]&&parentModule.fields[link].populate_list){model.relatedAttributes=model.relatedAttributes||{};this._parsePopulateList(parentModule.fields[link].populate_list,parentModel,model);}
if(!_.isEmpty(relatedFields)){model.relatedAttributes=model.relatedAttributes||{};_.each(relatedFields,function(field){var attrs={};var parentValue=parentModel.get(field.rname);if(!parentValue&&parentModel.fields[field.rname]&&parentModel.fields[field.rname].type=='fullname'){parentValue=parentModel.get('full_name')||app.utils.formatNameLocale(parentModel.attributes);}
attrs[field.name]=parentValue;attrs[field.id_name]=parentModel.get('id');if(field.link){attrs[field.link]=parentModel.toJSON();}
model.set(attrs);model.relatedAttributes[field.name]=parentModel.get(field.rname);model.relatedAttributes[field.id_name]=parentModel.get('id');if(field.populate_list){this._parsePopulateList(field.populate_list,parentModel,model);}},this);}
this.populateParentFields(model,parentModel);return model;},_parsePopulateList:function(populate_list,parentModel,model){_.each(populate_list,function(target,source){source=_.isNumber(source)?target:source;if(!_.isUndefined(parentModel.get(source))&&app.acl.hasAccessToModel('edit',model,target)){model.set(target,parentModel.get(source));model.relatedAttributes[target]=parentModel.get(source);}},this);},createRelatedRecord:function(module,link){let bwcExceptions=['Emails','Teams','ACLRoles','Holidays','EAPM'];let moduleMeta=app.metadata.getModule(module);if(moduleMeta&&moduleMeta.isBwcEnabled&&!_.contains(bwcExceptions,module)){this.routeToBwcCreate(module);}else{this.openCreateDrawer(module,link);}},routeToBwcCreate:function(module){var proto=Object.getPrototypeOf(this);if(_.isFunction(proto.routeToBwcCreate)){return proto.routeToBwcCreate.call(this,module);}
var parentModel=this.context.parent.get('model'),link=this.context.get('link');app.bwc.createRelatedRecord(module,parentModel,link);},openCreateDrawer:function(module,link){var proto=Object.getPrototypeOf(this);if(_.isFunction(proto.openCreateDrawer)){return proto.openCreateDrawer.call(this,module,link);}
link=link||this.context.get('link');var context=['tabbed-dashlet','record-drawer'].includes(this.context.get('name'))?this.context:(this.context.parent||this.context);var parentModel=context.get('model')||context.parent.get('model'),model=this.createLinkModel(parentModel,link),self=this;app.drawer.open({layout:'create',context:{create:true,module:model.module,model:model}},function(context,model){if(!model){return;}
let mainPane=self.closestComponent('main-pane');if(mainPane){let slCtx=mainPane.getComponent('record')._slCtx;if(slCtx){slCtx.updateRelatedCollectionValues(parentModel,link,null,null,model,'add');}}
self.trigger('linked-model:create',model);});},populateParentFields:function(model,parentModel){var parentModule=parentModel.module||parentModel.get("module")||parentModel.get("_module");_.each(model.fields,function(def){if(def.type&&def.type==='parent'){if(app.lang.getAppListStrings(def.options)[parentModule]){var attributes={};attributes[def.type_name]=parentModule;if(parentModel.get('id')){attributes[def.id_name]=parentModel.get('id');attributes[def.name]=app.utils.getRecordName(parentModel);attributes.parent=parentModel.toJSON();}
model.set(attributes);}}});if(parentModule=="Contacts"&&parentModel.get("account_id")&&model.get("contact_id")){model.set({parent_type:"Accounts",parent_id:parentModel.get("account_id"),parent_name:parentModel.get('account_name')});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/LinkedModel.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ToggleVisibility','view',{events:{'click [data-action=visibility-switcher]':'visibilitySwitcher'},visibilityKey:'visibility',defaultVisibility:'user',onAttach:function(){this.on('init',function(){if(!this.meta.last_state){this.meta.last_state={id:this.dashModel.get('id')+':'+this.name,defaults:{}};}
this._initVisibility();});},_initVisibility:function(){var config=app.metadata.getView(this.module,this.name),visibilityField=_.chain(config.panels).map(function(obj){return obj.fields;}).flatten().findWhere({name:this.visibilityKey}).value();if(!visibilityField){return;}
if(_.contains(this.plugins,'Dashlet')){this.settings.on('change:'+this.visibilityKey,function(model,value){this._setVisibilityLastState(value);},this);this.settings.set(this.visibilityKey,this.getVisibility());}else{if(!this.hasVisibility()){this.setVisibility(this.getVisibility());}}},_setVisibilityLastState:function(visibility){if(!this.meta.last_state.defaults[this.visibilityKey]){this.meta.last_state.defaults[this.visibilityKey]=visibility;}
app.user.lastState.register(this);var specificVisibilityKey=app.user.lastState.key(this.visibilityKey,this);app.user.lastState.set(specificVisibilityKey,visibility);},visibilitySwitcher:function(event){var proto=Object.getPrototypeOf(this),visibility=this.$(event.currentTarget).val();if(visibility===this.getVisibility()){return;}
this.setVisibility(visibility);if(_.isFunction(proto.visibilitySwitcher)){proto.visibilitySwitcher.call(this,event);}
this.loadData();},getVisibility:function(){var visibility=app.user.lastState.get(app.user.lastState.key(this.visibilityKey,this),this);if(!visibility&&this.settings){visibility=this.settings.get(this.visibilityKey);}
return visibility||this.defaultVisibility;},setVisibility:function(visibility){if(_.contains(this.plugins,'Dashlet')){this.settings.set(this.visibilityKey,visibility);}else{this._setVisibilityLastState(visibility);}},hasVisibility:function(){var visibility=app.user.lastState.get(app.user.lastState.key(this.visibilityKey,this),this);if(!visibility&&this.settings){visibility=this.settings.has(this.visibilityKey);}
return!!visibility;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ToggleVisibility.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Pagination',['view'],{onAttach:function(component,plugin){var origBDC=component.bindDataChange;this.bindDataChange=function(){if(origBDC){origBDC.call(this);}
if(this.collection){this.collection.off('reset',this.render,this);this.collection.on('reset',function(collection,options){if(options&&_.isEmpty(options.previousModels)&&this.$('tbody > tr').length===0&&this.$('thead > tr').length>0){this._renderRows(collection,collection.models);}else{this.render();}
if(_.includes(['recordlist','selection-list','multi-selection-list-link','subpanel-list'],this.type)){this.$('.flex-list-view-content .no-data-available').toggleClass('hidden',!!collection.models.length);}},this);}};this.on('init',function(){this.rowTemplate=app.template.getView(this.name+'.row',this.module)||app.template.getView(this.name+'.row')||this.rowTemplate;if(!_.contains(this.plugins,'Dashlet')||this.meta.config){return;}
if(this.layout&&!this.hidePagination){this.layout.on('init',this._initPaginationBottom,this);}},this);this.on('render',function(){this.$tableBody=this.$(this.tbodyTag||'tbody');},this);},_initPaginationBottom:function(){if(!this.layout){return;}
var pageComponent=this.layout.getComponent('list-bottom');if(pageComponent){return;}
if(this.context&&this.context.get('isUsingListPagination')){var panelTopFields=app.view.createView({context:this.context,type:'panel-top',meta:{template:'panel-top.fields'},primary:false,module:this.module,layout:this.layout,});this.layout.addComponent(panelTopFields);var listPaginationView=app.view.createView({context:this.context,type:'list-pagination',module:this.module,layout:this.layout,className:'list-pagination-wrapper',});this.layout.addComponent(listPaginationView);}else{pageComponent=app.view.createView({context:this.context,type:'list-bottom',meta:{template:'list-bottom.dashlet-bottom'},module:this.module,primary:false,layout:this.layout,hideFirstPaginationLoadingMessage:this.hideFirstPaginationLoadingMessage,usePaginationComponent:this.usePaginationComponent,});this.layout.addComponent(pageComponent);}},getNextPagination:function(options){var beanCollection;if(_.isFunction(this.getPaginationCollection)){beanCollection=this.getPaginationCollection();}
beanCollection=beanCollection||this.collection;if(!beanCollection.dataFetched){return;}
options=options||{};var originalOptions=_.extend({},this.collection.options,options);var defaultOnSuccess=options.success;options.success=null;if(_.isFunction(this.getPaginationOptions)){options=_.extend({},options,this.getPaginationOptions()||{});}
options.add=true;var origOnSuccess=options.success;options.success=_.bind(function(collection,data){if(_.isFunction(defaultOnSuccess)){defaultOnSuccess(collection,data);}
if(_.isFunction(origOnSuccess)){origOnSuccess(collection,data);}
if(this.disposed){return;}
this._renderRows(collection,data);},this);if(this.limit){options.limit=this.limit;}
var _complete=options.complete;options.complete=_.bind(function(xhr,status){if(_.isFunction(_complete)){_complete.call(this,xhr,status);}
this.collection.options=originalOptions;},this);beanCollection.paginate(options);},_renderRow:function(model){this.rowModel=model;var $row=$(this.rowTemplate(this)),self=this;this.$tableBody.append($row);$row.find('span[sfuuid]').each(function(){var $this=$(this),sfId=$this.attr('sfuuid');if(self.fields[sfId]){self.fields[sfId].setElement($this);self.fields[sfId].render();}});return $row;},_renderRows:function(collection,data){if(this.module!==collection.module){this.rowTemplate=app.template.getView(this.name+'.row',collection.module)||this.rowTemplate;}
if(_.isEmpty(this.$tableBody)||!this.rowTemplate){app.logger.warn('Create a row.hbs template to avoid a full render.');this.render();return;}
if(!this.triggerBefore('render:rows',data)){return;}
_.each(data,function(model){this._renderRow(this.collection.get(model.id));},this);this.trigger('render:rows');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Pagination.js */

(function(app){app.events.on('app:init',function(){var getShortcutList=function(layout){return layout.options.meta.shortcuts||layout.shortcuts;};app.plugins.register('ShortcutSession',['layout'],{onAttach:function(){var shortcutList=getShortcutList(this);if(!_.isEmpty(shortcutList)){app.shortcuts.createSession(shortcutList,this);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ShortcutSession.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CanvasDataRenderer',['view'],{_scriptPath:'include/javascript/phaser/phaser-sugar.min.js',_scriptReady:false,_scriptEmbedded:false,_pageReady:false,_scriptData:undefined,onAttach:function(component,plugin){this.on('init',function(){if(window.Phaser){this._scriptEmbedded=true;this._scriptReady=true;this.context.trigger('phaserio:ready');return;}
$.ajax({type:'GET',url:this._scriptPath,dataType:'script',async:false,error:function(XMLHttpRequest,textStatus,errorThrown){console.log('[CanvasDataRenderer] Error loading file: ',errorThrown);},success:_.bind(function(data){this._scriptReady=true;this._scriptData=data;if(this._pageReady&&!this._scriptEmbedded){this.embedScript();}},this)});},null,component);this.on('render',function(){this._pageReady=true;if(this._scriptReady&&!this._scriptEmbedded){this.embedScript();}},null,component);},embedScript:function(){this._scriptEmbedded=true;if(!this.disposed){if(!window.Phaser){this.$el.prepend('<script type="text/javascript">'+this._scriptData+'</script>');}
this.context.trigger('phaserio:ready');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CanvasDataRenderer.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('JSTree',['view','field'],{jsTree:null,jsTreeSettings:null,jsTreeCallbacks:null,jsTreeOptions:null,$noData:null,$treeContainer:null,onAttach:function(component,plugin){this.on('init',function(){app.events.on('app:nestedset:sync:complete',this.onNestedSetSyncComplete,this);app.error.errorName2Keys['empty_node_name']='ERR_EMPTY_NODE_NAME';});},onDetach:function(component){if(!_.isEmpty(this.$treeContainer)){_.each(this.$treeContainer.find('input'),_.bind(function(input){this._disableTooltip($(input));},this));}
if(!_.isEmpty(this.jsTree)){this.jsTree.off();}
app.events.off('app:nestedset:sync:complete',this.onNestedSetSyncComplete,this);},onNestedSetSyncComplete:function(collection){if(_.isFunction(Object.getPrototypeOf(this).onNestedSetSyncComplete)){Object.getPrototypeOf(this).onNestedSetSyncComplete.call(this,collection);return;}
if(this.disposed||_.isUndefined(this.collection)||this.collection.root!==collection.root){return;}
if(this.collection!==collection){this.render();}},_renderTree:function($container,settings,callbacks){this.jsTreeSettings=settings.settings||{};this.jsTreeOptions=settings.options||{};this.jsTreeCallbacks=callbacks||{};this.$noData=$('<div />',{'data-type':'jstree-no-data',class:'block-footer'}).html(app.lang.get('LBL_NO_DATA_AVAILABLE',this.module));this.$treeContainer=$('<div />','');this.dataProvider=this.jsTreeSettings.module_root||null;this.root=this.jsTreeSettings.category_root||null;if(!this.dataProvider||!this.root){return;}
$container.empty();$container.append(this.$noData).append(this.$treeContainer);this._toggleVisibility(true);this.collection.module=this.dataProvider;this.collection.root=this.root;this.collection.tree({success:_.bind(function(data){this.createTree(data.jsonTree,this.$treeContainer,this.loadPluginsList());},this),error:_.bind(function(collection,error){this._alertError(error,_.bind(function(){this.createTree([],this.$treeContainer,this.loadPluginsList());},this));},this)});},_toggleVisibility:function(hide){if(hide===true){this.$treeContainer.hide();this.$noData.show();}else{this.$treeContainer.show();this.$noData.hide();}},loadPluginsList:function(){return _.union(['json_data','ui','crrm','types','themes','search'],!_.isUndefined(this.jsTreeSettings.plugins)?this.jsTreeSettings.plugins:[]);},createTree:function(data,$container,plugins){this._toggleVisibility(data.length===0);if(!_.isArray(data)){data=[data];}
var treeData=data,fn=function(el){if(!_.isEmpty(el.children)){_.each(el.children.records,fn);el.children=el.children.records;}
el.data=el.name;el.metadata={id:el.id};el.attr={'data-id':el.id,'data-level':el.lvl,'id':el.id};},jsTreeOptions={settings:this.jsTreeSettings,plugins:_.isEmpty(plugins)?this.loadPluginsList():plugins,json_data:{'data':treeData},contextmenu:{items:this._loadContextMenu(this.jsTreeSettings),show_at_node:false},search:{case_insensitive:true},core:{strings:{new_node:app.lang.get('LBL_DEFAULT_TITLE','Categories')}}};jsTreeOptions=_.extend({},jsTreeOptions,this.jsTreeOptions);treeData.ctx=this.context;_.each(treeData,fn);this.jsTree=$container.jstree(jsTreeOptions).on('loaded.jstree',_.bind(function(){this._loadedHandler($container);},this)).on('select_node.jstree',_.bind(this._selectNodeHandler,this)).on('create.jstree',_.bind(this._createHandler,this)).on('show_input.jstree',_.bind(this._showInputHandler,this)).on('move_node.jstree',_.bind(this._moveHandler,this)).on('remove.jstree',_.bind(this._removeHandler,this)).on('rename_node.jstree',_.bind(this._renameNodeHandler,this)).on('rename.jstree',_.bind(this._renameHandler,this)).on('load_state.jstree',_.bind(this._loadedStateHandler,this)).on('search.jstree',_.bind(this._searchHandler,this));},_moveHandler:function(event,data){if($.vakata.dnd.is_drag&&$.vakata.dnd.user_data.jstree){if(!_.isUndefined(data.rslt.o)&&!_.isUndefined(data.rslt.r)){this.moveNode(data.rslt.o.data('id'),data.rslt.r.data('id'),data.rslt.p,function(obj,response){var levelDelta=parseInt(obj.lvl)-parseInt($(data.rslt.o).data('level'));$(data.rslt.o).attr('data-level',obj.lvl);$(data.rslt.o).data('level',obj.lvl);_.each($(data.rslt.o).find('li'),function(item){var currentLevel=parseInt($(item).attr('data-level'));$(item).attr('data-level',currentLevel+levelDelta);$(item).data('level',currentLevel+levelDelta);});});}}},_loadedStateHandler:function(event,data){if(this.jsTreeCallbacks.onLoadState){_.each(data.rslt,function(val,ind){_.each(val,function(v,i){var id=v,selectedNode,node=this.jsTree.find('[data-id='+id+']');if(node.length===0){return;}
selectedNode={id:id,name:node.find('a:first').text().trim(),type:node.data('type')||'folder',toString:function(){return id;}};val[i]=selectedNode;},this);data.rslt[ind]=val;},this);this.jsTreeCallbacks.onLoadState(data.rslt);}},_removeHandler:function(event,data){if(!data){return false;}
if(this.jsTreeCallbacks.onRemove&&!this.jsTreeCallbacks.onRemove.apply(this,[data.rslt.obj])){return false;}
return this._jstreeRemoveNode(data.rslt.obj);},_renameNodeHandler:function(event,data){if(!_.isUndefined(data.rslt.obj.data('id'))){var bean=this.collection.getChild(data.rslt.obj.data('id'));if(!_.isUndefined(bean)){if(bean.get('name')!==data.rslt.name){bean.set('name',data.rslt.name);bean.save();}}}},_renameHandler:function(event,data){this._toggleAddNodeButton(data.rslt.obj,false);},_searchHandler:function(event,data){},_loadContextMenu:function(settings){var self=this;if(settings.showMenu===true){return{edit:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_EDIT',self.module),action:function(obj){this.rename(obj);}},moveup:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVEUP',self.module),action:function(obj){var currentNode=this._get_node(obj),prevNode=this._get_prev(obj,true);if(currentNode&&prevNode){self.moveNode(currentNode.data('id'),prevNode.data('id'),'before',function(){$(currentNode).after($(prevNode));});}}},movedown:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVEDOWN',self.module),action:function(obj){var currentNode=this._get_node(obj),nextNode=this._get_next(obj,true);if(currentNode&&nextNode){self.moveNode(currentNode.data('id'),nextNode.data('id'),'after',function(){$(nextNode).after($(currentNode));});}}},moveto:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_MOVETO',self.module),action:false,submenu:this._buildRootsSubmenu(settings)},delete:{separator_before:false,separator_after:true,_disabled:false,label:app.lang.get('LBL_CONTEXTMENU_DELETE',self.module),action:function(obj){var bean=self.collection.getChild(obj.data('id'));if(!_.isUndefined(bean)){self.warnDelete({model:bean,success:_.bind(function(){this.remove(obj);self._toggleVisibility(self.collection.length===0);},this)});}}}};}else{return{};}},warnDelete:function(options){options=options||{};if(_.isEmpty(options.model)){return;}
app.alert.show('delete_confirmation',{level:'confirmation',messages:this.getDeleteMessages(options.model).confirmation,onConfirm:_.bind(function(){this.deleteModel(options);},this),onCancel:function(){}});},getDeleteMessages:function(model){var messages={};var name=Handlebars.Utils.escapeExpression(app.utils.getRecordName(model)).trim();var context=app.lang.getModuleName(model.module).toLowerCase()+' '+name;messages.confirmation=app.utils.formatString(model.children.length===0?app.lang.get('NTC_DELETE_CONFIRMATION_FORMATTED',this.module):app.lang.get('NTC_DELETE_CONFIRMATION_FORMATTED_PLURAL',this.module),[context]);messages.success=app.utils.formatString(app.lang.get('NTC_DELETE_SUCCESS'),[context]);return messages;},deleteModel:function(options){options=options||{};options.success=options.success||null;options.error=options.error||null;if(_.isEmpty(options.model)){return;}
options.model.destroy({showAlerts:{'process':true,'success':{messages:this.getDeleteMessages(options.model).success}},success:options.success,error:options.error});},_buildRootsSubmenu:function(settings){var self=this,subMenu={},selectedId=this.jsTree&&this.jsTree.jstree('get_selected').data('id');_.each(this.collection.models,function(entry,index){if(selectedId!==entry.id){subMenu['movetosubmenu'+index]={id:entry.id,separator_before:false,icon:'jstree-icon',separator_after:false,label:entry.escape('name'),action:function(obj){self.moveNode(obj.data('id'),entry.id,'last',function(data,response){self.jsTree.jstree('move_node',self.jsTree.jstree('get_instance').get_container_ul().find('li[data-id='+obj.data('id')+']'),self.jsTree.jstree('get_instance').get_container_ul().find('li[data-id='+entry.id+']'));});}};}});return subMenu;},_loadedHandler:function($container){$container.addClass('jstree-sugar').addClass('tree-component');if(this.jsTreeCallbacks.onLoad){this.jsTreeCallbacks.onLoad.apply();}},_selectNodeHandler:function(event,data){if(!_.isUndefined(data.args[0])){var selectedNode={id:data.rslt.obj.data('id'),name:data.rslt.obj.find('a:first').text().trim(),type:data.rslt.obj.data('type')||'folder'},action=$(data.args[0]).data('action');if(action==='jstree-toggle'&&data.rslt.obj.hasClass('jstree-leaf')){action='jstree-leaf-click';}
switch(action){case'jstree-toggle':selectedNode.open=data.rslt.obj.hasClass('jstree-closed')?true:false;if(this.jsTreeCallbacks.onToggle&&!this.jsTreeCallbacks.onToggle.apply(this,[selectedNode])){return false;}
this._jstreeToggle(event,data);break;case'jstree-leaf-click':if(this.jsTreeCallbacks.onLeaf&&!this.jsTreeCallbacks.onLeaf.apply(this,[selectedNode])){return false;}
break;case'jstree-contextmenu':if($(data.args[0]).hasClass('disabled')||(this.jsTreeCallbacks.onShowContextmenu&&!this.jsTreeCallbacks.onShowContextmenu.apply(this,[event,data]))){return false;}
this._jstreeShowContextmenu(event,data);break;case'jstree-addnode':if($(data.args[0]).hasClass('disabled')||(this.jsTreeCallbacks.onAdd&&!this.jsTreeCallbacks.onAdd.apply(this,[event,data]))){return false;}
this._onAdd(event,data);break;case'jstree-select':if(this.jsTreeCallbacks.onSelect&&!this.jsTreeCallbacks.onSelect.apply(this,[selectedNode])){return false;}
this._jstreeSelectNode(selectedNode);break;}}},_createHandler:function(event,data){var parentId=data.rslt.parent===-1?this.root:data.rslt.parent.data('id'),newNode=data.rslt.obj,node={title:data.rslt.name,position:data.rslt.position},self=this;if(data.args[2]===undefined||data.args[2].id===undefined){this.collection.append({target:parentId,data:{name:node.title},success:function(item){newNode.attr('data-id',item.id);newNode.attr('data-level',item.lvl);if(newNode.is('[disabled=disabled]')){newNode.attr('disabled',false);}
self._toggleAddNodeButton(newNode,false);self._toggleVisibility(false);},error:function(error){self._alertError(error,_.bind(function(){this.jsTree.jstree('remove',newNode);},self));}});}},_showInputHandler:function(event,data){var self=this,el=data.obj.children('input'),clonedElement=el.clone(),obj=data.obj,t=data.t,h1=data.h1,h2=data.h2,w=data.w;h1.css({fontFamily:h2.css('fontFamily')||'',fontSize:h2.css('fontSize')||'',fontWeight:h2.css('fontWeight')||'',fontStyle:h2.css('fontStyle')||'',fontStretch:h2.css('fontStretch')||'',fontVariant:h2.css('fontVariant')||'',letterSpacing:h2.css('letterSpacing')||'',wordSpacing:h2.css('wordSpacing')||''});el.hide();obj.append(clonedElement);this._toggleAddNodeButton(obj,true);this._enableTooltip(clonedElement);clonedElement.width(Math.min(h1.text("pW"+clonedElement[0].value).width(),w))[0].select();clonedElement.on('keydown',function(event){var key=event.which;if(key===27){$(this).attr('data-mode')==='add'?$(this).attr('data-mode','delete'):this.value=t;el.attr('data-mode')==='add'?el.attr('data-mode','delete'):el.value=t;}
if(key===27||key===13||key===37||key===38||key===39||key===40||key===32){event.stopImmediatePropagation();}
if(key===13){if(this.value.trim().length===0){app.alert.show('wrong_node_name',{level:'error',messages:app.error.getErrorString('empty_node_name',self),autoClose:false});return false;}else{app.alert.dismiss('wrong_node_name');}}
if(key===27||key===13){self._disableTooltip(clonedElement);event.preventDefault();self._blur($(this),el);}}).on('keyup',function(event){clonedElement.width(Math.min(h1.text("pW"+this.value).width(),w));}).on('keypress',function(event){if(event.which===13){return false;}});},_blur:function(clonedObj,originalObj){originalObj.val(clonedObj.val());originalObj.blur();},_jstreeToggle:function(event,data){data.inst.toggle_node(data.rslt.obj);},_jstreeShowContextmenu:function(event,data){var container=data.inst._get_node().parent(),level=data.inst._get_node().attr('data-level'),firstNodeId=$(container).find('li[data-level='+level+']').first().data('id'),lastNodeId=$(container).find('li[data-level='+level+']').last().data('id');if(!_.isUndefined(data.inst.get_settings().contextmenu.items)){data.inst._set_settings({contextmenu:{items:{moveto:{submenu:null}}}});data.inst._set_settings({contextmenu:{items:{moveto:{submenu:this._buildRootsSubmenu(this.jsTreeSettings)}}}});data.inst._set_settings({contextmenu:{items:{moveup:{_disabled:data.inst._get_node().data('id')===firstNodeId}}}});data.inst._set_settings({contextmenu:{items:{movedown:{_disabled:data.inst._get_node().data('id')===lastNodeId}}}});}
if(!$(event.currentTarget).hasClass('jstree-loading')){data.inst.show_contextmenu($(data.args[0]),data.args[2].pageX,data.args[2].pageY);}},_onAdd:function(event,data){var createdNode=this.jsTree.jstree('create',data.inst._get_node());this._toggleAddNodeButton(createdNode,true);},_jstreeSelectNode:function(selectedNode){if(this.jsTreeSettings.isDrawer){app.drawer.close(selectedNode);}else{return selectedNode;}},_jstreeRemoveNode:function(removedNode){return false;},addNode:function(title,position,editable,addToRoot,disabled){var self=this,selectedNode=(addToRoot===true)?[]:this.jsTree.jstree('get_selected'),pos=position||'last',isEdit=editable||false,isDisabled=disabled!==false,customAttr=(isDisabled===true)?{disabled:'disabled'}:{};if(title){var createdNode=this.jsTree.jstree('create',selectedNode,pos,{data:title,attr:customAttr},function(obj){if(self.collection.length===0){self._toggleVisibility(false);}},isEdit);this._toggleAddNodeButton(createdNode,true);}},selectNode:function(id){var node=this.jsTree.find('[data-id='+id+']');this.jsTree.jstree('select_node',node);node.addClass('jstree-clicked');},insertNode:function(data,parent_id,type){var selectedNode=this.jsTree.find('[data-id='+parent_id+']'),isViewable=data.isViewable||false;this.jsTree.jstree('create',selectedNode,'last',{data:data.name,id:data.id},function(obj){obj.data('id',data.id).data('type',type||'folder').attr('data-id',data.id).attr('data-disabled',!isViewable).find('ins:first').addClass('leaf');if(!isViewable){obj.addClass('disabled');}},true,true);},saveJSTreeState:function(){_.defer(function(jstree){jstree.jstree('save_state');},this.jsTree);},loadJSTreeState:function(){this.jsTree.jstree('load_state');},openNode:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');if(selectedNode.hasClass('jstree-closed')){this.jsTree.jstree('open_node',selectedNode);}},closeNode:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');if(selectedNode.hasClass('jstree-open')){this.jsTree.jstree('close_node',selectedNode);}},showChildNodes:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');selectedNode.children("ul:eq(0)").children("li").show();},hideChildNodes:function(id){var selectedNode=this.jsTree.find('[data-id='+id+']');selectedNode.children("ul:eq(0)").children("li").hide();},removeChildrens:function(id,type){var currentNode=this.jsTree.find('[data-id='+id+']'),childrens=currentNode.children("ul:eq(0)").children("li");type=type||'folder';_.each(childrens,function(child){if($(child).data('type')===type){this.jsTree.jstree('delete_node',child);}},this);},clearSelection:function(){this.jsTree.jstree('deselect_all');},searchNode:function(searchString){this.jsTree.jstree('clear_search');this.jsTree.jstree('close_all');if(!_.isUndefined(searchString)){this.jsTree.jstree('search',searchString);}},moveNode:function(idRecord,idTarget,position,callback){var self=this,pos=position||'last',method='move'+pos.charAt(0).toUpperCase()+pos.substring(1).toLowerCase();if(idRecord===idTarget){app.alert.show('wrong_path_confirmation',{level:'error',messages:app.lang.get('LBL_WRONG_MOVE_PATH','Categories')});}
if(_.isFunction(this.collection[method])&&(idRecord!==idTarget)){this.collection[method]({record:idRecord,target:idTarget,success:function(data,response){if(!_.isUndefined(callback)){callback(data,response);}},error:function(error){self._alertError(error);}});}},_alertError:function(error,callback){if(!_.isUndefined(error.message)){var level='error',messages=error.message,title;switch(error.code){case'not_authorized':title='ERR_NO_VIEW_ACCESS_TITLE';level='warning';messages=error.message;break;}
app.alert.show('server-error',{title:title,level:level,messages:messages});}
if(_.isFunction(callback)){callback();}},_toggleAddNodeButton:function(node,disable){var addButton=$(node).find('[data-action="jstree-addnode"]'),contextButton=$(node).find('[data-action="jstree-contextmenu"]');if(disable){addButton.addClass('disabled');contextButton.addClass('disabled');}else{addButton.removeClass('disabled');contextButton.removeClass('disabled');}},_enableTooltip:function(input){input.on('hover',function(e){e.stopPropagation();});input.attr('rel','tooltip');input.attr('title',app.lang.get('LBL_CREATE_CATEGORY_PLACEHOLDER','KBContents'));input.tooltip({container:'body',trigger:'focus',delay:{show:200,hide:100}}).tooltip('show');},_disableTooltip:function(input){const _$currentTip=$.fn.tooltip.Constructor.getInstance(input);if(!_$currentTip){return;}
_$currentTip.dispose();}});});})(SUGAR.App);
/* End of File modules/Categories/clients/base/plugins/JSTree.js */

(function(app){app.events.on("app:sync:complete",function(){if(!app.data.getModelClasses()['Contacts']){return;}
var contactsClass=app.data.getBeanClass("Contacts");contactsClass.prototype._doValidatePortalName=function(fields,errors,callback){var self=this,skip=false;if(_.isUndefined(this.get("id"))){if(!this.has("portal_name")||this.get("portal_name")===""){skip=true;}}else{if(_.isUndefined(this.changedAttributes(this.getSynced())["portal_name"])){skip=true;}}
if(skip){callback(null,fields,errors);return;}
var currentName=self.get("portal_name");var alertOptions={title:app.lang.get("LBL_VALIDATING"),level:"process"};app.alert.show('validation',alertOptions);app.api.records('read','Contacts',null,{filter:[{portal_name:currentName}]},{success:function(data){if(data.records&&data.records.length>0){if(data.records.length>1||data.records[0].id!=self.get("id")){errors['portal_name']={ERR_EXISTING_PORTAL_USERNAME:''};}}},error:function(){errors['portal_name']={ERR_PORTAL_NAME_CHECK:''};},complete:function(){app.alert.dismiss('validation');callback(null,fields,errors);}});return;};contactsClass.prototype.initialize=function(options){app.data.beanModel.prototype.initialize.call(this,options);this.addValidationTask('portal_name_unique',_.bind(this._doValidatePortalName,this));};});})(SUGAR.App);
/* End of File modules/Contacts/clients/base/lib/bean.js */

(function(app){app.events.on('app:init',function(){app.augment('NestedSetBean',app.Bean.extend({children:null,initialize:function(attributes,options){app.Bean.prototype.initialize.call(this,attributes);this.on('sync',function(model,data,options,request){if(!_.isUndefined(model.children.rootCollection)){app.events.trigger('app:nestedset:sync:complete',model.children.rootCollection);}});},_initCallback:function(options){var callback={};callback.success=options.success||null;callback.complete=options.complete||null;callback.error=options.error||null;return callback;},set:function(data,options){if(_.isObject(data)&&!_.isEmpty(data.children)&&_.isNull(this.children)){this.children=this.collection.clone();this.children.module=this.collection.module;this.children.rootCollection=this.collection.rootCollection?this.collection.rootCollection:this.collection;this.children.reset(data.children.records);data=_.omit(data,'children');}
app.Bean.prototype.set.apply(this,arguments);this.module=data['_module']||this.collection.module;if(!_.isUndefined(app.metadata.getModule(this.module))){this.fields=app.metadata.getModule(this.module).fields;}
return this;},getChildren:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'children'].join('/'));app.api.call('read',url,{},options.callback);},getNext:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'next'].join('/'));app.api.call('read',url,{},options.callback);},getPrev:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'prev'].join('/'));app.api.call('read',url,{},options.callback);},getParent:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'parent'].join('/'));app.api.call('read',url,{},options.callback);},getPath:function(options){options=options||{};options.callback=this._initCallback(options);var url=app.api.buildURL(this.module||this.collection.module,[this.get('id'),'path'].join('/'));app.api.call('read',url,{},options.callback);},moveBefore:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveBefore(options);},moveAfter:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveAfter(options);},moveFirst:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveFirst(options);},moveLast:function(options){options=options||{};options.record=this.get('id');if(_.isUndefined(this.collection)){return;}
this.collection.moveLast(options);}}),false);app.augment('NestedSetCollection',app.BeanCollection.extend({model:app.NestedSetBean,jsonTree:null,root:null,offset:-1,_initCallback:function(options){var self=this,callback={};callback.complete=options.complete||null;callback.error=options.error||null;callback.success=_.bind(function(data,response){this.tree({success:_.bind(function(){if(_.isFunction(options.success)){options.success(data,response);}
app.events.trigger('app:nestedset:sync:complete',self);},this),error:_.bind(function(collection,error){if(_.isFunction(options.error)){options.error(error);}},this)});},this);return callback;},parse:function(response,options){this.jsonTree=response;return app.BeanCollection.prototype.parse.apply(this,arguments);},sync:function(method,model,options){var callbacks=app.data.getSyncCallbacks(method,model,options);app.api.call(method,this.url,options,callbacks);},_reset:function(){if(this.length&&!_.isEmpty(this.rootCollection)){_.each(this.models,function(model){model=this.rootCollection.getChild(model);if(model){delete this.rootCollection._childsById[model.id];delete this.rootCollection._childsById[model.cid];}},this);}
this._childsById={};app.BeanCollection.prototype._reset.apply(this,arguments);return this;},add:function(models,options){app.BeanCollection.prototype.add.apply(this,arguments);if(this.length){var rootCollection=this.rootCollection||this;_.each(this.models,function(model){rootCollection._childsById[model.cid]=model;if(model.id!=null)rootCollection._childsById[model.id]=model;});}},remove:function(models,options){var rootCollection=this.rootCollection||this,i,l,model;for(i=0,l=models.length;i<l;i++){model=rootCollection.getChild(models[i]);if(!model)continue;delete rootCollection._childsById[model.id];delete rootCollection._childsById[model.cid];}
app.BeanCollection.prototype.remove.apply(this,arguments);return this;},getChild:function(obj){if(obj==null)return void 0;var rootCollection=this.rootCollection||this;rootCollection._idAttr||(rootCollection._idAttr=rootCollection.model.prototype.idAttribute);return rootCollection._childsById[obj.id||obj.cid||obj[rootCollection._idAttr]||obj];},tree:function(options){this.url=app.api.buildURL(this.module,[this.root,'tree'].join('/'));this.fetch(options);},_prepareInsertOptions:function(options){options=options||{};options.data=options.data||{name:'New node'};options.target=options.target||null;options.target=_.isObject(options.target)?options.target.get('id'):options.target;options.callback=this._initCallback(options);return options;},append:function(options){options=this._prepareInsertOptions(options);options.target=_.isEmpty(options.target)?this.root:options.target;var url=app.api.buildURL(this.module,['append',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},prepend:function(options){options=this._prepareInsertOptions(options);options.target=_.isEmpty(options.target)?this.root:options.target;var url=app.api.buildURL(this.module,['prepend',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},insertBefore:function(options){options=this._prepareInsertOptions(options);if(_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,['insertbefore',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},insertAfter:function(options){options=this._prepareInsertOptions(options);if(_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,['insertafter',options.target].join('/'));app.api.call('create',url,options.data,options.callback);},_prepareMoveOptions:function(options){options=options||{};options.record=options.record||null;options.record=_.isObject(options.record)?options.record.get('id'):options.record;options.target=options.target||null;options.target=_.isObject(options.target)?options.target.get('id'):options.target;options.callback=this._initCallback(options);return options;},moveBefore:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movebefore',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveAfter:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'moveafter',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveFirst:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movefirst',options.target].join('/'));app.api.call('update',url,{},options.callback);},moveLast:function(options){options=this._prepareMoveOptions(options);if(_.isEmpty(options.record)||_.isEmpty(options.target)){return;}
var url=app.api.buildURL(this.module,[options.record,'movelast',options.target].join('/'));app.api.call('update',url,{},options.callback);}}),false);app.plugins.register('NestedSetCollection',['view','field'],{onAttach:function(component,plugin){this.on('init',function(){this.collection=new app.NestedSetCollection();this.collection.module=this.dataProvider||null;this.collection.root=this.root||null;},this);}});});})(SUGAR.App);
/* End of File modules/Categories/clients/base/plugins/NestedSetCollection.js */

(function(app){app.events.on("app:init",function(){app.plugins.register('DirtyCollection',['view'],{dirtyModels:new Backbone.Collection(),dirtyTimeperiod:undefined,dirtyUser:undefined,dirtyCanEdit:undefined,onAttach:function(component,plugin){this.on('init',function(){this.attachListeners();},this);},onDetach:function(){this.dirtyModels.off(null,null,this);},attachListeners:function(){this.collection.on('reset',this.cleanUpDirtyModels,this);this.collection.on("change",this._collectionChangeAddToDirtyModels,this);},_collectionChangeAddToDirtyModels:function(model){if(_.isUndefined(this.dirtyTimeperiod)||_.isUndefined(this.dirtyUser)){var ctx=this.context.parent||this.context;this.dirtyTimeperiod=ctx.get('selectedTimePeriod');this.dirtyUser=ctx.get('selectedUser');this.dirtyCanEdit=(this.dirtyUser.id==app.user.get('id'));;}
this.dirtyModels.add(model);},isDirty:function(){return(this.dirtyModels.length>0);},cleanUpDirtyModels:function(){this.dirtyModels.reset();this.dirtyTimeperiod=undefined;this.dirtyUser=undefined;this.dirtyCanEdit=undefined;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DirtyCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Prettify',['layout','view'],{_scriptReady:false,_pageReady:false,onAttach:function(component,plugin){this.on('init',function(){var self=this;if(window.prettyPrint){this._scriptReady=true;return;}
$.getScript('styleguide/content/js/google-code-prettify/prettify.js',function(){self._scriptReady=true;if(self._pageReady){prettyPrint();}});},null,component);this.on('render',function(){this._pageReady=true;if(this._scriptReady){prettyPrint();}},null,component);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Prettify.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Chart',['view'],{chart_loaded:false,chartCollection:null,chart:null,total:0,onAttach:function(component,plugin){this.on('init',function(){if(this.meta.config){return;}
app.events.on('preview:close',function(){if(_.isUndefined(app.drawer)||app.drawer.isActive(this.$el)){this.resize();}},this);this.layout.on('dashlet:collapse',function(collapse){if(!collapse){this.resize();}},this);this.layout.context.on('dashlet:draggable:stop',function(){this.resize();},this);$(window).on('resize.'+this.cid,_.debounce(_.bind(this.resize,this),100));this.handlePrinting('on');if(!_.isFunction(this.chartResize)){this.chartResize=this._chartResize;}
if(!_.isFunction(this.hasChartData)){this.hasChartData=this._hasChartData;}
const sidebarLayout=this.closestComponent('sidebar');if(sidebarLayout){this.listenTo(sidebarLayout,'sidebar:state:changed',(state)=>{if(state==='open'){this.render();}});}
this.listenTo(this.layout,'dashlet:expand',this.render);},this);this.on('render',function(){this.$('.sc-chart').on('click',_.bind(function(){this.chart.dispatch.call('chartClick',this)},this));this.renderChart();},this);},_hasChartData:function(){return this.total!==0;},_chartResize:function(){this.chart.update();},onDetach:function(){if(this.meta.config){return;}
if(this.layout){this.layout.off(null,null,this);}
if(this.layout&&this.layout.context){this.layout.context.off(null,null,this);}
$(window).off('resize.'+this.cid);this.handlePrinting('off');this.stopListening();},isChartReady:function(){if(this.meta.config||this.disposed){return false;}
if(!this.$el||(this.$el.parents().length>0&&!this.$el.is(':visible'))){return false;}
if(!_.isFunction(this.chart)||!this.hasChartData()){this.chart_loaded=false;this.displayNoData(true);return false;}
this.displayNoData(false);return true;},resize:function(){if(!this.chart_loaded){return;}
if(!this.$el||(this.$el.parents().length>0&&!this.$el.is(':visible'))){return;}
this.chartResize();},handlePrinting:function(state){var self=this,mediaQueryList=window.matchMedia&&window.matchMedia('print');var pausecomp=function(millis){var date=new Date(),curDate=null;do{curDate=new Date();}while(curDate-date<millis);};var printResize=function(mql){if(mql.matches){if(!_.isUndefined(self.chart.legend)&&_.isFunction(self.chart.legend.showAll)){self.chart.legend.showAll(true);}
self.chart.width(640).height(320);self.resize();pausecomp(200);}else{browserResize();}};var browserResize=function(){if(!_.isUndefined(self.chart.legend)&&_.isFunction(self.chart.legend.showAll)){self.chart.legend.showAll(false);}
self.chart.width(null).height(null);self.resize();};if(state==='on'){if(window.matchMedia){mediaQueryList.addListener(printResize);}else if(window.attachEvent){window.attachEvent('onbeforeprint',printResize);window.attachEvent('onafterprint',browserResize);}else{window.onbeforeprint=printResize;window.onafterprint=browserResize;}}else{if(window.matchMedia){mediaQueryList.removeListener(printResize);}else if(window.detachEvent){window.detachEvent('onbeforeprint',printResize);window.detachEvent('onafterprint',browserResize);}else{window.onbeforeprint=null;window.onafterprint=null;}}},displayNoData:function(state){this.$('[data-content="chart"]').toggleClass('hide',state);this.$('[data-content="nodata"]').toggleClass('hide',!state);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Chart.js */

(function(app){function getEmailAddress(recipient){var email=app.data.createBean('EmailAddresses');if(recipient.email){if(_.isString(recipient.email)&&!_.isEmpty(recipient.email)){app.logger.warn('EmailClientLaunch Plugin: An email address string was provided. An EmailAddresses bean was '+'expected.');email.set('email_address',recipient.email);}else if(recipient.email instanceof app.Bean&&recipient.email.module==='EmailAddresses'){if(!recipient.email.isNew()||recipient.email.get('email_address')){return recipient.email;}}else{app.logger.warn('EmailClientLaunch Plugin: An unknown email address type was provided. An EmailAddresses bean '+'was expected.');}}
if(recipient.bean&&recipient.bean instanceof app.Bean&&!email.get('email_address')){email.set('email_address',app.utils.getPrimaryEmailAddress(recipient.bean));}
return email;}
app.events.on("app:init",function(){app.plugins.register('EmailClientLaunch',['view','field'],{events:{'click a[data-action="email"], button[data-action="email"]':'launchEmailClient'},launchEmailClient:function(event){event.stopPropagation();var $link=$(event.currentTarget);if(this.useSugarEmailClient()){this.launchSugarEmailClient(this._retrieveEmailOptions($link));}},launchSugarEmailClient:function(options){_.each(['to','cc','bcc'],function(recipientType){var recipients;if(options[recipientType]){recipients=this._retrieveValidRecipients(options[recipientType]);options[recipientType]=_.map(recipients,function(recipient){recipient.set('_link',recipientType);return recipient;});}},this);app.utils.openEmailCreateDrawer('compose-email',options,_.bind(function(context,model){if(model){var controllerContext=app.controller.context;var controllerContextModule=controllerContext.get('module');var links;this.trigger('emailclient:close');if(controllerContextModule==='Emails'&&controllerContext.get('layout')==='records'){controllerContext.reloadData();}else{links=app.utils.getLinksBetweenModules(controllerContextModule,'Emails');_.each(links,function(link){controllerContext.trigger('panel-top:refresh',link.name);});}}},this));},_retrieveValidRecipients:function(recipients){var validRecipients=[];recipients=recipients||[];if(!_.isArray(recipients)){recipients=[recipients];}
_.each(recipients,function(recipient){var validRecipient=app.data.createBean('EmailParticipants');var email=getEmailAddress(recipient);var primary;var isNameErased=false;var isEmailErased=false;if(!email.isNew()){isEmailErased=_.contains(email.get('_erased_fields')||[],'email_address');validRecipient.set({email_addresses:app.utils.deepCopy(email),email_address_id:email.get('id'),email_address:email.get('email_address'),invalid_email:email.get('invalid_email'),opt_out:email.get('opt_out')});}
if(recipient.bean){primary=app.utils.getPrimaryEmailAddress(recipient.bean);isNameErased=app.utils.isNameErased(recipient.bean);if(validRecipient.get('email_address_id')||app.utils.isValidEmailAddress(primary)){validRecipient.set({parent:_.extend({type:recipient.bean.module},app.utils.deepCopy(recipient.bean)),parent_type:recipient.bean.module,parent_id:recipient.bean.get('id'),parent_name:app.utils.getRecordName(recipient.bean)});}}
if(validRecipient.get('parent')&&!isNameErased&&isEmailErased){validRecipient.unset('email_addresses');validRecipient.unset('email_address_id');validRecipient.unset('email_address');validRecipient.unset('invalid_email');validRecipient.unset('opt_out');}
if(validRecipient.get('email_address_id')||validRecipient.get('parent')){validRecipients.push(validRecipient);}},this);return validRecipients;},useSugarEmailClient:function(){var emailClientPreference=app.user.getPreference('email_client_preference');return(emailClientPreference&&emailClientPreference.type==='sugar'&&app.acl.hasAccess('edit','Emails'));},addEmailOptions:function(options){this.emailOptions=this.emailOptions||{};options=options||{};if(options.related&&!options.related.module){options.related=undefined;}
this.emailOptions=_.extend({},this.emailOptions,options);this.emailOptions=_.reduce(this.emailOptions,function(memo,value,key){if(!_.isUndefined(value)){memo[key]=value;}
return memo;},{});},_cloneRelatedModel:function(model){app.logger.warn('_cloneRelatedModel is deprecated and may be removed in Sugar 9.3.0 or later.');return app.data.createBean(model.module,app.utils.deepCopy(model));},_getEmailHref:function(options){if(this.useSugarEmailClient()){return'javascript:void(0)';}else{return this._buildMailToURL(options);}},_buildMailToURL:function(options){var mailToUrl='mailto:',formattedOptions={},queryParams=[];if(options.to){mailToUrl+=this._formatRecipientsToString(options.to);}
formattedOptions.cc=this._formatRecipientsToString(options.cc);formattedOptions.bcc=this._formatRecipientsToString(options.bcc);formattedOptions.subject=options.name;formattedOptions.body=options.description;_.each(['cc','bcc','subject','body'],function(option){var param;if(!_.isEmpty(formattedOptions[option])){param=option+'='+encodeURIComponent(formattedOptions[option]);queryParams.push(param);}});if(!_.isEmpty(queryParams)){mailToUrl=mailToUrl+'?'+queryParams.join('&');}
return mailToUrl;},_formatRecipientsToString:function(recipients){var emails=[];recipients=recipients||[];if(!_.isArray(recipients)){recipients=[recipients];}
_.each(recipients,function(recipient){var email=getEmailAddress(recipient);if(email.get('email_address')){emails.push(email.get('email_address'));}},this);return emails.join(',');},_retrieveEmailOptions:function($link){var optionsFromLink=$link.data()||{};var optionsFromController=this.emailOptions||{};var options={};if(_.isFunction(this._retrieveEmailOptionsFromLink)){optionsFromLink=this._retrieveEmailOptionsFromLink($link);}
options=_.extend(options,optionsFromController,optionsFromLink);return options;},updateEmailLinks:function(){var self=this;var $emailLinks=this.$('a[data-action="email"]');$emailLinks.each(function(){var options=self._retrieveEmailOptions($(this));var href=self._getEmailHref(options);$(this).attr('href',href);});},getContextModel:function(){if(this.view&&_.isFunction(this.view.getContextModel)){return this.view.getContextModel();}else{var context=this.context.get('name')==='record-drawer'?this.context:(this.context.parent||this.context||{});return context?context.get('model'):{};}},onAttach:function(){var updateEmailOptions=_.bind(function(model){var options={};if(_.isFunction(this.emailOptionTo)){options.to=this.emailOptionTo(model);}
if(_.isFunction(this.emailOptionCc)){options.cc=this.emailOptionCc(model);}
if(_.isFunction(this.emailOptionBcc)){options.bcc=this.emailOptionBcc(model);}
if(_.isFunction(this.emailOptionSubject)){options.name=this.emailOptionSubject(model);}
if(_.isFunction(this.emailOptionDescription)){options.description=this.emailOptionDescription(model);}
if(_.isFunction(this.emailOptionDescriptionHtml)){options.description_html=this.emailOptionDescriptionHtml(model);}
if(_.isFunction(this.emailOptionAttachments)){options.attachments=this.emailOptionAttachments(model);}
if(_.isFunction(this.emailOptionRelated)){options.related=this.emailOptionRelated(model);}
if(_.isFunction(this.emailOptionTeams)){options.team_name=this.emailOptionTeams(model);}
if(_.isObject(model)&&model.get('_module')==='Emails'&&model.dataFetched){app.api.call('GET',app.api.buildURL('Mail/outboundEmails'),null,{success:_.bind(function(data){options.outboundEmails=data;this.addEmailOptions(options);},this),error:function(err){app.logger.error('Failed to get Hint license metadata: '+JSON.stringify(err));}});}
this.addEmailOptions(options);},this);this.on('init',function(){var self=this;var model=this.getContextModel();var events=['change','change:from_collection','change:to_collection','change:cc_collection','change:bcc_collection','change:attachments_collection'];var onChange=_.debounce(function(model){updateEmailOptions(model);self.render();},200);if(model instanceof app.Bean){this.listenTo(model,events.join(' '),onChange);}
updateEmailOptions(model);},this);this.on('render',this.updateEmailLinks,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EmailClientLaunch.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('KBContent',['view'],{CONTENT_LOCALIZATION:1,CONTENT_REVISION:2,onAttach:function(component,plugin){this.on('init',function(){this._initKBListeners();if((this.tplName==='list'||(!_.isUndefined(this.context)&&this.context.get('isSubpanel')===true))&&this.tplName!=='panel-top'){this.context.on('list:editrow:fire',_.bind(function(model,view){this._initValidationHandler(model);},this));this.context.on('list:preview:fire',_.bind(function(model){this._initValidationHandler(model);},this));}else{this._initValidationHandler(this.model);}
this.context.on('button:add-template:click',this.launchTemplateDrawer,this);});},_initKBListeners:function(){if(_.isFunction(Object.getPrototypeOf(this)._initKBListeners)){Object.getPrototypeOf(this)._initKBListeners.call(this);return;}
this.context.on('button:create_localization_button:click',this.createLocalization,this);this.context.on('button:create_revision_button:click',this.createRevision,this);this.context.on('button:create_article_button:click',this.createArticle,this);},createLocalization:function(model){this.createRelatedContent(model,this.CONTENT_LOCALIZATION);},createRevision:function(model){this.createRelatedContent(model,this.CONTENT_REVISION);},createArticle:function(model){var module='KBContents',fields=app.metadata.getModule(model.module).fields,links=_.filter(fields,function(field){if(field.type!=='link'||!field.relationship){return false;}
return app.data.getRelatedModule(model.module,field.name)===module;}),bodyTmpl=app.template.getField('htmleditable_tinymce','create-article',module),attrs={name:model.get('name'),kbdocument_body:bodyTmpl({model:model})},link,prefill,relatedFields,self=this;if(links.length===0){prefill=app.data.createBean(module,attrs);}else{link=links.length===1?links[0].name:'kbcontents';prefill=app.data.createRelatedBean(model,null,link,attrs);relatedFields=app.data.getRelateFields(model.module,link);if(!_.isEmpty(relatedFields)){_.each(relatedFields,function(field){var parentValue=model.get(field.rname);prefill.set(field.name,parentValue);prefill.set(field.id_name,model.get('id'));},this);}}
app.drawer.open({layout:'create',context:{create:true,model:prefill,module:module}},function(context,newModel){if(newModel!==undefined&&links.length>0){var viewContext=context.parent.parent||context.parent;var subPanel=self._findSubpanel(viewContext,link);self._reloadSubpanel(subPanel,link);}});},createArticleSubpanel:function(){var model=this.context.parent.get('model');this.createArticle(model);},createRelatedContent:function(parentModel,type){var self=this,prefill=app.data.createBean('KBContents',{id:parentModel.get('id')});prefill.fetch({success:function(){var removeList=['id','is_external'];_.each(removeList,function(field){prefill.unset(field);});prefill.set('status','draft');prefill.set('assigned_user_id',app.user.get('id'));prefill.set('assigned_user_name',app.user.get('full_name'));if(type===self.CONTENT_LOCALIZATION){self._onCreateLocalization(prefill,parentModel);}else{self._onCreateRevision(prefill,parentModel);}},error:function(){app.alert.show('server-error',{level:'error',messages:'ERR_GENERIC_SERVER_ERROR'});}});},_onCreateLocalization:function(prefill,parentModel){if(!this.checkCreateLocalization(parentModel)){app.alert.show('localizations',{level:'warning',title:app.lang.get('LBL_CANNOT_CREATE_LOCALIZATION','KBContents'),autoClose:false});return;}
this.context.createAction=this.CONTENT_LOCALIZATION;prefill.set('related_languages',this.getAvailableLangsForLocalization(parentModel),{silent:true});var language=this._getNextAvailableLanguage(parentModel);prefill.set('language',language);prefill.unset('kbarticle_id',{silent:true});this._openCreateRelatedDrawer(prefill,parentModel);},_onCreateRevision:function(prefill,parentModel){this.context.createAction=this.CONTENT_REVISION;prefill.set('useful',parentModel.get('useful'));prefill.set('notuseful',parentModel.get('notuseful'));prefill.set('related_languages',[parentModel.get('language')],{silent:true});prefill.set('revision','');this.context.set('skipFetch',false);this._openCreateRelatedDrawer(prefill,parentModel);},_openCreateRelatedDrawer:function(prefill,parentModel){var layoutDef={layout:'create',context:{create:true,model:prefill,module:this.module,copiedFromModelId:parentModel.get('id'),parent:this.context,createAction:this.context.createAction}};if(this.context.loadDrawer==true){app.drawer.load(layoutDef);}else{var self=this;app.drawer.open(layoutDef,function(context,newModel){var link=self._getLinkNameByContextAction(context.get('createAction')),viewContext,subPanel;if(link){viewContext=context.parent.parent||context.parent;viewContext.resetLoadFlag();viewContext.loadData();subPanel=self._findSubpanel(viewContext,link);self._reloadSubpanel(subPanel,link);context.set('createAction',null);context.loadDrawer=null;}});}
prefill.trigger('duplicate:field',parentModel);},_reloadSubpanel:function(subPanel,link){if(!subPanel){return;}
subPanel.set('skipFetch',false);subPanel.set('collapsed',false);subPanel.parent.trigger('subpanel:reload',{links:[link]});},_findSubpanel:function(context,link){var child=context.getChildContext({link:link});return child.get('isSubpanel')===true?child:null;},_getLinkNameByContextAction:function(contextAction){switch(contextAction){case this.CONTENT_LOCALIZATION:return'localizations';case this.CONTENT_REVISION:return'revisions';}
return false;},checkCreateLocalization:function(model){var langs=this.getAvailableLangsForLocalization(model),config=app.metadata.getModule('KBContents','config');if(!langs||!config['languages']){return true;}
if(!config['languages']||config['languages'].length==langs.length){return false;}
return true;},_getNextAvailableLanguage:function(model){var usedLangs=this.getAvailableLangsForLocalization(model);var config=app.metadata.getModule('KBContents','config');var allLangs=_.map(config.languages,function(language){var langObject=_.omit(language,'primary');return _.first(_.keys(langObject));});var availableLangs=_.difference(allLangs,usedLangs);return _.first(availableLangs);},getAvailableLangsForLocalization:function(model){return model.get('related_languages')||[];},launchTemplateDrawer:function(){app.drawer.open({layout:'selection-list',context:{module:'KBContentTemplates'}},_.bind(function(model){if(!model){return;}
var self=this;var template=app.data.createBean('KBContentTemplates',{id:model.id});template.fetch({success:function(template){if(this.disposed===true){return;}
var replace=function(){self.model.set('kbdocument_body',template.get('body'));};if(!self.model.get('kbdocument_body')){replace();}else{app.alert.show('override_confirmation',{level:'confirmation',messages:app.lang.get('LBL_TEMPATE_LOAD_MESSAGE',self.module),onConfirm:replace});}},error:function(){app.alert.show('template-load-error',{level:'error',messages:app.lang.get('LBL_TEMPLATE_LOAD_ERROR','KBContentTemplates')});}});},this));},_initValidationHandler:function(model){if(model._initValidationHandler===true){return;}
model._initValidationHandler=true;var _doValidateExpDateFieldPartial=_.partial(this._doValidateExpDateField,model),_doValidateActiveDateFieldPartial=_.partial(this._doValidateActiveDateField,model),_validationCompletePartial=_.partial(this._validationComplete,model),_hideValidationAlert=_.partial(this._hideValidationAlert,model);app.error.errorName2Keys['expDateLow']='ERROR_EXP_DATE_LOW';app.error.errorName2Keys['activeDateApproveRequired']='ERROR_ACTIVE_DATE_APPROVE_REQUIRED';app.error.errorName2Keys['activeDateLow']='ERROR_ACTIVE_DATE_LOW';app.error.errorName2Keys['activeDateEmpty']='ERROR_ACTIVE_DATE_EMPTY';model.addValidationTask('exp_date_publish',_.bind(_doValidateExpDateFieldPartial,this));model.addValidationTask('active_date_approve',_.bind(_doValidateActiveDateFieldPartial,this));model.on('validation:complete',_validationCompletePartial,this);model.on('attributes:revert',_hideValidationAlert,this);},_doValidateExpDateField:function(model,fields,errors,callback){var expFName='exp_date',actFName='active_date',fieldName=expFName,expDate=model.get(fieldName),publishingDate=model.get(actFName),status=model.get('status'),changed=model.changedAttributes(model.getSynced())||{},errorKeys=[];if((this._isPublishingStatus(status)&&((!changed.status||!this._isPublishingStatus(changed.status))||(this._isMassUpdate()&&(!publishingDate||app.date(publishingDate).isBefore(Date.now())))))){publishingDate=app.date().formatServer(true);model.set(actFName,publishingDate);}
if(status!=='expired'&&expDate&&publishingDate&&app.date(expDate).isBefore(publishingDate)){if(!this.getField(fieldName)&&this.getField(actFName)){fieldName=actFName;}
errors[fieldName]=errors[fieldName]||{};errors[fieldName].expDateLow=true;errorKeys.push('expDateLow');}
if((this.context.get('layout')==='records'||this.context.get('isSubpanel')===true)&&!_.isUndefined(errors[fieldName])){this._alertError(errorKeys);}
callback(null,fields,errors);},_doValidateActiveDateField:function(model,fields,errors,callback){var fieldName='active_date',status=model.get('status'),publishingDate=model.get(fieldName),errorKeys=[];if(status=='approved'){if(publishingDate&&app.date(publishingDate).isBefore(Date.now())){errors[fieldName]=errors[fieldName]||{};errors[fieldName].activeDateLow=true;errorKeys.push('activeDateLow');if((this.context.get('layout')==='records'||this.context.get('isSubpanel')===true)&&!_.isEmpty(errors[fieldName])&&!this._isMassUpdate()){this._alertError(errorKeys);}
callback(null,fields,errors);}else if(!publishingDate&&!this._isMassUpdate()){app.alert.show('save_without_publish_date_confirmation',{level:'confirmation',messages:app.lang.get('LBL_SPECIFY_PUBLISH_DATE','KBContents'),confirm:{label:app.lang.get('LBL_YES')},cancel:{label:app.lang.get('LBL_NO')},onConfirm:function(){callback(null,fields,errors);},onCancel:_.bind(function(){var field=this.getField(fieldName,model);if(!_.isEmpty(field)){var fieldElement=field.getFieldElement();if(_.isFunction(this.handleFieldError)){this.handleFieldError(field,true);}
if(fieldElement.find(field.fieldTag).length===0){fieldElement.closest('[data-name='+fieldName+']').find('.record-edit-link-wrapper').click();}
_.defer(function(){field.$(field.fieldTag).focus();field.focus();});}
errors.kbcontentsValidationCancel={stub:true};callback(null,fields,errors);},this)});}else if(!publishingDate){errors[fieldName]=errors[fieldName]||{};errors[fieldName].activeDateEmpty=true;callback(null,fields,errors);}else{callback(null,fields,errors);}}else{callback(null,fields,errors);}},_isMassUpdate:function(){return this.action==='massupdate';},_validationComplete:function(model,isValid){if(isValid){this._hideValidationAlert();var changed=model.changedAttributes(model.getSynced());var current=model.get('status');if(current=='expired'){model.set('exp_date',app.date().formatServer(true));}else if(this._isPublishingStatus(current)&&!(changed.status&&this._isPublishingStatus(changed.status))){model.set('active_date',app.date().formatServer(true));}}},_hideValidationAlert:function(){app.alert.dismiss('kb-validation-error');},_alertError:function(keys){var messages=[];_.each(keys,function(key){messages.push(app.lang.get(app.error.errorName2Keys[key],'KBContents'));});if(messages.length>0){app.alert.show('kb-validation-error',{level:'error',messages:messages,autoClose:false});}},_isPublishingStatus:function(status){return['published'].indexOf(status)!==-1;},onDetach:function(){if(this.model){this.model.removeValidationTask('exp_date_publish');this.model.removeValidationTask('active_date_approve');}},saveAndCreate:function(){var createAction=this.context.parent.createAction,callback;if(!createAction){Object.getPrototypeOf(this).saveAndCreate.call(this);return;}
switch(createAction){case this.CONTENT_LOCALIZATION:callback=this.createLocalization;break;case this.CONTENT_REVISION:callback=this.createRevision;break;}
if(callback){this.initiateSave(_.bind(function(){this.context.loadDrawer=true;if(this.hasSubpanelModels){_.each(this.context.children,function(child){if(child.get('isCreateSubpanel')){this.context.trigger('subpanel:resetCollection:'+child.get('link'),true);}},this);this.hasSubpanelModels=false;}
callback.call(this,this.model);},this));}}});});})(SUGAR.App);
/* End of File modules/KBContents/clients/base/plugins/KBContent.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('EmailTemplates',['view'],{onAttach:function(component,plugin){this.on('init',function(){this.model.on('change:attachments_collection',this._toggleAttachmentsVisibility,this);this.on('insertClicked',this._insertVariable,this);});},_toggleAttachmentsVisibility:function(){var attachmentsField=this.getField('attachments_collection');if(!attachmentsField){return;}
var $el=attachmentsField.getFieldElement();$el.closest('.record-cell').toggle(!attachmentsField.isEmpty());},_insertVariable:function(text){if(this.model.get('text_only')){this._insertVariableText(text);}else{this._insertVariableHtml(text);}},_insertVariableText:function(text){var field=this.getField('body');if(_.isEmpty(field)){return;}
var textarea=_.first(field.$el.find('textarea'));if(_.isEmpty(textarea)){return;}
if(document.selection){textarea.focus();var sel=document.selection.createRange();sel.text=text;}
else if(textarea.selectionStart||textarea.selectionStart==='0'){var startPos=textarea.selectionStart;var endPos=textarea.selectionEnd;textarea.value=textarea.value.substring(0,startPos)+text+
textarea.value.substring(endPos,textarea.value.length);}else{textarea.value+=text;}},_insertVariableHtml:function(text){var bodyField=this.getField('body_html');var editor=bodyField._htmleditor;editor.insertContent(text,{format:'raw'});},onDetach:function(){if(this.model){this.model.off('change:attachments_collection',this._toggleAttachmentsVisibility);}
this.off('insertClicked',this._insertVariable);}});});})(SUGAR.App);
/* End of File modules/EmailTemplates/clients/base/plugins/EmailTemplates.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('TbACLs',['field'],{events:{'click .btn[data-rname=select-team]':'selectTeam'},isTBAEnabled:false,onAttach:function(component,plugin){this.on('init',function(){this.isTBAEnabled=this.isEnabledForModule(this.module);});},selectTeam:function(evt){var index=$(evt.currentTarget).data('index');if(!this.value[index]||!this.value[index].id){return;}
this.toggleSelectedTeam(index);},toggleSelectedTeam:function(index){if(!this.value[index]||!this.value[index].id){return;}
this.value[index].selected=this.value[index].selected?false:true;this._updateAndTriggerChange(this.value);this._toggleSelectedButton(index,this.value[index].selected);},_toggleSelectedButton:function(index,state){var state=state||false,btnName='select-team',btnSelector='.btn[data-rname='+btnName+'][data-index='+index+']',btnIconSelector=btnSelector+' i.fa';if(state){this.$(btnSelector).addClass('active');this.$(btnIconSelector).removeClass('sicon-lock').addClass('sicon-unlock');}else{this.$(btnSelector).removeClass('active');this.$(btnIconSelector).removeClass('sicon-unlock').addClass('sicon-lock');}},isEnabledForModule:function(module){if(!_.isUndefined(app.config.teamBasedAcl)&&!_.isUndefined(app.config.teamBasedAcl.enabled)&&!_.isUndefined(app.config.teamBasedAcl.enabledModules)){return app.config.teamBasedAcl.enabled&&(_.indexOf(app.config.teamBasedAcl.enabledModules,module)!==-1);}else{return false;}},onDetach:function(component,plugin){}});});})(SUGAR.App);
/* End of File modules/Teams/clients/base/plugins/TbACLs.js */

(function(app){app.events.on('app:init',function(){var components=[];app.plugins.register('KBNotify',['view','field'],{onAttach:function(component,plugin){components.push(component);},notifyAll:function(name,options){_.each(components,function(component){component.trigger(name,options);});},onDetach:function(){components=_.without(components,this);}});});})(SUGAR.App);
/* End of File modules/KBContents/clients/base/plugins/KBNotify.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Tinymce',['view','field'],{$embeddedInput:null,fileFieldName:null,existingImages:null,newImages:null,MIN_TINYMCE_EDITOR_HEIGHT:200,TINYMCE_EDITOR_RESIZE_PADDING:5,onAttach:function(component){if(component instanceof app.view.Field){this._fieldOnAttach(component);}else if(component instanceof app.view.View){this._viewOnAttach(component);}},_viewOnAttach:function(component){component.on('render',function(){this.setupEditorResize();},this);},_fieldOnAttach:function(component){component.on('init',function(){this.fileFieldName=component.options.def.name+'_file';this.$embeddedInput=$('<input />',{name:this.fileFieldName,type:'file'}).hide();},this);component.on('render',function(){component.$el.append(this.$embeddedInput);},this);},onDetach:function(component){if(component instanceof app.view.Field){this._fieldOnDetach(component);}else if(component instanceof app.view.View){this._viewOnDetach(component);}},_viewOnDetach:function(component){$(window).off('resize.'+this.cid);},_fieldOnDetach:function(component){this.$embeddedInput.remove();},setupEditorResize:function(){this.resizeEditor=_.debounce(_.bind(this._resizeEditor,this),100);this.listenTo(this.context,'tinymce:oninit',function(){this.resizeEditor();});this.listenTo(app.drawer,'drawer:resize',function(){this.resizeEditor();});this.on('more-less:toggled',function(){this.resizeEditor();},this);if(this.module==='Emails'){this.on('email-recipients:toggled',function(){this.resizeEditor();},this);}
$(window).on('resize.'+this.cid,this.resizeEditor);},_resizeEditor:function(){var $editor;var layoutHeight;var recordHeight;var showToggleHeight;var editorHeight;var diffHeight;var newEditorHeight;if(this.disposed){return;}
$editor=this.$('.mce-stack-layout .mce-stack-layout-item iframe');if($editor.length===0){return;}
layoutHeight=this.layout.$el.outerHeight(true);recordHeight=this.$('.record').outerHeight(true);showToggleHeight=this.$('.show-hide-toggle').outerHeight(false);editorHeight=$editor.height();diffHeight=layoutHeight-recordHeight-showToggleHeight-this.TINYMCE_EDITOR_RESIZE_PADDING;newEditorHeight=editorHeight+diffHeight;if(newEditorHeight<this.MIN_TINYMCE_EDITOR_HEIGHT){newEditorHeight=this.MIN_TINYMCE_EDITOR_HEIGHT;}
$editor.height(newEditorHeight);},handleEmbeddedImages:function(value){if(!_.isEmpty(this.newImages)){this._removeImages(this.newImages);}
this._initImages();if(value){var images=this._parseImages(value);this.existingImages.push(...images);}},handleImageSave:function(){if(typeof tinymce=='object'&&tinymce.activeEditor){var currentImages=this._parseImages(tinymce.activeEditor.getContent());var removedImages=_.difference(_.union(this.existingImages,this.newImages),currentImages);if(!_.isEmpty(removedImages)){this._removeImages(removedImages);}
this._initImages();}},_initImages:function(){this.newImages=[];this.existingImages=[];},_parseImages:function(value){var images=[];var matches=value.matchAll(/\/EmbeddedFiles\/(\S+)\/file\//g);for(const match of matches){if(!_.contains(images,match[1])){images.push(match[1]);}}
return images;},_removeImages:function(fileIds){_.each(fileIds,function(fileId){var embeddedFile=app.data.createBean('EmbeddedFiles',{id:fileId});embeddedFile.destroy({showAlerts:false});});},tinyMCEImagePasteCallback:function(blobInfo){var embeddedFile=app.data.createBean('EmbeddedFiles');return new Promise((resolve)=>{embeddedFile.save({name:blobInfo.filename()},{success:(model)=>{this._savePastedImage(blobInfo,model).then((src)=>{resolve(src);});}});});},_savePastedImage:function(blobInfo,model){return new Promise((resolve,reject)=>{var imageData=[{files:[blobInfo.blob()]}];model.uploadFile(this.fileFieldName,imageData,{success:_.bind(function(rsp){var url=app.api.buildFileURL({module:'EmbeddedFiles',id:rsp.record.id,field:this.fileFieldName},{htmlJsonFormat:false,passOAuthToken:false,cleanCache:true,forceDownload:false});if(this.newImages){this.newImages.push(rsp.record.id);}
resolve(url);},this),error:_.bind(function(){app.alert.show('upload-error',{level:'error',messages:'ERROR_UPLOAD_FAILED'});reject({message:app.lang.get('ERROR_UPLOAD_FAILED'),remove:true,});},this)});});},tinyMCEFileBrowseCallback:function(fieldName,url,type,win){if(_.isUndefined(app.metadata.getModule('EmbeddedFiles'))){return;}
var attributes={fieldName:fieldName,type:type,win:win};this.$embeddedInput.unbind().change(_.bind(this._onEmbededFile,this,attributes));this.$embeddedInput.trigger('click');},_onEmbededFile:function(attributes,event){var $target=$(event.target),fileObj=$target[0].files[0];if(attributes.type==='image'&&fileObj.type.indexOf('image')===-1){this.clearFileInput($target);tinymce.activeEditor.windowManager.alert(app.lang.get('LBL_UPLOAD_ONLY_IMAGE','EmbeddedFiles'));return;}
var embeddedFile=app.data.createBean('EmbeddedFiles');embeddedFile.save({name:fileObj.name},{success:_.bind(this._saveEmbededFile,this,attributes)});},_saveEmbededFile:function(attributes,model){model.uploadFile(this.fileFieldName,this.$embeddedInput,{success:_.bind(function(rsp){var forceDownload=!(rsp[this.fileFieldName]['content-type'].indexOf('image')!==-1);var url=app.api.buildFileURL({module:'EmbeddedFiles',id:rsp.record.id,field:this.fileFieldName},{htmlJsonFormat:false,passOAuthToken:false,cleanCache:true,forceDownload:forceDownload});$(attributes.win.document).find('#'+attributes.fieldName).val(url);this.newImages.push(rsp.record.id);if(attributes.type==='image'){this.updateImageData(url);}
this.clearFileInput(this.$embeddedInput);},this),error:_.bind(function(){app.alert.show('upload-error',{level:'error',messages:'ERROR_UPLOAD_FAILED'});this.clearFileInput(this.$embeddedInput);},this)});},clearFileInput:function($field){$field.val('');$field.replaceWith($field.clone(true));},updateImageData:function(url){var win=tinymce.activeEditor.windowManager.windows[0];win.find('#src').value(url).fire('change');}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Tinymce.js */

(function(app){app.events.on('app:init',function(){var BeanOverrides,Link,VirtualCollection;Link=app.BeanCollection.extend({initialize:function(models,options){options||(options={});if(options.module){this.module=options.module;delete options.module;}
this.synced=[];this.defaults=[];app.BeanCollection.prototype.initialize.call(this,models,options);},isSynced:function(model){return _.contains(this.synced,model.id);},transpose:function(){var actions;actions=this.reduce(function(json,model){switch(model.get('_action')){case'delete':json.delete.push(model.id);break;case'create':json.create.push(_.omit(model.toJSON(),'_action'));break;default:json.add.push(_.omit(model.toJSON(),'_action'));}
return json;},{create:[],add:[],delete:[]});if(actions.create.length===0){delete actions.create;}
if(actions.add.length===0){delete actions.add;}
if(actions.delete.length===0){delete actions.delete;}
return actions;},linkRecord:function(model){model.set('_action',model.isNew()?'create':'add');this.add(model,{merge:true});return this;},unlinkRecord:function(model){if(this.isSynced(model)){model.set('_action','delete');this.add(model,{merge:true});}else{this.undo(model);}
return this;},undo:function(model){this.removeDefault(model);this.remove(model);return this;},appendDefault:function(model){this.defaults.push(model.id);return this;},removeDefault:function(model){this.defaults=_.without(this.defaults,model.id);return this;},hasChanged:function(){return _.difference(_.pluck(this.models,'id'),this.defaults).length>0;},setSynced:function(models){var undos=[];this.synced=_.isArray(models)?models.slice():this.pluck('id');this.each(function(model){if(_.contains(this.synced,model.id)){undos.push(model);}},this);_.each(undos,this.undo,this);return this;},clearAndUpdateSynced:function(){var linked,unlinked;linked=_.union(this.where({'_action':'create'}),this.where({'_action':'add'}));unlinked=this.where({'_action':'delete'});this.setSynced(_.union(this.synced,_.pluck(linked,'id')));this.setSynced(_.difference(this.synced,_.pluck(unlinked,'id')));return this;},addSynced:function(model){this.synced.push(model.id);this.undo(model);return this;}},false);VirtualCollection=app.MixedBeanCollection.extend({constructor:function(models,options){app.logger.warn('VirtualCollection is deprecated since 8.3.0 and may be removed in 9.3.0 or any subsequent release.');options||(options={});app.MixedBeanCollection.prototype.constructor.call(this,models,options);this.offsets=options.offsets||{};_.each(this.links,function(link){link.setSynced();if(_.isUndefined(this.offsets[link.link.name])){this.offsets[link.link.name]=link.synced.length;}},this);},initialize:function(models,options){options||(options={});this.parent=options.parent;delete options.parent;this.fieldName=options.fieldName;delete options.fieldName;this.context=options.context;delete options.context;this.relatedModules={};this.links=_.reduce(options.links,function(memo,link){var module,options;link=(_.isString(link))?link:link.name;module=app.data.getRelatedModule(this.parent.module,link);this.relatedModules[module]=link;options={link:{name:link,bean:this.parent},module:module};memo[link]=new Link([],options);return memo;},{},this);delete options.links;this.parent.on('sync',function(){_.each(this.links,function(link){link.clearAndUpdateSynced();});},this);app.MixedBeanCollection.prototype.initialize.call(this,models,options);},_prepareModel:function(model,options){model=app.MixedBeanCollection.prototype._prepareModel.call(this,model,options);model.link=this.links[this.relatedModules[model.module]].link;return model;},add:function(models,options){var added=[];options||(options={});models=_.isArray(models)?models.slice():[models];if(_.compact(models).length===0){return this;}
_.each(models,function(model){var existingModel,relationship;model=this._prepareModel(model,options);existingModel=this.get(model.id);relationship=this.links[model.link.name];if(existingModel){if(options.merge){relationship.linkRecord(model);}}else{if(relationship.isSynced(model)){relationship.undo(model);}else{relationship.linkRecord(model);}}
if(!existingModel||options.merge){app.MixedBeanCollection.prototype.add.call(this,model,options);added.push(this.get(model.id));}
if(options.default){relationship.appendDefault(model);}},this);if(!options.silent&&added.length>0){this._triggerChange(added,options);}
return this;},remove:function(models,options){var removed=[];options||(options={});models=_.isArray(models)?models.slice():[models];if(_.compact(models).length===0){return this;}
_.each(models,function(model){var existingModel,relationship;existingModel=this.get(model);if(existingModel){relationship=this.links[existingModel.link.name];relationship.unlinkRecord(existingModel);app.MixedBeanCollection.prototype.remove.call(this,existingModel,options);removed.push(existingModel);}},this);if(!options.silent&&removed.length>0){this._triggerChange(removed,options);}
return this;},reset:function(models,options){var existingModels;options||(options={});models=_.isArray(models)?models.slice():[models];this.revert(_.extend({},options,{silent:true}));existingModels=this.models.slice();app.MixedBeanCollection.prototype.reset.call(this,models,options);_.each(existingModels,function(existingModel){var relationship=this.links[existingModel.link.name];function match(newModel){return(newModel.id===existingModel.id&&newModel.module===existingModel.module);}
relationship.undo(existingModel);if(!this.find(match)){relationship.unlinkRecord(existingModel);}},this);if(!options.silent){this._triggerChange(this.models,options);}
return this;},revert:function(options){var add,remove;options||(options={});add=[];remove=[];_.each(this.links,function(relationship){relationship.each(function(model){if(relationship.isSynced(model)){add.push(model);}else{remove.push(model);}});});this.remove(remove,{silent:true});this.add(add,{merge:true,silent:true});if(!options.silent){this._triggerChange(this.models,options);this.trigger('reset',this,options);}
return this;},hasChanged:function(){var changed=false;_.each(this.links,function(link){if(link.hasChanged()){changed=true;}},this);return changed;},hasMore:function(){return _.some(this.offsets,function(offset){return(offset>-1);});},fetch:function(options){var callbacks,complete,error,params,success,url;options||(options={});params={};params.erased_fields=true;params.fields=options.fields?options.fields:['name'];params.order_by=options.order_by||this.parent.fields[this.fieldName].order_by;if(!_.isArray(params.order_by)){params.order_by=[params.order_by];}
_.each(params.order_by,function(sort){var field=sort.split(':')[0];if(!_.contains(params.fields,field)){params.fields.push(field);}});params.module_list=_.keys(this.relatedModules).join(',');params.fields=params.fields.join(',');params.order_by=params.order_by.join(',');params.max_num=options.limit||app.config.maxSubpanelResult;if(options.offset){params.offset=options.offset;}
callbacks={};success=options.success;error=options.error;complete=options.complete;callbacks.success=_.bind(function(data,request){if(success){success(data,request);}
this.parent.trigger('sync:'+this.fieldName,this,data,options,request);},this);if(error){callbacks.error=error;}
if(complete){callbacks.complete=complete;}
url=[app.api.serverUrl,this.parent.module,this.parent.id,'collection',this.fieldName].join('/');_.each(params,function(value,key){if(value===null||value===undefined){delete params[key];}});params=$.param(params);if(params.length>0){url+='?'+params;}
return app.api.call('read',url,null,callbacks);},fetchAll:function(options){var self;var success;var complete;function paginate(){if(self.hasMore()){self.paginate(options);}else{if(success){success(self,options);}
if(complete){complete(self,options);}}}
self=this;options||(options={});if(options.success){success=options.success;delete options.success;}
if(options.complete){complete=options.complete;delete options.complete;}
options.success=paginate;options.limit=_.max([options.limit,app.config.maxSubpanelResult,app.config.maxQueryResult]);paginate();},paginate:function(options){var success;options||(options={});options.offset=this.offsets;success=options.success;options.success=_.bind(function(data,request){var offsets,records;data||(data={});records=data.records||[];offsets=data.next_offset||{};_.each(offsets,function(offset,link){this.offsets[link]=offset;},this);this.add(records,{merge:true});_.each(records,function(record){var model;model=this._prepareModel(record);this.links[model.link.name].addSynced(model);},this);if(success){success(data,request);}},this);this.fetch(options);},search:function(options){var callbacks,params,url;params={};options||(options={});params.q=options.query;params.max_num=options.limit;params.search_fields=options.search_fields?options.search_fields.join(','):'name';params.fields=options.fields?options.fields.join(','):'name';params.erased_fields=true;if(this.links){params.module_list=_.map(this.links,function(link){return link.module;}).join(',');}
callbacks={};callbacks.success=function(data,request){if(options.success){options.success(app.data.createMixedBeanCollection(data.records),request);}};if(options.error){callbacks.error=options.error;}
if(options.complete){callbacks.complete=options.complete;}
url=app.api.buildURL('Calendar','invitee_search',null,params);return app.api.call('read',url,null,callbacks);},_triggerChange:function(change,options){this.parent.trigger('change:'+this.fieldName,this.parent,this,change,options);this.parent.trigger('change',this.parent,options);}});BeanOverrides=function(model){this.model=model;};BeanOverrides.prototype.toJSON=function(collections,links,options){var json={},fields=_.unique(_.union(collections,_.keys(links)));_.each(fields,function(attribute){var field=this.get(attribute);if(!field){return;}
if(_.contains(collections,attribute)){json[attribute]=field.toJSON(options);}
_.each(links[attribute],function(link){var actions=field.links[link].transpose();if(actions.create||actions.add||actions.delete){json[link]=actions;}});},this.model);return json;};BeanOverrides.prototype.copy=function(source,fields,options){var attrs,clone,vardefs;attrs={};vardefs=app.metadata.getModule(this.model.module).fields;clone=function(model){var attributes=_.chain(model.attributes).clone().omit('_action').value();return app.data.createBean(model.module,attributes);};_.each(fields,function(name){attrs[name]=[];});if(_.size(attrs)>0){this.model.set(attrs,options);}
_.each(fields,function(name){var def=vardefs[name],collection;if(def&&def.duplicate_on_record_copy!=='no'&&(def.duplicate_on_record_copy==='always'||!def.auto_increment)&&source.has(name)){collection=this.get(name);collection.add(source.get(name).map(clone));}},this.model);};BeanOverrides.prototype.set=function(attr,options){var isEqual=function(previous,current){var previousFiltered,currentFiltered,filter=function(collection){return _.map(collection.toJSON(),function(model){var result={};_.each(model,function(value,key){if(key.indexOf('_')!==0){result[key]=value;}});return result;});};if(previous){previousFiltered=filter(previous);}
if(current){currentFiltered=filter(current);}
return _.isEqual(previousFiltered,currentFiltered);};if(!this.model._changing){this.model.changed={};}
_.each(attr,function(models,key){var collection,previous;options=_.extend({},options,{parent:this,fieldName:key,links:this.fields[key].links});if(!_.isArray(models)){if(models instanceof Backbone.Collection){models=models.models;}else if(models){if(models.next_offset){options.offsets=models.next_offset;}
if(models.records){models=models.records;}else{models=[models];}}else{models=[];}}
collection=new VirtualCollection(models,options);previous=this.get(key);this.attributes[key]=collection;this.setDefault(key,collection);if(!isEqual(previous,this.get(key))){this.changed[key]=collection;if(!options.silent){this.trigger('change:'+key,collection);}}},this.model);return this.model;};BeanOverrides.prototype.hasChanged=function(attr){if(attr===null||attr==='invitees'){attr=['invitees'];}else{attr=[];}
return _.some(attr,function(attribute){var collection=this.get(attribute);return(collection&&collection.hasChanged());},this.model);};BeanOverrides.prototype.changedAttributes=function(diff){var changed={};var attr='invitees';var collection=this.model.get(attr);if(collection&&collection.hasChanged()){changed[attr]=collection;}
return changed;};BeanOverrides.prototype.revertAttributes=function(options){var collection=this.model.get('invitees');if(collection){collection.revert(options);}};BeanOverrides.prototype.getSynced=function(key){var syncedAttributes={};if(key){return this.model.get(key);}
var attr='invitees';var collection=this.model.get(attr);if(collection){syncedAttributes[attr]=collection;}
return syncedAttributes;};app.plugins.register('VirtualCollection',['model'],{onAttach:function(model,plugin){var overrides=new BeanOverrides(this);this.toJSON=_.wrap(this.toJSON,function(_super,options){var attrs,fields,collectionFieldNames,collections,links,nonAttrFields,collectionsToJSON,attrToJSON;fields=(options&&options.fields)?options.fields:_.keys(this.attributes);collectionFieldNames=this.getCollectionFieldNames();collections=_.intersection(collectionFieldNames,fields);links={};nonAttrFields=_.clone(collections);_.each(collectionFieldNames,function(fieldName){var field=this.get(fieldName);if(_.isObject(field)&&field.links){_.each(field.links,function(link){if(_.contains(fields,link.link.name)){(links[fieldName]||(links[fieldName]=[])).push(link.link.name);nonAttrFields.push(link.link.name);}});}},this);attrs=_.difference(fields,_.unique(nonAttrFields));collectionsToJSON=overrides.toJSON(collections,links,options);attrToJSON=_super.call(this,_.extend({},options,{fields:attrs}));return _.extend(attrToJSON,collectionsToJSON);});this.copy=_.wrap(this.copy,function(_super,source,fields,options){var attrs,collections,collectionFieldNames,vardefs;vardefs=app.metadata.getModule(this.module).fields;fields=fields||_.pluck(vardefs,'name');collectionFieldNames=this.getCollectionFieldNames();collections=_.intersection(collectionFieldNames,fields);attrs=_.difference(fields,collectionFieldNames);overrides.copy(source,collections,options);_super.call(this,source,attrs,options);});this.set=_.wrap(this.set,function(_super,key,val,options){var attrs,collections,hasChanged,changedAttributes;if(key==null){return this;}
if(typeof key==='object'){attrs=key;options=val;}else{(attrs={})[key]=val;}
options||(options={});collections=_.pick(attrs,this.getCollectionFieldNames());attrs=_.omit(attrs,_.keys(collections));overrides.set(collections,options);changedAttributes=this.changed;_super.call(this,attrs,options);hasChanged=this.hasChanged();_.extend(this.changed,changedAttributes);if(!options.silent&&!hasChanged&&!_.isEmpty(changedAttributes)){this.trigger('change',this,options);}
return this;});this.get=_.wrap(this.get,function(_super,attr){if(attr==='invitees'){return Backbone.Model.prototype.get.call(this,attr);}
return _super.call(this,attr);});this.hasChanged=_.wrap(this.hasChanged,function(_super,attr){return _super.call(this,attr)||overrides.hasChanged(attr);});this.changedAttributes=_.wrap(this.changedAttributes,function(_super,diff){var fromOverrides=overrides.changedAttributes();var nonCollectionFields;var changed;if(diff){fromOverrides=_.pick(fromOverrides,_.keys(diff));}
nonCollectionFields=_super.call(this,diff)||{};changed=_.extend(nonCollectionFields,fromOverrides);return _.isEmpty(changed)?false:changed;});this.revertAttributes=_.wrap(this.revertAttributes,function(_super,options){overrides.revertAttributes(options);_super.call(this,options);});this.getSynced=_.wrap(this.getSynced,function(_super,key){var fromOverrides=overrides.getSynced(key);var fromSuper=_super.call(this,key);if(key){return _.contains(this.getCollectionFieldNames(),key)?fromOverrides:fromSuper;}
return _.extend(app.utils.deepCopy(fromSuper||{}),fromOverrides);});},getCollectionFieldNames:function(){if(this.fields.invitees){return['invitees'];}
return[];}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/VirtualCollection.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('SearchForMore',['field'],{addSearchForMoreButton:function($el){var $button=$('<div/>').addClass('select2-result-label').attr('name','search_for_more').html(app.lang.get('LBL_SEARCH_FOR_MORE',this.module));$el.on('select2-open',_.bind(function(){var $dropdown,$result;$dropdown=$el.select2('dropdown');if($dropdown.find('[name=search_for_more]').length===0){$result=$('<li class="select2-result">').append($button).mousedown(_.bind(function(){$el.select2('close');this.searchForMore($el);},this));$dropdown.append($('<ul class="select2-results">').append($result));}},this));},searchForMore:function($el){var layout,module,modules;if(!_.isUndefined(this.def.links)){layout='selection-list-module-switch';modules=_.chain(this.def.links).map(function(link){return app.data.getRelatedModule(this.module,link);},this).value();module=_.first(modules);}else{layout='selection-list';module=this.module;modules=[module];}
app.drawer.open({layout:layout,context:{module:module,filterList:modules}},function(model){if(model){$el.data('select2').triggerChange({added:{attributes:model}});}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/SearchForMore.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('EditAllRecurrences',['view'],{onAttach:function(){this.on('init',function(){this.context.on('all_recurrences:edit',this.checkSugarSupportedEvent,this);if(this.context.get('all_recurrences')===true){this.toggleAllRecurrencesMode(true);this.context.unset('all_recurrences');}else{this.toggleAllRecurrencesMode(false);}
this.model.on('sync',function(model,data,options){if(options&&options.refetch_list_collection){this._refetchListCollection();}
if(!this._isRecurringEvent(this.model)){this.toggleAllRecurrencesMode(true);if(this.context.get('action')==='edit'){this.toggleEdit(true);}}},this);});this.cancelClicked=_.wrap(this.cancelClicked,function(_super,event){_super.call(this,event);this.toggleAllRecurrencesMode(false);});this.setEditableFields=_.wrap(this.setEditableFields,function(_super){this.toggleEditRecurrenceFields(this.allRecurrencesMode);_super.call(this);});this.setRoute=_.wrap(this.setRoute,function(_super,action){if(this.allRecurrencesMode&&this._isRecurringEvent(this.model)&&action==='edit'){action='edit/all_recurrences';}
_super.call(this,action);});this.handleSave=_.wrap(this.handleSave,function(_super){_super.call(this);this._doAfterSave();});this.getCustomSaveOptions=_.wrap(this.getCustomSaveOptions,_.bind(function(_super,options){return _.extend(_super.call(this,options),this.addRecurrenceOptionsForSave(options));},this));},checkSugarSupportedEvent:function(){const rset=this.model.get('rset');if(!rset){this.editAllRecurrences();return;}
const rsetJSON=JSON.parse(rset);if(_.has(rsetJSON,'sugarSupportedRrule')&&!rsetJSON.sugarSupportedRrule){app.alert.show('message',{level:'confirmation',messages:app.lang.get('LBL_UNSUPPORTED_RRULE'),autoClose:false,onConfirm:_.bind(function(){this.editAllRecurrences();},this)});}else{this.editAllRecurrences();}},editAllRecurrences:function(){var parentId=this.model.get('repeat_parent_id');if(!_.isEmpty(parentId)&&parentId!==this.model.id){this.editAllRecurrencesFromParent(parentId);}else{this.toggleAllRecurrencesMode(true);this.context.trigger('button:edit_button:click');}},toggleAllRecurrencesMode:function(enabled){if(!this._isRecurringEvent(this.model)){enabled=true;}
this.allRecurrencesMode=enabled;this.setEditableFields();},toggleEditRecurrenceFields:function(editable){_.each(['repeat_type','recurrence','repeat_interval','repeat_dow','repeat_until','repeat_count','repeat_days'],function(field){var $editWrapper=this.$('span.record-edit-link-wrapper[data-name="'+field+'"]');if(editable){this.noEditFields=_.without(this.noEditFields,field);$editWrapper.removeClass('hide');}else if(!_.contains(this.noEditFields,field)){this.noEditFields.push(field);$editWrapper.addClass('hide');}},this);},editAllRecurrencesFromParent:function(parentId){var route=app.router.buildRoute(this.module,parentId,'edit/all_recurrences');app.router.navigate('#'+route,{trigger:true});},addRecurrenceOptionsForSave:function(options){options=options||{};if(this.allRecurrencesMode){options.params=options.params||{};options.params.all_recurrences=true;options.refetch_list_collection=true;}
return options;},_isRecurringEvent:function(model){const rset=model.get('rset');const repeatType=model.get('repeat_type');if(rset&&!repeatType){const rsetJSON=JSON.parse(rset);if(_.has(rsetJSON,'sugarSupportedRrule')&&!rsetJSON.sugarSupportedRrule){return true;}}
return repeatType!=='';},_doAfterSave:function(){if(this.allRecurrencesMode){this._disableNextPrevButtons();}
this.toggleAllRecurrencesMode(false);},_disableNextPrevButtons:function(){var $nextPrevButtons=this.$('.btn-group-previous-next');$nextPrevButtons.find('.next-row').addClass('disabled');$nextPrevButtons.find('.previous-row').addClass('disabled');},_enableNextPrevButtons:function(listCollection){var $nextPrevButtons=this.$('.btn-group-previous-next');if(listCollection.hasNextModel(this.model)){$nextPrevButtons.find('.next-row').removeClass('disabled');}
if(listCollection.hasPreviousModel(this.model)){$nextPrevButtons.find('.previous-row').removeClass('disabled');}},_refetchListCollection:function(){var self=this,listCollection=this.context.get('listCollection');if(listCollection&&listCollection.models&&listCollection.models.length>1){listCollection.fetch({success:function(){self._enableNextPrevButtons(listCollection);}});}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EditAllRecurrences.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('AddAsInvitee',['view'],{onAttach:function(){this.once('render',function(){this.turnOffAutoInviteParent();if(this.isFieldPrepopulatedOnCreate('parent_name')){this.handleParentChange(this.model,{default:true});}
if(this.isFieldPrepopulatedOnCreate('assigned_user_name')){this.handleAssignedUserChange(this.model,{default:true});}
if(this.isFieldPrepopulatedOnCreate('contact_id')){this.addContactFromContactIdField(this.model,{default:true});}
if(this.model.isNew()){this.addChangeListener('parent_name',this.handleParentChange);this.addChangeListener('assigned_user_name',this.handleAssignedUserChange);}else{this.model.once('sync',function(){this.addChangeListener('parent_name',this.handleParentChange);this.addChangeListener('assigned_user_name',this.handleAssignedUserChange);},this);}},this);},isFieldPrepopulatedOnCreate:function(fieldName){return this.model.isNew()&&!_.isUndefined(this.model.get(fieldName));},addChangeListener:function(fieldName,callback){this.model.on('change:'+fieldName,callback,this);},handleParentChange:function(model,options){var parent=app.data.createBean(model.get('parent_type'),{id:model.get('parent_id'),name:model.get('parent_name')});if(this.isPossibleInvitee(parent)){if(this._isCreateAndLinkAction(parent,model)){parent.deletable=false;}
this.addAsInvitee(parent,options);}},handleAssignedUserChange:function(model,options){var user;user=app.data.createBean('Users',{id:model.get('assigned_user_id'),name:model.get('assigned_user_name')});if(this.isPossibleInvitee(user)){this.addAsInvitee(user,options);}},addContactFromContactIdField:function(model,options){var contact=app.data.createBean('Contacts',{id:model.get('contact_id'),name:model.get('contact_name')});if(this.isPossibleInvitee(contact)){if(this._isCreateAndLinkAction(contact,model)){contact.deletable=false;}
this.addAsInvitee(contact,options);}},_isCreateAndLinkAction:function(invitee,model){return(!_.isUndefined(model.link)&&!_.isUndefined(model.link.bean)&&model.link.bean.module===invitee.module&&model.link.bean.id===invitee.id);},isPossibleInvitee:function(person){var inviteeModuleList=['Leads','Contacts','Users'];var invitees=this.model.get('invitees');return(!_.isEmpty(person.id)&&_.contains(inviteeModuleList,person.module)&&!_.isUndefined(invitees));},turnOffAutoInviteParent:function(){this.model.setDefault('auto_invite_parent',false);},addAsInvitee:function(person,options){var complete;complete=_.bind(function complete(request){options=_.extend({merge:true},(options||{}));this.model.get('invitees').add(person,options);},this);if(person.fields&&_.has(person.fields,'email')&&_.isFunction(person.fetch)){person.fetch({fields:['email'],complete:complete});}else{complete();}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/AddAsInvitee.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DragdropSelect2',['field'],{selectedClass:'drag-drop-selected',itemSelector:'li.select2-search-choice',clickEventName:'click.selectable',multiSelectNone:'none',multiSelectItem:'item',multiSelectRange:'range',onAttach:function(){this.on('init',function(){this.view.on('dragDropSelect2:selected',_.bind(this._handleItemSelected,this));app.shortcuts.register({id:'DragdropSelect2:SelectAll',keys:'ctrl+a',component:this,description:'LBL_SHORTCUT_DRAGDROPSELECT2_SELECTALL',callOnFocus:true,handler:function(){this.context.trigger('dragdropselect2:select:all',event);}});this.context.on('dragdropselect2:select:all',function(event){if($.contains(this.el,event.target)||!_.isEmpty(this.$lastSelectedItem)){this._selectAll();this.$selectablSelect2.select2('close');}},this);});},_isDroppableElement:function($element){return $element.length>0&&!_.isUndefined($element.droppable('instance'));},_isDraggableElement:function($element){return $element.length>0&&!_.isUndefined($element.draggable('instance'));},setDragDropPluginEvents:function($select2){var $items=this.$(this.itemSelector);this.setSelectable($select2,$items);this.setDraggable($select2,$items);this.setDroppable($select2);},setSelectable:function($select2,$items){var self=this;this.$selectablSelect2=$select2;if(this.$selectableItems){this.$selectableItems.off(this.clickEventName);}
this.$selectableItems=$items;this.$selectableItems.on(this.clickEventName,function(event){self.markSelected($(this),self._getMultiSelectType(event));event.stopPropagation();});if(!this.$clearOnClickDoc){this.$clearOnClickDoc=$(document);this.$clearOnClickDoc.on(this.clickEventName,_.bind(this._clearSelected,this));}
if(this.$clearOnContainerClick){this.$clearOnContainerClick.off(this.clickEventName);}
this.$clearOnContainerClick=$select2.select2('container');this.$clearOnContainerClick.off(this.clickEventName);this.$clearOnContainerClick.on(this.clickEventName,_.bind(this._clearSelected,this));},markSelected:function($item,multiSelectType){var rangeTraversal,$rangeItems;if(multiSelectType===this.multiSelectRange&&!_.isEmpty(this.$lastSelectedItem)&&!$item.is(this.$lastSelectedItem)){rangeTraversal=($item.index()>=this.$lastSelectedItem.index())?'nextUntil':'prevUntil';$rangeItems=this.$lastSelectedItem[rangeTraversal]($item);$rangeItems.addClass(this.selectedClass);$item.addClass(this.selectedClass);}else if(multiSelectType===this.multiSelectItem){$item.toggleClass(this.selectedClass);}else{this._clearSelected();$item.addClass(this.selectedClass);}
this.$lastSelectedItem=($item.hasClass(this.selectedClass))?$item:null;this.view.trigger('dragDropSelect2:selected',this.name);},setDraggable:function($select2,$items){var self=this,$mainPane=this.$el.closest('.main-pane'),selectedClassSelector='.'+self.selectedClass;if(this.$draggableItems&&this._isDraggableElement(this.$draggableItems)){this.$draggableItems.draggable('destroy');}
this.$draggableItems=$items;this.$draggableItems.draggable({containment:$mainPane,distance:10,helper:function(event){var $helper=$('<div class="drag-drop-select2-helper"></div>'),$clickedItem=$(event.target).closest('li');$helper.data('sourceField',self.name);$helper.appendTo($mainPane);if(!$clickedItem.hasClass(self.selectedClass)){self._clearSelected();$clickedItem.addClass(self.selectedClass);}
self.$(selectedClassSelector).each(function(){$(this).find('[data-id]').clone().removeAttr('rel').appendTo($helper);});return $helper.get(0);},start:function(){self.$(selectedClassSelector).hide();},stop:function(){self.$(selectedClassSelector).show();}});},setDroppable:function($select2){var self=this,$select2Container=$select2.select2('container');if(this.$select2Container===$select2Container){return;}
if(this.$select2Container&&this._isDroppableElement(this.$select2Container)){this.$select2Container.droppable('destroy');}
this.$select2Container=$select2Container;this.$select2Container.droppable({activeClass:'drop-highlight',hoverClass:'drop-hover',drop:function(event,ui){var sourceField=$(ui.helper).data('sourceField');var sourceCollection=self.model.get(sourceField);var targetCollection=self.model.get(self.name);var draggedItems=[];var droppedItems;if(sourceField===self.name){return;}
$(ui.helper).find('[data-id]').each(function(){var item=sourceCollection.get($(this).data('id'));if(item){draggedItems.push(item);}});droppedItems=_.map(draggedItems,function(model){return model.clone();});if(_.isFunction(self.dropDraggedItems)){self.dropDraggedItems(sourceCollection,targetCollection,draggedItems,droppedItems);}else{sourceCollection.remove(draggedItems);targetCollection.add(droppedItems);}}});},_getMultiSelectType:function(event){if(event.shiftKey===true){return this.multiSelectRange;}else if(event.metaKey===true||event.ctrlKey===true){return this.multiSelectItem;}else{return this.multiSelectNone;}},_clearSelected:function(){this.$(this.itemSelector).removeClass(this.selectedClass);this.$lastSelectedItem=null;},_selectAll:function(){this.$(this.itemSelector).addClass(this.selectedClass);this.view.trigger('dragDropSelect2:selected',this.name);},_handleItemSelected:function(fieldName){if(fieldName!==this.name){this._clearSelected();}},onDetach:function(){if(this.$selectableItems){this.$selectableItems.off(this.clickEventName);}
if(this.$clearOnClickDoc){this.$clearOnClickDoc.off(this.clickEventName);}
if(this.$clearOnContainerClick){this.$clearOnContainerClick.off(this.clickEventName);}
if(this.$draggableItems&&this._isDraggableElement(this.$draggableItems)){this.$draggableItems.draggable('destroy');}
if(this.$select2Container&&this._isDroppableElement(this.$select2Container)){this.$select2Container.droppable('destroy');}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DragdropSelect2.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('ReminderTimeDefaults',['view'],{onAttach:function(){this.on('init',this._defaultReminderTimes,this);},_defaultReminderTimes:function(){var defaultPopupReminderTime=parseInt(app.user.getPreference('reminder_time'),10),defaultEmailReminderTime=parseInt(app.user.getPreference('email_reminder_time'),10),popupReminderTimeChanged=this.model.hasChanged('reminder_time'),emailReminderTimeChanged=this.model.hasChanged('email_reminder_time');if(!popupReminderTimeChanged&&!_.isNaN(defaultPopupReminderTime)){this.model.setDefault('reminder_time',defaultPopupReminderTime);this.model.set('reminder_time',defaultPopupReminderTime);}
if(!emailReminderTimeChanged&&!_.isNaN(defaultEmailReminderTime)){this.model.setDefault('email_reminder_time',defaultEmailReminderTime);this.model.set('email_reminder_time',defaultEmailReminderTime);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/ReminderTimeDefaults.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CollectionFieldLoadAll',['field'],{onAttach:function(component,plugin){this.on('init',function(){var onComplete=_.bind(function(){if(this.disposed===true){return;}
this.view.trigger('loaded_collection_field',this.name);},this);var fetchAll=_.bind(function(collection){var offsets;var hasMore;var options;var fields;if(this.disposed===true){return;}
options={success:function(){fetchAll(collection);},add:true,limit:-1};fields=_.map(this.def.fields||[],function(field){return _.has(field,'name')?field.name:field;});if(!_.isEmpty(fields)){options.fields=fields;}
if(this.def.order_by){options.order_by=this.def.order_by;}
offsets=collection.next_offset||[0];hasMore=_.some(offsets,function(offset){return offset>-1;});if(hasMore){collection.paginate(options);}else{onComplete();}},this);if(this.model){this.listenTo(this.model,'sync',function(){var collection=this.model.get(this.name);if(this.disposed===true){return;}
if(!this.model.isNew()){this.view.trigger('loading_collection_field',this.name);fetchAll(collection);}});}});}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/CollectionFieldLoadAll.js */

(function(app){app.events.on('app:init',function(){function getValidationTaskName(component){return'email_participants_validator_'+component.cid;}
app.plugins.register('EmailParticipants',['field'],{onAttach:function(component,plugin){var search=_.debounce(function(query){var data={results:[],more:false};var options={q:query.term,max_num:10,erased_fields:true};var callbacks={};var url=app.api.buildURL('Mail','recipients/find',null,options);var linkName=component.getLinkName();callbacks.success=function(result){var records=_.map(result.records,function(record){record.email_address=record.email;delete record.email;return record;});records=app.data.createMixedBeanCollection(records);data.results=records.map(function(record){var ep;var parentName=app.utils.getRecordName(record);if(linkName){ep=app.data.createBean('EmailParticipants',{_link:linkName,parent:{_acl:record.get('_acl')||{},_erased_fields:record.get('_erased_fields')||[],type:record.module,id:record.get('id'),name:parentName},parent_type:record.module,parent_id:record.get('id'),parent_name:parentName,email_address:record.get('email_address')||''});component.prepareModel(ep);}
return ep;});};callbacks.error=function(){data.results=[];};callbacks.complete=function(){query.callback(data);};app.api.call('read',url,null,callbacks);},app.config.ajaxDebounceInterval||500);this.on('init',function(){var task=getValidationTaskName(this);this.model.addValidationTask(task,_.bind(function(fields,errors,callback){var participants=this.model.get(this.name);var hasInvalidParticipants=_.some(participants.models,function(participant){return!!participant.invalid;});if(hasInvalidParticipants){errors[this.name]=errors[this.name]||{};errors[this.name][this.type]=true;}
callback(null,fields,errors);},this));});this.unbindData=_.wrap(this.unbindData,function(_super){var task=getValidationTaskName(this);if(this.model){this.model.removeValidationTask(task);}
_super.call(this);});this.getLinkName=function(){var link=this.def.links[0];return _.has(link,'name')?link.name:link;};this.prepareModel=function(model){var hasParent=model.hasParent();var parent;if(hasParent){parent=model.getParent();}
model.nameIsErased=model.isNameErased();model.emailIsErased=model.isEmailErased();model.locked=!!this.def.readonly;if(!hasParent&&!model.get('email_address_id')){model.invalid=true;}else if(!model.has('invalid_email')&&model.get('email_address_id')&&model.get('email_address')&&!model.emailIsErased){model.invalid=!app.utils.isValidEmailAddress(model.get('email_address'));}else{model.invalid=model.emailIsErased||!!model.get('invalid_email');}
if(hasParent&&parent&&app.acl.hasAccessToModel('view',parent)){if(parent.module==='Users'){parent.module='Employees';}
model.href='#'+app.router.buildRoute(parent.module,parent.get('id'));}
return model;};this.formatForHeader=function(model,surroundNameWithQuotes){app.logger.warn('Plugins.EmailParticipants#formatForHeader is deprecated. Use '+'Model.Datas.Base.EmailParticipantsModel#toHeaderString instead.');return model.toHeaderString({quote_name:surroundNameWithQuotes});};this.getSelect2Options=function(){var module=this.module;return{containerCss:{width:'100%'},width:'off',minimumInputLength:app.config.emailParticipantsMinSearch||1,selectOnBlur:true,data:this.getFormattedValue(),initSelection:_.bind(function(element,callback){callback(this.getFormattedValue());},this),query:function(query){search(query);},id:function(choice){return _.isEmpty(choice)?null:choice.cid;},createSearchChoice:_.bind(function(term,data){var choice;var address;if(data.length===0&&app.utils.isValidEmailAddress(term)){choice=app.data.createBean('EmailParticipants',{_link:this.getLinkName(),email_address:term});address=app.data.createBean('EmailAddresses',{email_address:term});address.save({},{success:_.bind(function(model){var collection=this.model.get(this.name);choice.set({email_address_id:model.get('id'),invalid_email:model.get('invalid_email'),opt_out:model.get('opt_out')});this.prepareModel(choice);if(collection.get(choice)){this.model.trigger('change:'+this.name,this.model,collection);}},this)});return this.prepareModel(choice);}},this),formatSearching:function(){return app.lang.get('LBL_LOADING',module);},formatInputTooShort:function(term,min){return term===''?'':app.lang.get('LBL_TOO_SHORT',module).replace('{0}',min);}};};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/EmailParticipants.js */

!function(t){function e(t,n){this.list=t,this.options=n=n||{};var i,o,s,r;for(i=0,r=["sort","includeScore","shouldSort"],o=r.length;o>i;i++)s=r[i],this.options[s]=s in n?n[s]:e.defaultOptions[s];for(i=0,r=["searchFn","sortFn","keys","getFn"],o=r.length;o>i;i++)s=r[i],this.options[s]=n[s]||e.defaultOptions[s]}var n=function(t,e){if(e=e||{},this.options=e,this.options.location=e.location||n.defaultOptions.location,this.options.distance="distance"in e?e.distance:n.defaultOptions.distance,this.options.threshold="threshold"in e?e.threshold:n.defaultOptions.threshold,this.options.maxPatternLength=e.maxPatternLength||n.defaultOptions.maxPatternLength,this.pattern=e.caseSensitive?t:t.toLowerCase(),this.patternLen=t.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};n.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},n.prototype._calculatePatternAlphabet=function(){var t={},e=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]=0;for(e=0;e<this.patternLen;e++)t[this.pattern.charAt(e)]|=1<<this.pattern.length-e-1;return t},n.prototype._bitapScore=function(t,e){var n=t/this.patternLen,i=Math.abs(this.options.location-e);return this.options.distance?n+i/this.options.distance:i?1:n},n.prototype.search=function(t){if(t=this.options.caseSensitive?t:t.toLowerCase(),this.pattern===t)return{isMatch:!0,score:0};var e,n,i,o,s,r,a,h,p,c=t.length,l=this.options.location,f=this.options.threshold,u=t.indexOf(this.pattern,l),d=this.patternLen+c,g=1,m=[];for(-1!=u&&(f=Math.min(this._bitapScore(0,u),f),u=t.lastIndexOf(this.pattern,l+this.patternLen),-1!=u&&(f=Math.min(this._bitapScore(0,u),f))),u=-1,e=0;e<this.patternLen;e++){for(i=0,o=d;o>i;)this._bitapScore(e,l+o)<=f?i=o:d=o,o=Math.floor((d-i)/2+i);for(d=o,s=Math.max(1,l-o+1),r=Math.min(l+o,c)+this.patternLen,a=Array(r+2),a[r+1]=(1<<e)-1,n=r;n>=s;n--)if(p=this.patternAlphabet[t.charAt(n-1)],a[n]=0===e?(a[n+1]<<1|1)&p:(a[n+1]<<1|1)&p|((h[n+1]|h[n])<<1|1)|h[n+1],a[n]&this.matchmask&&(g=this._bitapScore(e,n-1),f>=g)){if(f=g,u=n-1,m.push(u),!(u>l))break;s=Math.max(1,2*l-u)}if(this._bitapScore(e+1,l)>f)break;h=a}return{isMatch:u>=0,score:g}};var i=function(t,e,n){var s,r,a;if(e){a=e.indexOf("."),-1!==a?(s=e.slice(0,a),r=e.slice(a+1)):s=e;var h=t[s];if(h)if(r||"string"!=typeof h&&"number"!=typeof h)if(o.isArray(h))for(var p=0,c=h.length;c>p;p++)i(h[p],r,n);else r&&i(h,r,n);else n.push(h)}else n.push(t);return n},o={deepValue:function(t,e){return i(t,e,[])},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}};e.defaultOptions={id:null,caseSensitive:!1,includeScore:!1,shouldSort:!0,searchFn:n,sortFn:function(t,e){return t.score-e.score},getFn:o.deepValue,keys:[]},e.prototype.search=function(t){var e,n,i,s,r=new this.options.searchFn(t,this.options),a=this.list,h=a.length,p=this.options,c=this.options.keys,l=c.length,f=[],u={},d=[],g=function(t,e,n){if(void 0!==t&&null!==t)if("string"==typeof t)i=r.search(t),i.isMatch&&(s=u[n],s?s.score=Math.min(s.score,i.score):(u[n]={item:e,score:i.score},f.push(u[n])));else if(o.isArray(t))for(var a=0;a<t.length;a++)g(t[a],e,n)};if("string"==typeof a[0])for(var m=0;h>m;m++)g(a[m],m,m);else for(var m=0;h>m;m++)for(n=a[m],e=0;l>e;e++)g(p.getFn(n,c[e]),n,m);p.shouldSort&&f.sort(p.sortFn);for(var y=p.includeScore?function(t){return f[t]}:function(t){return f[t].item},v=p.id?function(t){f[t].item=p.getFn(f[t].item,p.id)[0]}:function(){},m=0,b=f.length;b>m;m++)v(m),d.push(y(m));return d},"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amd?define(function(){return e}):t.Fuse=e}(this);
/* End of File include/javascript/fuse/fuse.js */

/* mousetrap v1.4.6 craig.is/killing/mice */
(function(J,r,f){function s(a,b,d){a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,d)}function A(a){if("keypress"==a.type){var b=String.fromCharCode(a.which);a.shiftKey||(b=b.toLowerCase());return b}return h[a.which]?h[a.which]:B[a.which]?B[a.which]:String.fromCharCode(a.which).toLowerCase()}function t(a){a=a||{};var b=!1,d;for(d in n)a[d]?b=!0:n[d]=0;b||(u=!1)}function C(a,b,d,c,e,v){var g,k,f=[],h=d.type;if(!l[a])return[];"keyup"==h&&w(a)&&(b=[a]);for(g=0;g<l[a].length;++g)if(k=
        l[a][g],!(!c&&k.seq&&n[k.seq]!=k.level||h!=k.action||("keypress"!=h||d.metaKey||d.ctrlKey)&&b.sort().join(",")!==k.modifiers.sort().join(","))){var m=c&&k.seq==c&&k.level==v;(!c&&k.combo==e||m)&&l[a].splice(g,1);f.push(k)}return f}function K(a){var b=[];a.shiftKey&&b.push("shift");a.altKey&&b.push("alt");a.ctrlKey&&b.push("ctrl");a.metaKey&&b.push("meta");return b}function x(a,b,d,c){m.stopCallback(b,b.target||b.srcElement,d,c)||!1!==a(b,d)||(b.preventDefault?b.preventDefault():b.returnValue=!1,b.stopPropagation?
    b.stopPropagation():b.cancelBubble=!0)}function y(a){"number"!==typeof a.which&&(a.which=a.keyCode);var b=A(a);b&&("keyup"==a.type&&z===b?z=!1:m.handleKey(b,K(a),a))}function w(a){return"shift"==a||"ctrl"==a||"alt"==a||"meta"==a}function L(a,b,d,c){function e(b){return function(){u=b;++n[a];clearTimeout(D);D=setTimeout(t,1E3)}}function v(b){x(d,b,a);"keyup"!==c&&(z=A(b));setTimeout(t,10)}for(var g=n[a]=0;g<b.length;++g){var f=g+1===b.length?v:e(c||E(b[g+1]).action);F(b[g],f,c,a,g)}}function E(a,b){var d,
    c,e,f=[];d="+"===a?["+"]:a.split("+");for(e=0;e<d.length;++e)c=d[e],G[c]&&(c=G[c]),b&&"keypress"!=b&&H[c]&&(c=H[c],f.push("shift")),w(c)&&f.push(c);d=c;e=b;if(!e){if(!p){p={};for(var g in h)95<g&&112>g||h.hasOwnProperty(g)&&(p[h[g]]=g)}e=p[d]?"keydown":"keypress"}"keypress"==e&&f.length&&(e="keydown");return{key:c,modifiers:f,action:e}}function F(a,b,d,c,e){q[a+":"+d]=b;a=a.replace(/\s+/g," ");var f=a.split(" ");1<f.length?L(a,f,b,d):(d=E(a,d),l[d.key]=l[d.key]||[],C(d.key,d.modifiers,{type:d.action},
    c,a,e),l[d.key][c?"unshift":"push"]({callback:b,modifiers:d.modifiers,action:d.action,seq:c,level:e,combo:a}))}var h={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},B={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},H={"~":"`","!":"1",
    "@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},G={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p,l={},q={},n={},D,z=!1,I=!1,u=!1;for(f=1;20>f;++f)h[111+f]="f"+f;for(f=0;9>=f;++f)h[f+96]=f;s(r,"keypress",y);s(r,"keydown",y);s(r,"keyup",y);var m={bind:function(a,b,d){a=a instanceof Array?a:[a];for(var c=0;c<a.length;++c)F(a[c],b,d);return this},
    unbind:function(a,b){return m.bind(a,function(){},b)},trigger:function(a,b){if(q[a+":"+b])q[a+":"+b]({},a);return this},reset:function(){l={};q={};return this},stopCallback:function(a,b){return-1<(" "+b.className+" ").indexOf(" mousetrap ")?!1:"INPUT"==b.tagName||"SELECT"==b.tagName||"TEXTAREA"==b.tagName||b.isContentEditable},handleKey:function(a,b,d){var c=C(a,b,d),e;b={};var f=0,g=!1;for(e=0;e<c.length;++e)c[e].seq&&(f=Math.max(f,c[e].level));for(e=0;e<c.length;++e)c[e].seq?c[e].level==f&&(g=!0,
        b[c[e].seq]=1,x(c[e].callback,d,c[e].combo,c[e].seq)):g||x(c[e].callback,d,c[e].combo);c="keypress"==d.type&&I;d.type!=u||w(a)||c||t(b);I=g&&"keydown"==d.type}};J.Mousetrap=m;"function"===typeof define&&define.amd&&define(m)})(window,document);
/* End of File include/javascript/mousetrap/mousetrap.min.js */

/*!
 * clipboard.js v2.0.0
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var o,r,i;!function(a,c){r=[t,n(7)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return i(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,o.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,o.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==(void 0===t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return r(t,e,n);if(c.nodeList(t))return i(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var c=n(6),u=n(5);t.exports=o},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){r.off(t,o),e.apply(n,arguments)}var r=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var o,r,i;!function(a,c){r=[t,n(0),n(2),n(1)],o=c,void 0!==(i="function"==typeof o?o.apply(e,r):o)&&(t.exports=i)}(0,function(t,e,n,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var l=r(e),s=r(n),f=r(o),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),p=function(t){function e(t,n){i(this,e);var o=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return c(e,t),h(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===d(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,f.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new l.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return u("action",t)}},{key:"defaultTarget",value:function(t){var e=u("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return u("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(s.default);t.exports=p})},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}function i(t,e,n,o){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&o.call(t,n)}}var a=n(4);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=n}])});
/* End of File include/javascript/clipboardjs/clipboard.min.js */

(function(){if(typeof window.CustomEvent==="function"){return false;}
function CustomEvent(event,params){params=params||{bubbles:false,cancelable:false,detail:null};var evt=document.createEvent('CustomEvent');evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail);return evt;}
window.CustomEvent=CustomEvent;})();Number.isNaN=Number.isNaN||function isNaN(input){return typeof input==='number'&&input!==input;}
if(!Array.prototype.find){Object.defineProperty(Array.prototype,'find',{value:function(predicate){if(this==null){throw TypeError('"this" is null or not defined');}
var o=Object(this);var len=o.length>>>0;if(typeof predicate!=='function'){throw TypeError('predicate must be a function');}
var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return kValue;}
k++;}
return undefined;},configurable:true,writable:true});}
if(!Array.prototype.findIndex){Object.defineProperty(Array.prototype,'findIndex',{value:function(predicate){if(this==null){throw new TypeError('"this" is null or not defined');}
var o=Object(this);var len=o.length>>>0;if(typeof predicate!=='function'){throw new TypeError('predicate must be a function');}
var thisArg=arguments[1];var k=0;while(k<len){var kValue=o[k];if(predicate.call(thisArg,kValue,k,o)){return k;}
k++;}
return-1;},configurable:true,writable:true});}
/* End of File include/javascript/gridstack/gridstack-poly.js */

(function(factory){{factory(window.jQuery,window);}})(function($,scope){var obsolete=function(f,oldName,newName,rev){var wrapper=function(){console.warn('gridstack.js: Function `'+oldName+'` is deprecated in '+rev+' and has been replaced '+'with `'+newName+'`. It will be **completely** removed in v1.0');return f.apply(this,arguments);};wrapper.prototype=f.prototype;return wrapper;};var obsoleteOpts=function(opts,oldName,newName,rev){if(opts[oldName]!==undefined){opts[newName]=opts[oldName];console.warn('gridstack.js: Option `'+oldName+'` is deprecated in '+rev+' and has been replaced with `'+
newName+'`. It will be **completely** removed in v1.0');}};var obsoleteOptsDel=function(opts,oldName,rev,info){if(opts[oldName]!==undefined){console.warn('gridstack.js: Option `'+oldName+'` is deprecated in '+rev+info);}};var obsoleteAttr=function(el,oldName,newName,rev){var oldAttr=el.attr(oldName);if(oldAttr!==undefined){el.attr(newName,oldAttr);console.warn('gridstack.js: attribute `'+oldName+'`='+oldAttr+' is deprecated on this object in '+rev+' and has been replaced with `'+
newName+'`. It will be **completely** removed in v1.0');}};var Utils={isIntercepted:function(a,b){return!(a.x+a.width<=b.x||b.x+b.width<=a.x||a.y+a.height<=b.y||b.y+b.height<=a.y);},sort:function(nodes,dir,column){if(!column){var widths=nodes.map(function(node){return node.x+node.width;});column=Math.max.apply(Math,widths);}
if(dir===-1)
return Utils.sortBy(nodes,function(n){return-(n.x+n.y*column);});else
return Utils.sortBy(nodes,function(n){return(n.x+n.y*column);});},createStylesheet:function(id,parent){var style=document.createElement('style');style.setAttribute('type','text/css');style.setAttribute('data-gs-style-id',id);if(style.styleSheet){style.styleSheet.cssText='';}else{style.appendChild(document.createTextNode(''));}
if(!parent){parent=document.getElementsByTagName('head')[0];}
parent.insertBefore(style,parent.firstChild);return style.sheet;},removeStylesheet:function(id){$('STYLE[data-gs-style-id='+id+']').remove();},insertCSSRule:function(sheet,selector,rules,index){if(typeof sheet.insertRule==='function'){sheet.insertRule(selector+'{'+rules+'}',index);}else if(typeof sheet.addRule==='function'){sheet.addRule(selector,rules,index);}},toBool:function(v){if(typeof v==='boolean'){return v;}
if(typeof v==='string'){v=v.toLowerCase();return!(v===''||v==='no'||v==='false'||v==='0');}
return Boolean(v);},_collisionNodeCheck:function(n){return n!==this.node&&Utils.isIntercepted(n,this.nn);},_didCollide:function(bn){return Utils.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},bn);},_isAddNodeIntercepted:function(n){return Utils.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},n);},parseHeight:function(val){var height=val;var heightUnit='px';if(height&&typeof height==='string'){var match=height.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!match){throw new Error('Invalid height');}
heightUnit=match[2]||'px';height=parseFloat(match[1]);}
return{height:height,unit:heightUnit};},without:function(array,item){var index=array.indexOf(item);if(index!==-1){array=array.slice(0);array.splice(index,1);}
return array;},sortBy:function(array,getter){return array.slice(0).sort(function(left,right){var valueLeft=getter(left);var valueRight=getter(right);if(valueRight===valueLeft){return 0;}
return valueLeft>valueRight?1:-1;});},defaults:function(target){var sources=Array.prototype.slice.call(arguments,1);sources.forEach(function(source){for(var prop in source){if(Object.prototype.hasOwnProperty.call(source,prop)&&(!Object.prototype.hasOwnProperty.call(target,prop)||target[prop]===undefined)){target[prop]=source[prop];}}});return target;},clone:function(target){return $.extend({},target);},throttle:function(callback,delay){var isWaiting=false;return function(){if(!isWaiting){callback.apply(this,arguments);isWaiting=true;setTimeout(function(){isWaiting=false;},delay);}};},removePositioningStyles:function(el){var style=el[0].style;if(style.position){style.removeProperty('position');}
if(style.left){style.removeProperty('left');}
if(style.top){style.removeProperty('top');}
if(style.width){style.removeProperty('width');}
if(style.height){style.removeProperty('height');}},getScrollParent:function(el){var returnEl;if(el===null){returnEl=null;}else if(el.scrollHeight>el.clientHeight){returnEl=el;}else{returnEl=Utils.getScrollParent(el.parentNode);}
return returnEl;},updateScrollPosition:function(el,ui,distance){var rect=el.getBoundingClientRect();var innerHeightOrClientHeight=(window.innerHeight||document.documentElement.clientHeight);if(rect.top<0||rect.bottom>innerHeightOrClientHeight){var offsetDiffDown=rect.bottom-innerHeightOrClientHeight;var offsetDiffUp=rect.top;var scrollEl=Utils.getScrollParent(el);if(scrollEl!==null){var prevScroll=scrollEl.scrollTop;if(rect.top<0&&distance<0){if(el.offsetHeight>innerHeightOrClientHeight){scrollEl.scrollTop+=distance;}else{scrollEl.scrollTop+=Math.abs(offsetDiffUp)>Math.abs(distance)?distance:offsetDiffUp;}}else if(distance>0){if(el.offsetHeight>innerHeightOrClientHeight){scrollEl.scrollTop+=distance;}else{scrollEl.scrollTop+=offsetDiffDown>distance?distance:offsetDiffDown;}}
ui.position.top+=scrollEl.scrollTop-prevScroll;}}}};function GridStackDragDropPlugin(grid){this.grid=grid;}
GridStackDragDropPlugin.registeredPlugins=[];GridStackDragDropPlugin.registerPlugin=function(pluginClass){GridStackDragDropPlugin.registeredPlugins.push(pluginClass);};GridStackDragDropPlugin.prototype.resizable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.draggable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.droppable=function(el,opts){return this;};GridStackDragDropPlugin.prototype.isDroppable=function(el){return false;};GridStackDragDropPlugin.prototype.on=function(el,eventName,callback){return this;};var idSeq=0;var GridStackEngine=function(column,onchange,float,maxRow,items){this.column=column||12;this.float=float||false;this.maxRow=maxRow||0;this.nodes=items||[];this.onchange=onchange||function(){};this._addedNodes=[];this._removedNodes=[];this._batchMode=false;};GridStackEngine.prototype.batchUpdate=function(){if(this._batchMode)return;this._batchMode=true;this._prevFloat=this.float;this.float=true;};GridStackEngine.prototype.commit=function(){if(!this._batchMode)return;this._batchMode=false;this.float=this._prevFloat;delete this._prevFloat;this._packNodes();this._notify();};GridStackEngine.prototype.getNodeDataByDOMEl=function(el){return this.nodes.find(function(node){return el===node.el});};GridStackEngine.prototype._fixCollisions=function(node){var self=this;this._sortNodes(-1);var nn=node;var hasLocked=Boolean(this.nodes.find(function(n){return n.locked;}));if(!this.float&&!hasLocked){nn={x:0,y:node.y,width:this.column,height:node.height};}
while(true){var collisionNode=this.nodes.find(Utils._collisionNodeCheck,{node:node,nn:nn});if(!collisionNode){return;}
var moved;if(collisionNode.locked){moved=this.moveNode(node,node.x,collisionNode.y+collisionNode.height,node.width,node.height,true);}else{moved=this.moveNode(collisionNode,collisionNode.x,node.y+node.height,collisionNode.width,collisionNode.height,true);}
if(!moved){return;}}};GridStackEngine.prototype.isAreaEmpty=function(x,y,width,height){var nn={x:x||0,y:y||0,width:width||1,height:height||1};var collisionNode=this.nodes.find(function(n){return Utils.isIntercepted(n,nn);});return!collisionNode;};GridStackEngine.prototype._sortNodes=function(dir){this.nodes=Utils.sort(this.nodes,dir,this.column);};GridStackEngine.prototype._packNodes=function(){this._sortNodes();if(this.float){this.nodes.forEach(function(n,i){if(n._updating||n._packY===undefined||n.y===n._packY){return;}
var newY=n.y;while(newY>=n._packY){var collisionNode=this.nodes.slice(0,i).find(Utils._didCollide,{n:n,newY:newY});if(!collisionNode){n._dirty=true;n.y=newY;}
--newY;}},this);}else{this.nodes.forEach(function(n,i){if(n.locked){return;}
while(n.y>0){var newY=n.y-1;var canBeMoved=i===0;if(i>0){var collisionNode=this.nodes.slice(0,i).find(Utils._didCollide,{n:n,newY:newY});canBeMoved=collisionNode===undefined;}
if(!canBeMoved){break;}
n._dirty=(n.y!==newY);n.y=newY;}},this);}};GridStackEngine.prototype._prepareNode=function(node,resizing){node=node||{};if(node.x===undefined||node.y===undefined||node.x===null||node.y===null){node.autoPosition=true;}
var defaults={width:1,height:1,x:0,y:0};node=Utils.defaults(node,defaults);node.x=parseInt(node.x);node.y=parseInt(node.y);node.width=parseInt(node.width);node.height=parseInt(node.height);node.autoPosition=node.autoPosition||false;node.noResize=node.noResize||false;node.noMove=node.noMove||false;if(Number.isNaN(node.x)){node.x=defaults.x;node.autoPosition=true;}
if(Number.isNaN(node.y)){node.y=defaults.y;node.autoPosition=true;}
if(Number.isNaN(node.width)){node.width=defaults.width;}
if(Number.isNaN(node.height)){node.height=defaults.height;}
if(node.maxWidth!==undefined){node.width=Math.min(node.width,node.maxWidth);}
if(node.maxHeight!==undefined){node.height=Math.min(node.height,node.maxHeight);}
if(node.minWidth!==undefined){node.width=Math.max(node.width,node.minWidth);}
if(node.minHeight!==undefined){node.height=Math.max(node.height,node.minHeight);}
if(node.width>this.column){node.width=this.column;}else if(node.width<1){node.width=1;}
if(this.maxRow&&node.height>this.maxRow){node.height=this.maxRow;}else if(node.height<1){node.height=1;}
if(node.x<0){node.x=0;}
if(node.y<0){node.y=0;}
if(node.x+node.width>this.column){if(resizing){node.width=this.column-node.x;}else{node.x=this.column-node.width;}}
if(this.maxRow&&node.y+node.height>this.maxRow){if(resizing){node.height=this.maxRow-node.y;}else{node.y=this.maxRow-node.height;}}
return node;};GridStackEngine.prototype._notify=function(){if(this._batchMode){return;}
var args=Array.prototype.slice.call(arguments,0);args[0]=(args[0]===undefined?[]:(Array.isArray(args[0])?args[0]:[args[0]]));args[1]=(args[1]===undefined?true:args[1]);var dirtyNodes=args[0].concat(this.getDirtyNodes());this.onchange(dirtyNodes,args[1]);};GridStackEngine.prototype.cleanNodes=function(){if(this._batchMode){return;}
this.nodes.forEach(function(n){delete n._dirty;});};GridStackEngine.prototype.getDirtyNodes=function(verify){if(verify){var dirtNodes=[];this.nodes.forEach(function(n){if(n._dirty){if(n.y===n._origY&&n.x===n._origX&&n.width===n._origW&&n.height===n._origH){delete n._dirty;}else{dirtNodes.push(n);}}});return dirtNodes;}
return this.nodes.filter(function(n){return n._dirty;});};GridStackEngine.prototype.addNode=function(node,triggerAddEvent){node=this._prepareNode(node);node._id=node._id||++idSeq;if(node.autoPosition){this._sortNodes();for(var i=0;;++i){var x=i%this.column;var y=Math.floor(i / this.column);if(x+node.width>this.column){continue;}
if(!this.nodes.find(Utils._isAddNodeIntercepted,{x:x,y:y,node:node})){node.x=x;node.y=y;delete node.autoPosition;break;}}}
this.nodes.push(node);if(triggerAddEvent){this._addedNodes.push(node);}
this._fixCollisions(node);this._packNodes();this._notify();return node;};GridStackEngine.prototype.removeNode=function(node,detachNode){detachNode=(detachNode===undefined?true:detachNode);this._removedNodes.push(node);node._id=null;this.nodes=Utils.without(this.nodes,node);this._packNodes();this._notify(node,detachNode);};GridStackEngine.prototype.removeAll=function(detachNode){delete this._layouts;if(this.nodes.length===0){return;}
detachNode=(detachNode===undefined?true:detachNode);this.nodes.forEach(function(n){n._id=null;});this._removedNodes=this.nodes;this.nodes=[];this._notify(this._removedNodes,detachNode);};GridStackEngine.prototype.canMoveNode=function(node,x,y,width,height){if(!this.isNodeChangedPosition(node,x,y,width,height)){return false;}
var hasLocked=Boolean(this.nodes.find(function(n){return n.locked;}));if(!this.maxRow&&!hasLocked){return true;}
var clonedNode;var clone=new GridStackEngine(this.column,null,this.float,0,this.nodes.map(function(n){if(n===node){clonedNode=$.extend({},n);return clonedNode;}
return $.extend({},n);}));if(!clonedNode){return true;}
clone.moveNode(clonedNode,x,y,width,height);var res=true;if(hasLocked){res&=!Boolean(clone.nodes.find(function(n){return n!==clonedNode&&Boolean(n.locked)&&Boolean(n._dirty);}));}
if(this.maxRow){res&=clone.getRow()<=this.maxRow;}
return res;};GridStackEngine.prototype.canBePlacedWithRespectToHeight=function(node){if(!this.maxRow){return true;}
var clone=new GridStackEngine(this.column,null,this.float,0,this.nodes.map(function(n){return $.extend({},n);}));clone.addNode(node);return clone.getRow()<=this.maxRow;};GridStackEngine.prototype.isNodeChangedPosition=function(node,x,y,width,height){if(typeof x!=='number'){x=node.x;}
if(typeof y!=='number'){y=node.y;}
if(typeof width!=='number'){width=node.width;}
if(typeof height!=='number'){height=node.height;}
if(node.maxWidth!==undefined){width=Math.min(width,node.maxWidth);}
if(node.maxHeight!==undefined){height=Math.min(height,node.maxHeight);}
if(node.minWidth!==undefined){width=Math.max(width,node.minWidth);}
if(node.minHeight!==undefined){height=Math.max(height,node.minHeight);}
if(node.x===x&&node.y===y&&node.width===width&&node.height===height){return false;}
return true;};GridStackEngine.prototype.moveNode=function(node,x,y,width,height,noPack){if(node.locked){return null;}
if(typeof x!=='number'){x=node.x;}
if(typeof y!=='number'){y=node.y;}
if(typeof width!=='number'){width=node.width;}
if(typeof height!=='number'){height=node.height;}
var resizing=(node.width!==width||node.height!==height);var nn={x:x,y:y,width:width,height:height,maxWidth:node.maxWidth,maxHeight:node.maxHeight,minWidth:node.minWidth,minHeight:node.minHeight};nn=this._prepareNode(nn,resizing);if(node.x===nn.x&&node.y===nn.y&&node.width===nn.width&&node.height===nn.height){return null;}
node._dirty=true;node.x=node.lastTriedX=nn.x;node.y=node.lastTriedY=nn.y;node.width=node.lastTriedWidth=nn.width;node.height=node.lastTriedHeight=nn.height;this._fixCollisions(node);if(!noPack){this._packNodes();this._notify();}
return node;};GridStackEngine.prototype.getRow=function(){return this.nodes.reduce(function(memo,n){return Math.max(memo,n.y+n.height);},0);};GridStackEngine.prototype.beginUpdate=function(node){if(node._updating)return;node._updating=true;this.nodes.forEach(function(n){n._packY=n.y;});};GridStackEngine.prototype.endUpdate=function(){var n=this.nodes.find(function(n){return n._updating;});if(n){n._updating=false;this.nodes.forEach(function(n){delete n._packY;});}};var GridStack=function(el,opts){var self=this;var oneColumnMode,_prevColumn,isAutoCellHeight;opts=opts||{};this.$el=$(el);this.el=this.$el.get(0);obsoleteOpts(opts,'width','column','v0.5.3');obsoleteOpts(opts,'height','maxRow','v0.5.3');obsoleteOptsDel(opts,'oneColumnModeClass','v0.6.3','. Use class `.grid-stack-1` instead');obsoleteAttr(this.$el,'data-gs-width','data-gs-column','v0.5.3');obsoleteAttr(this.$el,'data-gs-height','data-gs-max-row','v0.5.3');obsoleteAttr(this.$el,'data-gs-current-height','data-gs-current-row','v1.0.0');opts.itemClass=opts.itemClass||'grid-stack-item';var isNested=this.$el.closest('.'+opts.itemClass).length>0;if(opts.row){opts.minRow=opts.maxRow=opts.row;delete opts.row;}
var rowAttr=parseInt(this.$el.attr('data-gs-row'));this.opts=Utils.defaults(opts,{column:parseInt(this.$el.attr('data-gs-column'))||12,minRow:rowAttr?rowAttr:parseInt(this.$el.attr('data-gs-min-row'))||0,maxRow:rowAttr?rowAttr:parseInt(this.$el.attr('data-gs-max-row'))||0,itemClass:'grid-stack-item',placeholderClass:'grid-stack-placeholder',placeholderText:'',handle:'.grid-stack-item-content',handleClass:null,cellHeight:60,verticalMargin:20,auto:true,minWidth:768,float:false,staticGrid:false,_class:'grid-stack-instance-'+(Math.random()*10000).toFixed(0),animate:Boolean(this.$el.attr('data-gs-animate'))||false,alwaysShowResizeHandle:opts.alwaysShowResizeHandle||false,resizable:Utils.defaults(opts.resizable||{},{autoHide:!(opts.alwaysShowResizeHandle||false),handles:'se'}),draggable:Utils.defaults(opts.draggable||{},{handle:(opts.handleClass?'.'+opts.handleClass:(opts.handle?opts.handle:''))||'.grid-stack-item-content',scroll:false,appendTo:'body'}),disableDrag:opts.disableDrag||false,disableResize:opts.disableResize||false,rtl:'auto',removable:false,removableOptions:Utils.defaults(opts.removableOptions||{},{accept:'.'+opts.itemClass}),removeTimeout:2000,verticalMarginUnit:'px',cellHeightUnit:'px',disableOneColumnMode:opts.disableOneColumnMode||false,oneColumnModeDomSort:opts.oneColumnModeDomSort,ddPlugin:null});if(this.opts.ddPlugin===false){this.opts.ddPlugin=GridStackDragDropPlugin;}else if(this.opts.ddPlugin===null){this.opts.ddPlugin=GridStackDragDropPlugin.registeredPlugins[0]||GridStackDragDropPlugin;}
this.dd=new this.opts.ddPlugin(this);if(this.opts.rtl==='auto'){this.opts.rtl=this.$el.css('direction')==='rtl';}
if(this.opts.rtl){this.$el.addClass('grid-stack-rtl');}
this.opts.isNested=isNested;isAutoCellHeight=(this.opts.cellHeight==='auto');if(isAutoCellHeight){self.cellHeight(self.cellWidth(),true);}else{this.cellHeight(this.opts.cellHeight,true);}
this.verticalMargin(this.opts.verticalMargin,true);this.$el.addClass(this.opts._class);this._setStaticClass();if(isNested){this.$el.addClass('grid-stack-nested');}
this._initStyles();this.engine=new GridStackEngine(this.opts.column,function(nodes,detachNode){detachNode=(detachNode===undefined?true:detachNode);var maxHeight=0;this.nodes.forEach(function(n){maxHeight=Math.max(maxHeight,n.y+n.height);});nodes.forEach(function(n){if(detachNode&&n._id===null){if(n.el){$(n.el).remove();}}else{$(n.el).attr('data-gs-x',n.x).attr('data-gs-y',n.y).attr('data-gs-width',n.width).attr('data-gs-height',n.height);}});self._updateStyles(maxHeight+10);},this.opts.float,this.opts.maxRow);if(this.opts.auto){var elements=[];var _this=this;this.$el.children('.'+this.opts.itemClass+':not(.'+this.opts.placeholderClass+')').each(function(index,el){el=$(el);var x=parseInt(el.attr('data-gs-x'));var y=parseInt(el.attr('data-gs-y'));elements.push({el:el.get(0),i:(Number.isNaN(x)?1000:x)+(Number.isNaN(y)?1000:y)*_this.opts.column});});Utils.sortBy(elements,function(x){return x.i;}).forEach(function(item){this._prepareElement(item.el);},this);}
this.engine._saveInitial();this.setAnimation(this.opts.animate);this.placeholder=$('<div class="'+this.opts.placeholderClass+' '+this.opts.itemClass+'">'+'<div class="placeholder-content">'+this.opts.placeholderText+'</div></div>').hide();this._updateContainerHeight();this._updateHeightsOnResize=Utils.throttle(function(){self.cellHeight(self.cellWidth(),false);},100);this.onResizeHandler=function(){if(isAutoCellHeight){self._updateHeightsOnResize();}
if(!self.opts.disableOneColumnMode&&(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=self.opts.minWidth){if(self.oneColumnMode){return}
self.oneColumnMode=true;self.column(1);}else{if(!self.oneColumnMode){return}
self.oneColumnMode=false;self.column(self._prevColumn);}};$(window).resize(this.onResizeHandler);this.onResizeHandler();if(!self.opts.staticGrid&&typeof self.opts.removable==='string'){var trashZone=$(self.opts.removable);if(!this.dd.isDroppable(trashZone)){this.dd.droppable(trashZone,self.opts.removableOptions);}
this.dd.on(trashZone,'dropover',function(event,ui){var el=$(ui.draggable);var node=el.data('_gridstack_node');if(!node||node._grid!==self){return;}
el.data('inTrashZone',true);self._setupRemovingTimeout(el);}).on(trashZone,'dropout',function(event,ui){var el=$(ui.draggable);var node=el.data('_gridstack_node');if(!node||node._grid!==self){return;}
el.data('inTrashZone',false);self._clearRemovingTimeout(el);});}
if(!self.opts.staticGrid&&self.opts.acceptWidgets){var draggingElement=null;var onDrag=function(event,ui){var el=draggingElement;var node=el.data('_gridstack_node');var pos=self.getCellFromPixel({left:event.pageX,top:event.pageY},true);var x=Math.max(0,pos.x);var y=Math.max(0,pos.y);if(!node._added){node._added=true;node.el=el.get(0);node.autoPosition=true;node.x=x;node.y=y;self.engine.cleanNodes();self.engine.beginUpdate(node);self.engine.addNode(node);self.$el.append(self.placeholder);self.placeholder.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height).show();node.el=self.placeholder.get(0);node._beforeDragX=node.x;node._beforeDragY=node.y;self._updateContainerHeight();}
if(!self.engine.canMoveNode(node,x,y)){return;}
self.engine.moveNode(node,x,y);self._updateContainerHeight();};this.dd.droppable(self.$el,{accept:function(el){el=$(el);var node=el.data('_gridstack_node');if(node&&node._grid===self){return false;}
return el.is(self.opts.acceptWidgets===true?'.grid-stack-item':self.opts.acceptWidgets);}}).on(self.$el,'dropover',function(event,ui){var el=$(ui.draggable);var width,height;var origNode=el.data('_gridstack_node');if(!origNode||!origNode.width||!origNode.height){var w=parseInt(el.attr('data-gs-width'));if(w>0){origNode=origNode||{};origNode.width=w;}
var h=parseInt(el.attr('data-gs-height'));if(h>0){origNode=origNode||{};origNode.height=h;}}
var cellWidth=self.cellWidth();var cellHeight=self.cellHeight();var verticalMargin=self.opts.verticalMargin;width=origNode&&origNode.width?origNode.width:Math.ceil(el.outerWidth()/ cellWidth);height=origNode&&origNode.height?origNode.height:Math.round((el.outerHeight()+verticalMargin)/(cellHeight+verticalMargin));draggingElement=el;var node=self.engine._prepareNode({width:width,height:height,_added:false,_temporary:true});node.isOutOfGrid=true;el.data('_gridstack_node',node);el.data('_gridstack_node_orig',origNode);el.on('drag',onDrag);return false;}).on(self.$el,'dropout',function(event,ui){var el=$(ui.draggable);if(!el.data('_gridstack_node')){return;}
var node=el.data('_gridstack_node');if(!node.isOutOfGrid){return;}
el.unbind('drag',onDrag);node.el=null;self.engine.removeNode(node);self.placeholder.detach();self._updateContainerHeight();el.data('_gridstack_node',el.data('_gridstack_node_orig'));return false;}).on(self.$el,'drop',function(event,ui){self.placeholder.detach();var node=$(ui.draggable).data('_gridstack_node');node.isOutOfGrid=false;node._grid=self;var el=$(ui.draggable).clone(false);el.data('_gridstack_node',node);var originalNode=$(ui.draggable).data('_gridstack_node_orig');if(originalNode!==undefined&&originalNode._grid!==undefined){originalNode._grid._triggerRemoveEvent();}
$(ui.helper).remove();node.el=el.get(0);self.placeholder.hide();Utils.removePositioningStyles(el);el.find('div.ui-resizable-handle').remove();el.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height).addClass(self.opts.itemClass).enableSelection().removeData('draggable').removeClass('ui-draggable ui-draggable-dragging ui-draggable-disabled').unbind('drag',onDrag);self.$el.append(el);self._prepareElementsByNode(el,node);self._updateContainerHeight();self.engine._addedNodes.push(node);self._triggerAddEvent();self._triggerChangeEvent();self.engine.endUpdate();$(ui.draggable).unbind('drag',onDrag);$(ui.draggable).removeData('_gridstack_node');$(ui.draggable).removeData('_gridstack_node_orig');self.$el.trigger('dropped',[originalNode,node]);return false;});}};GridStack.prototype._triggerChangeEvent=function(){if(this.engine._batchMode){return;}
var elements=this.engine.getDirtyNodes(true);if(elements&&elements.length){this.engine._layoutsNodesChange(elements);this._triggerEvent('change',elements);}
this.engine._saveInitial();};GridStack.prototype._triggerAddEvent=function(){if(this.engine._batchMode){return;}
if(this.engine._addedNodes&&this.engine._addedNodes.length>0){this.engine._layoutsNodesChange(this.engine._addedNodes);this.engine._addedNodes.forEach(function(n){delete n._dirty;});this._triggerEvent('added',this.engine._addedNodes);this.engine._addedNodes=[];}};GridStack.prototype._triggerRemoveEvent=function(){if(this.engine._batchMode){return;}
if(this.engine._removedNodes&&this.engine._removedNodes.length>0){this._triggerEvent('removed',this.engine._removedNodes);this.engine._removedNodes=[];}};GridStack.prototype._triggerEvent=function(name,data){var event=new CustomEvent(name,{detail:data});this.el.dispatchEvent(event);};GridStack.prototype._initStyles=function(){if(this._stylesId){Utils.removeStylesheet(this._stylesId);}
this._stylesId='gridstack-style-'+(Math.random()*100000).toFixed();this._styles=Utils.createStylesheet(this._stylesId,this.el.parentNode);if(this._styles!==null){this._styles._max=0;}};GridStack.prototype._updateStyles=function(maxHeight){if(this._styles===null||this._styles===undefined){return;}
var prefix='.'+this.opts._class+' .'+this.opts.itemClass;var self=this;var getHeight;if(maxHeight===undefined){maxHeight=this._styles._max;}
this._initStyles();this._updateContainerHeight();if(!this.opts.cellHeight){return;}
if(this._styles._max!==0&&maxHeight<=this._styles._max){return;}
if(!this.opts.verticalMargin||this.opts.cellHeightUnit===this.opts.verticalMarginUnit){getHeight=function(nbRows,nbMargins){return(self.opts.cellHeight*nbRows+self.opts.verticalMargin*nbMargins)+
self.opts.cellHeightUnit;};}else{getHeight=function(nbRows,nbMargins){if(!nbRows||!nbMargins){return(self.opts.cellHeight*nbRows+self.opts.verticalMargin*nbMargins)+
self.opts.cellHeightUnit;}
return'calc('+((self.opts.cellHeight*nbRows)+self.opts.cellHeightUnit)+' + '+
((self.opts.verticalMargin*nbMargins)+self.opts.verticalMarginUnit)+')';};}
if(this._styles._max===0){Utils.insertCSSRule(this._styles,prefix,'min-height: '+getHeight(1,0)+';',0);}
if(maxHeight>this._styles._max){for(var i=this._styles._max;i<maxHeight;++i){Utils.insertCSSRule(this._styles,prefix+'[data-gs-height="'+(i+1)+'"]','height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-min-height="'+(i+1)+'"]','min-height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-max-height="'+(i+1)+'"]','max-height: '+getHeight(i+1,i)+';',i);Utils.insertCSSRule(this._styles,prefix+'[data-gs-y="'+i+'"]','top: '+getHeight(i,i)+';',i);}
this._styles._max=maxHeight;}};GridStack.prototype._updateContainerHeight=function(){if(this.engine._batchMode){return;}
var row=this.engine.getRow();if(row<this.opts.minRow){row=this.opts.minRow;}
var cssMinHeight=parseInt(this.$el.css('min-height'));if(cssMinHeight>0){var verticalMargin=this.opts.verticalMargin;var minRow=Math.round((cssMinHeight+verticalMargin)/(this.cellHeight()+verticalMargin));if(row<minRow){row=minRow;}}
this.$el.attr('data-gs-current-row',row);if(!this.opts.cellHeight){return;}
if(!this.opts.verticalMargin){this.$el.css('height',(row*(this.opts.cellHeight))+this.opts.cellHeightUnit);}else if(this.opts.cellHeightUnit===this.opts.verticalMarginUnit){this.$el.css('height',(row*(this.opts.cellHeight+this.opts.verticalMargin)-
this.opts.verticalMargin)+this.opts.cellHeightUnit);}else{this.$el.css('height','calc('+((row*(this.opts.cellHeight))+this.opts.cellHeightUnit)+' + '+((row*(this.opts.verticalMargin-1))+this.opts.verticalMarginUnit)+')');}};GridStack.prototype._setupRemovingTimeout=function(el){var self=this;var node=$(el).data('_gridstack_node');if(node._removeTimeout||!self.opts.removable){return;}
node._removeTimeout=setTimeout(function(){el.addClass('grid-stack-item-removing');node._isAboutToRemove=true;},self.opts.removeTimeout);};GridStack.prototype._clearRemovingTimeout=function(el){var node=$(el).data('_gridstack_node');if(!node._removeTimeout){return;}
clearTimeout(node._removeTimeout);node._removeTimeout=null;el.removeClass('grid-stack-item-removing');node._isAboutToRemove=false;};GridStack.prototype._prepareElementsByNode=function(el,node){var self=this;var cellWidth;var cellFullHeight;var dragOrResize=function(event,ui){var x=Math.round(ui.position.left / cellWidth);var y=Math.floor((ui.position.top+cellFullHeight / 2)/ cellFullHeight);var width;var height;if(event.type==='drag'){var distance=ui.position.top-node._prevYPix;node._prevYPix=ui.position.top;Utils.updateScrollPosition(el[0],ui,distance);if(el.data('inTrashZone')||x<0||x>=self.engine.column||y<0||(!self.engine.float&&y>self.engine.getRow())){if(!node._temporaryRemoved){if(self.opts.removable===true){self._setupRemovingTimeout(el);}
x=node._beforeDragX;y=node._beforeDragY;self.placeholder.detach();self.placeholder.hide();self.engine.removeNode(node);self._updateContainerHeight();node._temporaryRemoved=true;}else{return;}}else{self._clearRemovingTimeout(el);if(node._temporaryRemoved){self.engine.addNode(node);self.placeholder.attr('data-gs-x',x).attr('data-gs-y',y).attr('data-gs-width',width).attr('data-gs-height',height).show();self.$el.append(self.placeholder);node.el=self.placeholder.get(0);node._temporaryRemoved=false;}}}else if(event.type==='resize'){if(x<0)return;width=Math.round(ui.size.width / cellWidth);height=Math.round((ui.size.height+self.verticalMargin())/ cellFullHeight);}
var lastTriedWidth=width!==undefined?width:node.lastTriedWidth;var lastTriedHeight=height!==undefined?height:node.lastTriedHeight;if(!self.engine.canMoveNode(node,x,y,width,height)||(node.lastTriedX===x&&node.lastTriedY===y&&node.lastTriedWidth===lastTriedWidth&&node.lastTriedHeight===lastTriedHeight)){return;}
node.lastTriedX=x;node.lastTriedY=y;node.lastTriedWidth=width;node.lastTriedHeight=height;self.engine.moveNode(node,x,y,width,height);self._updateContainerHeight();if(event.type==='resize'){$(event.target).trigger('gsresize',node);}};var onStartMoving=function(event,ui){self.$el.append(self.placeholder);var o=$(this);self.engine.cleanNodes();self.engine.beginUpdate(node);cellWidth=self.cellWidth();var strictCellHeight=self.cellHeight();if(!cellFullHeight){setCellFullHeight();}
self.placeholder.attr('data-gs-x',o.attr('data-gs-x')).attr('data-gs-y',o.attr('data-gs-y')).attr('data-gs-width',o.attr('data-gs-width')).attr('data-gs-height',o.attr('data-gs-height')).show();node.el=self.placeholder.get(0);node._beforeDragX=node.x;node._beforeDragY=node.y;node._prevYPix=ui.position.top;var minHeight=(node.minHeight||1);var verticalMargin=self.opts.verticalMargin;self.dd.resizable(el,'option','minWidth',cellWidth*(node.minWidth||1));self.dd.resizable(el,'option','minHeight',(strictCellHeight*minHeight)+(minHeight-1)*verticalMargin);if(event.type==='resizestart'){o.find('.grid-stack-item').trigger('resizestart');}};var onEndMoving=function(event,ui){var o=$(this);if(!o.data('_gridstack_node')){return;}
self.placeholder.detach();node.el=o.get(0);self.placeholder.hide();if(node._isAboutToRemove){var gridToNotify=el.data('_gridstack_node')._grid;gridToNotify._triggerRemoveEvent();el.removeData('_gridstack_node');el.remove();}else{self._clearRemovingTimeout(el);if(!node._temporaryRemoved){Utils.removePositioningStyles(o);o.attr('data-gs-x',node.x).attr('data-gs-y',node.y).attr('data-gs-width',node.width).attr('data-gs-height',node.height);}else{Utils.removePositioningStyles(o);o.attr('data-gs-x',node._beforeDragX).attr('data-gs-y',node._beforeDragY).attr('data-gs-width',node.width).attr('data-gs-height',node.height);node.x=node._beforeDragX;node.y=node._beforeDragY;node._temporaryRemoved=false;self.engine.addNode(node);}}
self._updateContainerHeight();self._triggerChangeEvent();self.engine.endUpdate();var nestedGrids=o.find('.grid-stack');if(nestedGrids.length&&event.type==='resizestop'){nestedGrids.each(function(index,el){el.gridstack.onResizeHandler();});o.find('.grid-stack-item').trigger('resizestop');o.find('.grid-stack-item').trigger('gsresizestop');}
if(event.type==='resizestop'){self.$el.trigger('gsresizestop',o);}};let setCellFullHeight=function(){let $parentBlock=self.$el.closest('ul.dashlets');$parentBlock.css('display','block');cellFullHeight=(self.$el.height()+self.verticalMargin())/ parseInt(self.$el.attr('data-gs-current-row'));$parentBlock.css('display','');};this.dd.draggable(el,{start:onStartMoving,stop:onEndMoving,drag:dragOrResize}).resizable(el,{start:onStartMoving,stop:onEndMoving,resize:dragOrResize});if(node.noMove||this.opts.disableDrag||this.opts.staticGrid){this.dd.draggable(el,'disable');}
if(node.noResize||this.opts.disableResize||this.opts.staticGrid){this.dd.resizable(el,'disable');}
this._writeAttr(el,node);};GridStack.prototype._prepareElement=function(el,triggerAddEvent){triggerAddEvent=triggerAddEvent!==undefined?triggerAddEvent:false;var self=this;el=$(el);el.addClass(this.opts.itemClass+' rounded-md');var node=this._readAttr(el,{el:el.get(0),_grid:self});node=self.engine.addNode(node,triggerAddEvent);el.data('_gridstack_node',node);this._prepareElementsByNode(el,node);};GridStack.prototype._writeAttr=function(el,node){if(!node){return;}
el=$(el);if(node.x!==undefined){el.attr('data-gs-x',node.x);}
if(node.y!==undefined){el.attr('data-gs-y',node.y);}
if(node.width!==undefined){el.attr('data-gs-width',node.width);}
if(node.height!==undefined){el.attr('data-gs-height',node.height);}
if(node.autoPosition!==undefined){el.attr('data-gs-auto-position',node.autoPosition?true:null);}
if(node.minWidth!==undefined){el.attr('data-gs-min-width',node.minWidth);}
if(node.maxWidth!==undefined){el.attr('data-gs-max-width',node.maxWidth);}
if(node.minHeight!==undefined){el.attr('data-gs-min-height',node.minHeight);}
if(node.maxHeight!==undefined){el.attr('data-gs-max-height',node.maxHeight);}
if(node.noResize!==undefined){el.attr('data-gs-no-resize',node.noResize?true:null);}
if(node.noMove!==undefined){el.attr('data-gs-no-move',node.noMove?true:null);}
if(node.locked!==undefined){el.attr('data-gs-locked',node.locked?true:null);}
if(node.resizeHandles!==undefined){el.attr('data-gs-resize-handles',node.resizeHandles);}
if(node.id!==undefined){el.attr('data-gs-id',node.id);}};GridStack.prototype._readAttr=function(el,node){el=$(el);node=node||{};node.x=el.attr('data-gs-x');node.y=el.attr('data-gs-y');node.width=el.attr('data-gs-width');node.height=el.attr('data-gs-height');node.autoPosition=Utils.toBool(el.attr('data-gs-auto-position'));node.maxWidth=el.attr('data-gs-max-width');node.minWidth=el.attr('data-gs-min-width');node.maxHeight=el.attr('data-gs-max-height');node.minHeight=el.attr('data-gs-min-height');node.noResize=Utils.toBool(el.attr('data-gs-no-resize'));node.noMove=Utils.toBool(el.attr('data-gs-no-move'));node.locked=Utils.toBool(el.attr('data-gs-locked'));node.resizeHandles=el.attr('data-gs-resize-handles');node.id=el.attr('data-gs-id');return node;};GridStack.prototype.setAnimation=function(enable){if(enable){this.$el.addClass('grid-stack-animate');}else{this.$el.removeClass('grid-stack-animate');}};GridStack.prototype.addWidget=function(el,opt,y,width,height,autoPosition,minWidth,maxWidth,minHeight,maxHeight,id){if(opt===undefined||typeof opt==='object'){}else{return this.addWidget(el,{x:opt,y:y,width:width,height:height,autoPosition:autoPosition,minWidth:minWidth,maxWidth:maxWidth,minHeight:minHeight,maxHeight:maxHeight,id:id});}
el=$(el);if(opt){domAttr=this._readAttr(el);Utils.defaults(opt,domAttr);this.engine._prepareNode(opt);}
this._writeAttr(el,opt);this.$el.append(el);return this.makeWidget(el);};GridStack.prototype.makeWidget=function(el){el=$(el);this._prepareElement(el,true);this._updateContainerHeight();this._triggerAddEvent();this._triggerChangeEvent(true);return el.get(0);};GridStack.prototype.willItFit=function(x,y,width,height,autoPosition){var node={x:x,y:y,width:width,height:height,autoPosition:autoPosition};return this.engine.canBePlacedWithRespectToHeight(node);};GridStack.prototype.removeWidget=function(el,detachNode){el=$(el);var node=el.data('_gridstack_node');if(!node){node=this.engine.getNodeDataByDOMEl(el.get(0));}
if(!node||node.el.parentElement!==this.el)return;el.removeData('_gridstack_node');this.dd.draggable(el,'destroy').resizable(el,'destroy');this.engine.removeNode(node,detachNode);this._triggerRemoveEvent();this._triggerChangeEvent(true);};GridStack.prototype.removeAll=function(detachNode){this.engine.nodes.forEach(function(node){var el=$(node.el);el.removeData('_gridstack_node');this.dd.draggable(el,'destroy').resizable(el,'destroy');},this);this.engine.removeAll(detachNode);this._triggerRemoveEvent();};GridStack.prototype.destroy=function(detachGrid){$(window).off('resize',this.onResizeHandler);if(detachGrid===false){this.removeAll(false);this.$el.removeClass(this.opts._class);delete this.$el.get(0).gridstack;}else{this.$el.remove();}
Utils.removeStylesheet(this._stylesId);if(this.engine){this.engine=null;}};GridStack.prototype.resizable=function(el,val){var self=this;el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.noResize=!(val||false);if(node.noResize){self.dd.resizable(el,'disable');}else{self.dd.resizable(el,'enable');}});return this;};GridStack.prototype.movable=function(el,val){var self=this;el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.noMove=!(val||false);if(node.noMove){self.dd.draggable(el,'disable');el.removeClass('ui-draggable-handle');}else{self.dd.draggable(el,'enable');el.addClass('ui-draggable-handle');}});return this;};GridStack.prototype.enableMove=function(doEnable,includeNewWidgets){this.movable(this.$el.children('.'+this.opts.itemClass),doEnable);if(includeNewWidgets){this.opts.disableDrag=!doEnable;}};GridStack.prototype.enableResize=function(doEnable,includeNewWidgets){this.resizable(this.$el.children('.'+this.opts.itemClass),doEnable);if(includeNewWidgets){this.opts.disableResize=!doEnable;}};GridStack.prototype.disable=function(){this.movable(this.$el.children('.'+this.opts.itemClass),false);this.resizable(this.$el.children('.'+this.opts.itemClass),false);this.$el.trigger('disable');};GridStack.prototype.enable=function(){this.movable(this.$el.children('.'+this.opts.itemClass),true);this.resizable(this.$el.children('.'+this.opts.itemClass),true);this.$el.trigger('enable');};GridStack.prototype.locked=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
node.locked=(val||false);el.attr('data-gs-locked',node.locked?'yes':null);});return this;};GridStack.prototype.maxHeight=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.maxHeight=(val||false);el.attr('data-gs-max-height',val);}});return this;};GridStack.prototype.minHeight=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.minHeight=(val||false);el.attr('data-gs-min-height',val);}});return this;};GridStack.prototype.maxWidth=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.maxWidth=(val||false);el.attr('data-gs-max-width',val);}});return this;};GridStack.prototype.minWidth=function(el,val){el=$(el);el.each(function(index,el){el=$(el);var node=el.data('_gridstack_node');if(!node){return;}
if(!isNaN(val)){node.minWidth=(val||false);el.attr('data-gs-min-width',val);}});return this;};GridStack.prototype._updateElement=function(el,callback){el=$(el).first();var node=el.data('_gridstack_node');if(!node){return;}
var self=this;self.engine.cleanNodes();self.engine.beginUpdate(node);callback.call(this,el,node);self._updateContainerHeight();self._triggerChangeEvent();self.engine.endUpdate();};GridStack.prototype.resize=function(el,width,height){this._updateElement(el,function(el,node){width=(width!==null&&width!==undefined)?width:node.width;height=(height!==null&&height!==undefined)?height:node.height;this.engine.moveNode(node,node.x,node.y,width,height);});};GridStack.prototype.move=function(el,x,y){this._updateElement(el,function(el,node){x=(x!==null&&x!==undefined)?x:node.x;y=(y!==null&&y!==undefined)?y:node.y;this.engine.moveNode(node,x,y,node.width,node.height);});};GridStack.prototype.update=function(el,x,y,width,height){this._updateElement(el,function(el,node){x=(x!==null&&x!==undefined)?x:node.x;y=(y!==null&&y!==undefined)?y:node.y;width=(width!==null&&width!==undefined)?width:node.width;height=(height!==null&&height!==undefined)?height:node.height;this.engine.moveNode(node,x,y,width,height);});};GridStack.prototype.compact=function(){if(this.engine.nodes.length===0){return;}
this.batchUpdate();this.engine._sortNodes();var nodes=this.engine.nodes;this.engine.nodes=[];nodes.forEach(function(node){if(!node.noMove&&!node.locked){node.autoPosition=true;}
this.engine.addNode(node,false);node._dirty=true;},this);this.commit();};GridStack.prototype.verticalMargin=function(val,noUpdate){if(val===undefined){return this.opts.verticalMargin;}
var heightData=Utils.parseHeight(val);if(this.opts.verticalMarginUnit===heightData.unit&&this.opts.maxRow===heightData.height){return;}
this.opts.verticalMarginUnit=heightData.unit;this.opts.verticalMargin=heightData.height;if(!noUpdate){this._updateStyles();}};GridStack.prototype.cellHeight=function(val,noUpdate){if(val===undefined){if(this.opts.cellHeight&&this.opts.cellHeight!=='auto'){return this.opts.cellHeight;}
var o=this.$el.children('.'+this.opts.itemClass).first();var height=o.attr('data-gs-height');var verticalMargin=this.opts.verticalMargin;return Math.round((o.outerHeight()-(height-1)*verticalMargin)/ height);}
var heightData=Utils.parseHeight(val);if(this.opts.cellHeightUnit===heightData.unit&&this.opts.cellHeight===heightData.height){return;}
this.opts.cellHeightUnit=heightData.unit;this.opts.cellHeight=heightData.height;if(!noUpdate){this._updateStyles();}};GridStack.prototype.cellWidth=function(){return Math.round(this.$el.outerWidth()/ this.opts.column);};GridStack.prototype.getCellFromPixel=function(position,useOffset){var containerPos=(useOffset!==undefined&&useOffset)?this.$el.offset():this.$el.position();var relativeLeft=position.left-containerPos.left;var relativeTop=position.top-containerPos.top;var columnWidth=Math.floor(this.$el.width()/ this.opts.column);var rowHeight=Math.floor(this.$el.height()/ parseInt(this.$el.attr('data-gs-current-row')));return{x:Math.floor(relativeLeft / columnWidth),y:Math.floor(relativeTop / rowHeight)};};GridStack.prototype.batchUpdate=function(){this.engine.batchUpdate();};GridStack.prototype.commit=function(){this.engine.commit();this._triggerRemoveEvent();this._triggerAddEvent();this._triggerChangeEvent();};GridStack.prototype.isAreaEmpty=function(x,y,width,height){return this.engine.isAreaEmpty(x,y,width,height);};GridStack.prototype.setStatic=function(staticValue){this.opts.staticGrid=(staticValue===true);this.enableMove(!staticValue);this.enableResize(!staticValue);this._setStaticClass();};GridStack.prototype._setStaticClass=function(){var staticClassName='grid-stack-static';if(this.opts.staticGrid===true){this.$el.addClass(staticClassName);}else{this.$el.removeClass(staticClassName);}};GridStackEngine.prototype._layoutsNodesChange=function(nodes){if(!this._layouts||this._ignoreLayoutsNodeChange)return;this._layouts.forEach(function(layout,column){if(!layout||column===this.column)return;if(column<this.column){this._layouts[column]=undefined;}
else{nodes.forEach(function(node){var n=layout.find(function(l){return l._id===node._id});if(!n)return;var ratio=column / this.column;if(node.y!==node._origY){n.y+=(node.y-node._origY);}
if(node.x!==node._origX){n.x=Math.round(node.x*ratio);}
if(node.width!==node._origW){n.width=Math.round(node.width*ratio);}},this);}},this);}
GridStackEngine.prototype._updateNodeWidths=function(oldColumn,column,nodes){if(!this.nodes.length||oldColumn===column){return;}
var copy=[this.nodes.length];this.nodes.forEach(function(n,i){copy[i]={x:n.x,y:n.y,width:n.width,_id:n._id}});this._layouts=this._layouts||[];this._layouts[oldColumn]=copy;if(column===1&&nodes&&nodes.length){var top=0;nodes.forEach(function(n){n.x=0;n.width=1;n.y=Math.max(n.y,top);top=n.y+n.height;});}else{nodes=Utils.sort(this.nodes,-1,oldColumn);}
var cacheNodes=this._layouts[column]||[];var lastIndex=this._layouts.length-1;if(cacheNodes.length===0&&column>oldColumn&&column<lastIndex){cacheNodes=this._layouts[lastIndex]||[];if(cacheNodes.length){oldColumn=lastIndex;cacheNodes.forEach(function(cacheNode){var j=nodes.findIndex(function(n){return n&&n._id===cacheNode._id});if(j!==-1){nodes[j].x=cacheNode.x;nodes[j].y=cacheNode.y;nodes[j].width=cacheNode.width;}});cacheNodes=[];}}
var newNodes=[];cacheNodes.forEach(function(cacheNode){var j=nodes.findIndex(function(n){return n&&n._id===cacheNode._id});if(j!==-1){nodes[j].x=cacheNode.x;nodes[j].y=cacheNode.y;nodes[j].width=cacheNode.width;newNodes.push(nodes[j]);nodes[j]=null;}});var ratio=column / oldColumn;nodes.forEach(function(node){if(!node)return;node.x=(column===1?0:Math.round(node.x*ratio));node.width=((column===1||oldColumn===1)?1:(Math.round(node.width*ratio)||1));newNodes.push(node);});newNodes=Utils.sort(newNodes,-1,column);this._ignoreLayoutsNodeChange=true;this.batchUpdate();this.nodes=[];newNodes.forEach(function(node){this.addNode(node,false);node._dirty=true;},this);this.commit();delete this._ignoreLayoutsNodeChange;}
GridStackEngine.prototype._saveInitial=function(){this.nodes.forEach(function(n){n._origX=n.x;n._origY=n.y;n._origW=n.width;n._origH=n.height;delete n._dirty;});}
GridStack.prototype.column=function(column,doNotPropagate){if(column===undefined){return this.opts.column;}
if(this.opts.column===column){return;}
var oldColumn=this.opts.column;if(column===1){this._prevColumn=oldColumn;}else{delete this._prevColumn;}
this.$el.removeClass('grid-stack-'+oldColumn);this.$el.addClass('grid-stack-'+column);this.opts.column=this.engine.column=column;if(doNotPropagate===true){return;}
var domNodes;if(this.opts.oneColumnModeDomSort&&column===1){domNodes=[];this.$el.children('.'+this.opts.itemClass).each(function(index,el){var node=$(el).data('_gridstack_node');if(node){domNodes.push(node);}});if(!domNodes.length){domNodes=undefined;}}
this.engine._updateNodeWidths(oldColumn,column,domNodes);this.engine._ignoreLayoutsNodeChange=true;this._triggerChangeEvent();delete this.engine._ignoreLayoutsNodeChange;};GridStack.prototype.float=function(val){if(val===undefined){return this.opts.float||false;}
if(this.opts.float===val){return;}
this.opts.float=this.engine.float=val||false;if(!val){this.engine._packNodes();this.engine._notify();this._triggerChangeEvent();}};GridStack.prototype.getRow=function(){return this.engine.getRow();}
GridStack.prototype.on=function(eventName,callback){if(eventName.indexOf(' ')!==-1){var names=eventName.split(' ');names.forEach(function(name){this.on(name,callback)},this);return;}
if(eventName==='change'||eventName==='added'||eventName==='removed'){this._gsEventHandler=this._gsEventHandler||{};this._gsEventHandler[eventName]=function(event){callback(event,event.detail)};this.el.addEventListener(eventName,this._gsEventHandler[eventName]);}else{this.$el.on(eventName,callback);}}
GridStack.prototype.off=function(eventName){if(eventName.indexOf(' ')!==-1){var names=eventName.split(' ');names.forEach(function(name){this.off(name,callback)},this);return;}
if(eventName==='change'||eventName==='added'||eventName==='removed'){if(this._gsEventHandler&&this._gsEventHandler[eventName]){this.el.removeEventListener(eventName,this._gsEventHandler[eventName]);delete this._gsEventHandler[eventName];}}else{this.$el.off(eventName);}}
GridStack.prototype.setGridWidth=obsolete(GridStack.prototype.column,'setGridWidth','column','v0.5.3');GridStack.prototype.setColumn=obsolete(GridStack.prototype.column,'setColumn','column','v0.6.4');GridStackEngine.prototype.getGridHeight=obsolete(GridStackEngine.prototype.getRow,'getGridHeight','getRow','v1.0.0');scope.GridStack=GridStack;scope.GridStack.Utils=Utils;scope.GridStack.Engine=GridStackEngine;scope.GridStack.DragDropPlugin=GridStackDragDropPlugin;GridStack.init=function(opts,elOrString){if(!elOrString){elOrString='.grid-stack'}
var el=$(elOrString).get(0);if(!el)return;if(!el.gridstack){el.gridstack=new GridStack(el,Utils.clone(opts));}
return el.gridstack};GridStack.initAll=function(opts,selector){if(!selector){selector='.grid-stack'}
var grids=[];$(selector).each(function(index,el){if(!el.gridstack){el.gridstack=new GridStack(el,Utils.clone(opts));}
grids.push(el.gridstack);});return grids;};return scope.GridStack;});
/* End of File include/javascript/gridstack/gridstack.js */

(function(factory){{factory(jQuery,GridStack,window);}})(function($,GridStack,scope){function JQueryUIGridStackDragDropPlugin(grid){GridStack.DragDropPlugin.call(this,grid);}
GridStack.DragDropPlugin.registerPlugin(JQueryUIGridStackDragDropPlugin);JQueryUIGridStackDragDropPlugin.prototype=Object.create(GridStack.DragDropPlugin.prototype);JQueryUIGridStackDragDropPlugin.prototype.constructor=JQueryUIGridStackDragDropPlugin;JQueryUIGridStackDragDropPlugin.prototype.resizable=function(el,opts){el=$(el);if(opts==='disable'||opts==='enable'||opts==='destroy'){el.resizable(opts);}else if(opts==='option'){var key=arguments[2];var value=arguments[3];el.resizable(opts,key,value);}else{var handles=el.data('gs-resize-handles')?el.data('gs-resize-handles'):this.grid.opts.resizable.handles;el.resizable($.extend({},this.grid.opts.resizable,{handles:handles},{start:opts.start||function(){},stop:opts.stop||function(){},resize:opts.resize||function(){}}));}
return this;};JQueryUIGridStackDragDropPlugin.prototype.draggable=function(el,opts){el=$(el);if(opts==='disable'||opts==='enable'||opts==='destroy'){el.draggable(opts);}else{el.draggable($.extend({},this.grid.opts.draggable,{containment:(this.grid.opts.isNested&&!this.grid.opts.dragOut)?this.grid.$el.parent():(this.grid.opts.draggable.containment||null),start:opts.start||function(){},stop:opts.stop||function(){},drag:opts.drag||function(){}}));}
return this;};JQueryUIGridStackDragDropPlugin.prototype.droppable=function(el,opts){el=$(el);el.droppable(opts);return this;};JQueryUIGridStackDragDropPlugin.prototype.isDroppable=function(el,opts){el=$(el);return Boolean(el.data('droppable'));};JQueryUIGridStackDragDropPlugin.prototype.on=function(el,eventName,callback){$(el).on(eventName,callback);return this;};scope.JQueryUIGridStackDragDropPlugin=JQueryUIGridStackDragDropPlugin;return JQueryUIGridStackDragDropPlugin;});
/* End of File include/javascript/gridstack/gridstack.JQueryUI.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('FocusDrawer',['view','field'],{focusIconEnabled:false,onAttach:function(component){component.off('render');component.on('render',function(){this.focusIconEnabled=this.checkFocusAvailability();if(this.view){if(this.focusIconEnabled){this.initFocusIcon();}
this.initFocusLink();this.handleRecordTitleDrag();}});},checkFocusLinkAvailability:function(){return this.$el.closest('.agent_workbench_dashboard, .console_dashboard, #side-drawer').length>0;},checkFocusAvailability:function(){var focusDrawerIsEnabled=app.utils.isTruthy(app.config.enableLinkToDrawer);var fieldIsValid=this.view&&_.isFunction(this.getFocusContextModule)&&_.isFunction(this.getFocusContextModelId)&&(!this.def||_.isUndefined(this.def.enableFocusIcon)||this.def.enableFocusIcon===true);var layoutIsValid=this._checkLayoutFocusDrawerAccess();return focusDrawerIsEnabled&&(!this.view||fieldIsValid)&&!_.isEmpty(app.sideDrawer)&&layoutIsValid&&!this.isBWCLink();},isBWCLink:function(){const link=this.$el.find('a[data-link-target="focus"]');if(link.length&&link.attr('href')){return link.attr('href').includes('#bwc/');}
return false;},enableFocusDrawer:function(){if(this.focusIconEnabled){this.initFocusIcon();}else{this.$('.sicon-focus-drawer').hide();}
this.initFocusLink();},initFocusLink:function(){let links=this.$el.find('a[data-link-target="focus"]');links.off('click.focus').on('click.focus',_.bind(this.handleRecordLink,this));},initFocusIcon:function(){var relateFieldContainer=this.$el.find('.relate-field-container');var focusIconContainer=relateFieldContainer.find('.focus-icon-container');var isContainerHidden=focusIconContainer.hasClass('hide');if(isContainerHidden&&this.value){focusIconContainer.toggleClass('hide');var focusIcon=focusIconContainer.find('.focus-icon');focusIcon.click(_.bind(this.handleFocusIcon,this));focusIcon.keyup(_.bind(this.handleKeyboardClick,this));}},handleFocusIcon:function(evt){evt.preventDefault();evt.stopPropagation();this.handleFocusClick('dashboard',$(evt.target));},handleRecordLink:function(evt){if(!this.checkFocusLinkAvailability()||this.isDragging){return;}
evt.preventDefault();evt.stopPropagation();this.handleFocusClick('record',$(evt.target));},handleRecordTitleDrag:function(){let self=this;self.isDragging=false;if(self.$el.closest('.dashlet-header')){let $draggable=self.$el.closest('.grid-stack-item.ui-draggable');if($draggable){$draggable.off('mousedown.link');$draggable.on('mousedown.link',function(e){self.isDragging=false;});$draggable.off('dragstart.link');$draggable.on('dragstart.link',function(e){self.isDragging=true;});}}},handleFocusClick:function(contentType,$el){if((contentType==='dashboard'&&this.focusIconEnabled)||contentType==='record'){var focusContext=this.getFocusContext(contentType,$el);if(!focusContext.context.module){focusContext.context.module=this.module;}
this.openFocusDrawer(focusContext,$el);}},handleKeyboardClick:function(e){if(e.type==='keyup'&&e.originalEvent.key==='Enter'){this.handleFocusClick('dashboard',e);}},getFocusContext:function(contentType,$el){if(contentType==='record'){return{layout:'record',dashboardName:this.getFocusContextTitle($el),context:{layout:'record',name:'record-drawer',contentType:contentType,module:$el.data('module'),modelId:$el.data('model-id'),dataTitle:this.getDataTitle('LBL_RECORD'),parentContext:this.context,baseModelId:this.model.get('id'),fieldDefs:_.isFunction(this.getFocusContextFieldDefs)?this.getFocusContextFieldDefs():this.fieldDefs}};}else{return{layout:'row-model-data',dashboardName:this.value,context:{layout:'focus',contentType:contentType,module:_.isFunction(this.getFocusContextModule)?this.getFocusContextModule():'',modelId:_.isFunction(this.getFocusContextModelId)?this.getFocusContextModelId():'',dataTitle:this.getDataTitle('LBL_FOCUS_DRAWER_DASHBOARD'),parentContext:this.context,fieldDefs:this.fieldDefs,baseModelId:this.model.get('id'),evtSource:$el,disableRecordSwitching:this._getDisableRecordSwitching()}};}},getDataTitle:function(term){let moduleNameSingular=app.lang.get('LBL_MODULE_NAME_SINGULAR',this.module)||this.module;let moduleMeta=app.metadata.getModule(this.module);let labelColor=(moduleMeta)?`label-module-color-${moduleMeta.color}`:`label-${this.module}`;return{module:moduleNameSingular,view:app.lang.get(term),name:this.value,labelColor:labelColor};},_getDisableRecordSwitching:function(){return this.disableFocusDrawerRecordSwitching||this.def.disableFocusDrawerRecordSwitching||false;},openFocusDrawer:function(context,$el){if(app.sideDrawer){var drawerIsOpen=app.sideDrawer.isOpen();var drawerContext=app.sideDrawer.currentContextDef;if(drawerIsOpen&&_.isEqual(context,drawerContext)){return;}
var sideDrawerClick=!!this.$el&&(this.$el.closest('#side-drawer').length>0);app.sideDrawer.open(context,null,sideDrawerClick,$el);}},_checkLayoutFocusDrawerAccess:function(){var currLayout=this.view?this.view.layout:this.layout;while(currLayout){if(currLayout.disableFocusDrawer){return false;}
currLayout=currLayout.layout;}
return true;}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/FocusDrawer.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('DashletSearchControls',['view'],{onAttach:function(component,plugin){this.on('init',function(){if(!_.isEmpty(component.sortItems)&&!_.isEmpty(component.searchFieldPlaceholder)){this._initDashletControls();this._listenForEvents();}},this);},_initDashletControls:function(){if(!this.layout||this._mode==='config'){return;}
var searchControls=app.view.createView({context:this.context,type:'dashlet-search-controls',module:this.module,primary:false,layout:this.layout,sortItems:this.sortItems,searchFieldPlaceholder:this.searchFieldPlaceholder});this.layout.addComponent(searchControls,{prepend:true});},_listenForEvents:function(){if(!this.layout||this._mode==='config'){return;}
if(_.isFunction(this.applySort)){this.listenTo(this.layout,'dashlet:controls:sort',this.applySort);}
if(_.isFunction(this.applySearch)){this.listenTo(this.layout,'dashlet:controls:search',this.applySearch);}}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/DashletSearchControls.js */

// jscs:disable
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DOMPurify=t()}(this,(function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.getPrototypeOf,o=Object.getOwnPropertyDescriptor,i=Object.freeze,a=Object.seal,l=Object.create,c="undefined"!=typeof Reflect&&Reflect,s=c.apply,u=c.construct;s||(s=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),a||(a=function(e){return e}),u||(u=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var f,m=x(Array.prototype.forEach),d=x(Array.prototype.pop),p=x(Array.prototype.push),g=x(String.prototype.toLowerCase),h=x(String.prototype.match),y=x(String.prototype.replace),v=x(String.prototype.indexOf),b=x(String.prototype.trim),T=x(RegExp.prototype.test),A=(f=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(f,t)});function x(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s(e,t,r)}}function w(e,r){t&&t(e,null);for(var o=r.length;o--;){var i=r[o];if("string"==typeof i){var a=g(i);a!==i&&(n(r)||(r[o]=a),i=a)}e[i]=!0}return e}function S(t){var n=l(null),r=void 0;for(r in t)s(e,t,[r])&&(n[r]=t[r]);return n}function k(e,t){for(;null!==e;){var n=o(e,t);if(n){if(n.get)return x(n.get);if("function"==typeof n.value)return x(n.value)}e=r(e)}return null}var R=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=i(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=i(["#text"]),M=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),F=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),I=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),z=a(/\{\{[\s\S]*|[\s\S]*\}\}/gm),H=a(/<%[\s\S]*|[\s\S]*%>/gm),U=a(/^data-[\-\w.\u00B7-\uFFFF]/),j=a(/^aria-[\-\w]+$/),P=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),B=a(/^(?:\w+script|data):/i),W=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function q(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var K=function(){return"undefined"==typeof window?null:window},V=function(e,t){if("object"!==(void 0===e?"undefined":G(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K(),n=function(t){return e(t)};if(n.version="2.2.6",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var r=t.document,o=t.document,a=t.DocumentFragment,l=t.HTMLTemplateElement,c=t.Node,s=t.Element,u=t.NodeFilter,f=t.NamedNodeMap,x=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,Y=t.Text,X=t.Comment,$=t.DOMParser,Z=t.trustedTypes,J=s.prototype,Q=k(J,"cloneNode"),ee=k(J,"nextSibling"),te=k(J,"childNodes"),ne=k(J,"parentNode");if("function"==typeof l){var re=o.createElement("template");re.content&&re.content.ownerDocument&&(o=re.content.ownerDocument)}var oe=V(Z,r),ie=oe&&ze?oe.createHTML(""):"",ae=o,le=ae.implementation,ce=ae.createNodeIterator,se=ae.getElementsByTagName,ue=ae.createDocumentFragment,fe=r.importNode,me={};try{me=S(o).documentMode?o.documentMode:{}}catch(e){}var de={};n.isSupported=le&&void 0!==le.createHTMLDocument&&9!==me;var pe=z,ge=H,he=U,ye=j,ve=B,be=W,Te=P,Ae=null,xe=w({},[].concat(q(R),q(_),q(D),q(N),q(L))),we=null,Se=w({},[].concat(q(M),q(F),q(C),q(I))),ke=null,Re=null,_e=!0,De=!0,Ee=!1,Ne=!1,Oe=!1,Le=!1,Me=!1,Fe=!1,Ce=!1,Ie=!0,ze=!1,He=!0,Ue=!0,je=!1,Pe={},Be=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),We=null,Ge=w({},["audio","video","img","source","image","track"]),qe=null,Ke=w({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ve=null,Ye=o.createElement("form"),Xe=function(e){Ve&&Ve===e||(e&&"object"===(void 0===e?"undefined":G(e))||(e={}),e=S(e),Ae="ALLOWED_TAGS"in e?w({},e.ALLOWED_TAGS):xe,we="ALLOWED_ATTR"in e?w({},e.ALLOWED_ATTR):Se,qe="ADD_URI_SAFE_ATTR"in e?w(S(Ke),e.ADD_URI_SAFE_ATTR):Ke,We="ADD_DATA_URI_TAGS"in e?w(S(Ge),e.ADD_DATA_URI_TAGS):Ge,ke="FORBID_TAGS"in e?w({},e.FORBID_TAGS):{},Re="FORBID_ATTR"in e?w({},e.FORBID_ATTR):{},Pe="USE_PROFILES"in e&&e.USE_PROFILES,_e=!1!==e.ALLOW_ARIA_ATTR,De=!1!==e.ALLOW_DATA_ATTR,Ee=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ne=e.SAFE_FOR_TEMPLATES||!1,Oe=e.WHOLE_DOCUMENT||!1,Fe=e.RETURN_DOM||!1,Ce=e.RETURN_DOM_FRAGMENT||!1,Ie=!1!==e.RETURN_DOM_IMPORT,ze=e.RETURN_TRUSTED_TYPE||!1,Me=e.FORCE_BODY||!1,He=!1!==e.SANITIZE_DOM,Ue=!1!==e.KEEP_CONTENT,je=e.IN_PLACE||!1,Te=e.ALLOWED_URI_REGEXP||Te,Ne&&(De=!1),Ce&&(Fe=!0),Pe&&(Ae=w({},[].concat(q(L))),we=[],!0===Pe.html&&(w(Ae,R),w(we,M)),!0===Pe.svg&&(w(Ae,_),w(we,F),w(we,I)),!0===Pe.svgFilters&&(w(Ae,D),w(we,F),w(we,I)),!0===Pe.mathMl&&(w(Ae,N),w(we,C),w(we,I))),e.ADD_TAGS&&(Ae===xe&&(Ae=S(Ae)),w(Ae,e.ADD_TAGS)),e.ADD_ATTR&&(we===Se&&(we=S(we)),w(we,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&w(qe,e.ADD_URI_SAFE_ATTR),Ue&&(Ae["#text"]=!0),Oe&&w(Ae,["html","head","body"]),Ae.table&&(w(Ae,["tbody"]),delete ke.tbody),i&&i(e),Ve=e)},$e=w({},["mi","mo","mn","ms","mtext"]),Ze=w({},["foreignobject","desc","title","annotation-xml"]),Je=w({},_);w(Je,D),w(Je,E);var Qe=w({},N);w(Qe,O);var et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",rt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:nt,tagName:"template"});var n=g(e.tagName),r=g(t.tagName);if(e.namespaceURI===tt)return t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===r||$e[r]):Boolean(Je[n]);if(e.namespaceURI===et)return t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&Ze[r]:Boolean(Qe[n]);if(e.namespaceURI===nt){if(t.namespaceURI===tt&&!Ze[r])return!1;if(t.namespaceURI===et&&!$e[r])return!1;var o=w({},["title","style","font","a","script"]);return!Qe[n]&&(o[n]||!Je[n])}return!1},ot=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=ie}catch(t){e.remove()}}},it=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!we[e])if(Fe||Ce)try{ot(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},at=function(e){var t=void 0,n=void 0;if(Me)e="<remove></remove>"+e;else{var r=h(e,/^[\r\n\t ]+/);n=r&&r[0]}var i=oe?oe.createHTML(e):e;try{t=(new $).parseFromString(i,"text/html")}catch(e){}if(!t||!t.documentElement){var a=(t=le.createHTMLDocument("")).body;a.parentNode.removeChild(a.parentNode.firstElementChild),a.outerHTML=i}return e&&n&&t.body.insertBefore(o.createTextNode(n),t.body.childNodes[0]||null),se.call(t,Oe?"html":"body")[0]},lt=function(e){return ce.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,(function(){return u.FILTER_ACCEPT}),!1)},ct=function(e){return!(e instanceof Y||e instanceof X)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof x&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},st=function(e){return"object"===(void 0===c?"undefined":G(c))?e instanceof c:e&&"object"===(void 0===e?"undefined":G(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ut=function(e,t,r){de[e]&&m(de[e],(function(e){e.call(n,t,r,Ve)}))},ft=function(e){var t=void 0;if(ut("beforeSanitizeElements",e,null),ct(e))return ot(e),!0;if(h(e.nodeName,/[\u0080-\uFFFF]/))return ot(e),!0;var r=g(e.nodeName);if(ut("uponSanitizeElement",e,{tagName:r,allowedTags:Ae}),!st(e.firstElementChild)&&(!st(e.content)||!st(e.content.firstElementChild))&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return ot(e),!0;if(!Ae[r]||ke[r]){if(Ue&&!Be[r])for(var o=ne(e),i=te(e),a=i.length-1;a>=0;--a)o.insertBefore(Q(i[a],!0),ee(e));return ot(e),!0}return e instanceof s&&!rt(e)?(ot(e),!0):"noscript"!==r&&"noembed"!==r||!T(/<\/no(script|embed)/i,e.innerHTML)?(Ne&&3===e.nodeType&&(t=e.textContent,t=y(t,pe," "),t=y(t,ge," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),ut("afterSanitizeElements",e,null),!1):(ot(e),!0)},mt=function(e,t,n){if(He&&("id"===t||"name"===t)&&(n in o||n in Ye))return!1;if(De&&T(he,t));else if(_e&&T(ye,t));else{if(!we[t]||Re[t])return!1;if(qe[t]);else if(T(Te,y(n,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==v(n,"data:")||!We[e]){if(Ee&&!T(ve,y(n,be,"")));else if(n)return!1}else;}return!0},dt=function(e){var t=void 0,r=void 0,o=void 0,i=void 0;ut("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we};for(i=a.length;i--;){var c=t=a[i],s=c.name,u=c.namespaceURI;if(r=b(t.value),o=g(s),l.attrName=o,l.attrValue=r,l.keepAttr=!0,l.forceKeepAttr=void 0,ut("uponSanitizeAttribute",e,l),r=l.attrValue,!l.forceKeepAttr&&(it(s,e),l.keepAttr))if(T(/\/>/i,r))it(s,e);else{Ne&&(r=y(r,pe," "),r=y(r,ge," "));var f=e.nodeName.toLowerCase();if(mt(f,o,r))try{u?e.setAttributeNS(u,s,r):e.setAttribute(s,r),d(n.removed)}catch(e){}}}ut("afterSanitizeAttributes",e,null)}},pt=function e(t){var n=void 0,r=lt(t);for(ut("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ut("uponSanitizeShadowNode",n,null),ft(n)||(n.content instanceof a&&e(n.content),dt(n));ut("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,o){var i=void 0,l=void 0,s=void 0,u=void 0,f=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!st(e)){if("function"!=typeof e.toString)throw A("toString is not a function");if("string"!=typeof(e=e.toString()))throw A("dirty is not a string, aborting")}if(!n.isSupported){if("object"===G(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(st(e))return t.toStaticHTML(e.outerHTML)}return e}if(Le||Xe(o),n.removed=[],"string"==typeof e&&(je=!1),je);else if(e instanceof c)1===(l=(i=at("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?i=l:i.appendChild(l);else{if(!Fe&&!Ne&&!Oe&&-1===e.indexOf("<"))return oe&&ze?oe.createHTML(e):e;if(!(i=at(e)))return Fe?null:ie}i&&Me&&ot(i.firstChild);for(var m=lt(je?e:i);s=m.nextNode();)3===s.nodeType&&s===u||ft(s)||(s.content instanceof a&&pt(s.content),dt(s),u=s);if(u=null,je)return e;if(Fe){if(Ce)for(f=ue.call(i.ownerDocument);i.firstChild;)f.appendChild(i.firstChild);else f=i;return Ie&&(f=fe.call(r,f,!0)),f}var d=Oe?i.outerHTML:i.innerHTML;return Ne&&(d=y(d,pe," "),d=y(d,ge," ")),oe&&ze?oe.createHTML(d):d},n.setConfig=function(e){Xe(e),Le=!0},n.clearConfig=function(){Ve=null,Le=!1},n.isValidAttribute=function(e,t,n){Ve||Xe({});var r=g(e),o=g(t);return mt(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(de[e]=de[e]||[],p(de[e],t))},n.removeHook=function(e){de[e]&&d(de[e])},n.removeHooks=function(e){de[e]&&(de[e]=[])},n.removeAllHooks=function(){de={}},n}()}));

/* End of File include/javascript/dom-purify/purify.min.js */

(function(app){function parseUserAgentForBrowserEngine(){var engine=null;var userAgent=navigator.userAgent;var geckoRegExp=new RegExp('Gecko','i');var likeGeckoRegExp=new RegExp('like Gecko','i');var blinkRegExp=new RegExp('Chrome','i');var webkitRegExp=new RegExp('AppleWebKit','i');var ieRegExp=new RegExp('Trident','i');if(geckoRegExp.test(userAgent)&&!likeGeckoRegExp.test(userAgent)){engine='gecko';}else if(blinkRegExp.test(userAgent)){engine='blink';}else if(webkitRegExp.test(userAgent)){engine='webkit';}else if(ieRegExp.test(userAgent)){engine='trident';}
return engine;};app.augment('userAgent',{browserEngine:parseUserAgentForBrowserEngine(),});})(SUGAR.App);
/* End of File include/javascript/sugar7/userAgent.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Previewable',['view'],{onAttach:function(component,plugin){this.on('data:preview',_.bind(function(data){var hasChanges=this.handleDataPreview(data);if(this.dataPreviewCallbacks&&_.isFunction(this.dataPreviewCallbacks)){this.dataPreviewCallbacks(hasChanges,data);}},this));},handleDataPreview:function(data){var hasChanges=this.setFieldsPreviewMeta(data)||this.setPropertiesPreviewData(data);if(hasChanges){this.render();}
return hasChanges;},setFieldsPreviewMeta:function(data){var hasChanges=false;if(!data.fields||_.isEmpty(data.fields)){return hasChanges;}
_.each(data.fields,function(fieldName){var field=this.getField(fieldName);if(!field){return;}
var result=false;var fieldType=field.type;switch(fieldType){case'button':result=this.setButtonPreviewMeta(fieldName,{label:data.preview_data});break;default:}
hasChanges=hasChanges||result;},this);return hasChanges;},setButtonPreviewMeta:function(fieldName,metadata){var buttonIndex=_.findIndex(this.meta.buttons,function(button){return button.name===fieldName;},this);if(buttonIndex===-1||_.isEmpty(metadata)){return false;}
this.meta.buttons[buttonIndex]=_.extend(this.meta.buttons[buttonIndex],metadata);return true;},setPropertiesPreviewData:function(data){var hasChanges=false;if(!data.properties||_.isEmpty(data.properties)){return hasChanges;}
_.each(data.properties,function(property){if(!Object.prototype.hasOwnProperty.call(this,property)){return;}
this[property]=data.preview_data;hasChanges=true;},this);return hasChanges;},onDetach:function(component,plugin){this.off('data:preview',this.handleDataPreview,this);}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Previewable.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('Attachments',['field'],{uploadFile:function($inputFile,fileFieldName,ajaxOptions){var file=app.data.createBean('Notes');file.uploadFile(fileFieldName,$inputFile,{success:_.bind(function(data){if(this.disposed){return;}
if(this._handleFileUploadSuccess&&_.isFunction(this._handleFileUploadSuccess)){this._handleFileUploadSuccess(data);}},this),complete:_.bind(function(data){if(this._handleFileUploadComplete&&_.isFunction(this._handleFileUploadComplete)){this._handleFileUploadComplete(data);}},this),error:_.bind(function(data){if(this._handleFileUploadError&&_.isFunction(this._handleFileUploadError)){this._handleFileUploadError(data);}},this)},ajaxOptions);return file;},addUploadedFileToCollection:function(collection,file){if(!collection||!collection instanceof app.BeanCollection){return;}
if(!file||!file instanceof app.Bean){return;}
collection.add(file,{merge:true});},getUploadedFileBean:function(data,attributes){var attrs=!_.isEmpty(attributes)?attributes:this.getUploadedFileBeanDefaultAttributes(data);return app.data.createBean('Notes',attrs);},getUploadedFileBeanDefaultAttributes:function(data){if(!data.record||!data.record.id){return{};}
return{_link:'attachments',name:data.record.name||data.record.filename,filename_guid:data.record.id,filename:data.record.filename||data.record.name,file_mime_type:data.record.file_mime_type,file_size:data.record.file_size,file_ext:data.record.file_ext,portal_flag:data.record.portal_flag};}});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/Attachments.js */

(function(app){app.augment('CJBaseHelper',{_config:{},_CJDefaultDisplay:'panel_bottom',getConfig:function(){return this._config;},setConfig:function(config){this._config=this._config||{};this._config=_.extend(this._config,config);},isTrue:function(value){return value===1||value==='1'||value===true||value==='true';},getValueFromCache:function(name,lastStateId,module,lastStateIdModule){let key=app.user.lastState.buildKey(name,lastStateId,lastStateIdModule);let defaultCacheValue=app.user.lastState.defaults(key);let cacheKey=app.user.lastState.buildKey(name,lastStateId,module);let cacheValue=app.user.lastState.get(cacheKey);if(!defaultCacheValue&&!cacheValue){cacheValue=lastStateId==='cj_active_or_archive_filter'?'active':'V';}
return cacheValue||defaultCacheValue;},showHidePanel:function(label,hideOrShow){let panel=$(`div[data-panelname="${label}"]`);(!!hideOrShow)?panel.show():panel.hide();},getCJEnabledModules:function(){if(_.isEmpty(app.config.customer_journey)){return[];}
let enabledModules=app.config.customer_journey.enabled_modules||'';enabledModules=enabledModules.split(',');if(_.isEmpty(enabledModules)||!_.isArray(enabledModules)){return[];}
return enabledModules.filter(function(val){return String(val).trim();});},getCJRecordViewSettings:function(module='',all=false){if((_.isEmpty(module)&&!all)||_.isEmpty(app.config.customer_journey)||!app.config.customer_journey.enabled_modules.split(',').includes(module)){return'';}
let cjRecordViewDisplaySettings=app.config.customer_journey.recordview_display_settings||[];if(all){return cjRecordViewDisplaySettings;}
return cjRecordViewDisplaySettings[module]||this._CJDefaultDisplay;},invalidLicenseError:function(alertName='invalid_license',message){app.alert.show(alertName,{level:'error',messages:!_.isUndefined(message)?message:app.lang.get('LBL_CUSTOMER_JOURNEY_LICENSE_LOAD_ERROR'),autoClose:true,});},fetchActiveSmartGuideCount:function(context,layout,module,record,saveRecordCallback){const cjEnabledModules=this.getCJEnabledModules();if(_.isEmpty(cjEnabledModules)||!_.contains(cjEnabledModules,module)){saveRecordCallback();return;}
const url=app.api.buildURL(module,'activeSmartGuidesCount',{id:record,});app.api.call('read',url,null,{success:_.bind(function(count){let cjFormBatch;if(count>0){cjFormBatch=app.view.createView({context:context,type:'cj-forms-batch',module:module,layout:layout});cjFormBatch.startRecordSaving();}
saveRecordCallback(cjFormBatch);},this),error:_.bind(function(){saveRecordCallback();},this),});},getBatchChunk:function(){return+app.config.customer_journey.sugar_action_batch_chunk||1;},},true);})(SUGAR.App);
/* End of File include/javascript/customer-journey/CJBaseHelper.js */

(function(app){app.augment('CJFieldHelper',{_hideField:function(field,callback){if(!field){return;}
field.def=field.def||{};field.def.readonly=true;field._hide();this._hideFieldLabel(field);if(_.isFunction(callback)){callback();}},_hideFieldLabel:function(field){if(!field){return;}
let firstParent=field.$el.parents(`div[data-name="${field.name}"]`).eq(0);if(firstParent.length>=1){firstParent.find('.record-label').removeClass('ellipsis_inline').addClass('hide').hide();}},_showFieldLabel:function(field){if(!field){return;}
let firstParent=field.$el.parents(`div[data-name="${field.name}"]`).eq(0);if(firstParent.length>=1){firstParent.find('.record-label').removeClass('hide').addClass('ellipsis_inline').show();}},_showField:function(field){if(!field){return;}
field.def=field.def||{};field.def.readonly=false;field._show();let action='detail';if(field.view&&(field.view.createMode||_.isEqual(field.view.currentState,'create')||_.isEqual(field.view.currentState,'edit'))){action='edit';}
field.setMode(action);this._showFieldLabel(field);},_enableOrDisableField:function(field,enableOrDisable){if(field){field.readonly=enableOrDisable;field.setDisabled(enableOrDisable);}},},true);})(SUGAR.App);
/* End of File include/javascript/customer-journey/CJFieldHelper.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CJAsPanelOrTab',['view'],{_CJ:null,_CJTabName:'customer_journey_tab',_loadedConfig:false,onAttach:function(component,plugin){this.on('init',function(){if(app.user.hasAutomateLicense()){this._loadCJLayout();}});},_isRecordViewHasTabEnabled:function(){if(!(this.meta&&this.meta.panels)||!(this.options&&this.options.meta&&this.options.meta.panels)){return false;}
let secondPanelIndex='1';let panels=this.options.meta.panels;if((_.first(panels)&&_.first(panels).newTab&&!_.first(panels).header)||(panels[secondPanelIndex]&&panels[secondPanelIndex].newTab)){return true;}
return false;},_isPanelMetaExists:function(){if(!_.isEmpty(this)&&!_.isEmpty(this.options)&&!_.isEmpty(this.options.meta)&&!_.isEmpty(this.options.meta.panels)){return true;}},_getCurrentModule:function(){return this.model.module||this.model._module||(_.isFunction(this.model.get)&&(this.model.get('module')||this.model.get('_module')))||this.module;},_preRequisite:function(module){let enabledModules=app.CJBaseHelper.getCJEnabledModules();if(!_.contains(enabledModules,module)){app.logger.debug(app.utils.formatString(app.lang.get('LBL_CUSTOMER_JOURNEY_MODULE_NOT_ENABLED'),{'module':module}));return false;}
return true;},_loadCJLayout:function(){if(!_.isEmpty(this.type)&&_.isEqual(this.type,'cj-as-a-dashlet')){return;}
let module=this._getCurrentModule();if(!this._preRequisite(module)){return;}
this.displaySetting=app.CJBaseHelper.getCJRecordViewSettings(module);let tabEnabled=this._isRecordViewHasTabEnabled();if((!tabEnabled&&this.displaySetting.includes('tab'))||(tabEnabled&&_.isEqual(this.displaySetting,'panel_top'))){this.displaySetting='panel_bottom';}
if(this.displaySetting.includes('tab')){let isModelSynced=this._isModelSynced();if(isModelSynced){this.render();this._loadCjAsTab();}else{this.listenTo(this.model,'sync',this._loadCjAsTab);}}else{if(this._isModelSynced()){this._loadCjAsPanel();}else{this.listenTo(this.model,'sync',this._loadCjAsPanel);}}},_loadCjAsDashlet:function(){if(this.disposed){return;}
let module=this._getCurrentModule();if(!app.user.hasAutomateLicense()||!this._preRequisite(module)){this.dashletError=true;return;}
let context=this._prepareContextForCJTab();this._CJ=app.view.createLayout({module:module,context:context,name:'dri-workflows',type:'dri-workflows',});this._CJ.showHeaderRow=false;this._CJ.initComponents(undefined,context,module);this._CJ.loadData();if(!_.isEmpty(this._CJ)){let element=this.$('div[data-id*="customer-journey-as-a-dashlet"]');if(element||element.length>0){element.append(this._CJ.el);this._CJ.context.set('moreLess','more');this._CJ.render();}}},_isModelSynced:function(){return!!(this.model&&this.model.dataFetched&&!this.model.inSync);},_isCJPanelMetaExists:function(){let isExists=false;if(this._isPanelMetaExists()){_.each(this.options.meta.panels,function panelEach(panel){if(!_.isEmpty(panel.name)&&_.isEqual(panel.name,this._CJTabName)){isExists=true;return;}},this);}
return isExists;},_isCJPanelMetaExistsInExtraInfoLayout:function(components){let isExists=false;if(_.isEmpty(components)){return isExists;}
_.each(components,function(comp){if(!_.isEmpty(comp)&&!_.isEmpty(comp.layout)&&_.isEqual(comp.layout,'dri-workflows')){isExists=true;return;}},this);return isExists;},_loadCjAsPanel:function(){if(this.disposed||(this.context&&this.context.get('reloadSingleJourney'))){return;}
if(_.isEqual(this.displaySetting,'panel_bottom')){this._loadCjAsPanelBottom();}else if(_.isEqual(this.displaySetting,'panel_top')){this._loadCjAsPanelTop();}},_loadCjAsPanelBottom:function(){let layout=this._getLayout();let extraInfo=false;if(layout&&layout.meta&&layout.meta.components){extraInfo=layout.getComponent('extra-info');_.each(layout.meta.components,function(component,index){let name=!_.isEmpty(component.layout)?component.layout:'';if(!_.isEmpty(component.layout)&&!_.isEmpty(component.layout.type)){name=component.layout.type;}
if(_.isEqual(name,'extra-info')){if(_.isEmpty(component.layout.components)){component.layout={type:'extra-info',components:[],};}
if(!this._isCJPanelMetaExistsInExtraInfoLayout(component.layout.components)){component.layout.components.push(this._getCJPanelLayoutMeta());this._addPanelMetaInExtraInfoLayout(extraInfo,layout);}}},this);}
if(extraInfo){extraInfo.render();}},_loadCjAsPanelTop:function(){this.render();this._loadCJP();this._appendCJEleInView();this._removePanelHeaderDiv();},_addPanelMetaInExtraInfoLayout:function(extraInfo,layout){if(extraInfo){extraInfo.meta.components=extraInfo.meta.components||[];extraInfo.meta.components.push(this._getCJPanelLayoutMeta());_.each(extraInfo.meta.components,function addCJPanelInExtraInfo(comp){if(!_.isEmpty(comp.layout)&&_.isEqual(comp.layout,'dri-workflows')){extraInfo.initComponents([comp],layout.context,this._getCurrentModule());}},this);}},_getCJPanelLayoutMeta:function(){return{layout:'dri-workflows',label:'LBL_DRI_WORKFLOWS',context:{link:'dri_workflows',activeArchivedTrigger:true,},};},_getLayout:function(){let layout={};if(!_.isEmpty(this.layout)){layout=this.layout;}else if(!_.isEmpty(this.options)&&!_.isEmpty(this.options.layout)){layout=this.options.layout;}
return layout;},_loadCJP:function(){if(this.disposed||_.isEmpty(this)||_.isEmpty(this.model)||_.isEmpty(this.context)||!_.isEmpty(this._CJ)){return;}
let context=this._prepareContextForCJTab();let module=this._getCurrentModule();this._CJ=app.view.createLayout({module:module,context:context,name:'dri-workflows',type:'dri-workflows',});this._CJ.initComponents(undefined,context,module);this._CJ.loadData();this.listenTo(this._CJ.collection,'add remove sync',this._CJ.renderHeaderPanelData);},_appendCJEleInView:function(){if(!_.isEmpty(this._CJ)&&!_.isEmpty(this.$el)){let element=this._getCJEleInView();if(element||element.length>0){element.append(this._CJ.el);this._CJ.context.set('moreLess','more');this._CJ.render();}}},_getCJEleInView:function(){if(!this.displaySetting){return;}
let element=null;if(this.displaySetting.includes('tab')){element=this.$(`div[id*='${this._CJTabName}']`);}else if(this.displaySetting.includes('panel')){element=this.$(`div[data-panelname*='${this._CJTabName}']`).find('.record-panel-content');}
return element;},_removePanelHeaderDiv:function(){let element=this._getCJEleInView();if(element||element.length>0){let panelHeader=element.parent().find('.row-fluid.record-panel-header');if(element||element.length>0){panelHeader.remove();}}},_loadCjAsTab:function(){if(this.disposed||(this.context&&this.context.get('reloadSingleJourney'))){return;}
this._loadCJP();this._appendCJEleInView();this._setTabContentOverflow();},_setTabContentOverflow:function(){this.$('.tab-content').addClass('overflow-visible');},_prepareContextForCJTab:function(){if(_.isEmpty(this.model)){return;}
let context=this.context.getChildContext({module:'DRI_Workflows',model:app.data.createRelatedBean(this.model,app.data.createBean('DRI_Workflows'),'dri_workflows'),forceNew:true,link:'dri_workflows',});context.set('collection',app.data.createRelatedCollection(this.model,'dri_workflows'));context.set('moreLess','more');context.set('activeArchivedTrigger',true);context.set('cjAsTab',true);return context;},disposePlugin:function(){if(!_.isEmpty(this._CJ)){this._CJ.dispose();}
this._CJ=null;this._CJTabName=null;},onDetach:function(){this.disposePlugin();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/customer-journey/CJAsPanelOrTab.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CJEvents',['view','field'],{workflowInfoClicked:function(){if(this.isCJRenderedAsTab()){return;}
if(this.actionBtnClicked){this.actionBtnClicked=false;return;}
let moreLess=this.hidePanel?this.MORE_LESS_STATUS.MORE:this.MORE_LESS_STATUS.LESS;this.addRemoveClasses(moreLess);},addRemoveClasses:function(moreLess){let element=this.$el.find(`[data-id='${this.model.get('id')}']`);let workflowInfo=element.find('.dri-workflow-info');let workflowCard=element.find('.dri-workflow-card');if(moreLess===this.MORE_LESS_STATUS.MORE){workflowInfo.removeClass('dri-workflow-wrapper-closed');workflowCard.removeClass('dri-workflow-wrapper-closed');this.$el.addClass('open-border');}else{workflowInfo.addClass('dri-workflow-wrapper-closed');workflowCard.addClass('dri-workflow-wrapper-closed');this.$el.removeClass('open-border');}
this.toggleMoreLess(moreLess);},actionButtonsClicked:function(){this.actionBtnClicked=true;},actionButtonsClicked:function(){this.actionBtnClicked=true;},blockedActivityClicked:function(ev){var $el=$(ev.currentTarget);if($el.hasClass('cj_blocked')){var id=$el.data('id');var model=this.activities[id];_.each(model.get('blocked_by'),function(blockedById){if(id!==blockedById&&this.activities[blockedById]){var blockedBy=this.activities[blockedById];var $blockedBy=this.$(`.dri-subworkflow-activity[data-id='${ blockedById }']`);$blockedBy.effect('highlight',{color:'#e61718'});if(!_.isEmpty(blockedBy.get(this.parentActivityId))){this.showActivityChildren(blockedBy.get(this.parentActivityId));}}},this);}},blockedByStageActivityClicked:function(ev){var $el=$(ev.currentTarget);if($el.hasClass('cj_blocked_by_stage')){var id=$el.data('id');var model=this.activities[id];_.each(model.get('blocked_by_stages'),function(blockedByStageId){if(model.dri_subworkflow_template_id!==blockedByStageId&&this.stages[blockedByStageId]){var blockedByStage=this.stages[blockedByStageId];var $blockedByStage=this.$(`.dri-subworkflow[data-id='${ blockedByStageId }']`);$blockedByStage.effect('highlight',{color:'#e61718'});}},this);}},activeCycleClicked:function(){var parentModel=this.context.parent&&this.context.parent.get('parentModel');parentModel&&parentModel.trigger('customer_journey:active-cycle:click',this.model.id);},previewActivityClicked:function(ev){var id=$(ev.currentTarget).data('id');var activity=this.activities[id];this.previewModel(activity);},disposeComponents:function(layout=null,disposedComponents=[]){if(_.isEmpty(layout)||_.isEmpty(disposedComponents)){return;}
_.each(disposedComponents,function(compName,key){var comp=layout.getComponent(compName);if(comp){comp.dispose();}});},deleteModelClick:function(model){let labelName=`${model.get('name')} activity`;labelName+=_.isEqual(model.module,'DRI_Workflow_Task_Templates')?' template':'';app.alert.show('delete_activity',{level:'confirmation',messages:app.lang.get('NTC_DELETE_CONFIRMATION',model.module),onConfirm:_.bind(function(){this.disablingJourneyAndStartLoading();model.destroy({success:_.bind(function(){this.reloadData();app.alert.show('success',{level:'success',autoClose:true,messages:app.lang.get('LBL_DELETE_SUCCESS_MESSAGE','DRI_Workflows',{labelName:labelName})});},this),error:_.bind(function(result){this.reloadData();app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this),});},this)});},editStageClick:function(stage){var context=this.getStageContextById(stage.get('id'));stage.fetch({success:_.bind(function(){context.set('create',true);context.get('model').link=null;app.drawer.open({module:stage.module,layout:'create',context:context},_.bind(function(context,model){if(model){this.reloadData();}else{stage.revertAttributes();}},this));},this),});},editActivityClick:function(activity){var stageContext=this.getStageContextById(activity.get(this.activityStageId));activity.fetch({success:_.bind(function(){var context=stageContext.getChildContext({module:activity.module,model:activity,forceNew:true,create:true});app.drawer.open({module:activity.module,layout:'create',context:context},_.bind(function(context,model){if(model){this.reloadData();}else{activity.revertAttributes();}},this));},this),});},isStatusReadOnly:function(activity){if(!_.isUndefined(activity)&&!_.isUndefined(activity.get('is_status_readonly'))){if(app.utils.isTruthy(activity.get('is_status_readonly'))){return true;}}
return false;},startActivityClick:function(activity){if(!this.isStatusReadOnly(activity)){app.alert.show('processing_start_activity_click',{level:'process',title:app.lang.get('LBL_PROCESSING_REQUEST'),});this.handleForms(activity,'in_progress',_.bind(function(){this.startActivity(activity);app.alert.dismiss('processing_start_activity_click');},this));this.enablingJourneyAndDoneLoading();}else{this.showReadOnlyErrorMessage('error','LBL_ACTIVITY_STATUS_READ_ONLY');}},startActivity:function(activity){var url='';if(activity.module==='Tasks'||activity.module==='Calls'){this.disablingJourneyAndStartLoading();[url,data]=this.buildUrlActivityStatusUpdateApi(activity,'In Progress');this.callActivityStatusUpdateApi(url,activity,data);}},showProcessingAlert:function(name,message){app.alert.show(name||'process_complete_activity',{level:'process',title:message||app.lang.get('LBL_CJ_PROCESSING_REQUEST'),autoClose:false,});},getCompleteStatusList:function(){return _.extend(app.lang.getAppListStrings('cj_calls_completed_status_list'),app.lang.getAppListStrings('cj_tasks_completed_status_list'));},getNotCompletedChildrenCount:function(activity){const children=activity.get('children');if(_.isUndefined(children)){return 0;}
let count=0;const statusList=this.getCompleteStatusList();_.each(children,function(childActivity){if(!statusList[childActivity.status]){count++;}});return count;},completeActivityClickConfirm:function(activityID){let activity=this.activities[activityID];if(!_.isUndefined(activity)){if(!this.isStatusReadOnly(activity)){const count=this.validateChildren(activity);if(count<1){this.readOnlyChildActivity=false;this.isActivityChangeNotAllowed=false;this.showProcessingAlert();this.disablingJourneyAndStartLoading();const statusList=this.getCompleteStatusList();if(activity.get('is_cj_parent_activity')){this.completingParentActivity=activity;}
_.each(activity.get('children'),(childActivity)=>{const childModel=this.activities[childActivity.id];const status=childModel.get('status');this.childActivitiesCount=0;if(!statusList[status]){this.handleFormsForActivities(childModel,activity);}},this);}else{this.blockByWarnings(this.activities[activity.id],count);}}else{this.showReadOnlyErrorMessage('error','LBL_CHILD_ACTIVITY_STATUS_READ_ONLY');}}},completeActivityClick:function(activity,isClicked=false){if(this.isParent(activity)){app.alert.show('success',{level:'confirmation',messages:app.lang.get('LBL_CJ_COMPLETE_ALL_TASKS_CONFIRMATION',this.model.module),onConfirm:_.bind(this.completeActivityClickConfirm,this,activity.id)});}else{if(!this.isStatusReadOnly(activity)){if(isClicked){this.showProcessingAlert();this.disablingJourneyAndStartLoading();}
this.handleFormsForActivities(activity);}else{this.showReadOnlyErrorMessage('error','LBL_ACTIVITY_STATUS_READ_ONLY');}}},validateChildren:function(activity){let count=0;_.each(activity.get('children'),(childActivity)=>{if(!_.isEmpty(childActivity.blocked_by)||!_.isEmpty(childActivity.blocked_by_stages)){count++;}});return count;},blockByWarnings:function(activity,count){if(count===1){app.alert.show('bloack_by_children',{level:'warning',messages:app.lang.get('LBL_CJ_BLOCK_BY',this.model.module,{Name:this.getBlockedByActivityName(activity)})});}else{app.alert.show('bloack_by_multiple_children',{level:'warning',messages:app.lang.get('LBL_CJ_MULTIPLE_BLOCK_BY'),});}},getBlockedByActivityName:function(activity){let childActivityName='';_.each(activity.get('children'),(childActivity)=>{if(!_.isEmpty(childActivity.blocked_by)||!_.isEmpty(childActivity.blocked_by_stages)){childActivityName=childActivity.name;}});return childActivityName;},handleFormsForActivities:function(activity,parent){this.handleForms(activity,'completed',_.bind(this.completeActivity,this,activity,parent));},completeActivity:function(activity,parent){if(this.completingActivity){if(this.completingActivity!==activity&&_.indexOf(this.completeQueue,activity)===-1){this.completeQueue.push(activity);}
return;}
this.completingActivity=activity;let preStatus=activity.get('status');let updatedStatus='';switch(activity.module){case'Tasks':updatedStatus='Completed';break;case'Meetings':case'Calls':updatedStatus='Held';break;default:return;}
let fields={status:activity.fields.status,};[url,data]=this.buildUrlActivityStatusUpdateApi(activity,updatedStatus,parent);activity.doValidate(fields,_.bind(function(isValid){if(isValid){app.api.call('create',url,data,null,{success:_.bind(function(response){if(!response.isValid){app.alert.dismiss('process_complete_activity');this.alertForRequiredFieldDependency(response);this.enablingJourneyAndDoneLoading();}else if(!_.isUndefined(response.isValidParent)&&response.isValidParent===false&&!_.isUndefined(this.completeQueue)){this.completeQueue=[];app.alert.dismiss('process_complete_activity');this.showNotAllowedErrorMessage();this.enablingJourneyAndDoneLoading();}else if(!_.isUndefined(response.isActivityChangeNotAllowed)&&response.isActivityChangeNotAllowed===true&&!_.isUndefined(this.completeQueue)){this.isActivityChangeNotAllowed=true;this.completeActivitySuccess(activity,response.data);}else{if(!_.isUndefined(response.isChildReadOnly)&&response.isChildReadOnly===true){this.readOnlyChildActivity=true;}
this.completeActivitySuccess(activity,response.data);}},this),error:_.bind(this.completeActivityError,this),complete:_.bind(function(){this.completingActivity=false;if(!this.disposed){this.render();}
app.alert.dismiss('process_complete_activity');},this),});}else{this.completingActivity=false;activity.set('status',preStatus);app.alert.dismiss('process_complete_activity');app.alert.show('error',{level:'error',messages:'Validation failed',autoClose:true,});}},this));},completeActivitySuccess:function(activity,data){this.completingActivity=false;--this.childActivitiesCount;if(!_.isEmpty(this.completeQueue)){this.completeActivityClick(this.completeQueue.shift());}else{app.alert.dismiss('process_complete_activity');if(!_.isUndefined(this.completingParentActivity)&&this.completingParentActivity!=null&&activity.get('cj_parent_activity_id')===this.completingParentActivity.get('id')){if(!_.isUndefined(this.readOnlyChildActivity)&&this.readOnlyChildActivity===true){this.showReadOnlyErrorMessage('error','LBL_CHILD_ACTIVITY_STATUS_READ_ONLY');this.readOnlyChildActivity=false;}if(!_.isUndefined(this.isActivityChangeNotAllowed)&&this.isActivityChangeNotAllowed===true){this.showNotAllowedErrorMessage();this.isActivityChangeNotAllowed=false;}else{app.alert.show('success_complete_activity',{level:'success',messages:app.lang.get('LBL_CJ_SUCCESS'),autoClose:true,});}}else if(!_.isUndefined(this.isActivityChangeNotAllowed)&&this.isActivityChangeNotAllowed===true){this.showNotAllowedErrorMessage();this.isActivityChangeNotAllowed=false;}
this.completingParentActivity=null;this.reloadData(data);}
this.handleFormsForStage(activity,activity.get('dri_subworkflow_id'));},completeActivityError:function(result){this.completingActivity=false;this.reloadData();app.alert.dismiss('process_complete_activity');app.alert.show('error',{level:'error',messages:result.message,autoClose:true,});},assignMeActivityClick:function(activity){this.disablingJourneyAndStartLoading();activity.set('assigned_user_id',app.user.id);activity.save(null,{success:_.bind(this.reloadData,this),error:_.bind(function(result){this.reloadData();app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this),});},notApplicableActivityClick:function(activity){if(!this.isStatusReadOnly(activity)){this.handleForms(activity,'not_applicable',_.bind(this.notApplicableActivity,this,activity));}else{this.showReadOnlyErrorMessage('error','LBL_CHILD_ACTIVITY_STATUS_READ_ONLY');}},notApplicableActivity:function(activity){if(!_.isEmpty(activity.get('cj_parent_activity_id'))){if(!this.isStatusReadOnly(activity)){this.disablingJourneyAndStartLoading();let updatedStatus='';switch(activity.module){case'Tasks':updatedStatus='Not Applicable';break;case'Calls':updatedStatus='Not Held';break;case'Meetings':updatedStatus='Not Held';break;}
const[url,data]=this.buildUrlActivityStatusUpdateApi(activity,updatedStatus);this.callActivityStatusUpdateApi(url,activity,data);}else{this.showReadOnlyErrorMessage('error','LBL_ACTIVITY_STATUS_READ_ONLY');}}else{this.disablingJourneyAndStartLoading();this.childrenActivitiesNotApplicable(activity);}},childrenActivitiesNotApplicable:function(activity){let url=app.api.buildURL('DRI_Workflows','not-applicable',null);let apiData={module:this.model.module,record:this.model.get('id'),activity_id:activity.id,activity_module:activity.module,activities:this.getActivitiesInfo(activity.get('children'),activity),fieldsToValidate:this.getFieldsToValidate()};app.api.call('create',url,apiData,null,{success:_.bind(function(response){if(!response.isValid){this.alertForRequiredFieldDependency(response);return;}
if((!_.isUndefined(response.isValidParent)&&response.isValidParent===false)||(!_.isUndefined(response.isActivityChangeNotAllowed)&&response.isActivityChangeNotAllowed===true)){this.showNotAllowedErrorMessage();}
if(!_.isUndefined(response.isChildReadOnly)&&response.isChildReadOnly===true){this.showReadOnlyErrorMessage('error','LBL_CHILD_ACTIVITY_STATUS_READ_ONLY');}
if(!_.isUndefined(response.isSelfReadOnly)&&response.isSelfReadOnly===true){this.showReadOnlyErrorMessage('error','LBL_ACTIVITY_STATUS_READ_ONLY');}
this.reloadData(response.data);this.handleFormsForStage(activity,activity.get('dri_subworkflow_id'));},this),error:_.bind(function(result){this.reloadData();app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this)});},previewModel:function(activity){app.events.trigger('preview:render',activity,app.data.createBeanCollection(activity.module,[activity]),true);},addTask:function(stage){this.addActivity(stage,'Tasks');},addMeeting:function(stage){this.addActivity(stage,'Meetings');},addCall:function(stage){this.addActivity(stage,'Calls');},addSubTask:function(activity){this.addSubActivity(activity,'Tasks');},addSubMeeting:function(activity){this.addSubActivity(activity,'Meetings');},addSubCall:function(activity){this.addSubActivity(activity,'Calls');},linkExistingTask:function(stage){this.linkExistingActivity(stage,'Tasks');},linkExistingMeeting:function(stage){this.linkExistingActivity(stage,'Meetings');},linkExistingCall:function(stage){this.linkExistingActivity(stage,'Calls');},_getFieldsForDuplicateButton:function(fieldsInfo){var fields=[];_.each(fieldsInfo,function(field){if(field.type!=='link'){fields=fields.concat(field.name);}},this);return _.uniq(fields);},duplicateButton:function(activity,buttonDef={}){let currentActivityModule=activity.get('module')||activity.get('_module')||activity.module||activity._module;if(!_.isEmpty(activity.get('id'))&&!_.isEmpty(currentActivityModule)){app.alert.show('loading_duplicate',{level:'process',});let reFetchActivity=app.data.createBean(currentActivityModule,{id:activity.get('id')});let fieldsForReFecth=this._getFieldsForDuplicateButton(reFetchActivity.fields);reFetchActivity.setOption('fields',fieldsForReFecth);reFetchActivity.fetch({success:_.bind(this.reFetchActivitySuccess,this,activity,buttonDef,reFetchActivity),});}},reFetchActivitySuccess:function(activity,buttonDef,reFetchActivity){let currentModel=activity;let prefill=app.data.createBean(activity.module);prefill.copy(reFetchActivity);currentModel.trigger('duplicate:before',prefill);prefill.unset('id');prefill.unset('is_escalated');let order='';if(!_.isEmpty(buttonDef)&&buttonDef.def.childCopy){order=`${ reFetchActivity.get(this.activitySortOrder) } .`;let stage=this.stages[reFetchActivity.get(this.activityStageId)];let activity=stage.activities[reFetchActivity.id];let children=stage&&activity?activity.children:{};let last=_.last(_.values(children));if(last){order=`${ reFetchActivity.get(this.activitySortOrder) }.`;order+=(parseInt(last.model.get(this.activitySortOrder).split('.')[1])+1);}else{order=`${ reFetchActivity.get(this.activitySortOrder) }.1`;}}else{let stageID=reFetchActivity.get(this.activityStageId);let lastActivity=this.stages[stageID]&&_.last(_.toArray(this.stages[stageID].activities));if(lastActivity){order=parseInt(lastActivity.data[this.activitySortOrder])+1;}}
prefill.set(this.activitySortOrder,order);app.alert.dismiss('loading_duplicate');app.drawer.open({layout:'create',context:{create:true,forceNew:true,model:prefill,copiedFromModelId:reFetchActivity.get('id'),module:reFetchActivity.get('_module')||reFetchActivity.get('module')}},_.bind(function(context,newModel){if(newModel&&newModel.id){this.reloadData();}},this));prefill.trigger('duplicate:field',this);},hideActivityChildrenClicked:function(ev){var id=$(ev.currentTarget).data('id');this.hideActivityChildren(id);},hideActivityChildren:function(id){this.$(`.dri-activity-children[data-id='${ id }']`).addClass('hide');this.$(`.dri-subworkflow-activity[data-id='${ id }'] .dri-activity-show-children`).removeClass('hide');this.$(`.dri-subworkflow-activity[data-id='${ id }'] .dri-activity-hide-children`).addClass('hide');this.setActivityDisplayChildren(id,this.MORE_LESS_STATUS.LESS);},showActivityChildrenClicked:function(ev){var id=$(ev.currentTarget).data('id');this.showActivityChildren(id);},showActivityChildren:function(id){this.$(`.dri-activity-children[data-id='${ id }']`).removeClass('hide');this.$(`.dri-subworkflow-activity[data-id='${id}'] .dri-activity-show-children`).addClass('hide');this.$(`.dri-subworkflow-activity[data-id='${ id }'] .dri-activity-hide-children`).removeClass('hide');this.setActivityDisplayChildren(id,this.MORE_LESS_STATUS.MORE);},getStageContextById:function(stageId){var stages=this.model.getRelatedCollection(this.stageLink);var stage=stages.get(stageId);return this.getStageContext(stage);},getActivityDisplayChildrenCacheKey:function(id){return app.user.lastState.key('activity_display_children['+id+']',this);},setActivityDisplayChildren:function(id,value){var key=this.getActivityDisplayChildrenCacheKey(id);app.user.lastState.set(key,value);},getStageContext:function(stage){var stageContext;stageContext=this.context.getChildContext({module:this.stageModule,model:stage,forceNew:true});return stageContext;},alertForRequiredFieldDependency:function(data){app.alert.show('error',{level:'error',messages:app.lang.get('LBL_REQUIRED_FIELD_EMPTY_IN_ACTIVITY',this.model.module,{fieldName:data.field,recordUrl:app.router.buildRoute(data.module,data.id),recordName:data.name}),autoClose:true,autoCloseDelay:10000,});this.completingActivity=false;},_getSugarLogicDependenciesForModel:function(model){var module=model.module;if(_.isEmpty(this.moduleDependencies[module])){var moduleMetadata=app.metadata.getModule(module)||{};var dependencies=moduleMetadata.dependencies||[];if(moduleMetadata.views&&moduleMetadata.views.record){var recordMetadata=moduleMetadata.views.record.meta;if(!_.isUndefined(recordMetadata.dependencies)){dependencies=dependencies.concat(recordMetadata.dependencies);}}
this.moduleDependencies[module]=dependencies;}
return this.moduleDependencies[module];},getActivityDisplayChildren:function(id){var key=this.getActivityDisplayChildrenCacheKey(id);return app.user.lastState.get(key);},configureTemplateClick:function(){this.reRoute('DRI_Workflow_Templates',this.model.get('dri_workflow_template_id'));},editJourneyClick:function(){const route=app.router.buildRoute('DRI_Workflows',this.model.get('id'),'edit');app.routeBackTo=document.location.hash;app.router.navigate(route,{trigger:true});},viewAssignedUserClick:function(){const route=app.router.buildRoute('Users',this.model.get('assigned_user_id'));app.router.navigate(route,{trigger:true});},resizeWorkflowInfo:function(){$el=this.$el;if(!$el){return;}
const descWrapper=$el.find('.dri-workflow-desc');const actionButtonsWrapper=$el.find('.dri-workflow-action-buttons');const assignedUserWrapper=$el.find('.dri-workflow-assigned-user');const assignedUserLabel=$el.find('.dri-workflow-assigned-user-label');const assignedUserName=$el.find('.dri-workflow-assigned-user-name');const extraMargin=50;let spaceAvailable=$el.width()-extraMargin;spaceAvailable-=descWrapper.width();spaceAvailable-=actionButtonsWrapper.width();spaceAvailable-=extraMargin;assignedUserLabel.removeClass('hidden').addClass('block');assignedUserName.removeClass('hidden').addClass('inline');if(spaceAvailable<assignedUserWrapper.width()){assignedUserName.removeClass('inline').addClass('hidden');if(spaceAvailable<assignedUserWrapper.width()){assignedUserLabel.removeClass('block').addClass('hidden');}}},getActivitiesInfo:function(activities,currentActivity){let activitiesInfo=[];if(!_.isEmpty(currentActivity)){activitiesInfo.push({id:currentActivity.id,module:currentActivity.module});}
for(let key in activities){let activity=activities[key];activitiesInfo.push({id:activity.id,module:activity.module||activity._module});}
return activitiesInfo;},cancelJourneyClick:function(){app.alert.show('cancel_model',{level:'confirmation',messages:app.lang.get('LBL_CJ_CANCEL_CONFIRMATION',this.model.module),onConfirm:_.bind(function(){let url=app.api.buildURL(this.model.module,'cancel');let apiData={record:this.model.get('id'),activities:this.getActivitiesInfo(this.activities),fieldsToValidate:this.getFieldsToValidate()};this.disablingJourneyAndStartLoading();app.api.call('create',url,apiData,null,{success:_.bind(function(response){if(!response.isValid){this.alertForRequiredFieldDependency(response);}else{this.reloadData(response.data);this.reloadAllJourneys();if(!_.isUndefined(response.isChildReadOnly)&&response.isChildReadOnly===true){this.showReadOnlyErrorMessage('warning','LBL_GUIDE_CANCELLATION_ACTION_ACTIVITY_STATUS_READ_ONLY');}else if(!_.isUndefined(response.isActivityChangeNotAllowed)&&response.isActivityChangeNotAllowed===true){this.showNotAllowedErrorMessage();}else{app.alert.show('success',{level:'success',autoClose:true,messages:app.lang.get('LBL_CANCEL_SUCCESS_MESSAGE','DRI_Workflows',{labelName:this.model.get('name')})});}}},this),error:_.bind(function(result){this.reloadData();app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this),complete:_.bind(function(){this.enablingJourneyAndDoneLoading();},this)});},this)});},archiveJourneyClick:function(){app.alert.show('archive_model',{level:'confirmation',messages:app.lang.get('LBL_CJ_ARCHIVE_CONFIRMATION',this.model.module),onConfirm:_.bind(function(){var url=app.api.buildURL(this.model.module,'archive',{id:this.model.get('id')});this.disablingJourneyAndStartLoading();var parentContext=this.context.parent;app.api.call('create',url,null,{success:_.bind(function(){this.updateArchiveUnarchiveLastState('archived',this.model.get('id'));this.activateCycleAndReloadWorkflow(parentContext,true);},this),error:_.bind(function(result){this.enablingJourneyAndDoneLoading();this.activateCycleAndReloadWorkflow(parentContext);app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this)});},this)});},unarchiveJourneyClick:function(){app.alert.show('archive_model',{level:'confirmation',messages:app.lang.get('LBL_CJ_UNARCHIVE_CONFIRMATION',this.model.module),onConfirm:_.bind(function(){var url=app.api.buildURL(this.model.module,'unarchive',{id:this.model.get('id')});this.disablingJourneyAndStartLoading();var parentContext=this.context.parent;app.api.call('create',url,null,{success:_.bind(function(){this.updateArchiveUnarchiveLastState('active',this.model.get('id'));this.activateCycleAndReloadWorkflow(parentContext,true);},this),error:_.bind(function(result){this.enablingJourneyAndDoneLoading();this.activateCycleAndReloadWorkflow(parentContext);app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this)});},this)});},deleteCycleClicked:function(model){const modelId=model.get('id');const module=model.module;const isSmartGuide=_.isEqual(module,'DRI_Workflows');const moduleMapping={'DRI_SubWorkflows':'stage','DRI_Workflows':'smart guide','DRI_SubWorkflow_Templates':'stage template',};let labelName=`${model.get('name')} ${moduleMapping[module]}`;app.alert.show('delete_model',{level:'confirmation',messages:app.lang.get('NTC_DELETE_CONFIRMATION',module),onConfirm:_.bind(function(){const parentContext=this.context.parent;const parentModel=parentContext.parent;const alertName='process_deleting_journey';if(!_.isUndefined(parentModel)&&!_.isUndefined(parentModel.get('model'))){let parentJourneyModel=parentModel.get('model');const relatedCollection=parentJourneyModel.getRelatedCollection('dri_workflows');if(!_.isUndefined(relatedCollection)){const journeyIDs=_.map(relatedCollection.models,model=>model.id);const url=app.api.buildURL('DRI_Workflows','delete-stage-journey',null,{id:modelId,record:this.model.get('id'),moduleName:module,parentModule:parentModel.get('module'),parentModelId:parentModel.get('modelId'),currentJourneys:journeyIDs,state:parentContext.get('model').get('cj_active_or_archive_filter')});this.showProcessingAlert(alertName,app.lang.get('LBL_DELETING'));this.disablingJourneyAndStartLoading();app.api.call('create',url,null,{success:_.bind(function(nextJourney){if(this.disposed||this.layout.disposed){return;}
app.alert.dismiss(alertName);if(!_.isUndefined(isSmartGuide)){this.removeJourneyIdFromLastState(parentContext.parent,modelId);if(!_.isNull(nextJourney)){this.layout.collection.add(nextJourney);}
this.layout.collection.dataFetched=false;this.layout.collection.remove(model);this.render();}else{this.reloadData();}
app.alert.show('success',{level:'success',autoClose:true,messages:app.lang.get('LBL_DELETE_SUCCESS_MESSAGE','DRI_Workflows',{labelName:labelName})});},this),error:_.bind(function(result){app.alert.dismiss(alertName);if(!_.isUndefined(isSmartGuide)){this.activateCycleAndReloadWorkflow(parentContext);}else{this.reloadData();}
app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this)});}}},this)});},showReadOnlyErrorMessage:function(errorLevel,labelKey){app.alert.show('error_activity_status_readonly',{level:errorLevel,messages:app.lang.get(labelKey),autoClose:false,});},showNotAllowedErrorMessage:function(){app.alert.show('error_activity_not_allowed',{level:'error',messages:app.lang.get('LBL_CURRENT_USER_UNABLE_TO_COMPLETE_STATUS','DRI_Workflow_Task_Templates'),autoClose:false,});},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/customer-journey/CJEvents.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CJForms',['view','field'],{handleForms:function(target,triggerEvent,callback){if(this._loadingFormTarget){return;}
let stage=null;let form=null;let url='';let message='Processing';if(_.isEqual(callback,null)){stage=this.stages[target.id];form=_.first(this.getFormsOrStageAndJourneyForms(stage.data.forms,triggerEvent));if(form){url=app.api.buildURL('CJ_Forms','stage-target',{id:form.id},{stage_id:target.id});message='Processing Stage';}}else if(_.isEqual(callback,'journeyCall')){form=_.first(this.getFormsOrStageAndJourneyForms(this.journey.forms,triggerEvent));if(form){url=app.api.buildURL('CJ_Forms','journey-target',{id:form.id},{journey_id:this.model.get('id'),});message='Processing Smart Guide';}}else{callback=callback||$.noop;this.prevState=this.stages;form=_.first(this.getFormsOrStageAndJourneyForms(target.get('forms'),triggerEvent));if(form){url=app.api.buildURL('CJ_Forms','target',{id:form.id},{activity_id:target.id});message='Processing activity';}}
if(!form){if(_.isFunction(callback)){callback();}
return;}
if(form.action_trigger_type==='automatic_create'||form.action_trigger_type==='automatic_update'){if(_.isFunction(callback)){callback();}
return;}
if(!url){return;}
app.alert.show('loading_form_target',{level:'info',messages:message});this._loadingFormTarget=true;app.api.call('read',url,null,{success:_.bind(this.handleFormsSuccess,this,callback,form),error:_.bind(function(result){app.alert.dismiss('loading_form_target');this._loadingFormTarget=false;app.alert.show('error',{level:'error',messages:result.message,autoClose:true});},this)});},handleFormsSuccess:function(callback,form,response){app.alert.dismiss('loading_form_target');this._loadingFormTarget=false;if(!response.parent.id||(_.includes(['update_record','view_record'],form.action_type)&&!response.target.id)){app.alert.show('related_record_not_found',{level:'info',messages:app.lang.get('LBL_COULD_NOT_FIND_RELATED_RECORD','CJ_Forms'),autoClose:true,});if(form.ignore_errors){callback();}}
let target=app.data.createBean(response.module,form.action_type!=='create_record'?response.target:{});if(_.isEqual(callback,null)){target.set('dri_workflow_id',this.model.get('id'));target.set('dri_workflow_name',this.model.get('name'));}
if(form.action_type==='view_record'&&response.target.id){this.reRoute(target.module,target.id);}else if((_.isEmpty(form.action_trigger_type)&&form.action_type!=='view_record')||form.action_trigger_type==='manual_create'||(form.action_trigger_type==='manual_update'&&response.target.id)){this.createUpdate(callback,form,response,target);}
if(_.isFunction(callback)){callback();}},createUpdate:function(callback,form,response,target){let emailTemplate;let parent=app.data.createBean(response.parent._module,response.parent);let collection=app.data.createBeanCollection(response.module,[]);let layout='create';if(_.isEqual(target.module,'Emails')){layout='create';if(form.action_type==='create_record'){layout='compose';}}
let parentContext=this.context.getChildContext({model:parent,module:parent.module,create:_.contains(['create','compose'],layout)?true:false,forceNew:true,cjPanelNotRender:true,});if(target.module==='Emails'&&form.action_trigger_type==='manual_create'&&!_.isEmpty(form.email_templates_id)&&!_.isUndefined(response.emailData.subject)&&!_.isUndefined(response.emailData.body_html)){emailTemplate=app.data.createBean('EmailTemplates',{id:form.email_templates_id});target.set('name',response.emailData.subject);target.set('description_html',response.emailData.body_html);}
let context=parentContext.getChildContext({model:target,collection:collection,module:target.module,link:response.linkName,create:_.contains(['create','compose'],layout)?true:false,forceNew:true,cjPanelNotRender:true,});let populatedTarget=this.populateModelFromLinkedData(context,form,response);let relationship;if(!_.isEmpty(populatedTarget)){context.set('model',populatedTarget);if(!_.isEmpty(populatedTarget.link)){relationship=app.metadata.getRelationship(populatedTarget.link.name);}}
if(this.validateRealtionship(relationship)){app.alert.dismiss('loading_form_target');this.addSubActivity(this.activities[context.parent.get('model').id],target.module);}else{app.drawer.open({module:target.module,layout:layout,context:context,},_.bind(function(context,model){if(model){let parentModule=this.context.parent.get('parentModule');refreshView=_.find(form.relationship,(rel)=>{return rel.module==parentModule;});if(!_.isEmpty(refreshView)){window.location.reload();}}
if((form.parent_type=='DRI_SubWorkflow_Templates'||form.parent_type=='DRI_Workflow_Templates')&&(model&&(!_.isEmpty(model.get('dri_subworkflow_id'))||!_.isEmpty(model.get('dri_workflow_id'))||!_.isEmpty(model.get('parent_id'))))){this.reloadAllJourneys();}
if(model&&_.isFunction(callback)){callback();}},this));}
let currentLayout=this.toggleDuplicateCheck(target);if(target.module==='Emails'&&form.action_trigger_type==='manual_create'&&!_.isEmpty(form.email_templates_id)&&!_.isUndefined(emailTemplate)){let sidebarLayout=currentLayout.getComponent('sidebar');if(sidebarLayout){this.disposeComponents(sidebarLayout,['dashboard-pane','side-drawer']);let mainPaneLayout=sidebarLayout.getComponent('main-pane');if(mainPaneLayout){let composeView=mainPaneLayout.getComponent('compose-email');this.view=composeView;let recipientRecords=this.getRecipientsForComposeEmail(response.emailData);if(!_.isEmpty(recipientRecords)){this.view.model.get('to_collection').add(recipientRecords);}
app.view.fields.BaseEmailsHtmleditable_tinymceField.prototype._applyTemplate.call(this,emailTemplate);}}}
if(!_.isEmpty(form.populate_fields)&&!_.isEmpty(JSON.parse(form.populate_fields))){_.each(JSON.parse(form.populate_fields),function(pf,key){if(!(_.isEqual(target.module,'Emails')&&_.contains(['name','subject','body_html'],key))){if(!_.isUndefined(pf.id)&&!_.isUndefined(pf.actualFieldName)){if((pf.type==='date'||pf.type==='datetimecombo')&&!_.isUndefined(pf.childFieldsData)){this.handleDateTimeField(pf,currentLayout);}else if(pf.type==='relate'){currentLayout.model.set(pf.actual_id_name,pf.id_value);currentLayout.model.set(pf.actualFieldName,pf.value);}else if(pf.type==='currency'&&!_.isUndefined(pf.id_name)&&!_.isUndefined(pf.id_value)){currentLayout.model.set(pf.id_name,pf.id_value);currentLayout.model.set(pf.actualFieldName,pf.value);}else{currentLayout.model.set(pf.actualFieldName,pf.value);}}else{currentLayout.model.set(pf.actualFieldName,pf.value);}}},this);}
app.alert.dismiss('process_complete_activity');app.alert.dismiss('processing_complete_activity_click');},toggleDuplicateCheck:function(target){let currentLayout=_.last(app.drawer._components);let sidebarLayout=currentLayout.getComponent('sidebar');if(sidebarLayout){this.disposeComponents(sidebarLayout,['dashboard-pane','side-drawer']);let mainPaneLayout=sidebarLayout.getComponent('main-pane');if(mainPaneLayout){let disposeComp=['filterpanel'];if(!_.isEqual(target.module,'Quotes')){disposeComp.push('extra-info');}
this.disposeComponents(mainPaneLayout,disposeComp);let record=mainPaneLayout.getComponent('record');if(record){record.handleCancel=_.bind(function(){this.recordCreateCancel(record);},this);record.handleSave=_.bind(function(){this.handleSaveSuccess(record);},this);record.setButtonStates(record.STATE.EDIT);record.toggleEdit(true);}
let create=mainPaneLayout.getComponent('create');if(create){create.enableDuplicateCheck=false;create.hasUnsavedChanges=function(){return false;};create.cancel=function(){create.model.revertAttributes();this.recordCreateCancel(create);};}}}
return currentLayout;},validateRealtionship:function(relationship){const modules=['Tasks','Meetings','Calls'];let flag=false;if(_.isEmpty(relationship)||_.isEmpty(relationship.lhs_module)||_.isEmpty(relationship.rhs_module)){return flag;}
if(modules.includes(relationship.lhs_module)&&modules.includes(relationship.rhs_module)){flag=true;}
return flag;},recordCreateCancel:function(recordCreate){app.events.trigger('create:model:changed',false);recordCreate.$el.off();if(app.drawer.count()){app.drawer.close(recordCreate.context);recordCreate._dismissAllAlerts();}else{app.router.navigate(recordCreate.module,{trigger:true});}},handleSaveSuccess:function(record){if(record.disposed){return;}
record._saveModel();record.$('.record-save-prompt').hide();if(!record.disposed){if(record.editOnly){record.toggleButtons(false);}else{record.setButtonStates(record.STATE.VIEW);record.action='detail';record.unsetContextAction();record.toggleEdit(false);record.inlineEditMode=false;}}
if(record.closestComponent('drawer')){app.drawer.close(record.context,record.model);}},handleDateTimeField:function(pf,currentLayout){let selectiveType='';if(!_.isUndefined(pf.childFieldsData)&&!_.isUndefined(pf.childFieldsData.selective_date)){selectiveType=pf.childFieldsData.selective_date.value;}
if(_.isEqual(selectiveType,'relative')&&!_.isUndefined(pf.childFieldsData.int_date.value)){let relativeType='';let dateValue=parseInt(pf.childFieldsData.int_date.value);if(!_.isUndefined(pf.childFieldsData)&&!_.isUndefined(pf.childFieldsData.relative_date)){relativeType=pf.childFieldsData.relative_date.value;}
if(_.contains(['days','months','hours','minutes'],relativeType)){let incrementedDate=this.getIncrementedDate(relativeType,dateValue);currentLayout.model.set(pf.actualFieldName,incrementedDate);}}else if(_.isEqual(selectiveType,'fixed')&&!_.isUndefined(pf.childFieldsData.main_date.value)){currentLayout.model.set(pf.actualFieldName,pf.childFieldsData.main_date.value);}},getIncrementedDate:function(relativeType,dateValue){let date=new Date();switch(relativeType){case'days':date.setDate(date.getDate()+dateValue);break;case'months':date=new Date(date.setMonth(date.getMonth()+dateValue));break;case'hours':date=new Date(date.setHours(date.getHours()+dateValue));break;case'minutes':date=new Date(date.setMinutes(date.getMinutes()+dateValue));break;}
return date.toISOString();},handleFormsForStage:function(activity,stageId){if(!_.isEmpty(activity)&&!_.isEmpty(stageId)){let startNewJourney=!_.isEmpty(activity.get('start_next_journey_id'));let stage=app.data.createBean(this.stageModule,{id:stageId,});let object=_.clone(this);stage.fetch({success:_.bind(this.handleFormsForStageSuccess,object,stage,startNewJourney,activity),});}},handleFormsForStageSuccess:function(stage,startNewJourney,activity){if(_.isEqual(stage.get('state'),'completed')||_.isEqual(stage.get('state'),'in_progress')){let stageTarget=this.stages[stage.id];if(!_.isEmpty(stageTarget)&&!_.isUndefined(this.prevState)&&this.prevState[stage.id].model.get('state')!==stage.get('state')){let stageForm=_.first(this.getFormsOrStageAndJourneyForms(stageTarget.data.forms,stage.get('state')));if(!_.isEmpty(stageForm)&&_.isEqual(stage.get('state'),stageForm.trigger_event)){if(stageForm.trigger_event==='in_progress'){this.handleForms(stage,stageForm.trigger_event,null);}else if(stageForm.trigger_event==='completed'){this.handleForms(stage,stageForm.trigger_event,null);}}}
if((stage.get('start_next_journey_id')&&_.isEqual(stage.get('state'),'completed'))||_.isEqual(startNewJourney,true)){this.reloadAllJourneys();}
if(_.isEqual(stage.get('state'),'completed')){this.checkNextStageRSA(activity,activity.get('dri_subworkflow_id'));this.handleFormsForJourney(stage,this.model.get('id'));}}},handleFormsForJourney:function(stage,journeyId){if(!_.isEmpty(stage)&&!_.isEmpty(journeyId)){let journey=app.data.createBean('DRI_Workflows',{id:journeyId,});let object=_.clone(this);journey.fetch({success:_.bind(this.handleFormsForJourneySuccess,object,journey),});}},handleFormsForJourneySuccess:function(journey){if(_.isEqual(journey.get('state'),'completed')){let journeyForm=_.first(this.getFormsOrStageAndJourneyForms(this.journey.forms,journey.get('state')));if(!_.isEmpty(journeyForm)&&_.isEqual(journey.get('state'),journeyForm.trigger_event)){if(journeyForm.trigger_event==='completed'){this.handleForms(journey,journeyForm.trigger_event,'journeyCall');}}}},checkNextStageRSA:function(activity,stageId){let stageIds=Object.keys(this.stages);let currentStageIdIndex=_.indexOf(stageIds,stageId);if(!_.isUndefined(stageIds[currentStageIdIndex+1])){let stage=this.stages[stageIds[currentStageIdIndex+1]];if(stage.model.get('state')!=='completed'){this.handleFormsForStage(activity,stageIds[currentStageIdIndex+1]);}}},reloadAllJourneys:function(){this.layout.loadDataClicked=true;this.layout.context.set('customer_journey_fetching_parent_model',false);this.layout.context.trigger('reload_workflows',true);},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/customer-journey/CJForms.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('CJViewAndField',['view','field'],{toggleButtons:function(){_.each(this.fields,function(field){this.toggleField(field);if(field.fields){_.each(field.fields,_.bind(this.toggleField,this));}},this);},toggleField:function(field){if(field.def.type==='rowaction'){switch(field.name){case'activity_not_applicable_button':if(!this.isClosableForNotApplicable(field.model)){this.hideField(field);}
break;case'activity_complete_button':if(this.isParent(field.model)){field.def.tooltip='LBL_COMPLETE_PARENT_BUTTON_TITLE';field.tooltip='LBL_COMPLETE_PARENT_BUTTON_TITLE';field.render();}
if(!this.isClosable(field.model)){this.hideField(field);}
break;case'activity_start_button':if(!this.isStartable(field.model)){this.hideField(field);}
break;case'activity_assign_me_button':if(!this.isAssignable(field.model)){this.hideField(field);}
break;case'journey_cancel_button':if(['completed','cancelled'].includes(field.model.get('state'))){this.hideField(field);}
break;case'journey_add_stage_button':if(field.model.get('state')==='cancelled'){this.hideField(field);}
break;case'journey_archive_button':if((field.model.get('state')!=='completed'&&field.model.get('state')!=='cancelled')||field.model.get('archived')){this.hideField(field);}
break;case'journey_unarchive_button':if(!field.model.get('archived')){this.hideField(field);}
break;case'activity_template_preview_button':if(!app.acl.hasAccessToModel('edit',field.model,field)){field.$('i').parent().html(field.$('i'));field.def.label=' ';field.label=' ';field.def.tooltip='LBL_PREVIEW';field.render();}
break;}
if(_.contains(this.model.get('disabled_stage_actions'),field.name)||_.contains(this.model.get('disabled_activity_actions'),field.name)){if(this.module!=='DRI_Workflow_Templates'){this.hideField(field);}}}},hideField:function(field){field.hide();const id=field.model.get('id');const option='dri_workflow_templates_disabled_activity_actions_list';const options='dri_subworkflows_state_list';const optionsCalls='cj_meetings_completed_status_list';const optionsMeetings='cj_meetings_completed_status_list';const callStatus='call_status_dom';const statusNap=app.lang.getAppListStrings(option).activity_not_applicable_button;const statusComplete=app.lang.getAppListStrings(options).completed;const statusHeld=app.lang.getAppListStrings(optionsCalls).Held;const statusNotHeld=app.lang.getAppListStrings(optionsMeetings)['Not Held'];const statusInprogress=app.lang.getAppListStrings(callStatus)['In Progress'];const activityID=$(`[data-id="${id}"]`);const timeZone='.dri-subworkflow-activity-actions > .activity-due-date';const statuses=[statusNap,statusComplete,statusHeld,statusNotHeld,statusInprogress];if(!_.isEmpty(field.model.get('forms'))&&(statuses.includes(field.model.get('status')))){const rsaIcon='.btn.activity-form';activityID.find(rsaIcon).hide();activityID.find(timeZone).hide();}else if((statuses.includes(field.model.get('status')))){activityID.find(timeZone).hide();}
this.listenTo(field,'render',function(){field.hide();});},isStartable:function(activity){switch(activity.module){case'Tasks':case'Calls':return(activity.get('status')!=='In Progress'&&activity.get('status')!=='Held'&&activity.get('status')!=='Not Held'&&activity.get('status')!=='Completed'&&activity.get('status')!=='Not Applicable'&&!activity.get('is_cj_parent_activity')&&!this.isBlocked(activity)&&!this.isBlockedByStages(activity));default:return false;}},isClosable:function(activity){switch(activity.module){case'Tasks':return(activity.get('status')!=='Completed'&&activity.get('status')!=='Not Applicable'&&activity.get('status')!=='Deferred'&&!this.isBlocked(activity)&&!this.isBlockedByStages(activity));case'Meetings':case'Calls':return(activity.get('status')!=='Held'&&activity.get('status')!=='Not Held'&&activity.get('status')!=='Deferred'&&!this.isBlocked(activity)&&!this.isBlockedByStages(activity));default:return false;}},isClosableForNotApplicable:function(activity){switch(activity.module){case'Tasks':return(activity.get('status')!=='Completed'&&activity.get('status')!=='Not Applicable'&&!this.isBlocked(activity)&&!this.isBlockedByStages(activity));case'Meetings':case'Calls':return activity.get('status')!=='Held'&&activity.get('status')!=='Not Held'&&!this.isBlocked(activity)&&!this.isBlockedByStages(activity);default:return false;}},isClosed:function(activity){let optionList;switch(activity.module){case'Tasks':optionList='cj_tasks_completed_status_list';case'Meetings':optionList='cj_meetings_completed_status_list';case'Calls':optionList='cj_calls_completed_status_list';default:optionList=false;}
if(!optionList){return optionList;}
return!!app.lang.getAppListStrings(optionList)[activity.get('status')];},isAssignable:function(activity){return activity.get('assigned_user_id')!==app.user.id;},formatStage:function(data){var order=1;var stage=app.data.createBean(this.stageModule,data);var row=this.createStageData(stage);_.each(data.activities,function(data){var activity=this.formatActivity(data,order);row.activities[activity.model.id]=activity;order++;},this);return row;},createStageData:function(stage){return{data:stage.attributes,model:stage,stateClass:'',activities:{}};},formatActivity:function(data,order){var activity=app.data.createBean(data._module,data);this.activities[activity.id]=activity;var row=this.createActivityData(activity,order);if(data.children&&data.children.length){var childOrder=1;_.each(data.children,function(data){var childRow=this.formatActivityChild(data,`${order}.${childOrder}`);row.children[childRow.model.id]=childRow;this.activities[childRow.model.id]=childRow.model;childOrder++;},this);}
return row;},formatActivityChild:function(data,order){var child=app.data.createBean(data._module,data);return this.createActivityData(child,order);},createActivityData:function(activity,order){var picture=activity.get('assigned_user')&&activity.get('assigned_user').picture;var forms=activity.get('forms')||[];activity.set('pictureUrl',picture?app.api.buildFileURL({module:'Users',id:activity.get('assigned_user').id,field:'picture',},{cleanCache:true}):'');return{data:activity.attributes,module:activity.module,url:activity.get(this.activityUrlField),forms:this.isClosed(activity)||this.isBlocked(activity)||this.isBlockedByStages(activity)||this.isParent(activity)?[]:forms,blockedBy:this.getBlockedByInfo(activity),blockedByStages:this.getBlockedByInfoForStages(activity),model:activity,order:order,icon:this.getIconByActivityType(activity),iconTooltip:this.getIconTooltip(activity),statusLabel:this.getStatusLabel(activity),statusClass:this.getStatusClass(activity),startDate:this.getStartDateInfo(activity),dueDate:this.getDueDateInfo(activity),typeClass:this.getTypeClass(activity),isParent:this.isParent(activity),showChildren:this.getActivityDisplayChildren(activity.id)===this.MORE_LESS_STATUS.MORE,children:{}};},isBlocked:function(activity){return activity.get('blocked_by')&&activity.get('blocked_by').length;},isBlockedByStages:function(activity){return activity.get('blocked_by_stages')&&activity.get('blocked_by_stages').length;},getBlockedByInfo:function(activity){if(!this.isBlocked(activity)){return false;}
var info={text:`${app.lang.get('LBL_BLOCKED_BY', 'DRI_Workflows')}:`,};var count=0;_.each(activity.get('blocked_by'),function(id){if(activity.id!==id&&this.journeyActivities[id]){info.text+=`\n${this.journeyActivities[id]}`;count++;}},this);if(0===count){return false;}
return info;},getBlockedByInfoForStages:function(activity){if(!this.isBlockedByStages(activity)){return false;}
var info={text:`${app.lang.get('LBL_BLOCKED_BY_STAGES', 'DRI_Workflows')}:`,};var count=0;_.each(activity.get('blocked_by_stages'),function(id){if(activity.dri_subworkflow_template_id!==id&&this.journeyStages[id]){info.text+=`\n${this.journeyStages[id]}`;count++;}},this);if(0===count){return false;}
return info;},getDueDateInfo:function(activity){var dueDateFields={Tasks:'date_due',Calls:'date_start',Meetings:'date_start'};var fieldName=dueDateFields[activity.module];if(_.isEmpty(activity.get(fieldName))||this.isClosed(activity)){return false;}
var emptyDate=app.date('2100-01-01T12:00:00');var date=app.date(activity.get(fieldName));var now=app.date();var tomorrow=app.date().add(1,'day');if(date.format('YYYY')===emptyDate.format('YYYY')){return false;}
var info={fromNow:date.fromNow(),formatUser:date.formatUser(),fieldName:app.lang.get(activity.fields[fieldName].vname,activity.module)};if(date.isBefore(now)){info.className='overdue';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_OVERDUE',activity.module);}else if(date.format('YYYY-MM-DD')===now.format('YYYY-MM-DD')){info.className='today';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TODAY',activity.module);}else if(date.format('YYYY-MM-DD')===tomorrow.format('YYYY-MM-DD')){info.className='tomorrow';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TOMORROW',activity.module);}else{info.className='future';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_FUTURE',activity.module);}
info.title=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TEXT',activity.module,info);if(date.format('YYYY')===now.format('YYYY')){info.text=date.format('MMM D');}else{info.text=date.format('MMM D, YYYY');}
return info;},getStartDateInfo:function(activity){let startDateFields={Calls:'date_end',};let fieldName=startDateFields[activity.module];if(_.isUndefined(fieldName)||_.isEmpty(activity.get(fieldName))||this.isClosed(activity)){return false;}
let emptyDate=app.date('2100-01-01T12:00:00');let date=app.date(activity.get(fieldName));let now=app.date();let tomorrow=app.date().add(1,'day');if(date.format('YYYY')===emptyDate.format('YYYY')){return false;}
let info={fromNow:date.fromNow(),formatUser:date.formatUser(),fieldName:app.lang.get(activity.fields[fieldName].vname,activity.module)};if(date.isBefore(now)){info.className='future';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_FUTURE',activity.module);}else if(date.format('YYYY-MM-DD')===now.format('YYYY-MM-DD')){info.className='today';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TODAY',activity.module);}else if(date.format('YYYY-MM-DD')===tomorrow.format('YYYY-MM-DD')){info.className='tomorrow';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TOMORROW',activity.module);}else{info.className='overdue';info.status=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_OVERDUE',activity.module);}
info.title=app.lang.get('LBL_CUSTOMER_JOURNEY_ACTIVITY_DUE_DATE_TEXT',activity.module,info);if(date.format('YYYY')===now.format('YYYY')){info.text=date.format('MMM D');}else{info.text=date.format('MMM D, YYYY');}
return info;},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/customer-journey/CJViewAndField.js */

(function(app){app.events.on('app:init',function(){app.plugins.register('RowEditable',['view'],{rowFields:{},toggledListModels:{},rowEditEvents:{'click [data-action=edit-list-row]':'_handleRowEditClicked','click [data-action=cancel-list-row]':'_handleRowCancelClicked','click [data-action=save-list-row]':'_handleRowSaveClicked','dblclick tr.single':'_handleRowDoubleClick',},_setRowFields:function(){this.rowFields={};_.each(this.fields,function(field){if(field.model&&field.model.cid&&_.isUndefined(field.parent)){this.rowFields[field.model.cid]=this.rowFields[field.model.cid]||[];this.rowFields[field.model.cid].push(field);}},this);},_toggleRow(row,isEdit){if(!row){return;}
let model=this.collection.get(row.data('id'));if(model&&app.acl.hasAccessToModel('edit',model)){row.toggleClass('tr-inline-edit',isEdit);if(isEdit){this.toggledListModels[model.id]=model;}else{delete this.toggledListModels[model.id];}
this.toggleFields(this.rowFields[model.cid],isEdit);}},_toggleRowsByModelId(ids,isEdit){_.each(ids,function(id){let row=this.$el.find(`tr[data-id=${id}]`);if(row.length){this._toggleRow(row,isEdit);}},this);},_isClickableElement:function(element){let tagNames=[element.tagName,element.parentElement.tagName].map(tag=>tag.toLowerCase());if(['a','button','input'].some(tag=>tagNames.includes(tag))){return true;}
if(element.classList.contains('focus-icon')){return true;}
return['data-action','data-clipboard','data-event'].some(attr=>{return element.getAttribute(attr)||element.parentElement.getAttribute(attr);});},_checkRowEditAccess:function(){if(!this.collection){return;}
_.each(this.collection.models,function(model){model.hasEditAccess=app.acl.hasAccessToModel('edit',model);},this);},_getClickedRowElement:function(event){return $(event.currentTarget).closest('tr');},_handleRowEditClicked:function(event){let row=this._getClickedRowElement(event);this._toggleRow(row,true);},_handleRowDoubleClick:function(event){if(!this._isClickableElement(event.target)){let row=this._getClickedRowElement(event);this._toggleRow(row,true);}},_handleRowCancelClicked:function(event){let row=this._getClickedRowElement(event);let model=this.collection.get(row.data('id'));if(model){model.revertAttributes();}
this._toggleRow(row,false);},hasUnsavedChanges:function(){let formFields=[];_.each(this.rowFields[_.first(_.keys(this.rowFields))],function(field){if(field.name){formFields.push(field.name);}
if(field.def.fields){formFields=_.chain(field.def.fields).pluck('name').compact().union(formFields).value();}},this);let hasUnsavedListTabChanges=_.some(_.values(this.toggledListModels),function(model){var changedAttributes=model.changedAttributes(model.getSynced());return!_.isEmpty(_.intersection(_.keys(changedAttributes),formFields));},this);const protoUnsavedChanges=()=>{const proto=Object.getPrototypeOf(this);return _.isFunction(proto.hasUnsavedChanges)?proto.hasUnsavedChanges.call(this):false;};return hasUnsavedListTabChanges||protoUnsavedChanges();},});});})(SUGAR.App);
/* End of File include/javascript/sugar7/plugins/RowEditable.js */

